(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages/admin/_slug/dignity/settings/_id/formDesign~pages/admin/_slug/dignity/settings/_id/pa-status/u~789b2fb2","chunk-6441e173","chunk-63c80d7a","chunk-da62e0c8","chunk-2d22d378","chunk-2d213000"],{"0798":function(t,e,n){"use strict";var a=n("5530"),i=n("ade3"),o=(n("caad"),n("0c18"),n("10d2")),r=n("afdd"),s=n("9d26"),c=n("f2e7"),l=n("7560"),u=n("f40d"),d=n("58df"),p=n("d9bd");e["a"]=Object(d["a"])(o["a"],c["a"],u["a"]).extend({name:"v-alert",props:{border:{type:String,validator:function(t){return["top","right","bottom","left"].includes(t)}},closeLabel:{type:String,default:"$vuetify.close"},coloredBorder:Boolean,dense:Boolean,dismissible:Boolean,closeIcon:{type:String,default:"$cancel"},icon:{default:"",type:[Boolean,String],validator:function(t){return"string"===typeof t||!1===t}},outlined:Boolean,prominent:Boolean,text:Boolean,type:{type:String,validator:function(t){return["info","error","success","warning"].includes(t)}},value:{type:Boolean,default:!0}},computed:{__cachedBorder:function(){if(!this.border)return null;var t={staticClass:"v-alert__border",class:Object(i["a"])({},"v-alert__border--".concat(this.border),!0)};return this.coloredBorder&&(t=this.setBackgroundColor(this.computedColor,t),t.class["v-alert__border--has-color"]=!0),this.$createElement("div",t)},__cachedDismissible:function(){var t=this;if(!this.dismissible)return null;var e=this.iconColor;return this.$createElement(r["a"],{staticClass:"v-alert__dismissible",props:{color:e,icon:!0,small:!0},attrs:{"aria-label":this.$vuetify.lang.t(this.closeLabel)},on:{click:function(){return t.isActive=!1}}},[this.$createElement(s["a"],{props:{color:e}},this.closeIcon)])},__cachedIcon:function(){return this.computedIcon?this.$createElement(s["a"],{staticClass:"v-alert__icon",props:{color:this.iconColor}},this.computedIcon):null},classes:function(){var t=Object(a["a"])(Object(a["a"])({},o["a"].options.computed.classes.call(this)),{},{"v-alert--border":Boolean(this.border),"v-alert--dense":this.dense,"v-alert--outlined":this.outlined,"v-alert--prominent":this.prominent,"v-alert--text":this.text});return this.border&&(t["v-alert--border-".concat(this.border)]=!0),t},computedColor:function(){return this.color||this.type},computedIcon:function(){return!1!==this.icon&&("string"===typeof this.icon&&this.icon?this.icon:!!["error","info","success","warning"].includes(this.type)&&"$".concat(this.type))},hasColoredIcon:function(){return this.hasText||Boolean(this.border)&&this.coloredBorder},hasText:function(){return this.text||this.outlined},iconColor:function(){return this.hasColoredIcon?this.computedColor:void 0},isDark:function(){return!(!this.type||this.coloredBorder||this.outlined)||l["a"].options.computed.isDark.call(this)}},created:function(){this.$attrs.hasOwnProperty("outline")&&Object(p["a"])("outline","outlined",this)},methods:{genWrapper:function(){var t=[this.$slots.prepend||this.__cachedIcon,this.genContent(),this.__cachedBorder,this.$slots.append,this.$scopedSlots.close?this.$scopedSlots.close({toggle:this.toggle}):this.__cachedDismissible],e={staticClass:"v-alert__wrapper"};return this.$createElement("div",e,t)},genContent:function(){return this.$createElement("div",{staticClass:"v-alert__content"},this.$slots.default)},genAlert:function(){var t={staticClass:"v-alert",attrs:{role:"alert"},on:this.listeners$,class:this.classes,style:this.styles,directives:[{name:"show",value:this.isActive}]};if(!this.coloredBorder){var e=this.hasText?this.setTextColor:this.setBackgroundColor;t=e(this.computedColor,t)}return this.$createElement("div",t,[this.genWrapper()])},toggle:function(){this.isActive=!this.isActive}},render:function(t){var e=this.genAlert();return this.transition?t("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},[e]):e}})},"0c18":function(t,e,n){},"17cc":function(t,e,n){"use strict";var a=n("b85c"),i=n("1da1"),o=n("5530");n("96cf"),n("ac1f"),n("841c"),n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),n("b64b");e["a"]={data:function(){return{fetchedResults:[],response:{},extra_data:"",appliedFilters:{},footerProps:{itemsPerPageOptions:[10,20,30,40,50,100]},pagination:{sortBy:["modified_at"],descending:!1,totalItems:0,page:1,rowsPerPage:10,pageCount:0},triggerDataTable:!0,fullParams:""}},created:function(){this.getParams(this.DataTableFilter)},methods:{getParams:function(t){var e=Object(o["a"])(Object(o["a"])({},t),{},{offset:(this.pagination.page-1)*this.pagination.rowsPerPage,limit:this.pagination.rowsPerPage,ordering:this.pagination.descending?this.pagination.sortBy:"-"+this.pagination.sortBy});this.fullParams=this.convertToURLSearchParams(e)},loadDataTable:function(t){this.response=t,this.fetchedResults=t.results,this.pagination.totalItems=t.count,this.extra_data=t.extra_data,this.triggerDataTable=!0},fetchData:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var a,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return console.warn("DatatableMixin: fetchData has been deprecated. Please use the function in page itself."),a=Object(o["a"])(Object(o["a"])(Object(o["a"])({},t),e.appliedFilters),{},{search:e.search,offset:(e.pagination.page-1)*e.pagination.rowsPerPage,limit:e.pagination.rowsPerPage,ordering:e.pagination.descending?e.pagination.sortBy:"-"+e.pagination.sortBy}),i=e.convertToURLSearchParams(a),e.loading=!0,n.next=6,e.$http.get(e.endpoint,{params:i}).then((function(t){e.response=t,e.fetchedResults=t.results,e.pagination.totalItems=t.count})).finally((function(){e.loading=!1}));case 6:case"end":return n.stop()}}),n)})))()},applyFilters:function(t){this.appliedFilters=t,this.fetchData(t)},convertToURLSearchParams:function(t){for(var e=new URLSearchParams,n=0,i=Object.keys(t);n<i.length;n++){var o=i[n],r=t[o];if(void 0===r&&(r=""),Array.isArray(r)){var s,c=Object(a["a"])(r);try{for(c.s();!(s=c.n()).done;){var l=s.value;e.append(o,l)}}catch(u){c.e(u)}finally{c.f()}}else e.append(o,r)}return e},loadDataTableChange:function(){var t=this;this.triggerDataTable&&(this.getParams(this.DataTableFilter),this.$nextTick((function(){t.fetchDataTable()})))}},watch:{DataTableFilter:function(t){this.fetchedResults=[],this.getParams(t),this.fetchDataTable(),this.pagination.page=1},"pagination.sortBy":function(){this.fetchedResults=[],this.loadDataTableChange()},"pagination.descending":function(){this.fetchedResults=[],this.loadDataTableChange()},"pagination.page":function(){this.fetchedResults=[],this.loadDataTableChange()},"pagination.rowsPerPage":function(){this.fetchedResults=[],this.loadDataTableChange()}}}},"1f04":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return c}));var a=n("1da1");n("d3b7"),n("3ca3"),n("ddb0"),n("96cf");function i(t){return o.apply(this,arguments)}function o(){return o=Object(a["a"])(regeneratorRuntime.mark((function t(e){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r(e);case 2:return n=t.sent,t.next=5,c([n]);case 5:return a=t.sent,t.abrupt("return",a[0]);case 7:case"end":return t.stop()}}),t)}))),o.apply(this,arguments)}function r(t){return s.apply(this,arguments)}function s(){return s=Object(a["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:return n=t.sent,t.next=5,n.blob();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)}))),s.apply(this,arguments)}function c(t){return l.apply(this,arguments)}function l(){return l=Object(a["a"])(regeneratorRuntime.mark((function t(e){var n,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(n=function(t){var e=new FileReader;return new Promise((function(n){e.readAsDataURL(t),e.onloadend=function(){n(e.result)}}))},a=[],i=0;i<e.length;i++)a.push(n(e[i]));return t.next=5,Promise.all(a);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)}))),l.apply(this,arguments)}},"2c64":function(t,e,n){},3241:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",[n("vue-card-title",{attrs:{title:"External"===t.selectedAppraiser.user_type?"Feedback Form":"Peer To Peer Feedback Form of Employee",subtitle:"External"===t.selectedAppraiser.user_type?"Feedback Form":"Peer To Peer Feedback Form of Employee",icon:"mdi-file-document-outline",closable:!t.isExternalUser},on:{close:function(e){return t.$emit("close")}}}),n("v-divider"),n("non-field-form-errors",{attrs:{"non-field-errors":t.nonFieldErrors}}),n("v-card-text",{staticClass:"scrollbar-md"},[n("v-row",{ref:"peer_to_peer"},[n("v-col",{attrs:{cols:"12"}},[n("v-card",[n("v-card-text",[n("v-row",[n("v-col",{staticClass:"pt-0",attrs:{md:"4",cols:"12"}},[n("div",{staticClass:"py-2"},[n("span",[t._v("Appraisee")])]),n("vue-user",{attrs:{user:t.selectedAppraiser.individual_appraisal.appraisee}})],1),n("v-col",{staticClass:"pt-0",attrs:{cols:"1"}},[n("v-divider",{attrs:{vertical:""}})],1),n("v-col",{staticClass:"pt-0",attrs:{md:"4",cols:"12"}},[n("div",{staticClass:"py-2"},[n("span",[t._v("Appraiser")])]),"Internal"===t.selectedAppraiser.user_type?n("vue-user",{attrs:{user:t.selectedAppraiser.internal_user}}):n("p",[n("v-icon",{attrs:{small:""}},[t._v(" mdi-account")]),t._v(" "+t._s(t.selectedAppraiser.external_user.name)+" ")],1)],1),n("v-col",{staticClass:"pt-0",attrs:{cols:"1"}},[n("v-divider",{attrs:{vertical:""}})],1),n("v-col",{staticClass:"pt-0",attrs:{md:"2",cols:"12"}},[n("div",{staticClass:"py-2"},[n("span",[t._v("Score")])]),n("span",{staticClass:"text-h4 blueGrey--text font-weight-bold"},[t._v(" "+t._s(t.final_score)+" ")])])],1)],1)],1)],1),n("v-col",{attrs:{cols:"12"}},[t.selectedAppraiser.form_design.instruction_for_evaluator?n("v-alert",{staticClass:"text-body-2 my-0 mt-2 py-1",attrs:{dense:"",text:"",type:"info"}},[n("span",{domProps:{innerHTML:t._s(t.$sanitize(t.selectedAppraiser.form_design.instruction_for_evaluator))}})]):t._e()],1),n("v-col",{attrs:{cols:"12"}},[t._l(t.questionList,(function(e,a){return n("v-card",{key:a,staticClass:"mb-6 download-hidden"},[n("v-card-text",[n("span",{staticClass:"text-h6 blueGrey--text pb-2"},[t._v(" "+t._s(e.question_type)+" ")]),n("div",[t._v(t._s(e.description))]),n("v-radio-group",{model:{value:e.score,callback:function(n){t.$set(e,"score",n)},expression:"item.score"}},[n("v-row",t._l(t.selectedAppraiser.score_settings.slice().reverse(),(function(e,a){return n("v-col",{key:a,attrs:{cols:"3"}},[n("v-radio",{attrs:{label:e.name,value:e.score},scopedSlots:t._u([{key:"label",fn:function(){return[n("span",{staticClass:"blueGrey--text"},[t._v(t._s(e.name))])]},proxy:!0}],null,!0)})],1)})),1)],1),n("span",{staticClass:"font-weight-bold text-body-2 blue-grey--text"},[t._v(" Comment* ")]),n("v-textarea",t._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"auto-grow":"",rows:"2"},model:{value:e.comment,callback:function(n){t.$set(e,"comment",n)},expression:"item.comment"}},"v-textarea",t.veeValidate(a+"-comment","Comment"),!1))],1)],1)})),t._l(t.questionList,(function(e,a){return n("div",{key:a+"_download",staticClass:"mb-6 download-only"},[n("div",{staticClass:"mb-6 pb-6"},[n("span",{staticClass:"text-h6 blueGrey--text pb-2"},[t._v(" "+t._s(e.question_type)+" ")]),n("div",{staticClass:"text-body-1"},[t._v(t._s(e.description))]),n("v-row",t._l(t.selectedAppraiser.score_settings.slice().reverse(),(function(a,i){return n("v-col",{key:i,attrs:{cols:"3"}},[n("span",[e.score===a.score?n("v-icon",[t._v("mdi-checkbox-outline")]):n("v-icon",[t._v("mdi-checkbox-blank-outline ")]),t._v(" "+t._s(a.name))],1)])})),1),n("span",{staticClass:"font-weight-bold text-body-2 blue-grey--text"},[t._v(" Comment: ")]),n("span",[t._v(t._s(e.comment))])],1),n("v-divider")],1)}))],2),n("v-col",{staticClass:"download-hidden",attrs:{cols:"12"}},[n("span",{staticClass:"font-weight-bold text-body-2 blue-grey--text"},[t._v(" Feedback* ")]),n("v-textarea",t._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"auto-grow":"",label:"You may provide feedback here.",rows:"3"},model:{value:t.overallComment.overall_comment,callback:function(e){t.$set(t.overallComment,"overall_comment",e)},expression:"overallComment.overall_comment"}},"v-textarea",t.veeValidate("overallComment","Feedback"),!1))],1),n("v-col",{staticClass:"download-only",attrs:{cols:"12"}},[n("span",{staticClass:"font-weight-bold text-body-2 blue-grey--text"},[t._v(" Feedback: ")]),n("span",[t._v(t._s(t.overallComment.overall_comment))])])],1)],1),n("v-card-actions",[n("v-spacer"),"Submitted"!==t.selectedAppraiser.form_status||"hr"===t.as?n("v-btn",{attrs:{small:"",color:"primary",variant:"text"},on:{click:t.submitQuestionAnswer}},[t._v(" Submit ")]):t._e(),t.isExternalUser?t._e():n("v-btn",{attrs:{small:"",color:"primary",variant:"text"},on:{click:function(e){return t.downloadPdf(t.$refs.peer_to_peer,"p",t.selectedAppraiser.individual_appraisal.appraisee.full_name,55,t.isExternalUser?1340:1100,1400)}}},[t._v(" Download ")]),t.isExternalUser?t._e():n("v-btn",{attrs:{small:"",variant:"text"},on:{click:function(e){t.viewQuestionSheet=!1,t.$emit("close")}}},[t._v(" Close ")])],1)],1)},i=[],o=n("1da1"),r=n("5530"),s=(n("96cf"),n("159b"),n("d81d"),n("a4d3"),n("e01a"),n("99af"),n("02cb")),c=n("dd34"),l=n("2f62"),u=n("ab8a"),d=n("f12b"),p=n("17cc"),g=n("d242"),h={components:{VueUser:s["default"],NonFieldFormErrors:u["default"]},mixins:[p["a"],d["a"],g["a"]],props:{selectedAppraiser:{type:Object,required:!0},as:{type:String,default:"user"}},data:function(){return{appraisee:"",viewQuestionSheet:!1,updatedQuestions:{},items:["Achieved","Fail","Exceeded","Confirmed"],overallComment:{dignity_appraiser:this.selectedAppraiser.id,overall_comment:""},scores:[],questionList:[]}},computed:{final_score:function(){var t=0;return this.questionList.forEach((function(e){e.score&&(t+=e.score)})),Math.round(t/this.questionList.length*100)/100},isExternalUser:function(){return"External"===this.selectedAppraiser.user_type&&"hr"!==this.as}},created:function(){this.loadData()},methods:Object(r["a"])(Object(r["a"])({},Object(l["d"])({setSnackBar:"common/setSnackBar"})),{},{loadData:function(){var t=this,e=this.deepCopy(this.selectedAppraiser.question_set);"Submitted"!==this.selectedAppraiser.form_status?this.questionList=e.map((function(e){return Object(r["a"])({question:e.id,dignity_appraiser:t.selectedAppraiser.id},e)})):this.questionList=e.map((function(t){return{question:t.question.id,description:t.question.description,question_type:t.question.question_type,dignity_appraiser:t.dignity_appraiser,score:t.score,comment:t.comment}})),this.selectedAppraiser.comment&&(this.overallComment=this.selectedAppraiser.comment)},submitQuestionAnswer:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var n,a,i,o,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.validateAllFields();case 2:if(!e.sent){e.next=7;break}n={question_answers:t.questionList,appraiser_comment:t.overallComment},a=c["a"].submitQuestionSet(t.getOrganizationSlug,t.$route.params.id,t.selectedAppraiser.id),t.isExternalUser&&(i=t.$route.params.id,o=t.$route.params.uuid,r=t.$route.params.appraiserId,s=t.$route.params.orgSlug,a="dignity/".concat(s,"/external-appraiser/").concat(i,"/").concat(o,"/").concat(r,"/submit-answer")),t.$http.post(a,n,{params:{as:t.as}},{clearForms:!0}).then((function(e){t.setSnackBar({text:"Form submitted successfully.",color:"green"}),t.$emit("close"),t.loadDataTable(e)})).catch((function(e){t.pushErrors(e)}));case 7:case"end":return e.stop()}}),e)})))()}})},f=h,m=n("2877"),v=n("6544"),y=n.n(v),b=n("0798"),_=n("8336"),x=n("b0af"),w=n("99d9"),C=n("62ad"),k=n("ce7e"),S=n("132d"),A=n("67b6"),E=n("43a6"),O=n("0fd9b"),j=n("2fa4"),F=n("a844"),$=Object(m["a"])(f,a,i,!1,null,null,null);e["a"]=$.exports;y()($,{VAlert:b["a"],VBtn:_["a"],VCard:x["a"],VCardActions:w["a"],VCardText:w["c"],VCol:C["a"],VDivider:k["a"],VIcon:S["a"],VRadio:A["a"],VRadioGroup:E["a"],VRow:O["a"],VSpacer:j["a"],VTextarea:F["a"]})},"3d86":function(t,e,n){},"43a6":function(t,e,n){"use strict";var a=n("5530"),i=(n("a9e3"),n("ec29"),n("3d86"),n("c37a")),o=n("604c"),r=n("8547"),s=n("58df"),c=Object(s["a"])(r["a"],o["a"],i["a"]);e["a"]=c.extend({name:"v-radio-group",provide:function(){return{radioGroup:this}},props:{column:{type:Boolean,default:!0},height:{type:[Number,String],default:"auto"},name:String,row:Boolean,value:null},computed:{classes:function(){return Object(a["a"])(Object(a["a"])({},i["a"].options.computed.classes.call(this)),{},{"v-input--selection-controls v-input--radio-group":!0,"v-input--radio-group--column":this.column&&!this.row,"v-input--radio-group--row":this.row})}},methods:{genDefaultSlot:function(){return this.$createElement("div",{staticClass:"v-input--radio-group__input",attrs:{id:this.id,role:"radiogroup","aria-labelledby":this.computedId}},i["a"].options.methods.genDefaultSlot.call(this))},genInputSlot:function(){var t=i["a"].options.methods.genInputSlot.call(this);return delete t.data.on.click,t},genLabel:function(){var t=i["a"].options.methods.genLabel.call(this);return t?(t.data.attrs.id=this.computedId,delete t.data.attrs.for,t.tag="legend",t):null},onClick:o["a"].options.methods.onClick}})},"67b6":function(t,e,n){"use strict";var a=n("5530"),i=(n("b0c0"),n("2c64"),n("ba87")),o=n("9d26"),r=n("c37a"),s=n("7e2b"),c=n("a9ad"),l=n("4e82"),u=n("5311"),d=n("7560"),p=n("fe09"),g=n("80d2"),h=n("58df"),f=n("d9f7"),m=Object(h["a"])(s["a"],c["a"],u["a"],Object(l["a"])("radioGroup"),d["a"]);e["a"]=m.extend().extend({name:"v-radio",inheritAttrs:!1,props:{disabled:Boolean,id:String,label:String,name:String,offIcon:{type:String,default:"$radioOff"},onIcon:{type:String,default:"$radioOn"},readonly:Boolean,value:{default:null}},data:function(){return{isFocused:!1}},computed:{classes:function(){return Object(a["a"])(Object(a["a"])({"v-radio--is-disabled":this.isDisabled,"v-radio--is-focused":this.isFocused},this.themeClasses),this.groupClasses)},computedColor:function(){return p["a"].options.computed.computedColor.call(this)},computedIcon:function(){return this.isActive?this.onIcon:this.offIcon},computedId:function(){return r["a"].options.computed.computedId.call(this)},hasLabel:r["a"].options.computed.hasLabel,hasState:function(){return(this.radioGroup||{}).hasState},isDisabled:function(){return this.disabled||!!this.radioGroup&&this.radioGroup.isDisabled},isReadonly:function(){return this.readonly||!!this.radioGroup&&this.radioGroup.isReadonly},computedName:function(){return this.name||!this.radioGroup?this.name:this.radioGroup.name||"radio-".concat(this.radioGroup._uid)},rippleState:function(){return p["a"].options.computed.rippleState.call(this)},validationState:function(){return(this.radioGroup||{}).validationState||this.computedColor}},methods:{genInput:function(t){return p["a"].options.methods.genInput.call(this,"radio",t)},genLabel:function(){return this.hasLabel?this.$createElement(i["a"],{on:{click:p["b"]},attrs:{for:this.computedId},props:{color:this.validationState,focused:this.hasState}},Object(g["s"])(this,"label")||this.label):null},genRadio:function(){return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.$createElement(o["a"],this.setTextColor(this.validationState,{props:{dense:this.radioGroup&&this.radioGroup.dense}}),this.computedIcon),this.genInput(Object(a["a"])({name:this.computedName,value:this.value},this.attrs$)),this.genRipple(this.setTextColor(this.rippleState))])},onFocus:function(t){this.isFocused=!0,this.$emit("focus",t)},onBlur:function(t){this.isFocused=!1,this.$emit("blur",t)},onChange:function(){this.isDisabled||this.isReadonly||this.isActive||this.toggle()},onKeydown:function(){}},render:function(t){var e={staticClass:"v-radio",class:this.classes,on:Object(f["c"])({click:this.onChange},this.listeners$)};return t("div",e,[this.genRadio(),this.genLabel()])}})},"6c6f":function(t,e,n){"use strict";n("d3b7");e["a"]={data:function(){return{deleteNotification:{dialog:!1,heading:"Confirm Delete",text:"Are you sure you want to delete ?"}}},methods:{deleteData:function(t,e){var n=this;return new Promise((function(a,i){!n.loading&&t&&(n.loading=!0,n.$http.delete(t,e||{}).then((function(t){n.crud.message&&setTimeout((function(){n.notifyUser(n.crud.message)}),1e3),a(t),n.loading=!1})).catch((function(t){n.pushErrors(t),n.notifyInvalidFormResponse(),i(t),n.loading=!1})).finally((function(){n.deleteNotification.dialog=!1})))}))}}}},"983c":function(t,e,n){"use strict";n("d3b7");e["a"]={methods:{getData:function(t,e,n){var a=this,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Promise((function(o,r){!a.loading&&t&&(a.clearNonFieldErrors(),a.$validator.errors.clear(),a.loading=i,a.$http.get(t,n||{params:e||{}}).then((function(t){o(t),a.loading=!1})).catch((function(t){a.pushErrors(t),a.notifyInvalidFormResponse(),r(t),a.loading=!1})))}))},getBlockingData:function(t,e,n){var a=this;return new Promise((function(i,o){a.getData(t,e,n,!0).then((function(t){i(t)})).catch((function(t){o(t)}))}))}}}},ab8a:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.changeType&&0!==t.nonFieldErrors.length?n("div",t._l(t.nonFieldErrors,(function(e,a){return n("v-col",{key:a},t._l(e,(function(e,a){return n("div",{key:a},[n("span",{domProps:{textContent:t._s(t.key)}}),n("span",{domProps:{textContent:t._s(e.toString())}})])})),0)})),1):t._e(),t.changeType||0===t.nonFieldErrors.length?t._e():n("v-alert",{staticClass:"ma-3",attrs:{outlined:"",dense:"",tile:"",dismissible:"",color:"danger"}},[n("span",{domProps:{textContent:t._s("There are some errors")}}),t._l(t.nonFieldErrors,(function(e,a){return n("div",{key:a},t._l(e,(function(e,a){return n("div",{key:a},[n("ul",[n("li",[n("span",{domProps:{textContent:t._s(t.key)}}),n("span",{domProps:{textContent:t._s(e.toString())}})])])])})),0)}))],2)],1)},i=[],o={props:{nonFieldErrors:{type:Array,required:!0},changeType:{type:Boolean,default:!1}},data:function(){return{key:""}}},r=o,s=n("2877"),c=n("6544"),l=n.n(c),u=n("0798"),d=n("62ad"),p=Object(s["a"])(r,a,i,!1,null,null,null);e["default"]=p.exports;l()(p,{VAlert:u["a"],VCol:d["a"]})},d242:function(t,e,n){"use strict";var a=n("1da1"),i=n("5530"),o=(n("96cf"),n("d3b7"),n("3ca3"),n("ddb0"),n("caad"),n("159b"),n("99af"),n("b0c0"),n("7db0"),n("fb6a"),n("2f62")),r=n("f1d0"),s=n("1f04"),c=n("cf45");e["a"]={data:function(){return{orgInfo:null,serverTime:null,downloading:!1}},methods:Object(i["a"])(Object(i["a"])({},Object(o["d"])({setSnackBar:"common/setSnackBar"})),{},{downloadPdf:function(t){var e=arguments,i=this;return Object(a["a"])(regeneratorRuntime.mark((function o(){var r,l,u,d,p,g,h;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(r=e.length>1&&void 0!==e[1]?e[1]:"p",l=e.length>2?e[2]:void 0,u=e.length>3&&void 0!==e[3]?e[3]:35,d=e.length>4&&void 0!==e[4]?e[4]:1245,p=e.length>5&&void 0!==e[5]?e[5]:1475,t.$el&&(t=t.$el),!i.loading){o.next=8;break}return o.abrupt("return");case 8:return scroll(0,0),o.prev=9,i.loading=!0,i.downloading=!0,i.setSnackBar({text:"File Downloading. Please wait...",color:"info",persist:!0}),o.next=15,i.loadOrganizationInfo();case 15:g=0,h=0,"l"===r&&(g=805,h=86),setTimeout(Object(a["a"])(regeneratorRuntime.mark((function e(){var o,f,m,v,y,b;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=t.getBoundingClientRect().top,f=t.getBoundingClientRect().left,m=t.offsetHeight+parseInt(getComputedStyle(t).marginTop),v=[],y=document.getElementsByClassName("download-only"),b=document.getElementsByClassName("download-hidden"),e.next=8,n.e("chunk-2d216257").then(n.t.bind(null,"c0e9",7)).then(function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(n){var i,r,s,c,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=n.default;case 1:if(!(m>=40)){e.next=8;break}for(r=0;r<y.length;r++)y[r].style.display="block";for(s=0;s<b.length;s++)b[s].style.display="none";return e.next=6,i(t,{x:f-u,y:o,width:d,height:p-g,type:"dataURL",scale:2,useCORS:!0,windowWidth:1300}).then(function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:v.push(e.toDataURL("image/png")),m-=p-g,o+=p-g;case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 6:e.next=1;break;case 8:for(c=0;c<y.length;c++)y[c].style.display="none";for(l=0;l<b.length;l++)b[l].style.display="";case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 8:n.e("chunk-e0378ed4").then(n.bind(null,"8baf")).then(function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var n,a,o,u,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.default,a=new n(r,"mm"),!["manualtesting","development"].includes(Object(c["f"])("VUE_APP_ENV"))){t.next=8;break}return t.next=5,Object(s["b"])("https://i.imgur.com/fHyEMsl.jpg");case 5:o=t.sent,t.next=11;break;case 8:return t.next=10,Object(s["b"])(i.orgInfo.logo);case 10:o=t.sent;case 11:u=210+h,d=32,v.forEach((function(t,e){e>0&&a.addPage(),a.addImage(t,"PNG",0,d,u,0,void 0,"FAST"),i.setHeaderAndFooter(e,a,o,v.length,r)})),a.save(l||"file.pdf"),i.loading=!1,i.setSnackBar({text:"",color:"",display:!1,error:!1});case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 9:case"end":return e.stop()}}),e)}))),500),o.next=27;break;case 21:o.prev=21,o.t0=o["catch"](9),console.error("Error while downloading pdf",o.t0),i.setSnackBar({text:"Your request was not successful.",color:"red"}),i.loading=!1,i.downloading=!1;case 27:case"end":return o.stop()}}),o,null,[[9,21]])})))()},setHeaderAndFooter:function(t,e,n,a,i){var o=0,r=0;"l"===i&&(o=2.5,r=84);var s=t+1,c=e.internal.pageSize.getWidth(),l=e.internal.pageSize.getHeight(),u=this.serverTime,d="Page ".concat(s," of ").concat(a);e.setPage(s),e.setFont("Helvetica","normal"),e.setLineWidth(.2),e.setDrawColor(150),e.line(7.5+o,27,203+r,27),e.line(7.5+o,l-12,203+r,l-12),e.setTextColor(150),e.setFontSize(8),e.text(d,7.5+o,l-7),e.text(u,c-8-o,l-7,{align:"right"});var p=this.orgInfo.address?this.orgInfo.address+",":"",g=this.orgInfo.phone_no?"Tel: ".concat(this.orgInfo.phone_no):"";e.text("".concat(p," ").concat(g),c-8-o,17,{align:"right"});var h=this.orgInfo.email?this.orgInfo.email+",":"",f=this.orgInfo.website||"";e.text("".concat(h," ").concat(f),c-8-o,21,{align:"right"}),e.setTextColor(100),e.setFontSize(14),e.setFont("Helvetica","bold"),e.text("".concat(this.orgInfo.name),c-8-o,13,{align:"right"}),e.addImage(n,"JPEG",7.5+o,7,18,18,void 0,"FAST")},loadOrganizationInfo:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.getOrganizationSlug,a=JSON.parse(localStorage.getItem("org-info"))||[],!(a.length>0&&a.some((function(t){return t.slug===n})))){e.next=6;break}t.orgInfo=a.find((function(t){return t.slug===n})),e.next=8;break;case 6:return e.next=8,t.$http.get(r["a"].getOrganization(n)).then((function(e){var n=e.name,i=e.slug,o=e.appearance.logo,r=e.address?e.address.address:"",s=e.email,c=e.contacts.Phone,l=e.website,u={name:n,slug:i,logo:o,address:r,email:s,phone_no:c,website:l};a.push(u),localStorage.setItem("org-info",JSON.stringify(a)),t.orgInfo=u}));case 8:return e.next=10,t.$http.get("server-info/?fields=server_time").then((function(e){var n=e.server_time;n=n.slice(0,-6),t.serverTime=t.$dayjs(n).format("YYYY-MM-DD HH:mm:ss A")}));case 10:case"end":return e.stop()}}),e)})))()}})}},dd34:function(t,e,n){"use strict";n("99af");e["a"]={postDignity:"/dignity/objective",updateObjective:function(t){return"/dignity/objective/".concat(t,"/")},getRecentActivities:"/dignity/objective/recent-activities/",getMilestoneRecentActivities:function(t,e,n,a){return"/dignity/".concat(t,"/goal-period/").concat(e,"/goal/").concat(n,"/milestone/").concat(a,"/recent-activities/")},getComments:function(t){return"/dignity/objective/".concat(t,"/comments/")},postComments:function(t){return"/dignity/objective/".concat(t,"/comments/")},deleteComments:function(t,e){return"/dignity/objective/".concat(t,"/comments/").concat(e,"/")},getAttachment:function(t){return"/dignity/objective/".concat(t,"/attachments/")},postAttachment:function(t){return"/dignity/objective/".concat(t,"/attachments/")},deleteAttachment:function(t,e){return"/dignity/objective/".concat(t,"/attachments/").concat(e)},postMilestone:function(t,e,n){return"/dignity/".concat(t,"/goal-period/").concat(e,"/goal/").concat(n,"/milestone/")},updateMilestone:function(t,e,n,a){return"/dignity/".concat(t,"/goal-period/").concat(e,"/goal/").concat(n,"/milestone/").concat(a)},getMilestoneAttachment:function(t,e,n,a){return"/dignity/".concat(t,"/goal-period/").concat(e,"/goal/").concat(n,"/milestone/").concat(a,"/attachments/")},postMilestoneAttachment:function(t,e,n,a){return"/dignity/".concat(t,"/goal-period/").concat(e,"/goal/").concat(n,"/milestone/").concat(a,"/attachments/")},deleteMilestoneAttachment:function(t,e,n,a,i){return"/dignity/".concat(t,"/goal-period/").concat(e,"/goal/").concat(n,"/milestone/").concat(a,"/attachments/").concat(i)},getGoalPeriod:function(t){return"/dignity/".concat(t,"/goal-period/")},viewGoalPeriod:function(t,e){return"/dignity/".concat(t,"/goal-period/").concat(e)},getGoal:function(t,e){return"/dignity/".concat(t,"/goal-period/").concat(e,"/goal")},downloadExcel:function(t,e){return"/dignity/".concat(t,"/goal-period/").concat(e,"/goal/export")},viewGoal:function(t,e,n){return"/dignity/".concat(t,"/goal-period/").concat(e,"/goal/").concat(n)},getMilestoneComments:function(t,e,n,a){return"/dignity/".concat(t,"/goal-period/").concat(e,"/goal/").concat(n,"/milestone/").concat(a,"/comments/")},postMilestoneComments:function(t,e,n,a){return"/dignity/".concat(t,"/goal-period/").concat(e,"/goal/").concat(n,"/milestone/").concat(a,"/comments/")},deleteMilestoneComments:function(t,e,n,a,i){return"/dignity/".concat(t,"/goal-period/").concat(e,"/goal/").concat(n,"/milestone/").concat(a,"/comments/").concat(i,"/")},objectiveAdminApprove:function(t){return"/dignity/objective/".concat(t)},postAppraisalCycle:function(t){return"/dignity/".concat(t,"/dignity-appraisal/")},updateAppraisalCycle:function(t,e){return"/dignity/".concat(t,"/dignity-appraisal/").concat(e)},getWeightageAppraisal:function(t,e){return"/dignity/".concat(t,"/dignity-appraisal/").concat(e,"/appraisal-mode/")},postWeightageAppraisal:function(t,e){return"/dignity/".concat(t,"/dignity-appraisal/").concat(e,"/appraisal-mode/assign-weightage/")},getEvaluatee:function(t,e){return"/dignity/".concat(t,"/dignity-appraisal/").concat(e,"/individual-appraisal")},deleteEvaluatee:function(t,e,n){return"/dignity/".concat(t,"/dignity-appraisal/").concat(e,"/individual-appraisal/").concat(n)},addEvaluatee:function(t,e){return"/dignity/".concat(t,"/dignity-appraisal/").concat(e,"/individual-appraisal/assign-appraisee")},postEvaluator:function(t,e){return"/dignity/".concat(t,"/dignity-appraisal/").concat(e,"/individual-appraisal/get-appraiser")},getEvaluatorList:function(t,e,n){return"/dignity/".concat(t,"/dignity-appraisal/").concat(e,"/individual-appraisal/").concat(n,"/get-appraiser-list")},sendEvaluationForm:function(t,e){return"/dignity/".concat(t,"/dignity-appraisal/").concat(e,"/individual-appraisal/sent")},submitQuestionSet:function(t,e,n){return"/dignity/".concat(t,"/dignity-appraisal/").concat(e,"/individual-appraisal-appraiser/").concat(n,"/submit-answer")},getAppraiser:function(t,e){return"dignity/".concat(t,"/dignity-appraisal/").concat(e,"/individual-appraisal-appraiser")},getAppraiseeList:function(t,e,n){return"dignity/".concat(t,"/dignity-appraisal/").concat(e,"/individual-appraisal-appraiser/").concat(n,"/list")},getScoreAndScaling:function(t,e){return"dignity/".concat(t,"/dignity-appraisal/").concat(e,"/score-and-scale/")},postScoreAndScaling:function(t,e){return"dignity/".concat(t,"/dignity-appraisal/").concat(e,"/score-and-scale/score-setting")},formSettings:function(t,e){return"/dignity/".concat(t,"/dignity-appraisal/").concat(e,"/form-design/")},updateFormSettings:function(t,e,n){return"/dignity/".concat(t,"/dignity-appraisal/").concat(e,"/form-design/").concat(n)},questionSetting:function(t,e){return"/dignity/".concat(t,"/dignity-appraisal/").concat(e,"/questions/")},updateSetting:function(t,e,n){return"/dignity/".concat(t,"/dignity-appraisal/").concat(e,"/questions/").concat(n)},addEvaluator:function(t){return"/dignity/".concat(t,"/user/evaluator/")},updateEvaluator:function(t,e){return"/dignity/".concat(t,"/user/evaluator/").concat(e)},approveEvaluator:function(t,e){return"/dignity/".concat(t,"/user/evaluator/").concat(e,"/approve")},confirmEvaluator:function(t,e){return"/dignity/".concat(t,"/user/evaluator/").concat(e,"/confirm")},externalAppraiserQuestionSet:function(t,e,n,a){return"/dignity/".concat(t,"/external-appraiser/").concat(e,"/").concat(n,"/").concat(a)},dignityReport:function(t,e){return"/dignity/".concat(t,"/dignity-appraisal/").concat(e,"/summary-report")},dignitySendReport:function(t,e,n){return"/dignity/".concat(t,"/dignity-appraisal/").concat(e,"/summary-report/").concat(n)},downloadDignityReport:function(t,e){return"/dignity/".concat(t,"/dignity-appraisal/").concat(e,"/individual-appraisal/export/")},dignityOverview:function(t,e){return"/dignity/".concat(t,"/dignity-appraisal/overview/").concat(e,"/")},getCoachingFormData:function(t){return"/dignity/".concat(t,"/coaching")},postCoachingFormData:function(t){return"/dignity/".concat(t,"/coaching")},deleteCoachingTableData:function(t,e){return"/dignity/".concat(t,"/coaching/").concat(e)},editCoachingFormData:function(t,e){return"/dignity/".concat(t,"/coaching/").concat(e)},postCoachingComment:function(t,e){return"/dignity/".concat(t,"/coaching/").concat(e,"/comment")},confirmCoaching:function(t,e){return"/dignity/".concat(t,"/coaching/").concat(e,"/confirm")},peerApproval:function(t){return"/dignity/".concat(t,"/user/evaluator/peer-approval")},unconfirmedApproval:function(t,e){return"/dignity/".concat(t,"/dignity-appraisal/overview/").concat(e,"/peer-approval")},dignityGoal:function(t,e){return"/dignity/".concat(t,"/dignity-appraisal/overview/").concat(e,"/goal-scored")},individualObjective:function(t,e){return"/dignity/".concat(t,"/dignity-appraisal/overview/").concat(e,"/individual-objective")},peerNomination:function(t,e){return"/dignity/".concat(t,"/dignity-appraisal/overview/").concat(e,"/peer-nomination-request")},peerToPeer:function(t,e,n){return"/dignity/".concat(t,"/dignity-appraisal/overview/").concat(e,"/").concat(n,"/appraisers")},individualObjectiveScored:function(t,e){return"/dignity/".concat(t,"/dignity-appraisal/overview/").concat(e,"/obj")}}},f0d5:function(t,e,n){"use strict";n("d3b7"),n("3ca3"),n("ddb0");var a=n("c44a");e["a"]={components:{NonFieldFormErrors:function(){return n.e("chunk-6441e173").then(n.bind(null,"ab8a"))}},mixins:[a["a"]],data:function(){return{crud:{name:"record",message:"",addAnother:!1},formValues:{},loading:!1}}}},f12b:function(t,e,n){"use strict";var a=n("f0d5"),i=n("983c"),o=n("f70a"),r=n("6c6f");e["a"]={mixins:[a["a"],i["a"],o["a"],r["a"]]}},f1d0:function(t,e,n){"use strict";e["a"]={getOrganizationList:"/org/",getOrganization:function(t){return"/org/".concat(t,"/")},updateOrganization:function(t){return"/org/".concat(t,"/")},getOrgEmployeeData:function(t){return"/org/".concat(t,"/employee-data/")}}},f70a:function(t,e,n){"use strict";n("d3b7"),n("caad");e["a"]={methods:{insertData:function(t,e){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=a.validate,o=void 0===i||i,r=a.clearForm,s=void 0===r||r,c=arguments.length>3?arguments[3]:void 0;return new Promise((function(a,i){!n.loading&&t&&(n.clearErrors(),n.$validator.validateAll().then((function(r){o||(r=!0),r&&(n.loading=!0,n.$http.post(t,e,c||{}).then((function(t){n.clearErrors(),s&&(n.formValues={}),n.crud.addAnother||n.$emit("create"),n.crud.message&&setTimeout((function(){n.notifyUser(n.crud.message)}),1e3),a(t),n.loading=!1})).catch((function(t){n.pushErrors(t),n.notifyInvalidFormResponse(),i(t),n.loading=!1})))})))}))},patchData:function(t,e){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=a.validate,o=void 0===i||i,r=a.clearForm,s=void 0===r||r,c=arguments.length>3?arguments[3]:void 0;return new Promise((function(a,i){n.updateData(t,e,{validate:o,clearForm:s},"patch",c).then((function(t){a(t)})).catch((function(t){i(t)}))}))},putData:function(t,e){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=a.validate,o=void 0===i||i,r=a.clearForm,s=void 0===r||r,c=arguments.length>3?arguments[3]:void 0;return new Promise((function(a,i){n.updateData(t,e,{validate:o,clearForm:s},"put",c).then((function(t){a(t)})).catch((function(t){i(t)}))}))},updateData:function(t,e){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=a.validate,o=void 0===i||i,r=a.clearForm,s=void 0===r||r,c=arguments.length>3?arguments[3]:void 0,l=arguments.length>4?arguments[4]:void 0;return new Promise((function(a,i){!n.loading&&t&&["put","patch"].includes(c)&&(n.clearErrors(),n.$validator.validateAll().then((function(r){o||(r=!0),r&&(n.loading=!0,n.$http[c](t,e,l||{}).then((function(t){n.$emit("update"),n.clearErrors(),s&&(n.formValues={}),n.crud.message&&setTimeout((function(){n.notifyUser(n.crud.message)}),1e3),a(t),n.loading=!1})).catch((function(t){n.pushErrors(t),n.notifyInvalidFormResponse(),i(t),n.loading=!1})))})))}))},clearErrors:function(){this.clearNonFieldErrors(),this.$validator.errors.clear()}}}}}]);