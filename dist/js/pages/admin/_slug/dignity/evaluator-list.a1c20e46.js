(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages/admin/_slug/dignity/evaluator-list","chunk-2d2259e9"],{1229:function(t,e,a){"use strict";a("99af");e["a"]={getDivision:function(t){return"/org/".concat(t,"/division/")},postDivision:function(t){return"/org/".concat(t,"/division/")},getDivisionDetails:function(t,e){return"/org/".concat(t,"/division/").concat(e,"/")},putDivision:function(t,e){return"/org/".concat(t,"/division/").concat(e,"/")},deleteDivision:function(t,e){return"/org/".concat(t,"/division/").concat(e,"/")},importDivision:function(t){return"/org/".concat(t,"/division/import/")},downloadSampleDivision:function(t){return"/org/".concat(t,"/division/import/sample")}}},"2c2a":function(t,e,a){"use strict";a("99af");e["a"]={getEmploymentLevel:function(t){return"/org/".concat(t,"/employment/level/")},postEmploymentLevel:function(t){return"/org/".concat(t,"/employment/level/")},getEmploymentLevelDetail:function(t,e){return"/org/".concat(t,"/employment/level/").concat(e,"/")},updateEmploymentLevel:function(t,e){return"/org/".concat(t,"/employment/level/").concat(e,"/")},deleteEmploymentLevel:function(t,e){return"/org/".concat(t,"/employment/level/").concat(e,"/")},importEmploymentLevel:function(t){return"/org/".concat(t,"/employment/level/import/")},downloadSampleEmploymentLevel:function(t){return"/org/".concat(t,"/employment/level/import/sample")}}},"3eb2":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("vue-page-wrapper",{attrs:{title:t.htmlTitle,"bread-crumbs":t.breadCrumbItems}},[a("v-card",[a("vue-card-title",{attrs:{title:"List of Evaluators",subtitle:"These are the list of evaluators.",icon:"mdi-format-list-bulleted"}},[a("template",{slot:"actions"},[a("v-btn",{attrs:{small:"",color:"primary",depressed:""},on:{click:function(e){t.addEvaluator=!0}}},[t._v(" Add new evaluator ")]),a("v-btn",{attrs:{icon:""},on:{click:function(e){t.filters.show=!t.filters.show}}},[a("v-icon",{attrs:{small:""},domProps:{textContent:t._s("mdi-filter-variant")}})],1)],1)],2),a("v-divider"),a("v-slide-y-transition",{directives:[{name:"show",rawName:"v-show",value:t.filters.show,expression:"filters.show"}]},[t.filters.show?a("v-row",{staticClass:"px-2 py-0"},[a("v-col",[a("v-text-field",{attrs:{value:t.filters.search,label:"Search","prepend-inner-icon":"mdi-magnify"},on:{change:function(e){t.filters.search=e}}})],1),a("v-col",{attrs:{md:"3",cols:"12"}},[a("vue-auto-complete",{attrs:{endpoint:t.jobTitleEndpoint,label:"Filter by Job Title","item-text":"title","item-value":"slug"},model:{value:t.filters.job_title,callback:function(e){t.$set(t.filters,"job_title",e)},expression:"filters.job_title"}})],1),a("v-col",{attrs:{md:"3",cols:"12"}},[a("vue-auto-complete",{attrs:{endpoint:t.divisionEndpoint,label:"Filter by Division","item-text":"name","item-value":"slug"},model:{value:t.filters.division,callback:function(e){t.$set(t.filters,"division",e)},expression:"filters.division"}})],1),a("v-col",{attrs:{md:"3",cols:"12"}},[a("vue-auto-complete",{attrs:{endpoint:t.employmentLevelEndpoint,label:"Filter by Employment Level","item-text":"title","item-value":"slug"},model:{value:t.filters.employment_level,callback:function(e){t.$set(t.filters,"employment_level",e)},expression:"filters.employment_level"}})],1)],1):t._e()],1),t.filters.show?a("v-divider"):t._e(),a("v-divider"),a("v-tabs",{attrs:{"slider-color":"blue","show-arrows":"",expand:""},model:{value:t.activeStatus,callback:function(e){t.activeStatus=e},expression:"activeStatus"}},t._l(t.statusTabs,(function(e,n){return a("v-tab",{key:e.text,attrs:{ripple:"",disabled:t.loading},on:{click:function(e){t.activeStatus=n}}},[a("span",{staticClass:"mr-2 text-capitalize"},[t._v(" "+t._s(e.text))]),a("v-chip",{attrs:{color:e.color,"text-color":"white",small:""}},[t._v(" "+t._s(t.statusCounts[e.text])+" ")])],1)})),1),a("v-data-table",{attrs:{headers:t.headers,items:t.fetchedResults,"sort-desc":t.pagination.descending,"sort-by":t.pagination.sortBy,page:t.pagination.page,"items-per-page":t.pagination.rowsPerPage,"footer-props":t.footerProps,"server-items-length":t.pagination.totalItems,"must-sort":"","mobile-breakpoint":0},on:{"update:sortDesc":function(e){return t.$set(t.pagination,"descending",e)},"update:sort-desc":function(e){return t.$set(t.pagination,"descending",e)},"update:sortBy":function(e){return t.$set(t.pagination,"sortBy",e)},"update:sort-by":function(e){return t.$set(t.pagination,"sortBy",e)},"update:page":function(e){return t.$set(t.pagination,"page",e)},"update:itemsPerPage":function(e){return t.$set(t.pagination,"rowsPerPage",e)},"update:items-per-page":function(e){return t.$set(t.pagination,"rowsPerPage",e)}},scopedSlots:t._u([{key:"item",fn:function(e){return[a("tr",[a("td",[a("vue-user",{attrs:{user:e.item.appraisee}})],1),a("td",[t._v(" "+t._s(t._f("truncate")(e.item.dignity_appraisal.title,25))+" ")]),a("td",[a("v-chip",{staticClass:"pointer",on:{click:function(a){t.showUsersList=!0,t.internalEvaluatorList=e.item.internal_users}}},[t._v(" "+t._s(e.item.internal_users.length)+" ")])],1),a("td",[a("v-chip",{staticClass:"pointer",on:{click:function(a){return t.openEvaluatorDialog(e.item.external_users,"External Evaluator","List of External Evaluator")}}},[t._v(" "+t._s(e.item.external_users.length)+" ")])],1),a("td",[e.item.status?a("v-chip",{attrs:{color:t.statusColor[e.item.status],small:"",outlined:""},domProps:{textContent:t._s(e.item.status)}}):a("span",{domProps:{textContent:t._s("N/A")}})],1),a("td",[a("vue-context-menu",{attrs:{"context-list":[{name:"Edit Evaluator",icon:"mdi-pencil",color:"info"},{name:"View Details",icon:"mdi-eye-outline",color:"info"},{name:"Delete Evaluator",icon:"mdi-delete-outline",color:"danger"}]},on:{click0:function(a){return t.editEvaluator(e.item)},click1:function(a){return t.viewEvaluatorDetails(e.item)},click2:function(a){return t.deleteEvaluator(e.item.id)}}})],1)])]}}])},[a("template",{slot:"no-data"},[a("no-data-found",{attrs:{loading:t.loading}})],1)],2)],1),t.addEvaluator?a("v-dialog",{attrs:{width:"960",scrollable:"",persistent:""},on:{keydown:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;t.addEvaluator=!1}},model:{value:t.addEvaluator,callback:function(e){t.addEvaluator=e},expression:"addEvaluator"}},[t.addEvaluator?a("evaluator-form",{attrs:{"action-data":t.actionData,"view-mode":t.viewMode,"is-hr-admin":!0},on:{close:function(e){t.addEvaluator=!1,t.fetchDataTable(),t.actionData={},t.viewMode=!1},refresh:function(e){return t.fetchDataTable()}}}):t._e()],1):t._e(),a("v-dialog",{attrs:{width:"500",scrollable:"",persistent:""},model:{value:t.showList,callback:function(e){t.showList=e},expression:"showList"}},[a("show-list-dialog",{attrs:{title:t.titleList,subtitle:t.subTitle,items:t.externalEvaluatorList,"header-name":t.headerName},on:{close:function(e){t.showList=e}}})],1),a("user-list-dialog",{attrs:{users:t.internalEvaluatorList,title:"Internal Evaluator"},on:{close:function(e){t.showUsersList=!1,t.internalEvaluatorList=[]}},model:{value:t.showUsersList,callback:function(e){t.showUsersList=e},expression:"showUsersList"}})],1)},i=[],o=(a("ac1f"),a("841c"),a("d3b7"),a("d81d"),a("b0c0"),a("0549")),s=a("dac4"),l=a("17cc"),r=a("8cd3"),c=a("c44a"),u=a("e4bf"),d=a("a51f"),m=a("dd34"),p=a("02cb"),v=a("9815"),f=a("68c3"),g=a("5660"),h=a("86eb"),b=a("1229"),y=a("2c2a"),x={components:{VueAutoComplete:g["default"],UserListDialog:v["default"],showListDialog:f["a"],NoDataFound:d["default"],VueContextMenu:u["default"],EvaluatorForm:s["a"],VuePageWrapper:o["default"],VueUser:p["default"]},mixins:[l["a"],c["a"],r["a"]],data:function(){return{isHrAdmin:!0,htmlTitle:"Goal Period | Dignity | Admin",breadCrumbItems:[{text:"Evaluators",disabled:!0}],addEvaluator:!1,activeEvaluator:0,viewDetail:!1,loading:!1,filters:{show:!1,search:""},headers:[{text:"Employee Name",sortable:!1},{text:"Appraisal Cycle",sortable:!0,value:"title"},{text:"Internal",sortable:!1},{text:"External",sortable:!1},{text:"Status",sortable:!1},{text:"Action",sortable:!1}],goalPeriod:"",actionData:{},userDetail:"",statusTabs:[{text:"All",color:"indigo",value:"",count:"0"},{text:"Pending",color:"orange",value:"Pending",status:"Pending"},{text:"Accepted",color:"blue",value:"Accepted",status:"Accepted"},{text:"Confirmed",color:"cyan",value:"Confirmed",status:"Confirmed"}],statusCounts:{All:0,Pending:0,Accepted:0,Confirmed:0},evaluatorTabs:[{text:"Internal",value:"Internal"},{text:"External",value:"External"}],statusColor:{All:"Indigo",Pending:"orange",Accepted:"blue",Confirmed:"cyan"},viewMode:!1,activeStatus:0,headerName:"",title:"",subtitle:"",externalEvaluatorList:[],showList:!1,subTitle:"",titleList:"",showUsersList:!1,internalEvaluatorList:[],jobTitleEndpoint:"",divisionEndpoint:"",employmentLevelEndpoint:""}},computed:{DataTableFilter:function(){return{status:this.statusTabs[this.activeStatus].value,search:this.filters.search,employment_level:this.filters.employment_level,division:this.filters.division,job_title:this.filters.job_title,as:"hr"}}},watch:{params:function(){this.fetchDataTable()}},created:function(){this.loadDataTableChange(),this.jobTitleEndpoint=h["a"].getJobTitle(this.getOrganizationSlug),this.divisionEndpoint=b["a"].getDivision(this.getOrganizationSlug),this.employmentLevelEndpoint=y["a"].getEmploymentLevel(this.getOrganizationSlug)},methods:{viewEvaluatorDetails:function(t){this.addEvaluator=!0,this.viewMode=!0,this.actionData=t},deleteEvaluator:function(t){var e=this;this.$http.delete(m["a"].updateEvaluator(this.getOrganizationSlug,t)+"?as=hr",this.formValues).then((function(){e.notifyUser("Successfully deleted evaluator","green"),e.$emit("close"),e.loadDataTableChange()}))},editEvaluator:function(t){this.addEvaluator=!0,this.viewMode=!1,this.actionData=t},fetchDataTable:function(){var t=this;this.loading||(this.loading=!0,this.$http.get(m["a"].addEvaluator(this.getOrganizationSlug),{params:this.fullParams}).then((function(e){t.loadDataTable(e),t.goalPeriod=e.results,t.processAfterTableLoad(e)})).finally((function(){t.loading=!1})))},processAfterTableLoad:function(t){this.statusCounts={Pending:t.stats.Pending,Accepted:t.stats.Accepted,Confirmed:t.stats.Confirmed,All:t.stats.All}},openEvaluatorDialog:function(t,e,a){this.externalEvaluatorList=t.map((function(t){return t.name})),this.titleList=e,this.subTitle=a,this.headerName="Evaluator Name",this.showList=!0}}},E=x,w=a("2877"),_=a("6544"),T=a.n(_),L=a("8336"),C=a("b0af"),P=a("cc20"),D=a("62ad"),k=a("8fea"),V=a("169a"),A=a("ce7e"),S=a("132d"),I=a("0fd9b"),$=a("0789"),j=a("71a3"),O=a("fe57"),B=a("8654"),J=Object(w["a"])(E,n,i,!1,null,null,null);e["default"]=J.exports;T()(J,{VBtn:L["a"],VCard:C["a"],VChip:P["a"],VCol:D["a"],VDataTable:k["a"],VDialog:V["a"],VDivider:A["a"],VIcon:S["a"],VRow:I["a"],VSlideYTransition:$["g"],VTab:j["a"],VTabs:O["a"],VTextField:B["a"]})},"86eb":function(t,e,a){"use strict";a("99af");e["a"]={getJobTitle:function(t){return"/org/".concat(t,"/employment/job-title/")},postJobTitle:function(t){return"/org/".concat(t,"/employment/job-title/")},getJobTitleDetail:function(t,e){return"/org/".concat(t,"/employment/job-title/").concat(e,"/")},updateJobTitle:function(t,e){return"/org/".concat(t,"/employment/job-title/").concat(e,"/")},deleteJobTitle:function(t,e){return"/org/".concat(t,"/employment/job-title/").concat(e,"/")},importJobTitle:function(t){return"/org/".concat(t,"/employment/job-title/import/")},downloadSampleJobTitle:function(t){return"/org/".concat(t,"/employment/job-title/import/sample")}}},"8cd3":function(t,e,a){"use strict";var n=a("5530"),i=(a("d3b7"),a("f0d5"));e["a"]={mixins:[i["a"]],data:function(){return{dataTableEndpoint:"",fetchedResults:[],response:null,footerProps:{itemsPerPageOptions:[10,20,30,40,50,100]},pagination:{sortBy:["modified_at"],descending:!1,totalItems:0,page:1,rowsPerPage:10,pageCount:0},loadTableOnInit:!0}},computed:{filterParams:function(){var t=Object(n["a"])(Object(n["a"])({},this.dataTableFilter),{},{offset:(this.pagination.page-1)*this.pagination.rowsPerPage,limit:this.pagination.rowsPerPage,ordering:this.pagination.descending?this.pagination.sortBy:"-"+this.pagination.sortBy});return this.convertToURLSearchParams(t,!1)}},watch:{filterParams:function(){var t=this;this.$nextTick((function(){t.fetchDataTable()}))},dataTableFilter:function(){this.pagination.page=1}},created:function(){var t=this;setTimeout((function(){t.loadTableOnInit&&t.fetchDataTable()}),0)},methods:{fetchDataTable:function(t,e){var a=this;return new Promise((function(n,i){!t&&!a.dataTableEndpoint||a.loading||(a.loadTableOnInit=!1,a.loading=!0,a.fetchedResults=[],a.$http.get(t||a.dataTableEndpoint,e||{params:a.filterParams}).then((function(t){a.response=t,a.fetchedResults=t.results,a.pagination.totalItems=t.count,a.processAfterTableLoad(t),n(t),a.loading=!1})).catch((function(t){a.pushErrors(t),a.notifyInvalidFormResponse(),i(t),a.loading=!1})))}))},processAfterTableLoad:function(){}}}},e4bf:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.contextList.filter((function(t){return!t.hide})).length<3&&!t.hideIcons||t.showIcons?a("div",t._l(t.contextList,(function(e,n){return a("span",{key:n},[e.hide?t._e():a("v-tooltip",{attrs:{disabled:t.$vuetify.breakpoint.xs,top:""},scopedSlots:t._u([{key:"activator",fn:function(i){var o=i.on;return[a("v-btn",t._g({staticClass:"mx-0",attrs:{text:"",width:t.small?"18":"22",depressed:"",icon:""}},o),[a("v-icon",{attrs:{disabled:e.disabled,color:e.color,"data-cy":t.dataCyVariable+"btn-dropdown-menu-item-"+(n+1),dark:!e.disabled,small:t.small,size:"20",dense:""},domProps:{textContent:t._s(e.icon)},on:{click:function(e){return t.$emit("click"+n)}}})],1)]}}],null,!0)},[a("span",{domProps:{textContent:t._s(e.disabled&&e.disable_message||e.name)}})])],1)})),0):a("v-menu",{attrs:{"offset-y":"",left:"",transition:"slide-y-transition"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-btn",t._g({attrs:{small:"",text:"",icon:""}},n),[a("v-icon",{attrs:{"data-cy":"btn-dropdown-menu"},domProps:{textContent:t._s("mdi-dots-vertical")}})],1)]}}])},t._l(t.contextList,(function(e,n){return a("v-list",{key:n,staticClass:"pa-0",attrs:{dense:""}},[e.hide?t._e():a("div",[e.disabled?a("v-list-item",{attrs:{"data-cy":"btn-dropdown-menu-item"}},[a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(n){var i=n.on;return[a("v-list-item-title",t._g({},i),[a("v-icon",{attrs:{disabled:"",small:"",color:e.color},domProps:{textContent:t._s(e.icon)}}),a("span",{staticClass:"ml-1 grey--text",domProps:{textContent:t._s(e.name)}})],1)]}}],null,!0)},[a("span",{domProps:{textContent:t._s(e.disabled&&e.disable_message||e.name)}})])],1):a("v-list-item",{attrs:{"data-cy":"btn-dropdown-menu-item"},on:{click:function(e){return t.$emit("click"+n)}}},[a("v-list-item-title",[a("v-icon",{attrs:{color:e.color,small:"",dense:""},domProps:{textContent:t._s(e.icon)}}),a("span",{staticClass:"ml-1",class:e.text_color,domProps:{textContent:t._s(e.name)}})],1)],1)],1)])})),1)],1)},i=[],o={name:"VueContextMenu",props:{contextList:{type:Array,default:function(){return[]}},dataCyVariable:{type:String,default:""},showIcons:{type:Boolean,default:!1},hideIcons:{type:Boolean,default:!1},small:{type:Boolean,default:!1}}},s=o,l=a("2877"),r=a("6544"),c=a.n(r),u=a("8336"),d=a("132d"),m=a("8860"),p=a("da13"),v=a("5d23"),f=a("e449"),g=a("3a2f"),h=Object(l["a"])(s,n,i,!1,null,"71ee785c",null);e["default"]=h.exports;c()(h,{VBtn:u["a"],VIcon:d["a"],VList:m["a"],VListItem:p["a"],VListItemTitle:v["c"],VMenu:f["a"],VTooltip:g["a"]})}}]);