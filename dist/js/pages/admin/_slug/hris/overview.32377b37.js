(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages/admin/_slug/hris/overview","chunk-1b4245df","chunk-2d0e6279"],{"0075":function(t,e,s){"use strict";s("99af");e["a"]={getHoliday:function(t){return"/org/".concat(t,"/holiday/")},postHoliday:function(t){return"/org/".concat(t,"/holiday/")},updateHoliday:function(t,e){return"/org/".concat(t,"/holiday/").concat(e,"/")},deleteHoliday:function(t,e){return"/org/".concat(t,"/holiday/").concat(e,"/")},exportHoliday:function(t){return"/org/".concat(t,"/holiday/export/")},importHoliday:function(t){return"/org/".concat(t,"/holiday/import/")},downloadSampleHoliday:function(t){return"/org/".concat(t,"/holiday/import/sample")}}},"1fca":function(t,e,s){"use strict";s.d(e,"a",(function(){return n})),s.d(e,"c",(function(){return o})),s.d(e,"b",(function(){return c}));var i=s("30ef"),r=s.n(i);function a(t,e){return{render:function(t){return t("div",{style:this.styles,class:this.cssClasses},[t("canvas",{attrs:{id:this.chartId,width:this.width,height:this.height},ref:"canvas"})])},props:{chartId:{default:t,type:String},width:{default:400,type:Number},height:{default:400,type:Number},cssClasses:{type:String,default:""},styles:{type:Object},plugins:{type:Array,default:function(){return[]}}},data:function(){return{_chart:null,_plugins:this.plugins}},methods:{addPlugin:function(t){this.$data._plugins.push(t)},generateLegend:function(){if(this.$data._chart)return this.$data._chart.generateLegend()},renderChart:function(t,s){if(this.$data._chart&&this.$data._chart.destroy(),!this.$refs.canvas)throw new Error("Please remove the <template></template> tags from your chart component. See https://vue-chartjs.org/guide/#vue-single-file-components");this.$data._chart=new r.a(this.$refs.canvas.getContext("2d"),{type:e,data:t,options:s,plugins:this.$data._plugins})}},beforeDestroy:function(){this.$data._chart&&this.$data._chart.destroy()}}}var n=a("bar-chart","bar"),o=a("horizontalbar-chart","horizontalBar"),c=a("doughnut-chart","doughnut");a("line-chart","line"),a("pie-chart","pie"),a("polar-chart","polarArea"),a("radar-chart","radar"),a("bubble-chart","bubble"),a("scatter-chart","scatter")},"25f9":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-card",[s("vue-card-title",{attrs:{title:"Recent Activities",subtitle:"Recent Activities Information.",icon:"mdi-ticket"}}),s("v-divider"),s("v-card-text",{staticClass:"scrollbar-md ma-0 pa-0",style:""===t.category?"min-height: 460px !important":t.category},[0===t.recentActivities.length&&t.fetched?s("div",[s("vue-no-data",{attrs:{text:"No Recent Activities found for now."}})],1):t._e(),t.fetched?t._e():s("div",t._l(2,(function(t){return s("facebook-loader",{key:t,attrs:{"primary-color":"#eee","secondary-color":"#d5d5d7"}})})),1),0!==t.recentActivities.length&&t.fetched?s("v-list",{attrs:{"three-line":""}},[t._l(t.recentActivities,(function(e,i){return[s("v-list-item",{key:i,class:i%2?"primaryLight":"white"},[s("v-list-item-avatar",[s("v-img",{attrs:{src:e.actor.profile_picture}})],1),s("v-list-item-content",[s("v-list-item-title",{domProps:{textContent:t._s(e.actor.full_name)}}),s("v-list-item-subtitle",{domProps:{textContent:t._s(e.message)}}),s("v-list-item-subtitle",{domProps:{textContent:t._s(t.humanizeTime(e.created_at))}})],1)],1),s("v-divider",{key:"D-"+i})]}))],2):t._e(),s("infinite-loading-base",{attrs:{endpoint:t.endpoint,reset:t.resetHandler},on:{setInfiniteResponse:t.setInfiniteResponse,resetInfiniteResponse:t.resetInfiniteResponse}})],1)],1)},r=[],a=s("5530"),n=(s("a9e3"),s("99af"),s("e330")),o=s("cdd1"),c=s("38ef"),l=s("2f62"),u=s("e585"),d={components:{VueNoData:u["default"],FacebookLoader:n["c"],InfiniteLoadingBase:o["a"]},props:{category:{type:String,required:!0},supervisor:{type:[Number,String],default:""}},data:function(){return{recentActivities:[],endpoint:"",fetched:!1,resetHandler:!1}},computed:Object(a["a"])({},Object(l["c"])({orgSlug:"organization/getOrganizationSlug"})),created:function(){this.endpoint=c["a"].getRecentActivities+this.convertToURLSearchParams({category:this.category,supervisor:this.supervisor})},methods:{setInfiniteResponse:function(t){this.recentActivities=this.recentActivities.concat(t.results),this.fetched=!0},resetInfiniteResponse:function(){this.recentActivities=[],this.fetched=!0}}},p=d,v=(s("6197"),s("2877")),h=s("6544"),g=s.n(h),m=s("b0af"),f=s("99d9"),y=s("ce7e"),_=s("adda"),b=s("8860"),x=s("da13"),C=s("8270"),w=s("5d23"),S=Object(v["a"])(p,i,r,!1,null,"49270db5",null);e["a"]=S.exports;g()(S,{VCard:m["a"],VCardText:f["c"],VDivider:y["a"],VImg:_["a"],VList:b["a"],VListItem:x["a"],VListItemAvatar:C["a"],VListItemContent:w["a"],VListItemSubtitle:w["b"],VListItemTitle:w["c"]})},"264f":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("vue-page-wrapper",{attrs:{"bread-crumbs":t.breadCrumbItems,title:t.htmlTitle}},[s("v-row",[t.verifyPermission(t.allPermissions.CAN_VIEW_HRIS_REPORTS)?s("v-col",{attrs:{cols:"12"}},[s("hris-summary")],1):t._e(),t.verifyPermission(t.allPermissions.CAN_VIEW_HRIS_REPORTS)?s("v-col",{attrs:{cols:"12"}},[s("statistics")],1):t._e()],1),s("v-lazy",{attrs:{options:{threshold:.5},"min-height":"200"},model:{value:t.isActive,callback:function(e){t.isActive=e},expression:"isActive"}},[s("v-row",[s("v-col",{attrs:{md:"4",cols:"12"}},[s("events")],1),t.verifyPermission(t.allPermissions.CAN_VIEW_HRIS_REPORTS)?s("v-col",{attrs:{md:"4",cols:"12"}},[s("recent-activities",{attrs:{category:"HRIS"}})],1):t._e(),t.verifyPermission(t.allPermissions.ORGANIZATION_SETTINGS_VIEW_PERMISSION)?s("v-col",{attrs:{md:"4",cols:"12"}},[s("total-divisions")],1):t._e()],1)],1),s("v-lazy",{attrs:{options:{threshold:.5},"min-height":"200"},model:{value:t.isActive1,callback:function(e){t.isActive1=e},expression:"isActive1"}},[s("v-row",[t.verifyPermission(t.allPermissions.CAN_APPROVE_DENY_CHANGE_REQUEST)?s("v-col",{attrs:{cols:"12",md:"12"}},[s("change-request")],1):t._e()],1)],1),s("v-lazy",{attrs:{options:{threshold:.5},"min-height":"400"},model:{value:t.isActive2,callback:function(e){t.isActive2=e},expression:"isActive2"}},[s("v-row",[t.verifyPermission(t.allPermissions.ORGANIZATION_SETTINGS_VIEW_PERMISSION)?s("v-col",{attrs:{cols:"12",md:"12"}},[s("employment-type")],1):t._e()],1)],1)],1)},r=[],a=s("0549"),n=s("5937"),o=s("25f9"),c=s("8938"),l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-card",[s("vue-card-title",{attrs:{title:"Total Division",subtitle:"Total Division of Organization.",icon:"mdi-file-document-outline"}}),s("v-divider"),s("v-card-text",{staticClass:"scrollbar-md"},[0!==t.totalDivisions||t.loading?t._e():s("div",[s("vue-no-data",{attrs:{text:"No Divisions created yet"}})],1),t.loading?s("list-loader",{attrs:{"primary-color":"#eee","secondary-color":"#d5d5d7"}}):t._e(),0===t.totalDivisions||t.loading?t._e():s("div",[s("v-list",{staticClass:"py-0"},[t._l(t.divisions,(function(e,i){return[s("v-list-item",{key:i},[s("v-list-item-content",{domProps:{textContent:t._s(e.name)}}),s("v-list-item-action",[s("v-chip",{staticClass:"white--text",attrs:{color:t.getColor(i)},on:{click:function(s){return t.displayUsers(e)}}},[t._v(" "+t._s(e.count||0)+" ")])],1)],1),s("v-divider",{key:"D-"+i})]}))],2)],1)],1),t.userDialog.show?s("user-list-dialog",{attrs:{title:t.userDialog.title,endpoint:t.userDialog.endpoint},on:{close:function(e){t.userDialog.show=!1}},model:{value:t.userDialog.show,callback:function(e){t.$set(t.userDialog,"show",e)},expression:"userDialog.show"}}):t._e()],1)},u=[],d=s("1da1"),p=(s("b0c0"),s("96cf"),s("9815")),v=s("e585"),h=s("e330"),g=s("7153"),m=s("40e9"),f={components:{ListLoader:h["d"],VueNoData:v["default"],UserListDialog:p["default"]},data:function(){return{orgSlug:this.$route.params.slug,colors:["red","blue","green","yellow darken-4"],divisions:[],userDialog:{title:"",show:!1,endpoint:""},totalDivisions:null,loading:!0}},mounted:function(){this.getTotalDivisions()},methods:{getColor:function(t){return this.colors[t%4]},getTotalDivisions:function(){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.loading=!0,t.$http.get(g["a"].getDivisionOverview(t.orgSlug)).then((function(e){t.totalDivisions=e.count,t.divisions=e.results,t.loading=!1}));case 2:case"end":return e.stop()}}),e)})))()},displayUsers:function(t){this.userDialog.endpoint=m["a"].getOrganizationUsers(this.orgSlug)+"?division=".concat(t.slug),this.userDialog.title="Employees from ".concat(t.name),this.userDialog.show=!0}}},y=f,_=(s("2799"),s("2877")),b=s("6544"),x=s.n(b),C=s("b0af"),w=s("99d9"),S=s("cc20"),D=s("ce7e"),L=s("8860"),O=s("da13"),k=s("1800"),E=s("5d23"),T=Object(_["a"])(y,l,u,!1,null,"9aa07eea",null),A=T.exports;x()(T,{VCard:C["a"],VCardText:w["c"],VChip:S["a"],VDivider:D["a"],VList:L["a"],VListItem:O["a"],VListItemAction:k["a"],VListItemContent:E["a"]});var V=s("b0c03"),U=s("b751"),j=s("4863"),M={components:{ChangeRequest:U["a"],Statistics:n["a"],Events:V["a"],RecentActivities:o["a"],EmploymentType:c["a"],TotalDivisions:A,VuePageWrapper:a["default"],HrisSummary:j["a"]},data:function(){return{isActive:!1,isActive1:!1,isActive2:!1,htmlTitle:"Overview | HRIS | Admin",breadCrumbItems:[{text:"HRIS",disabled:!0},{text:"Overview",disabled:!0}]}}},I=M,P=s("62ad"),Y=s("b687"),$=s("0fd9b"),R=Object(_["a"])(I,i,r,!1,null,null,null);e["default"]=R.exports;x()(R,{VCol:P["a"],VLazy:Y["a"],VRow:$["a"]})},2799:function(t,e,s){"use strict";s("505f")},"2ab5":function(t,e,s){"use strict";s("9d1c")},"2be4":function(t,e,s){"use strict";var i,r,a=s("1fca"),n={extends:a["b"],props:{chartData:{type:Object,required:!0},responsive:{type:Boolean,default:!0},chartTitle:{type:String,default:""},displayLegend:{type:Boolean,default:!1},padding:{type:Object,default:function(){return{left:50,right:50,top:30,bottom:20}}},options:{type:Object,default:function(){return{responsive:!0,maintainAspectRatio:!1,layout:{padding:{}},animation:{animateScale:!0,animateRotate:!0},legend:{display:!1,position:"right"},title:{display:!0,text:""}}}}},mounted:function(){this.options.legend.display=this.displayLegend,this.options.responsive=this.responsive,this.options.title.text=this.chartTitle,this.options.layout.padding=this.padding,this.options.onClick=this.handle,this.renderChart(this.chartData,this.options)},methods:{handle:function(t,e){if(e&&e.length>0){var s=e[0];this.$emit("click",s._index)}}}},o=n,c=s("2877"),l=Object(c["a"])(o,i,r,!1,null,null,null);e["a"]=l.exports},"40e9":function(t,e,s){"use strict";s("99af");e["a"]={getOrganizationUsers:function(t){return"/hris/".concat(t,"/users/")},getOrganizationPastUsers:function(t){return"/hris/".concat(t,"/users/past/")},getTotalUser:function(t){return"/hris/".concat(t,"/overview/summary/total-users/")},changeUserPassword:function(t,e){return"/hris/".concat(t,"/users/").concat(e,"/change-password/")},resignUser:function(t,e){return"/hris/".concat(t,"/users/").concat(e,"/resign/")}}},4863:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("overview-bar",{attrs:{items:t.items},on:{active:function(e){return t.getUsers("active")},total:function(e){return t.getUsers("total")},inactive:function(e){return t.getUsers("inactive")},critical:function(e){return t.getUsers("critical")},incomplete:function(e){return t.getUsers("incomplete")}}}),t.showUsersList?s("user-list-dialog",{attrs:{title:t.userListTitle,endpoint:t.userEndpoint},on:{close:function(e){t.showUsersList=!1}},scopedSlots:t._u([{key:"info",fn:function(e){var i=e.user;return[s("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[i.division&&"critical"!==t.employeeType?s("span",t._g({},r),[t._v(" "+t._s(t._f("truncate")(i.division.name,10))+" ")]):t._e()]}}],null,!0)},[s("span",[t._v(" "+t._s(i.division?i.division.name:"N/A")+" ")])]),s("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[i.employment_status&&"critical"===t.employeeType?s("span",t._g({},r),[t._v(" "+t._s(t._f("truncate")(i.employment_status.title,10))+" ")]):t._e()]}}],null,!0)},[s("span",[t._v(" "+t._s(i.employment_status?i.employment_status.title:"N/A")+" ")])]),s("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[s("div",t._g({},r),[t._v(" "+t._s("critical"===t.employeeType?i.expiry_date||"---":i.joined_date||"---")+" ")])]}}],null,!0)},[s("div",[t._v(" "+t._s("critical contracts"===t.employeeType?"Expiry Date":"Joined Date")+" ")])])]}}],null,!1,2044937292),model:{value:t.showUsersList,callback:function(e){t.showUsersList=e},expression:"showUsersList"}}):t._e()],1)},r=[],a=s("3835"),n=s("1da1"),o=s("5530"),c=(s("96cf"),s("a9e3"),s("4fad"),s("85f7")),l=s("9bed"),u=s("9815"),d=s("2f62"),p={components:{OverviewBar:l["a"],UserListDialog:u["default"]},props:{supervisor:{type:[String,Number],default:""}},data:function(){return{summary:[],items:[],userListTitle:"",showUsersList:!1,userEndpoint:""}},computed:Object(o["a"])({},Object(d["c"])({getSupervisorOrgSlug:"supervisor/getOrganizationSlug"})),created:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getHrisSummary();case 2:case"end":return e.stop()}}),e)})))()},methods:{getHrisSummary:function(){var t=this,e={};this.supervisor&&(e.supervisor=this.supervisor),this.$http.get(c["a"].getOverview(this.supervisor?this.getSupervisorOrgSlug:this.getOrganizationSlug),{params:e}).then((function(e){t.summary=e,t.getOverview()}))},getOverview:function(){for(var t,e,s=0,i=Object.entries(this.summary);s<i.length;s++){var r=Object(a["a"])(i[s],2),n=r[0],o=r[1];"Total Employee"===n&&(t="info",e="total"),"Active Employee"===n&&(t="indigo",e="active"),"Inactive Employee"===n&&(t="warning",e="inactive"),"Incomplete Profile"===n&&(t="danger",e="incomplete"),"Critical Contracts"===n&&(t="indigo",e="critical"),this.items.push({name:n,count:o,color:t,key:e})}},getUsers:function(t){this.showUsersList=!0,this.employeeType=t;var e={},s=this.getOrganizationSlug;this.supervisor&&(e.supervisor=this.supervisor,s=this.getSupervisorOrgSlug),"total"===t&&(this.userListTitle="".concat(t," Employee List"),this.userEndpoint=c["a"].getTotal(s)),"active"===t&&(this.userListTitle="".concat(t," Employee List"),this.userEndpoint=c["a"].getActive(s)),"inactive"===t&&(this.userListTitle="".concat(t," Employee List"),this.userEndpoint=c["a"].getInactive(s)),"incomplete"===t&&(this.userListTitle="".concat(t," Profile Employee List"),this.userEndpoint=c["a"].getIncomplete(s)),"critical"===t&&(this.userListTitle="".concat(t," Contracts Employee List"),this.userEndpoint=c["a"].getCritical(s)),this.userEndpoint+=this.convertToURLSearchParams(e)}}},v=p,h=s("2877"),g=s("6544"),m=s.n(g),f=s("3a2f"),y=Object(h["a"])(v,i,r,!1,null,null,null);e["a"]=y.exports;m()(y,{VTooltip:f["a"]})},"505f":function(t,e,s){},"581f":function(t,e,s){"use strict";var i,r,a=s("2909"),n=s("1fca"),o={extends:n["c"],props:{chartData:{type:Object,required:!0},stacked:{type:Boolean,default:!1},displayLegend:{type:Boolean,default:!1},options:{type:Object,default:function(){return{responsive:!0,maintainAspectRatio:!1,layout:{padding:{left:50,right:50,top:30,bottom:20}},scales:{xAxes:[{barPercentage:.8,stacked:!1,ticks:{min:0,stepSize:1}}],yAxes:[{stacked:!1,ticks:{beginAtZero:!0}}]},legend:{display:!1,position:"right"}}}}},mounted:function(){this.options.scales.xAxes[0].stacked=this.stacked,this.options.scales.yAxes[0].stacked=this.stacked,this.options.scales.xAxes[0].ticks.stepSize=this.calculateStep(),this.options.legend.display=this.displayLegend,this.options.onClick=this.handle,this.renderChart(this.chartData,this.options)},methods:{handle:function(t,e){if(e&&e.length>0){var s=e[0];this.$emit("click",s._index)}},calculateStep:function(){var t=0;if(1===this.chartData.datasets.length){var e=Math.max.apply(Math,Object(a["a"])(this.chartData.datasets[0].data));t=10*Math.round(Math.round(e/100)/10),t>10&&(t=50*Math.round(t/50))}return t}}},c=o,l=s("2877"),u=Object(l["a"])(c,i,r,!1,null,null,null);e["a"]=u.exports},5937:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-card",[s("vue-card-title",{attrs:{title:"HRIS Statistics",subtitle:"HRIS statistics of organization.",icon:"mdi-chart-pie"}},[s("template",{slot:"actions"},[s("v-btn",{attrs:{icon:""},on:{click:function(e){t.showFilters=!t.showFilters}}},[s("v-icon",{attrs:{small:""},domProps:{textContent:t._s("mdi-filter-variant")}})],1)],1)],2),t.showFilters?s("v-divider"):t._e(),s("v-slide-y-transition",[s("v-col",{directives:[{name:"show",rawName:"v-show",value:t.showFilters,expression:"showFilters"}]},[s("date-filter-menu",{attrs:{hint:"Filter is applicable only to Joined Employee Data.",default:"This Year",supervisor:!!t.supervisor,overview:"","persistent-hint":""},model:{value:t.dateFilter,callback:function(e){t.dateFilter=e},expression:"dateFilter"}})],1)],1),s("v-card-text",{staticClass:"ma-0 pa-0"},[s("v-divider"),s("v-row",{attrs:{"no-gutters":""}},[s("v-col",{attrs:{md:"8",sm:"12",cols:"12"}},[s("v-row",{attrs:{"no-gutters":""}},[t._l(t.statistics,(function(e,i){return["age"!==i&&"genders"!==i?s("v-col",{key:i,attrs:{md:"4",sm:"6",cols:"12"}},[s("v-card",{attrs:{outlined:"",height:"150px"}},[s("v-row",{attrs:{"no-gutters":""}},[s("v-col",{attrs:{cols:"4"}},[s("doughnut-chart",{attrs:{width:95,height:150,responsive:!1,padding:{left:0,right:20,top:20,bottom:45},"chart-data":t.getGenderChartData(e)}})],1),s("v-divider",{attrs:{vertical:""}}),s("v-col",{attrs:{md:"7",cols:"7"}},[s("v-col",[s("div",[s("span",{staticClass:"text-h4 pointer primary--text",domProps:{textContent:t._s(e.total)},on:{click:function(e){return t.getUsers(i)}}}),e.change_percentage||0===e.change_percentage?s("v-icon",{domProps:{textContent:t._s(e.change_percentage>0?"mdi-trending-up":"mdi-trending-down")}}):t._e(),"married"!==i&&"single"!==i?s("span",{class:e.change_percentage>0?"green--text":"red--text",domProps:{textContent:t._s(t.getChangePercent(e.change_percentage))}}):t._e()],1),s("div",{staticClass:"text-capitalize",domProps:{textContent:t._s(i)}})]),s("v-divider"),s("v-row",{staticClass:"pt-3",attrs:{"no-gutters":""}},[s("v-col",{staticClass:"text-center",attrs:{cols:"4"}},[s("div",{staticClass:"pointer green--text",domProps:{textContent:t._s(e.male)},on:{click:function(e){return t.getUsers(i,"male")}}}),s("div",{staticClass:"text-caption",domProps:{textContent:t._s("Male")}})]),s("v-col",{staticClass:"text-center",attrs:{cols:"5"}},[s("div",{staticClass:"danger--text pointer",domProps:{textContent:t._s(e.female)},on:{click:function(e){return t.getUsers(i,"female")}}}),s("div",{staticClass:"text-caption",domProps:{textContent:t._s("Female")}})]),e.other?s("v-col",{staticClass:"text-center",attrs:{cols:"3"}},[s("div",{staticClass:"orange--text pointer",domProps:{textContent:t._s(e.other)},on:{click:function(e){return t.getUsers(i,"other")}}}),s("div",{staticClass:"text-caption",domProps:{textContent:t._s("Other")}})]):t._e()],1)],1)],1)],1)],1):t._e()]})),t.statistics.genders?s("v-col",{attrs:{md:"4",cols:"12"}},[s("v-card",{attrs:{outlined:"",height:"150px"}},[s("v-row",{staticClass:"pt-4 px-0",attrs:{justify:"center","no-gutters":""}},[s("v-col",{staticClass:"px-0",attrs:{cols:"1"}},[s("div",{staticClass:"pb-2"},[s("v-icon",{attrs:{size:"18"}},[t._v("mdi-account-outline")])],1),s("div",{staticClass:"pb-2"},[s("v-icon",{attrs:{size:"18"}},[t._v("mdi-account-outline")])],1),s("div",{staticClass:"pb-2"},[s("v-icon",{attrs:{size:"18"}},[t._v("mdi-account-outline")])],1)]),s("v-col",{staticClass:"pt-1 pl-1",attrs:{cols:"2"}},[s("div",{staticClass:"blue--text pb-2",domProps:{textContent:t._s(t.statistics.genders.male)}}),s("div",{staticClass:"red--text pb-2",domProps:{textContent:t._s(t.statistics.genders.female)}}),s("div",{staticClass:"pink--text",domProps:{textContent:t._s(t.statistics.genders.other)}})]),s("v-col",{staticClass:"pt-1",attrs:{cols:"3"}},[s("div",{staticClass:"pb-2",domProps:{textContent:t._s("Male")}}),s("div",{staticClass:"pb-2",domProps:{textContent:t._s("Female")}}),s("div",{domProps:{textContent:t._s("Others")}})]),s("v-col",{staticClass:"pt-1",attrs:{cols:"2"}},[s("div",{staticClass:"info--text pb-2",domProps:{textContent:t._s(t.statistics.genders.total?Math.round(t.statistics.genders.male/t.statistics.genders.total*100)+"%":"0%")}}),s("div",{staticClass:"danger--text pb-2",domProps:{textContent:t._s(t.statistics.genders.total?Math.round(t.statistics.genders.female/t.statistics.genders.total*100)+"%":"0%")}}),s("div",{staticClass:"pink--text pb-2",domProps:{textContent:t._s(t.statistics.genders.total?Math.round(t.statistics.genders.other/t.statistics.genders.total*100)+"%":"0%")}})])],1)],1)],1):t._e()],2)],1),t.statistics.age?s("v-col",{staticClass:"text-center",attrs:{md:"4",sm:"12",cols:"12"}},[s("v-card",{attrs:{outlined:"",height:"100%"}},[s("doughnut-chart",{attrs:{width:320,height:250,responsive:!1,padding:{left:50,right:0,top:30,bottom:30},"chart-data":t.getAgeChartData(t.statistics.age),"chart-title":"Age","display-legend":""}})],1)],1):t._e()],1),t.loading?s("v-row",{attrs:{"no-gutters":""}},[s("v-col",{attrs:{cols:"8"}},[s("v-row",t._l(6,(function(t){return s("v-col",{key:t,attrs:{cols:"4"}},[s("facebook-loader",{attrs:{"primary-color":"#eee","secondary-color":"#d5d5d7"}})],1)})),1)],1),s("v-col",{attrs:{cols:"4"}},[s("content-loader",{attrs:{height:15,width:15,"primary-color":"#eee","secondary-color":"#d5d5d7"}},[s("circle",{attrs:{cx:"5",cy:"5",r:"5"}})])],1)],1):t._e()],1),t.showUsersList?s("user-list-dialog",{attrs:{title:t.userDialogTitle,endpoint:t.userEndpoint},on:{close:function(e){t.showUsersList=!1}},scopedSlots:t._u([{key:"info",fn:function(e){var i=e.user;return[s("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[i.division?s("span",t._g({},r),[t._v(" "+t._s(t._f("truncate")(i.division.name,10))+" ")]):t._e()]}}],null,!0)},[s("span",[t._v(" "+t._s(i.division?i.division.name:"N/A")+" ")])]),s("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[s("div",t._g({},r),[t._v(" "+t._s(i[t.dates[t.employeeType]]||"---")+" ")])]}}],null,!0)},[s("div",[t._v(t._s(t.hints[t.employeeType]))])])]}}],null,!1,2335026009),model:{value:t.showUsersList,callback:function(e){t.showUsersList=e},expression:"showUsersList"}}):t._e()],1)},r=[],a=s("1da1"),n=s("5530"),o=(s("96cf"),s("a9e3"),s("ac94")),c=s("9815"),l=s("e330"),u={joinedUser:function(t){return"/hris/".concat(t,"/statistics/joined-users/")},marriedUser:function(t){return"/hris/".concat(t,"/statistics/married-users/")},resignedUser:function(t){return"/hris/".concat(t,"/statistics/resigned-users/")},singleUser:function(t){return"/hris/".concat(t,"/statistics/single-users/")},turnoverUser:function(t){return"/hris/".concat(t,"/statistics/turnover-users/")},overview:function(t){return"/hris/".concat(t,"/statistics/")}},d=s("2be4"),p=s("2f62"),v={components:{DateFilterMenu:o["a"],ContentLoader:l["b"],FacebookLoader:l["c"],UserListDialog:c["default"],DoughnutChart:d["a"]},props:{supervisor:{type:[Number,String],default:""}},data:function(){return{dateFilter:{start_date:"",end_date:""},showFilters:!1,loading:!1,statistics:{},showUsersList:!1,employeeType:"",selectedGender:"",dates:{joined:"joined_date",resigned:"resigned_date",turnover:"parted_date",married:"joined_date",single:"joined_date"},hints:{joined:"Joined Date",resigned:"Resigned Date",turnover:"Parted Date",married:"Joined Date",single:"Joined Date"},userEndpoint:""}},computed:Object(n["a"])({},Object(p["c"])({getSupervisorOrgSlug:"supervisor/getOrganizationSlug",getAppView:"common/getAppView"})),watch:{dateFilter:{handler:function(){this.getStatistics()},deep:!0}},methods:{getStatistics:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.loading){e.next=2;break}return e.abrupt("return");case 2:t.loading=!0,t.$http.get(u.overview(t.supervisor?t.getSupervisorOrgSlug:t.getOrganizationSlug),{params:Object(n["a"])(Object(n["a"])({},t.dateFilter),{},{supervisor:t.supervisor})}).then((function(e){t.statistics=e,"userView"===t.getAppView&&(Object.prototype.hasOwnProperty.call(t.statistics,"resigned")&&delete t.statistics.resigned,Object.prototype.hasOwnProperty.call(t.statistics,"turnover")&&delete t.statistics.turnover),t.loading=!1}));case 4:case"end":return e.stop()}}),e)})))()},getGenderChartData:function(t){return{labels:["Male","Female","Other"],datasets:[{label:"Gender",backgroundColor:["#F4516C","#47ADFB","#696C7D"],data:[t.male,t.female,t.other]}]}},getAgeChartData:function(t){return{labels:["16-25","25-35","35-45","45-60","60+"],datasets:[{label:"Gender",backgroundColor:["#47ADFB","#34BFA3","#F4516C","#FFB822","#716ACA"],data:[t["16-25"],t["25-35"],t["35-45"],t["45-60"],t["60-150"]]}]}},getChangePercent:function(t){return"N/A"===t?t:(t?Math.round(Math.abs(t)):0)+"%"},getUsers:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.showUsersList=!0,this.employeeType=t,this.selectedGender=e,this.userDialogTitle="".concat(t," Employee List");var s=this.supervisor?this.getSupervisorOrgSlug:this.getOrganizationSlug,i=this.convertToURLSearchParams(Object(n["a"])(Object(n["a"])({gender:this.selectedGender},this.dateFilter),{},{supervisor:this.supervisor}));"joined"===t&&(this.userEndpoint=u.joinedUser(s)+i),"married"===t&&(this.userEndpoint=u.marriedUser(s)+i),"resigned"===t&&(this.userEndpoint=u.resignedUser(s)+i),"single"===t&&(this.userEndpoint=u.singleUser(s)+i),"turnover"===t&&(this.userEndpoint=u.turnoverUser(s)+i)}}},h=v,g=s("2877"),m=s("6544"),f=s.n(m),y=s("8336"),_=s("b0af"),b=s("99d9"),x=s("62ad"),C=s("ce7e"),w=s("132d"),S=s("0fd9b"),D=s("0789"),L=s("3a2f"),O=Object(g["a"])(h,i,r,!1,null,null,null);e["a"]=O.exports;f()(O,{VBtn:y["a"],VCard:_["a"],VCardText:b["c"],VCol:x["a"],VDivider:C["a"],VIcon:w["a"],VRow:S["a"],VSlideYTransition:D["g"],VTooltip:L["a"]})},6197:function(t,e,s){"use strict";s("f95e")},7153:function(t,e,s){"use strict";e["a"]={getEmploymentTypeOverview:function(t){return"/hris/".concat(t,"/employment-status/overview/")},getDivisionOverview:function(t){return"/hris/".concat(t,"/division/overview/")},getBranchOverview:function(t){return"/hris/".concat(t,"/branch/overview/")}}},"84e9":function(t,e,s){"use strict";s("99af");e["a"]={getUserTrainings:function(t){return"/users/".concat(t,"/training/")},postUserTraining:function(t){return"/users/".concat(t,"/training/")},getTrainingDetail:function(t,e){return"/users/".concat(t,"/training/").concat(e,"/")},updateTrainingDetail:function(t,e){return"/users/".concat(t,"/training/").concat(e,"/")},deleteUserTraining:function(t,e){return"/users/".concat(t,"/training/").concat(e,"/")},getUpcomingTraining:function(t){return"/training/".concat(t,"/detail/upcoming/")},getTrainingTypeBudget:function(t){return"/training/".concat(t,"/detail/budget")},getTrainingStats:function(t){return"/training/".concat(t,"/detail/stats/")}}},"85f7":function(t,e,s){"use strict";e["a"]={getOverview:function(t){return"/hris/".concat(t,"/overview/summary/")},getTotal:function(t){return"/hris/".concat(t,"/overview/summary/total-users/")},getActive:function(t){return"/hris/".concat(t,"/overview/summary/active-users/")},getInactive:function(t){return"/hris/".concat(t,"/overview/summary/inactive-users/")},getIncomplete:function(t){return"/hris/".concat(t,"/overview/summary/incomplete-users/")},getCritical:function(t){return"/hris/".concat(t,"/overview/summary/critical-users/")}}},8938:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-card",{attrs:{height:"auto"}},[s("vue-card-title",{attrs:{title:"Employment Type",subtitle:"Employment type of an organization.",icon:"mdi-account-tie"}},[s("template",{slot:"actions"},[s("v-btn",{attrs:{icon:""},on:{click:function(e){t.showFilters=!t.showFilters}}},[s("v-icon",{attrs:{small:""},domProps:{textContent:t._s("mdi-filter-variant")}})],1)],1)],2),s("v-divider"),s("v-slide-y-transition",[s("div",{directives:[{name:"show",rawName:"v-show",value:t.showFilters,expression:"showFilters"}]},[s("v-row",{staticClass:"mx-3"},[s("v-col",[s("date-filter-menu",{attrs:{supervisor:!!t.supervisor,default:"All Time"},model:{value:t.dateFilter,callback:function(e){t.dateFilter=e},expression:"dateFilter"}})],1)],1),s("v-divider")],1)]),s("v-card-text",{staticClass:"scrollbar-md"},[0===t.totalEmploymentType||t.loading?t._e():s("v-row",{attrs:{justify:"center"}},[s("v-col",{attrs:{md:t.totalEmploymentType>30?"12":"6",cols:"12"}},[s("doughnut-chart",{attrs:{"chart-data":t.doughnutChartData,"display-legend":""},on:{click:t.renderEmployeeList}})],1),s("v-col",{attrs:{md:"6",cols:"12"}},[s("horizontal-bar-chart",{attrs:{"chart-data":t.barChartData,stacked:"","display-legend":""},on:{click:t.renderEmployeeList}})],1)],1),0!==t.totalEmploymentType||t.loading?t._e():s("div",[s("v-col",[s("vue-no-data",{attrs:{text:"No Employment Type created yet"}})],1)],1),t.loading?s("v-row",t._l(6,(function(t){return s("v-col",{key:t,attrs:{cols:"4"}},[s("list-loader",{attrs:{"primary-color":"#eee","secondary-color":"#d5d5d7"}})],1)})),1):t._e()],1),t.showUsersList?s("user-list-dialog",{attrs:{endpoint:t.endpoint,title:"Employee List"},on:{close:function(e){t.showUsersList=!1}},model:{value:t.showUsersList,callback:function(e){t.showUsersList=e},expression:"showUsersList"}}):t._e()],1)},r=[],a=s("5530"),n=(s("a9e3"),s("159b"),s("d81d"),s("99af"),s("ac94")),o=s("9815"),c=s("e585"),l=s("e330"),u=s("2f62"),d=s("7153"),p=s("40e9"),v=s("581f"),h=s("2be4"),g={components:{DateFilterMenu:n["a"],VueNoData:c["default"],ListLoader:l["d"],UserListDialog:o["default"],HorizontalBarChart:v["a"],DoughnutChart:h["a"]},props:{supervisor:{type:[Number,String],default:""}},data:function(){return{showFilters:!1,showUsersList:!1,dateFilter:{},barChartData:{labels:[],datasets:[{label:"Male",backgroundColor:"#47ADFB",data:[]},{label:"Female",backgroundColor:"#F4516C",data:[]},{label:"Other",backgroundColor:"#696C7D",data:[]}]},doughnutChartData:{labels:[],datasets:[{label:"Employment Types",backgroundColor:["#FFB822","#47ADFB","#34BFA3","#3366E6","#999966","#99FF99","#1F3612","#290641","#B34D4D","#D0FF00","#57BCA8","#E33169","#C4AF4F","#362F12"],data:[]}]},typeSlug:[],endpoint:"",totalEmploymentType:null,loading:!0}},computed:Object(a["a"])({},Object(u["c"])({getSupervisorOrgSlug:"supervisor/getOrganizationSlug"})),watch:{dateFilter:function(){this.getEmploymentTypeData()}},methods:{getEmploymentTypeData:function(){var t=this;this.$http.get(d["a"].getEmploymentTypeOverview(this.supervisor?this.getSupervisorOrgSlug:this.getOrganizationSlug)+"?is_archived=false",{params:Object(a["a"])(Object(a["a"])({},this.dateFilter),{},{supervisor:this.supervisor})}).then((function(e){t.totalEmploymentType=e.results.length;var s=function(t){return t.length>20?t.substring(0,20)+"...":t},i={labels:[],Male:[],Female:[],Other:[]},r=0;e.results.forEach((function(e){t.typeSlug.push(e.slug),i.labels[r]=s(e.title||"-"),i.Male[r]=e.male||0,i.Female[r]=e.female||0,i.Other[r]=e.other||0,r+=1})),t.doughnutChartData.datasets[0].data=e.results.map((function(t){return t.count})),t.doughnutChartData.labels=e.results.map((function(t){return t.title})),t.barChartData.labels=e.results.map((function(t){return t.title})),t.barChartData.datasets.forEach((function(t){t.data=i[t.label]})),t.loading=!1}))},renderEmployeeList:function(t){var e=this.typeSlug[t];this.endpoint=p["a"].getOrganizationUsers(this.supervisor?this.getSupervisorOrgSlug:this.getOrganizationSlug)+"?employment_status=".concat(e,"&gender=&supervisor=").concat(this.supervisor),this.showUsersList=!0}}},m=g,f=s("2877"),y=s("6544"),_=s.n(y),b=s("8336"),x=s("b0af"),C=s("99d9"),w=s("62ad"),S=s("ce7e"),D=s("132d"),L=s("0fd9b"),O=s("0789"),k=Object(f["a"])(m,i,r,!1,null,null,null);e["a"]=k.exports;_()(k,{VBtn:b["a"],VCard:x["a"],VCardText:C["c"],VCol:w["a"],VDivider:S["a"],VIcon:D["a"],VRow:L["a"],VSlideYTransition:O["g"]})},"92fa":function(t,e){var s=/^(attrs|props|on|nativeOn|class|style|hook)$/;function i(t,e){return function(){t&&t.apply(this,arguments),e&&e.apply(this,arguments)}}t.exports=function(t){return t.reduce((function(t,e){var r,a,n,o,c;for(n in e)if(r=t[n],a=e[n],r&&s.test(n))if("class"===n&&("string"===typeof r&&(c=r,t[n]=r={},r[c]=!0),"string"===typeof a&&(c=a,e[n]=a={},a[c]=!0)),"on"===n||"nativeOn"===n||"hook"===n)for(o in a)r[o]=i(r[o],a[o]);else if(Array.isArray(r))t[n]=r.concat(a);else if(Array.isArray(a))t[n]=[r].concat(a);else for(o in a)r[o]=a[o];else t[n]=e[n];return t}),{})}},9815:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-dialog",{attrs:{width:"500",persistent:"",scrollable:""},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.$emit("input",!1)}},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[s("v-card",[s("vue-card-title",{attrs:{title:t.title,subtitle:"List of Employees",icon:"mdi-account-group-outline",dark:"",closable:""},on:{close:function(e){return t.$emit("input",!1)}}}),s("v-divider"),t.headerInfo?s("v-list",{staticClass:"primaryLight pl-9 pr-5 py-0"},[s("v-list-item",[s("v-list-item-content",{staticClass:"text-body-1",attrs:{md:"5"}},[t._v(" Name ")]),s("v-list-item-action",{staticClass:"text-body-1 text-center"},[t._v(" "+t._s(t.headerInfo)+" ")])],1)],1):t._e(),s("v-divider"),s("v-card-text",{staticClass:"pb-0"},[t.endpoint||0!==t.users.length?t._e():s("div",[s("vue-no-data")],1),t.userInstance&&t.userInstance.length?s("v-list",t._l(t.userInstance,(function(e){return s("v-list-item",{key:e.id},[s("v-list-item-content",[s("vue-user",{attrs:{user:e.liked_by||e.user||e}})],1),t._l(t.infoList,(function(i,r){return[s("v-list-item-action",{key:r},[s("span",[r>0?s("span",[s("span",[t._v("|")])]):t._e(),t._v(" "+t._s(e[i])+" ")])])]})),s("v-list-item-action",[t._t("info",null,{user:e})],2)],2)})),1):t._e(),t.dialog&&t.endpoint?s("div",[s("infinite-loading-base",{attrs:{endpoint:t.endpoint,"response-key":t.responseKey},on:{setInfiniteResponse:t.setInfiniteResponse}})],1):t._e()],1)],1)],1)},r=[],a=s("2909"),n=(s("99af"),s("e585")),o=s("02cb"),c=s("cdd1"),l={components:{VueUser:o["default"],VueNoData:n["default"],InfiniteLoadingBase:c["a"]},extends:c["a"],props:{value:{type:Boolean,default:!1},users:{type:Array,default:function(){return[]}},title:{type:String,default:"List Of Employees"},infoList:{type:Array,default:function(){return[]}},endpoint:{type:String,default:""},headerInfo:{type:String,default:""},responseKey:{type:String,default:"results"}},data:function(){return{userInstance:[],dialog:this.value,fetched:!this.endpoint}},watch:{value:function(t){this.dialog=t,this.userInstance=this.users}},created:function(){this.userInstance=Object(a["a"])(this.users)},methods:{setInfiniteResponse:function(t){this.userInstance=this.userInstance.concat(t[this.responseKey])}}},u=l,d=s("2877"),p=s("6544"),v=s.n(p),h=s("b0af"),g=s("99d9"),m=s("169a"),f=s("ce7e"),y=s("8860"),_=s("da13"),b=s("1800"),x=s("5d23"),C=Object(d["a"])(u,i,r,!1,null,null,null);e["default"]=C.exports;v()(C,{VCard:h["a"],VCardText:g["c"],VDialog:m["a"],VDivider:f["a"],VList:y["a"],VListItem:_["a"],VListItemAction:b["a"],VListItemContent:x["a"]})},"98f2":function(t,e,s){"use strict";s("a8bf")},"9bed":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-card",{attrs:{align:"center"}},[s("v-col",[s("v-row",{attrs:{"no-gutters":"",align:"center"}},t._l(t.items,(function(e){return s("v-col",{key:e.name},[e.count||t.enableRedirectOnZero?s("div",{class:"text-h4 "+e.color+"--text pointer",domProps:{textContent:t._s(e.count)},on:{click:function(s){e.type?t.filter(e.type):e.key?t.$emit(""+e.key):t.$emit("click",e.name)}}}):s("div",{class:"text-h4 "+e.color+"--text ",domProps:{textContent:t._s(e.count)}}),s("div",{domProps:{textContent:t._s(e.name)}})])})),1)],1)],1)},r=[],a={props:{items:{type:Array,required:!0},enableRedirectOnZero:{type:Boolean,default:!1}},methods:{filter:function(t){var e={itemType:t};this.$emit("filter",e)}}},n=a,o=s("2877"),c=s("6544"),l=s.n(c),u=s("b0af"),d=s("62ad"),p=s("0fd9b"),v=Object(o["a"])(n,i,r,!1,null,null,null);e["a"]=v.exports;l()(v,{VCard:u["a"],VCol:d["a"],VRow:p["a"]})},"9d1c":function(t,e,s){},a8bf:function(t,e,s){},b0c03:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-card",{attrs:{height:"100%"}},[s("vue-card-title",{attrs:{title:"Events & Holidays",subtitle:"List of upcoming 30 days",icon:"mdi-calendar-outline"}}),s("v-divider"),s("v-card-text",{staticClass:"pa-0"},[s("v-list",{staticClass:"py-0"},[t.trainingList.length>0?s("v-list-item",{staticClass:"pr-2"},[s("v-list-item-content",[s("div",[s("v-icon",{staticClass:"mx-1",attrs:{size:"20"},domProps:{textContent:t._s("mdi-presentation")}}),s("span",{staticClass:"text-caption"},[t._v("Training")])],1)]),s("v-list-item-action",[s("div",{staticClass:"d-flex"},[t._l(t.trainingList,(function(e,i){return[s("div",{key:i},[i<3?s("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(i){var r=i.on;return[s("v-sheet",t._g({staticClass:"text-center text-caption pointer ml-1 dateSheet",attrs:{id:"trainingList",color:"shade"},on:{click:function(s){return t.goToCalendar(e.start,"training")}}},r),[t._v(" "+t._s(t._f("dayjs")(e.start,"DD"))+" "),s("br"),t._v(" "+t._s(t._f("dayjs")(e.start,"MMM"))+" ")])]}}],null,!0)},[s("span",{domProps:{textContent:t._s(e.name)}})]):t._e()],1)]}))],2)])],1):t._e(),t.trainingList.length>0?s("v-divider"):t._e(),s("v-list-item",{staticClass:"pr-2"},[s("v-list-item-content",[s("div",[s("v-icon",{staticClass:"mx-1",attrs:{size:"20"},domProps:{textContent:t._s("mdi-calendar-outline")}}),s("span",{staticClass:"text-caption"},[t._v("Events")])],1)]),s("v-list-item-action",[s("div",{staticClass:"d-flex"},[t._l(t.actualEventList,(function(e,i){return[s("div",{key:i},[i<3?s("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(i){var r=i.on;return[s("v-sheet",t._g({staticClass:"text-center text-caption pointer ml-1 dateSheet",attrs:{id:"eventList",color:"shade"},on:{click:function(s){return t.goToCalendar(e.start_at,"event")}}},r),[t._v(" "+t._s(t._f("dayjs")(e.start_at,"DD"))+" "),s("br"),t._v(" "+t._s(t.getMonth(e.start_at))+" ")])]}}],null,!0)},[s("span",{domProps:{textContent:t._s(e.title)}})]):t._e()],1)]})),t.actualEventList.length>3?s("v-sheet",{staticClass:"\n                text-center text-caption\n                pointer\n                ml-1\n                dateSheet\n                white--text\n              ",attrs:{id:"eventListMore",color:"primary"},on:{click:function(e){t.showMoreEvents=!0}}},[s("v-icon",{staticClass:"mx-1 white--text",attrs:{size:"15"},domProps:{textContent:t._s("mdi-plus")}}),s("br"),t._v(" "+t._s(t.actualEventList.length-3)+" ")],1):t._e(),0===t.actualEventList.length?s("div",[t._v("No upcoming Events")]):t._e()],2)])],1),s("v-divider"),t._l(t.eventList,(function(e,i){return[s("v-list-item",{key:i,staticClass:"pr-2"},[s("v-list-item-content",[s("v-list-item-title",[s("div",[s("v-icon",{staticClass:"mx-1",attrs:{size:"20"},domProps:{textContent:t._s(e.icon)}}),s("span",{staticClass:"text-caption"},[t._v(t._s(e.text))])],1)])],1),s("v-list-item-action",[s("thumbnail-users",{attrs:{users:e.users,"total-users":e.totalUserCount,type:e.type},on:{showMore:function(e){return t.showMore(i)}}})],1)],1),s("v-divider",{key:"D-"+i})]})),s("v-list-item",{staticClass:"pr-2"},[s("v-list-item-content",[s("div",[s("v-icon",{staticClass:"mx-1",attrs:{size:"20"},domProps:{textContent:t._s("mdi-beach")}}),s("span",{staticClass:"text-caption"},[t._v("Holiday")])],1)]),s("v-list-item-action",[s("div",{staticClass:"d-flex"},[t._l(t.holidayList,(function(e,i){return[s("div",{key:i},[i<3?s("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(i){var r=i.on;return[s("v-sheet",t._g({staticClass:"text-center text-caption pointer ml-1 dateSheet",attrs:{id:"holidayList",color:"shade"},on:{click:function(s){return t.goToCalendar(e.date,"holiday")}}},r),[t._v(" "+t._s(t._f("dayjs")(e.date,"DD"))+" "),s("br"),t._v(" "+t._s(t.getMonth(e.date))+" ")])]}}],null,!0)},[s("span",{domProps:{textContent:t._s(e.name)}})]):t._e()],1)]})),0===t.holidayList.length?s("div",[t._v("No upcoming Holiday")]):t._e()],2)])],1)],2)],1),s("user-list-dialog",{attrs:{"info-list":[t.eventType],endpoint:t.userEndpoint,title:t.eventType,"normal-user":""},on:{close:function(e){t.showUsersList=!1}},model:{value:t.showUsersList,callback:function(e){t.showUsersList=e},expression:"showUsersList"}}),s("v-dialog",{attrs:{width:"500",persistent:"",scrollable:""},on:{keydown:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;t.showMoreEvents=!1}},model:{value:t.showMoreEvents,callback:function(e){t.showMoreEvents=e},expression:"showMoreEvents"}},[s("v-card",[s("vue-card-title",{attrs:{title:"Upcoming Events List",subtitle:"List of Upcoming Events",icon:"mdi-file-document-outline",dark:""}}),s("v-divider"),s("v-card-text",{staticClass:"pb-0 primaryLight"},[s("v-list",{staticClass:"primaryLight"},[s("v-list-item",[s("v-list-item-content",{staticClass:"text-body-1",attrs:{md:"5"}},[t._v(" Title ")]),s("v-list-item-action",{staticClass:"text-body-1"},[t._v(" Event Date/Time ")])],1)],1)],1),s("v-divider"),s("v-card-text",{staticClass:"pb-0 scrollbar-md"},[s("v-list",t._l(t.actualEventList,(function(e){return s("v-list-item",{key:e.id},[s("v-list-item-content",{staticClass:"pointer primary--text",on:{click:function(s){return t.goToCalendar(e.start_at,"event")}}},[t._v(" "+t._s(e.title)+" ")]),s("v-list-item-action",[s("div",[t._v(" Start : "+t._s(t.formatDate(e.start_at))+" "+t._s(t.formatTime(e.start_at))+" ")]),s("div",[t._v(" End : "+t._s(t.formatDate(e.end_at))+" "+t._s(t.formatTime(e.end_at))+" ")])])],1)})),1)],1),s("v-divider"),s("v-card-actions",{staticClass:"primaryLight"},[s("v-spacer"),s("v-btn",{attrs:{text:""},on:{click:function(e){t.showMoreEvents=!1}}},[t._v(" Cancel ")])],1)],1)],1)],1)},r=[],a=s("1da1"),n=s("5530"),o=(s("96cf"),s("a9e3"),s("cde3")),c=s("9815"),l=s("0075"),u=s("84e9"),d={getBirthday:function(t){return"/hris/".concat(t,"/upcoming/birthdays/")},getAnniversary:function(t){return"/hris/".concat(t,"/upcoming/anniversaries/")},getEvent:function(t){return"/hris/".concat(t,"/upcoming/events/")}},p=s("2f62"),v={components:{ThumbnailUsers:o["default"],UserListDialog:c["default"]},props:{supervisor:{type:[String,Number],default:""}},data:function(){return{eventList:[],actualEventList:[],holidayList:[],trainingList:[],users:[],showUsersList:!1,showMoreEvents:!1,eventType:"",eventsJoinedCount:"",eventsTodayCount:"",upComingEvents:0,activeEvents:0,userEndpoint:""}},computed:Object(n["a"])({},Object(p["c"])({getAppView:"common/getAppView",getSupervisorOrgSlug:"supervisor/getOrganizationSlug"})),created:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.getTraining(),t.getEvent(),e.next=4,t.getAnniversary();case 4:t.getBirthday(),t.getHolidayList();case 6:case"end":return e.stop()}}),e)})))()},methods:{getTraining:function(){var t=this,e="";"hrAdminView"===this.getAppView?e="hr":this.supervisor&&(e="supervisor"),this.$http.get(u["a"].getUpcomingTraining(this.supervisor?this.getSupervisorOrgSlug:this.getOrganizationSlug),{params:{start_date:this.$dayjs(new Date).format("YYYY-MM-DD"),end_date:this.$dayjs(new Date).add(30,"days").format("YYYY-MM-DD"),ordering:"date",limit:4,as:e}}).then((function(e){t.trainingList=e.results}))},getEvent:function(){var t=this,e="";"hrAdminView"===this.getAppView?e="hr":this.supervisor&&(e="supervisor");var s={for:e,start_date:this.$dayjs(new Date).format("YYYY-MM-DD"),end_date:this.$dayjs(this.$dayjs(new Date).format("YYYY-MM-DD")).add(1,"months").format("YYYY-MM-DD")};this.$http.get(d.getEvent(this.supervisor?this.getSupervisorOrgSlug:this.getOrganizationSlug),{params:s}).then((function(e){t.actualEventList=e.upcoming_events}))},getAnniversary:function(){var t=this,e={start_date:this.$dayjs(new Date).format("YYYY-MM-DD"),end_date:this.$dayjs(this.$dayjs(new Date).format("YYYY-MM-DD")).add(1,"months").format("YYYY-MM-DD")};return this.supervisor&&(e.supervisor=this.supervisor),this.$http.get(d.getAnniversary(this.supervisor?this.getSupervisorOrgSlug:this.getOrganizationSlug)+"?limit=4",{params:e}).then((function(e){var s={icon:"mdi-party-popper",text:"Anniversary",type:"anniversary"};s.users=e.results,s.totalUserCount=e.count,t.eventList.push(s)}))},getBirthday:function(){var t=this,e={start_date:this.$dayjs(new Date).format("YYYY-MM-DD"),end_date:this.$dayjs(this.$dayjs(new Date).format("YYYY-MM-DD")).add(1,"months").format("YYYY-MM-DD")};this.supervisor&&(e.supervisor=this.supervisor),this.$http.get(d.getBirthday(this.supervisor?this.getSupervisorOrgSlug:this.getOrganizationSlug)+"?limit=4",{params:e}).then((function(e){var s={icon:"mdi-cake-variant",text:"Birthday"};s.users=e.results,s.type="birthday",s.totalUserCount=e.count,t.eventList.push(s)}))},getHolidayList:function(){var t=this;this.$http.get(l["a"].getHoliday(this.supervisor?this.getSupervisorOrgSlug:this.getOrganizationSlug)+"?limit=4",{params:{start_date:this.$dayjs(new Date).format("YYYY-MM-DD"),end_date:this.$dayjs(new Date).add(30,"days").format("YYYY-MM-DD"),ordering:"date"}}).then((function(e){t.holidayList=e.results}))},showMore:function(t){this.users=this.eventList[t].users,this.eventType=this.eventList[t].type;var e=this.convertToURLSearchParams({start_date:this.$dayjs(new Date).format("YYYY-MM-DD"),end_date:this.$dayjs(this.$dayjs(new Date).format("YYYY-MM-DD")).add(1,"months").format("YYYY-MM-DD")});"anniversary"===this.eventType&&(this.userEndpoint=d.getAnniversary(this.supervisor?this.getSupervisorOrgSlug:this.getOrganizationSlug)+e),"birthday"===this.eventType&&(this.userEndpoint=d.getBirthday(this.supervisor?this.getSupervisorOrgSlug:this.getOrganizationSlug)+e),this.showUsersList=!0},goToCalendar:function(t,e){var s=this.$dayjs(t).format("YYYY-MM-DD");this.$router.push({name:"user-calendar-event-calendar",query:{date:s,event:[e]}})}}},h=v,g=(s("98f2"),s("2877")),m=s("6544"),f=s.n(m),y=s("8336"),_=s("b0af"),b=s("99d9"),x=s("169a"),C=s("ce7e"),w=s("132d"),S=s("8860"),D=s("da13"),L=s("1800"),O=s("5d23"),k=s("8dd9"),E=s("2fa4"),T=s("3a2f"),A=Object(g["a"])(h,i,r,!1,null,null,null);e["a"]=A.exports;f()(A,{VBtn:y["a"],VCard:_["a"],VCardActions:b["a"],VCardText:b["c"],VDialog:x["a"],VDivider:C["a"],VIcon:w["a"],VList:S["a"],VListItem:D["a"],VListItemAction:L["a"],VListItemContent:O["a"],VListItemTitle:O["c"],VSheet:k["a"],VSpacer:E["a"],VTooltip:T["a"]})},b687:function(t,e,s){"use strict";var i=s("5530"),r=s("24b2"),a=s("f2e7"),n=s("90a2"),o=s("58df"),c=s("80d2");e["a"]=Object(o["a"])(r["a"],a["a"]).extend({name:"VLazy",directives:{intersect:n["a"]},props:{options:{type:Object,default:function(){return{root:void 0,rootMargin:void 0,threshold:void 0}}},tag:{type:String,default:"div"},transition:{type:String,default:"fade-transition"}},computed:{styles:function(){return Object(i["a"])({},this.measurableStyles)}},methods:{genContent:function(){var t=Object(c["s"])(this);if(!this.transition)return t;var e=[];return this.isActive&&e.push(t),this.$createElement("transition",{props:{name:this.transition}},e)},onObserve:function(t,e,s){this.isActive||(this.isActive=s)}},render:function(t){return t(this.tag,{staticClass:"v-lazy",attrs:this.$attrs,directives:[{name:"intersect",value:{handler:this.onObserve,options:this.options}}],on:this.$listeners,style:this.styles},[this.genContent()])}})},cde3:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"download-only"},t._l(t.users,(function(e,i){return s("v-chip",{key:i,staticClass:"ma-1",attrs:{small:"",label:""}},[t._v(" "+t._s(e.full_name)+" ")])})),1),s("v-row",{staticClass:"download-hidden",attrs:{"no-gutters":""}},[t.users&&!t.users.length?s("div",[s("v-col",{staticClass:"ma-0 pa-0"},[s("v-avatar",{staticClass:"mr-1",attrs:{size:"20"}},[s("v-img",{attrs:{src:"/images/info/user-default.png"}})],1),s("span",{staticClass:"grey--text text-caption"},[t._v("No Employee")])],1)],1):t._l(t.users.slice(0,3),(function(e,i){return s("div",{key:i,staticClass:"text-left"},[s("v-badge",{attrs:{dot:"",right:"",bottom:"",overlap:"","offset-y":"5",color:e.user&&e.user.is_online?"green":"transparent"}},[s("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(i){var r=i.on;return[s("a",[s("v-avatar",t._g({staticClass:"mr-n1",attrs:{size:t.imgSize}},r),[s("v-img",{attrs:{height:t.imgSize,width:t.imgSize,src:e.profile_picture||e.user.profile_picture},on:{click:t.showMore}})],1)],1)]}}],null,!0)},[s("span",{domProps:{textContent:t._s(e.full_name||e.user.full_name)}}),e[t.type]?s("span",[t._v(" : "),s("span",{domProps:{textContent:t._s(e[t.type])}})]):t._e()])],1)],1)})),t.users&&t.users.length&&t.totalUsers>3?s("div",[s("v-col",{staticClass:"pl-2 py-0 text-subtitle-1"},[s("a",{on:{click:t.showMore}},[t._v(" +"+t._s(parseInt(t.totalUsers)-3)+" ")])])],1):t._e()],2)],1)},r=[],a=(s("a9e3"),{name:"ThumbnailUsers",props:{users:{type:Array,default:function(){return[]}},totalUsers:{type:Number,required:!0},type:{type:String,default:""},imgSize:{type:[String,Number],default:22}},watch:{users:function(t){this.users=t}},methods:{showMore:function(){this.users&&0===this.users.length||this.$emit("showMore")}}}),n=a,o=(s("2ab5"),s("2877")),c=s("6544"),l=s.n(c),u=s("8212"),d=s("4ca6"),p=s("cc20"),v=s("62ad"),h=s("adda"),g=s("0fd9b"),m=s("3a2f"),f=Object(o["a"])(n,i,r,!1,null,"51021d54",null);e["default"]=f.exports;l()(f,{VAvatar:u["a"],VBadge:d["a"],VChip:p["a"],VCol:v["a"],VImg:h["a"],VRow:g["a"],VTooltip:m["a"]})},e330:function(t,e,s){"use strict";s.d(e,"b",(function(){return n})),s.d(e,"a",(function(){return o})),s.d(e,"c",(function(){return c})),s.d(e,"d",(function(){return l}));var i=s("92fa"),r=s.n(i),a=function(){return Math.random().toString(36).substring(2)},n={name:"ContentLoader",functional:!0,props:{width:{type:[Number,String],default:400},height:{type:[Number,String],default:130},speed:{type:Number,default:2},preserveAspectRatio:{type:String,default:"xMidYMid meet"},baseUrl:{type:String,default:""},primaryColor:{type:String,default:"#f9f9f9"},secondaryColor:{type:String,default:"#ecebeb"},primaryOpacity:{type:Number,default:1},secondaryOpacity:{type:Number,default:1},uniqueKey:{type:String},animate:{type:Boolean,default:!0}},render:function(t,e){var s=e.props,i=e.data,n=e.children,o=s.uniqueKey?s.uniqueKey+"-idClip":a(),c=s.uniqueKey?s.uniqueKey+"-idGradient":a();return t("svg",r()([i,{attrs:{viewBox:"0 0 "+s.width+" "+s.height,version:"1.1",preserveAspectRatio:s.preserveAspectRatio}}]),[t("rect",{style:{fill:"url("+s.baseUrl+"#"+c+")"},attrs:{"clip-path":"url("+s.baseUrl+"#"+o+")",x:"0",y:"0",width:s.width,height:s.height}}),t("defs",[t("clipPath",{attrs:{id:o}},[n||t("rect",{attrs:{x:"0",y:"0",rx:"5",ry:"5",width:s.width,height:s.height}})]),t("linearGradient",{attrs:{id:c}},[t("stop",{attrs:{offset:"0%","stop-color":s.primaryColor,"stop-opacity":s.primaryOpacity}},[s.animate?t("animate",{attrs:{attributeName:"offset",values:"-2; 1",dur:s.speed+"s",repeatCount:"indefinite"}}):null]),t("stop",{attrs:{offset:"50%","stop-color":s.secondaryColor,"stop-opacity":s.secondaryOpacity}},[s.animate?t("animate",{attrs:{attributeName:"offset",values:"-1.5; 1.5",dur:s.speed+"s",repeatCount:"indefinite"}}):null]),t("stop",{attrs:{offset:"100%","stop-color":s.primaryColor,"stop-opacity":s.primaryOpacity}},[s.animate?t("animate",{attrs:{attributeName:"offset",values:"-1; 2",dur:s.speed+"s",repeatCount:"indefinite"}}):null])])])])}},o={name:"BulletListLoader",functional:!0,render:function(t,e){var s=e.data;return t(n,s,[t("circle",{attrs:{cx:"10",cy:"20",r:"8"}}),t("rect",{attrs:{x:"25",y:"15",rx:"5",ry:"5",width:"220",height:"10"}}),t("circle",{attrs:{cx:"10",cy:"50",r:"8"}}),t("rect",{attrs:{x:"25",y:"45",rx:"5",ry:"5",width:"220",height:"10"}}),t("circle",{attrs:{cx:"10",cy:"80",r:"8"}}),t("rect",{attrs:{x:"25",y:"75",rx:"5",ry:"5",width:"220",height:"10"}}),t("circle",{attrs:{cx:"10",cy:"110",r:"8"}}),t("rect",{attrs:{x:"25",y:"105",rx:"5",ry:"5",width:"220",height:"10"}})])}},c={name:"FacebookLoader",functional:!0,render:function(t,e){var s=e.data;return t(n,s,[t("rect",{attrs:{x:"70",y:"15",rx:"4",ry:"4",width:"117",height:"6.4"}}),t("rect",{attrs:{x:"70",y:"35",rx:"3",ry:"3",width:"85",height:"6.4"}}),t("rect",{attrs:{x:"0",y:"80",rx:"3",ry:"3",width:"350",height:"6.4"}}),t("rect",{attrs:{x:"0",y:"100",rx:"3",ry:"3",width:"380",height:"6.4"}}),t("rect",{attrs:{x:"0",y:"120",rx:"3",ry:"3",width:"201",height:"6.4"}}),t("circle",{attrs:{cx:"30",cy:"30",r:"30"}})])}},l={name:"ListLoader",functional:!0,render:function(t,e){var s=e.data;return t(n,s,[t("rect",{attrs:{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"}}),t("rect",{attrs:{x:"20",y:"20",rx:"3",ry:"3",width:"220",height:"10"}}),t("rect",{attrs:{x:"20",y:"40",rx:"3",ry:"3",width:"170",height:"10"}}),t("rect",{attrs:{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"}}),t("rect",{attrs:{x:"20",y:"80",rx:"3",ry:"3",width:"200",height:"10"}}),t("rect",{attrs:{x:"20",y:"100",rx:"3",ry:"3",width:"80",height:"10"}})])}}},f95e:function(t,e,s){}}]);