(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages/admin/_slug/hris/settings/task-details-template","chunk-26c51c79","chunk-31f8a6e6","chunk-6441e173","chunk-aee42bec","chunk-1b4245df","chunk-2d0e6279","chunk-20176648","chunk-2d213000"],{"0116":function(t,e,s){"use strict";s("99af");e["a"]={getTaskTemplate:function(t){return"/hris/".concat(t,"/employment/template/")},postTaskTemplate:function(t){return"/hris/".concat(t,"/employment/template/")},updateTaskTemplate:function(t,e){return"/hris/".concat(t,"/employment/template/").concat(e,"/")},deleteTaskTemplate:function(t,e){return"/hris/".concat(t,"/employment/template/").concat(e,"/")}}},"0549":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("v-row",{staticClass:"mb-3",attrs:{"no-gutters":""}},[t.breadCrumbs?s("v-col",{attrs:{cols:"12"}},[s("v-card",{attrs:{flat:""}},[s("v-breadcrumbs",{staticClass:"text-body-1 pa-2",class:{"text-caption pa-1":t.$vuetify.breakpoint.xs},attrs:{items:t.breadCrumbs},scopedSlots:t._u([{key:"item",fn:function(e){return[s("span",{class:e.item.disabled?"grey--text":"baseColor--text text--accent-2 pointer",domProps:{textContent:t._s(e.item.text)},on:{click:function(s){return t.$router.push(e.item.to)}}})]}}],null,!1,1670153796)},[s("v-icon",{attrs:{slot:"divider"},slot:"divider"},[t._v("mdi-chevron-right")])],1)],1)],1):t._e()],1),s("v-row",{attrs:{"no-gutters":""}},[s("v-col",{attrs:{cols:"12"}},[t._t("default")],2)],1)],1)},a=[],n=s("5530"),r=(s("ac1f"),s("1276"),s("b0c0"),s("2f62")),o={props:{title:{type:String,required:!0},breadCrumbs:{type:Array,default:function(){return[]}}},computed:Object(n["a"])({},Object(r["c"])({getOrganizationName:"organization/getOrganizationName",getSupervisorSwitchedOrganization:"supervisor/getSwitchedOrganization"})),mounted:function(){document.title="".concat(this.title," | RealHRsoft");var t=this.$route.params.slug?"admin-slug-dashboard":"root",e=this.$route.name.split("-"),s=this.getOrganizationName;this.getSupervisorSwitchedOrganization&&"user"===e[0]&&"supervisor"===e[1]&&(s=this.getSupervisorSwitchedOrganization.name),this.breadCrumbs.unshift({text:s,disabled:!1,to:{name:t,params:{slug:this.$route.params.slug}}})}},l=o,c=s("2877"),u=s("6544"),d=s.n(u),h=s("2bc5"),p=s("b0af"),m=s("62ad"),f=s("132d"),v=s("0fd9b"),g=Object(c["a"])(l,i,a,!1,null,null,null);e["default"]=g.exports;d()(g,{VBreadcrumbs:h["a"],VCard:p["a"],VCol:m["a"],VIcon:f["a"],VRow:v["a"]})},"0780":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.userData.length?t._e():s("p",{domProps:{textContent:t._s("Selected users will appear here ...")}}),s("v-row",{attrs:{justify:"start"}},t._l(t.userData,(function(e,i){return s("v-col",{key:i,attrs:{md:"4"}},[s("v-list",{attrs:{"two-line":""}},[s("v-list-item",[s("v-list-item-avatar",[s("v-img",{attrs:{src:e.profile_picture}})],1),s("v-list-item-content",[s("v-list-item-title",{domProps:{textContent:t._s(e.full_name)}}),s("v-list-item-subtitle",{domProps:{textContent:t._s(e.division)}})],1)],1)],1)],1)})),1)],1)},a=[],n={props:{userData:{type:[Array],default:function(){return[]}}}},r=n,o=s("2877"),l=s("6544"),c=s.n(l),u=s("62ad"),d=s("adda"),h=s("8860"),p=s("da13"),m=s("8270"),f=s("5d23"),v=s("0fd9b"),g=Object(o["a"])(r,i,a,!1,null,null,null);e["a"]=g.exports;c()(g,{VCol:u["a"],VImg:d["a"],VList:h["a"],VListItem:p["a"],VListItemAvatar:m["a"],VListItemContent:f["a"],VListItemSubtitle:f["b"],VListItemTitle:f["c"],VRow:v["a"]})},"0798":function(t,e,s){"use strict";var i=s("5530"),a=s("ade3"),n=(s("caad"),s("0c18"),s("10d2")),r=s("afdd"),o=s("9d26"),l=s("f2e7"),c=s("7560"),u=s("f40d"),d=s("58df"),h=s("d9bd");e["a"]=Object(d["a"])(n["a"],l["a"],u["a"]).extend({name:"v-alert",props:{border:{type:String,validator:function(t){return["top","right","bottom","left"].includes(t)}},closeLabel:{type:String,default:"$vuetify.close"},coloredBorder:Boolean,dense:Boolean,dismissible:Boolean,closeIcon:{type:String,default:"$cancel"},icon:{default:"",type:[Boolean,String],validator:function(t){return"string"===typeof t||!1===t}},outlined:Boolean,prominent:Boolean,text:Boolean,type:{type:String,validator:function(t){return["info","error","success","warning"].includes(t)}},value:{type:Boolean,default:!0}},computed:{__cachedBorder:function(){if(!this.border)return null;var t={staticClass:"v-alert__border",class:Object(a["a"])({},"v-alert__border--".concat(this.border),!0)};return this.coloredBorder&&(t=this.setBackgroundColor(this.computedColor,t),t.class["v-alert__border--has-color"]=!0),this.$createElement("div",t)},__cachedDismissible:function(){var t=this;if(!this.dismissible)return null;var e=this.iconColor;return this.$createElement(r["a"],{staticClass:"v-alert__dismissible",props:{color:e,icon:!0,small:!0},attrs:{"aria-label":this.$vuetify.lang.t(this.closeLabel)},on:{click:function(){return t.isActive=!1}}},[this.$createElement(o["a"],{props:{color:e}},this.closeIcon)])},__cachedIcon:function(){return this.computedIcon?this.$createElement(o["a"],{staticClass:"v-alert__icon",props:{color:this.iconColor}},this.computedIcon):null},classes:function(){var t=Object(i["a"])(Object(i["a"])({},n["a"].options.computed.classes.call(this)),{},{"v-alert--border":Boolean(this.border),"v-alert--dense":this.dense,"v-alert--outlined":this.outlined,"v-alert--prominent":this.prominent,"v-alert--text":this.text});return this.border&&(t["v-alert--border-".concat(this.border)]=!0),t},computedColor:function(){return this.color||this.type},computedIcon:function(){return!1!==this.icon&&("string"===typeof this.icon&&this.icon?this.icon:!!["error","info","success","warning"].includes(this.type)&&"$".concat(this.type))},hasColoredIcon:function(){return this.hasText||Boolean(this.border)&&this.coloredBorder},hasText:function(){return this.text||this.outlined},iconColor:function(){return this.hasColoredIcon?this.computedColor:void 0},isDark:function(){return!(!this.type||this.coloredBorder||this.outlined)||c["a"].options.computed.isDark.call(this)}},created:function(){this.$attrs.hasOwnProperty("outline")&&Object(h["a"])("outline","outlined",this)},methods:{genWrapper:function(){var t=[this.$slots.prepend||this.__cachedIcon,this.genContent(),this.__cachedBorder,this.$slots.append,this.$scopedSlots.close?this.$scopedSlots.close({toggle:this.toggle}):this.__cachedDismissible],e={staticClass:"v-alert__wrapper"};return this.$createElement("div",e,t)},genContent:function(){return this.$createElement("div",{staticClass:"v-alert__content"},this.$slots.default)},genAlert:function(){var t={staticClass:"v-alert",attrs:{role:"alert"},on:this.listeners$,class:this.classes,style:this.styles,directives:[{name:"show",value:this.isActive}]};if(!this.coloredBorder){var e=this.hasText?this.setTextColor:this.setBackgroundColor;t=e(this.computedColor,t)}return this.$createElement("div",t,[this.genWrapper()])},toggle:function(){this.isActive=!this.isActive}},render:function(t){var e=this.genAlert();return this.transition?t("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},[e]):e}})},"0c18":function(t,e,s){},"127f":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("vue-page-wrapper",{attrs:{title:t.htmlTitle,"bread-crumbs":t.breadCrumbItems}},[s("v-card",[s("vue-card-title",{attrs:{title:t.templateType||"Task Template",subtitle:"Here you can see the task details of template.",icon:"mdi-file-document-outline"}},[s("template",{slot:"actions"},[s("v-btn",{attrs:{small:"",color:"primary",depressed:""},on:{click:function(e){return t.triggerForm("create",{})}}},[t._v(" Create New ")]),s("v-btn",{attrs:{icon:""},on:{click:function(e){t.showFilters=!t.showFilters}}},[s("v-icon",{attrs:{small:""},domProps:{textContent:t._s("mdi-filter-variant")}})],1)],1)],2),s("v-divider"),s("v-slide-y-transition",[t.showFilters?s("div",[s("v-col",[s("v-text-field",{attrs:{label:"Search","prepend-inner-icon":"mdi-magnify"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),s("v-divider")],1):t._e()]),s("v-card-text",{staticClass:"ma-0 pa-0"},[s("v-dialog",{attrs:{scrollable:"",width:"900",persistent:""},on:{keydown:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;t.showDetails=!1}},model:{value:t.showDetails,callback:function(e){t.showDetails=e},expression:"showDetails"}},[s("v-card",[s("vue-card-title",{attrs:{title:"Template Details",subtitle:"Here you can view the template details",icon:"mdi-file-document-outline",dark:"",closable:""},on:{close:function(e){t.showDetails=!1}}}),s("v-card-text",{staticClass:"scrollbar-md"},[t.showDetails?s("v-row",[s("v-col",{attrs:{cols:"12",md:"6"}},[s("div",[s("v-icon",{attrs:{size:"18"},domProps:{textContent:t._s("mdi-file-document-outline")}}),t._v(" Title: ")],1),s("div",{staticClass:"pl-4"},[t._v(" "+t._s(t.individualDetails.title)+" ")])]),s("v-col",{attrs:{cols:"12",md:"6"}},[s("div",[s("v-icon",{attrs:{size:"18"},domProps:{textContent:t._s("mdi-account-outline")}}),t._v("Assigned To: ")],1),t.individualDetails.responsible_persons&&t.individualDetails.responsible_persons.length?s("div",{staticClass:"pl-4"},[s("thumbnail-users",{attrs:{"total-users":t.individualDetails.responsible_persons.length,users:t.individualDetails.responsible_persons.map((function(t){return t.user}))},on:{showMore:function(e){t.showUsersList=!0,t.selectedUser=t.individualDetails.responsible_persons.map((function(t){return t.user}))}}})],1):s("div",{staticClass:"pl-4"},[t._v("N/A")])]),s("v-col",{attrs:{cols:"12",md:"6"}},[s("div",[s("v-icon",{attrs:{size:"18"},domProps:{textContent:t._s("mdi-account-outline")}}),t._v("Observer: ")],1),t.individualDetails.observers&&t.individualDetails.observers.length?s("div",{staticClass:"pl-4"},[s("thumbnail-users",{attrs:{"total-users":t.individualDetails.observers.length,users:t.individualDetails.observers},on:{showMore:function(e){t.showUsersList=!0,t.selectedUser=t.individualDetails.observers}}})],1):s("div",{staticClass:"pl-4"},[t._v("N/A")])]),s("v-col",{attrs:{cols:"12",md:"6"}},[s("div",[s("v-icon",{attrs:{size:"18"},domProps:{textContent:t._s("mdi-account-check-outline")}}),t._v("Include Employee: ")],1),s("div",{staticClass:"pl-4"},[s("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[t.individualDetails.include_employee?s("v-icon",t._g({attrs:{small:"",color:"success"},domProps:{textContent:t._s("mdi-check-circle")}},i)):s("v-icon",t._g({attrs:{small:"",color:"danger"},domProps:{textContent:t._s("mdi-close-circle")}},i))]}}],null,!1,3738254839)},[s("span",[t._v(" "+t._s(t.individualDetails.include_employee?"Yes":"No")+" ")])])],1)]),s("v-col",{attrs:{cols:"12",md:"6"}},[s("div",[s("v-icon",{attrs:{size:"18"},domProps:{textContent:t._s("mdi-timetable")}}),t._v("Priority: ")],1),s("div",{staticClass:"pl-4",class:t.priorityColor()},[t._v(" "+t._s(t.individualDetails.priority)+" ")])]),s("v-col",{attrs:{cols:"12",md:"6"}},[s("div",[s("v-icon",{attrs:{size:"18"},domProps:{textContent:t._s("mdi-clock-outline")}}),t._v("Deadline: ")],1),s("div",{staticClass:"pl-4"},[t._v(" "+t._s(1===t.individualDetails.deadline?t.individualDetails.deadline+" day":t.individualDetails.deadline+" days")+" ")])]),s("v-col",{attrs:{cols:"12",md:"6"}},[s("div",[s("v-icon",{attrs:{size:"18"},domProps:{textContent:t._s("mdi-calendar-check-outline")}}),t._v(" Checklists: ")],1),t._l(t.individualDetails.checklists,(function(e,i){return s("div",{key:i,staticClass:"pl-4"},[s("v-icon",{attrs:{size:"10"},domProps:{textContent:t._s("mdi-circle")}}),t._v(" "+t._s(e.title)+" ")],1)}))],2),s("v-col",{attrs:{cols:"12",md:"6"}},[s("div",{staticClass:"mt-2"},[s("v-icon",{attrs:{size:"18"},domProps:{textContent:t._s("mdi-information-outline")}}),t._v(" Description: ")],1),s("div",{staticClass:"pl-4",domProps:{innerHTML:t._s(t.$sanitize(t.individualDetails.description))}})]),t.templateAttachments.length?s("v-col",{attrs:{cols:"12",md:"6"}},[s("div",[s("v-icon",{attrs:{size:"18"},domProps:{textContent:t._s("mdi-attachment")}}),t._v("Attachments ")],1),t._l(t.templateAttachments,(function(e,i){return s("v-row",{key:i,staticClass:"pl-8",attrs:{align:"start"}},[s("v-hover",[s("div",[s("span",[t._v(" "+t._s(i+1)+". "+t._s(e.caption||"N/A")+" ")]),s("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(i){var a=i.on;return[s("v-icon",t._g({attrs:{small:""},domProps:{textContent:t._s("mdi-eye-outline")},on:{click:function(s){return t.viewAttachment(e.attachment)}}},a))]}}],null,!0)},[s("span",{domProps:{textContent:t._s("View Attachment")}})]),s("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(i){var a=i.on;return[s("v-icon",t._g({attrs:{size:"13"},domProps:{textContent:t._s("mdi-content-save-outline")},on:{click:function(s){return t.downloadAttachment(e.attachment)}}},a))]}}],null,!0)},[s("span",{domProps:{textContent:t._s("Download Attachment")}})])],1)])],1)}))],2):t._e()],1):t._e()],1)],1)],1),s("v-data-table",{attrs:{headers:t.headers,items:t.fetchedResults,"sort-desc":t.pagination.descending,"sort-by":t.pagination.sortBy,page:t.pagination.page,"items-per-page":t.pagination.rowsPerPage,"footer-props":t.footerProps,"server-items-length":t.pagination.totalItems,"mobile-breakpoint":0,"must-sort":""},on:{"update:sortDesc":function(e){return t.$set(t.pagination,"descending",e)},"update:sort-desc":function(e){return t.$set(t.pagination,"descending",e)},"update:sortBy":function(e){return t.$set(t.pagination,"sortBy",e)},"update:sort-by":function(e){return t.$set(t.pagination,"sortBy",e)},"update:page":function(e){return t.$set(t.pagination,"page",e)},"update:itemsPerPage":function(e){return t.$set(t.pagination,"rowsPerPage",e)},"update:items-per-page":function(e){return t.$set(t.pagination,"rowsPerPage",e)}},scopedSlots:t._u([{key:"item",fn:function(e){return[s("tr",[s("td",[s("v-tooltip",{attrs:{bottom:"",left:""},scopedSlots:t._u([{key:"activator",fn:function(i){var a=i.on;return[s("span",t._g({},a),[s("a",{domProps:{textContent:t._s(e.item.title)},on:{click:function(s){return t.viewDetails(e.item)}}})])]}}],null,!0)},[s("span",[t._v(" "+t._s(e.item.title)+" ")])])],1),s("td",[t._v(" "+t._s(e.item.checklists_count)+" ")]),s("td",[t._v(" "+t._s(e.item.modified_at.substring(0,10)+" "+e.item.modified_at.substring(11,19))+" ")]),s("td",{staticClass:"text-center"},[s("v-menu",{attrs:{"offset-y":"",left:"",transition:"slide-y-transition"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[s("v-btn",t._g({attrs:{small:"",text:"",icon:""}},i),[s("v-icon",{domProps:{textContent:t._s("mdi-dots-vertical")}})],1)]}}],null,!0)},[s("v-list",{attrs:{dense:""}},[s("v-list-item",{on:{click:function(s){return t.viewDetails(e.item)}}},[s("v-list-item-title",[s("v-icon",{attrs:{small:"",left:""},domProps:{textContent:t._s("mdi-eye-outline")}}),s("span",[t._v("View Details")])],1)],1),s("v-list-item",{on:{click:function(s){return t.triggerForm("update",e.item)}}},[s("v-list-item-title",[s("v-icon",{attrs:{small:"",left:""},domProps:{textContent:t._s("mdi-pencil")}}),s("span",[t._v("Update Details")])],1)],1),s("v-list-item",{on:{click:function(s){t.deleteNotification.dialog=!0,t.deleteId=e.item.id}}},[s("v-list-item-title",[s("v-icon",{attrs:{small:"",left:""},domProps:{textContent:t._s("mdi-delete")}}),s("span",[t._v("Delete")])],1)],1)],1)],1)],1)])]}}])},[s("template",{slot:"no-data"},[s("data-table-no-data",{attrs:{loading:t.loading}})],1)],2),t.createTemplate?s("v-dialog",{attrs:{transition:"dialog-bottom-transition",fullscreen:"",scrollable:"",persistent:""},on:{keydown:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;t.createTemplate=!1}},model:{value:t.createTemplate,callback:function(e){t.createTemplate=e},expression:"createTemplate"}},[t.createTemplate?s("v-card",[s("vue-card-title",{attrs:{title:t.createHeading,subtitle:t.cardSubtitle,icon:"mdi-file-document-outline",closable:"",dark:""},on:{close:function(e){t.createTemplate=!1}}}),s("v-divider"),s("v-card-text",[t.createTemplate?s("template-form",{attrs:{"action-data":t.taskDetails,"on-boarding":""},on:{dismissForm:function(e){t.createTemplate=!1},success:function(e){t.createTemplate=!1,t.loadDataTableChange()}}}):t._e()],1)],1):t._e()],1):t._e()],1),t.showUsersList?s("user-list-dialog",{attrs:{users:t.selectedUser||[],title:"All Employee"},on:{close:function(e){t.showUsersList=!1}},model:{value:t.showUsersList,callback:function(e){t.showUsersList=e},expression:"showUsersList"}}):t._e(),s("vue-dialog",{attrs:{notify:t.deleteNotification},on:{close:function(e){t.deleteNotification.dialog=!1},agree:function(e){return t.deleteTemplate()}}})],1)],1)},a=[],n=s("2909"),r=s("1da1"),o=(s("96cf"),s("ac1f"),s("841c"),s("a4d3"),s("e01a"),s("d3b7"),s("caad"),s("2532"),s("d81d"),s("a434"),s("99af"),s("0549")),l=s("9815"),c=s("cde3"),u=s("17cc"),d=s("c44a"),h=s("0116"),p=s("aa47"),m={getTemplateDetail:function(t){return"/hris/".concat(t,"/employment/template-detail/")},postTemplateDetail:function(t){return"/hris/".concat(t,"/employment/template-detail/")},updateTemplateDetail:function(t,e){return"/hris/".concat(t,"/employment/template-detail/").concat(e,"/")},getIndividualDetail:function(t,e){return"/hris/".concat(t,"/employment/template-detail/").concat(e,"/")},deleteTemplateDetail:function(t,e){return"/hris/".concat(t,"/employment/template-detail/").concat(e,"/")}},f=s("a51f"),v=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-form",{ref:"task",on:{submit:function(e){return e.preventDefault(),t.getFormAction.apply(null,arguments)}}},[s("v-row",[s("v-col",{attrs:{md:"6",cols:"12"}},[t.nonFieldErrors?s("non-field-form-errors",{attrs:{"non-field-errors":t.nonFieldErrors}}):t._e(),s("v-row",[s("v-col",{attrs:{cols:"6"}},[s("user-auto-complete",t._b({directives:[{name:"validate",rawName:"v-validate",value:"",expression:"''"}],attrs:{params:{user_status:"current",have_experience:!0},"items-to-exclude":t.previousResponsiblePersons.map((function(t){return t.user.id})),"user-object":t.responsiblePersonsObject,multiple:""},on:{"update:userObject":function(e){t.responsiblePersonsObject=e},"update:user-object":function(e){t.responsiblePersonsObject=e}},model:{value:t.responsiblePersons,callback:function(e){t.responsiblePersons=e},expression:"responsiblePersons"}},"user-auto-complete",t.veeValidate("responsible_persons","Assign To"),!1))],1),s("v-col",{attrs:{cols:"6"}},[s("user-auto-complete",t._b({directives:[{name:"validate",rawName:"v-validate",value:"",expression:"''"}],attrs:{"user-object":t.observersObject,multiple:""},on:{"update:userObject":function(e){t.observersObject=e},"update:user-object":function(e){t.observersObject=e}},model:{value:t.formValues.observers,callback:function(e){t.$set(t.formValues,"observers",e)},expression:"formValues.observers"}},"user-auto-complete",t.veeValidate("observers","Observers"),!1))],1),s("v-col",{staticClass:"py-0",attrs:{cols:"6"}}),s("v-col",{staticClass:"py-0",attrs:{cols:"6"}},[s("v-switch",{staticClass:"ma-0",attrs:{label:"Include Employee"},model:{value:t.formValues.include_employee,callback:function(e){t.$set(t.formValues,"include_employee",e)},expression:"formValues.include_employee"}})],1),s("v-col",{attrs:{cols:"12"}},[s("div",{domProps:{textContent:t._s("Priority: ")}}),s("v-btn-toggle",{model:{value:t.formValues.priority,callback:function(e){t.$set(t.formValues,"priority",e)},expression:"formValues.priority"}},t._l(t.priorityChoices,(function(e){return s("v-btn",{key:e.value,class:e.value===t.formValues.priority?e.color+" white--text":"black--text",attrs:{value:e.value,text:"",small:""},domProps:{textContent:t._s(e.text)}})})),1)],1),s("v-col",{attrs:{cols:"12"}},[s("v-text-field",t._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],model:{value:t.formValues.title,callback:function(e){t.$set(t.formValues,"title",e)},expression:"formValues.title"}},"v-text-field",t.veeValidate("title","Title *"),!1))],1),s("v-col",{attrs:{cols:"6"}},[s("v-text-field",t._b({directives:[{name:"validate",rawName:"v-validate",value:"required|numeric|min_value:1",expression:"'required|numeric|min_value:1'"}],attrs:{"place-holder":"Deadline in days"},model:{value:t.formValues.deadline,callback:function(e){t.$set(t.formValues,"deadline",e)},expression:"formValues.deadline"}},"v-text-field",t.veeValidate("deadline","Deadline in days *"),!1))],1),s("v-col",{attrs:{cols:"12"}},[s("v-text-field",t._b({directives:[{name:"validate",rawName:"v-validate",value:"max:100",expression:"'max:100'"}],attrs:{counter:100,placeholder:"Things to do ...","append-icon":"mdi-plus"},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.addToCheckList.apply(null,arguments))},"click:append":t.addToCheckList},model:{value:t.formValues.check_list_title,callback:function(e){t.$set(t.formValues,"check_list_title",e)},expression:"formValues.check_list_title"}},"v-text-field",t.veeValidate("check_list_title","Checklists"),!1))],1),s("v-col",{attrs:{cols:"12"}},[s("vue-trumbowyg",t._b({directives:[{name:"validate",rawName:"v-validate",value:"max:10000",expression:"'max:10000'"}],attrs:{placeholder:"Write a description for this task"},model:{value:t.formValues.description,callback:function(e){t.$set(t.formValues,"description",e)},expression:"formValues.description"}},"vue-trumbowyg",t.veeValidate("description","Description"),!1))],1),s("v-col",[s("create-task-attachments",{model:{value:t.attachments,callback:function(e){t.attachments=e},expression:"attachments"}})],1)],1)],1),s("v-col",{attrs:{md:"6",cols:"12"}},[s("div",[s("h4",[t._v("Responsible Person")]),s("div",[s("v-divider"),t.actualResponsiblePersonsObject&&!t.actualResponsiblePersonsObject.length?s("p",{domProps:{textContent:t._s("Select Responsible person to view their result areas")}}):t._l(t.actualResponsiblePersonsObject,(function(e,i){return s("v-col",{key:i,attrs:{cols:"12",md:"12"}},[s("v-row",{attrs:{align:"center"}},[s("v-list-item-avatar",[s("v-img",{attrs:{src:e&&e.profile_picture}})],1),s("v-col",{staticClass:"pl-0",attrs:{cols:"3"}},[s("v-list-item-content",[s("v-list-item-title",{domProps:{textContent:t._s(e&&e.full_name)}}),s("v-list-item-subtitle",{domProps:{textContent:t._s(e&&e.division)}})],1)],1),s("v-col",{attrs:{cols:"7"}},[t.userCoreTasks[e.id]?t.userCoreTasks[e.id].length?t._l(t.userCoreTasks[e.id],(function(a){return s("div",{key:a.id},[s("v-row",{attrs:{align:"center",justify:"start",dense:""}},[s("v-col",{attrs:{sm:"12"}},[s("v-switch",{key:a.id,staticClass:"mt-0",attrs:{id:String(a.id),"hide-details":""},on:{change:function(e){return t.removeCoreTask(a,i)}},model:{value:a.showCoreTask,callback:function(e){t.$set(a,"showCoreTask",e)},expression:"resultArea.showCoreTask"}},[s("template",{slot:"label"},[s("span",[t._v(" "+t._s(a.result_area.title+"-")+" ")]),a.key_result_area?s("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[s("span",t._g({staticClass:"font-weight-bold",domProps:{textContent:t._s(" KRA")}},i))]}}],null,!0)},[s("span",[t._v(" Key Result Area")])]):t._e()],1)],2)],1)],1),a.showCoreTask?s("span",t._l(a.core_tasks,(function(i){return s("v-row",{key:i.id,staticClass:"ml-3",attrs:{align:"center",dense:""}},[s("v-col",{attrs:{sm:"12"}},[s("v-checkbox",{staticClass:"mt-0",attrs:{id:String(i.id),value:i.id,loading:!0,"hide-details":"",multiple:"",height:"10"},model:{value:e.core_tasks,callback:function(s){t.$set(e,"core_tasks",s)},expression:"user.core_tasks"}},[s("template",{slot:"label"},[s("v-col",{domProps:{textContent:t._s(i.title)}})],1)],2)],1)],1)})),1):t._e()],1)})):s("p",{domProps:{textContent:t._s(e.full_name+" has no core task.")}}):s("p",{domProps:{textContent:t._s("Fetching...")}})],2)],1),s("v-divider")],1)}))],2),t.previousResponsiblePersons&&t.previousResponsiblePersons.length?s("div",[s("span",{domProps:{textContent:t._s("Existing Responsible Persons")}}),t._l(t.previousResponsiblePersons,(function(e,i){return s("div",{key:i},[s("v-hover",{scopedSlots:t._u([{key:"default",fn:function(a){var n=a.hover;return s("div",{},[s("v-avatar",{attrs:{size:"20"}},[s("v-img",{attrs:{src:e.user.profile_picture}})],1),t._v(" "+t._s(e.user.full_name)+" "),n?s("a",{on:{click:function(s){return t.removeResponsiblePerson(e,i)}}},[s("v-tooltip",{attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function(i){var a=i.on;return[s("v-icon",t._g({attrs:{color:e.read_only?"green":"red",small:""},domProps:{textContent:t._s(e.read_only?"mdi-chevron-down":"mdi-close")}},a))]}}],null,!0)},[s("span",{domProps:{textContent:t._s(e.read_only?"Move to observers":"Remove")}})])],1):t._e()],1)}}],null,!0)})],1)}))],2):t._e()]),s("div",[s("h4",[t._v("Observers")]),s("div",[s("v-divider"),s("task-user-involvement-view",{attrs:{"user-data":t.observersObject}}),t.previousObservers.length?s("div",[s("span",{domProps:{textContent:t._s("Existing Observers")}}),t._l(t.previousObservers,(function(e,i){return s("div",{key:i},[s("v-hover",{scopedSlots:t._u([{key:"default",fn:function(a){var n=a.hover;return s("div",{},[s("v-avatar",{attrs:{size:"20"}},[s("v-img",{attrs:{src:e.user.profile_picture}})],1),t._v(" "+t._s(e.user.full_name)+" "),n&&!e.read_only?s("a",{on:{click:function(e){return t.previousObservers.splice(i,1)}}},[s("v-icon",{attrs:{small:""},domProps:{textContent:t._s("mdi-close")}})],1):t._e()],1)}}],null,!0)})],1)}))],2):t._e()],1)]),s("h4",[t._v("Deadline")]),s("v-divider"),s("v-col",{attrs:{cols:"12"}},[t.formValues.deadline?s("div",[s("div",[t._v(t._s(t.formValues.deadline)+" days")])]):s("span",{domProps:{textContent:t._s("Please select a deadline for this task")}})]),s("h4",[t._v(" Checklists "),t.checklists.length?s("v-btn",{attrs:{small:"",icon:""},on:{click:function(e){t.checklists=[]}}},[s("v-icon",{attrs:{size:"20"}},[t._v(" mdi-close ")])],1):t._e()],1),s("v-divider"),s("v-col",{attrs:{cols:"12"}},[0===t.checklists.length?s("p",{domProps:{textContent:t._s("Added checklists will appear here")}}):s("div",[t.sortingStarted?t._e():s("div",{attrs:{id:"checklistWrapper"}},t._l(t.checklists,(function(e,i){return s("ul",{key:i,staticClass:"sortHandle my-1"},[s("v-hover",{scopedSlots:t._u([{key:"default",fn:function(a){var n=a.hover;return s("li",{},[t.editChecklist&&i===t.editChecklistIndex?s("span",[s("v-text-field",t._b({directives:[{name:"validate",rawName:"v-validate",value:"max:100",expression:"'max:100'"}],attrs:{"append-icon":"mdi-check",counter:"100"},on:{"click:append":function(e){t.updateRecentChecklist(i),t.initializeSortableJs()}},model:{value:t.list,callback:function(e){t.list=e},expression:"list"}},"v-text-field",t.veeValidate("checklist_title","Title"),!1))],1):s("span",[t._v(" "+t._s(e.title)+" "),n?s("a",{on:{click:function(e){return t.checklists.splice(i,1)}}},[s("v-icon",{attrs:{small:""}},[t._v("mdi-close ")])],1):t._e(),n?s("a",[s("v-icon",{attrs:{small:""},on:{click:function(e){t.editChecklist=!0,t.editChecklistIndex=i,t.list=t.checklists[i].title}}},[t._v("mdi-pencil ")])],1):t._e()])])}}],null,!0)})],1)})),0)])]),s("h4",[t._v("Attachments")]),s("v-divider"),s("v-col",{attrs:{cols:"12",md:"6"}},[t.attachments&&0===t.attachments.length?s("p",{domProps:{textContent:t._s("Added attachments will appear here")}}):s("div",t._l(t.attachments,(function(e,i){return s("ul",{key:i},[s("v-hover",{scopedSlots:t._u([{key:"default",fn:function(a){var n=a.hover;return s("li",{},[s("span",[t._v(" "+t._s(e.caption)+" "),n?s("a",{on:{click:function(e){return t.attachments.splice(i,1)}}},[s("v-icon",{attrs:{small:""}},[t._v("mdi-close")])],1):t._e()])])}}],null,!0)})],1)})),0),t.previousAttachments&&t.previousAttachments.length?s("div",[s("span",{domProps:{textContent:t._s("Existing Attachments")}}),t._l(t.previousAttachments,(function(e,i){return s("ul",{key:i},[s("v-hover",{scopedSlots:t._u([{key:"default",fn:function(a){var n=a.hover;return s("li",{},[s("span",{staticClass:"pointer",domProps:{textContent:t._s(e.caption)},on:{click:function(s){return t.viewAttachment(e.attachment)}}}),n?s("v-icon",{attrs:{small:""},domProps:{textContent:t._s("mdi-close")},on:{click:function(e){t.deleteNotification.dialog=!0,t.deleteAttachmentIndex=i}}}):t._e()],1)}}],null,!0)})],1)}))],2):t._e()])],1),s("vue-dialog",{attrs:{notify:t.deleteNotification},on:{close:function(e){t.deleteNotification.dialog=!1},agree:t.deleteAttachment},model:{value:t.deleteNotification.dialog,callback:function(e){t.$set(t.deleteNotification,"dialog",e)},expression:"deleteNotification.dialog"}})],1),s("v-divider"),s("v-footer",{attrs:{fixed:"",height:"auto"}},[s("v-spacer"),s("v-btn",{staticClass:"mx-2",attrs:{color:"primary",type:"submit"}},[s("span",[t._v(t._s(t.formValues.id?"Update":"Create"))])]),s("v-btn",{staticClass:"mx-2",attrs:{outlined:"",color:"primary"},domProps:{textContent:t._s("Cancel")},on:{click:function(e){return t.$emit("dismissForm")}}})],1),s("vue-notify",{attrs:{notify:t.notify}})],1)},g=[],b=s("b85c"),y=s("5530"),_=(s("a9e3"),s("159b"),s("4de4"),s("b0c0"),s("ef8c")),k=s("ab8a"),C=s("0780"),x=s("2a18"),w=s("a019"),S=s("1467"),T=s("2f62"),D=s("b1a9"),O={components:{UserAutoComplete:_["default"],TaskUserInvolvementView:C["a"],NonFieldFormErrors:k["default"],VueTrumbowyg:S["default"],CreateTaskAttachments:D["a"]},mixins:[d["a"]],props:{actionData:{type:Object,default:function(){return{}}},preTask:{type:Boolean,default:!1},onBoarding:{type:Boolean,default:!1},parentTask:{type:Number,required:!1,default:null}},data:function(){return{notify:{},responsiblePersons:[],sortingStarted:!1,previousResponsiblePersons:[],previousObservers:[],responsiblePersonsObject:[],actualResponsiblePersonsObject:[],observersObject:[],userCoreTasks:{},priorityChoices:[{text:"Minor",value:"MINOR",color:"green"},{text:"Major",value:"MAJOR",color:"purple"},{text:"Critical",value:"CRITICAL",color:"red"}],checklists:[],attachments:[],previousAttachments:[],editChecklistIndex:"",prevList:"",deleteNotification:{dialog:!1,heading:"Confirm Delete",text:"Are you sure you want to delete this attachment?",deleteAttachmentIndex:null},previousCheckLists:[],formValues:this.deepCopy(this.taskDefaultData()),projectTaskSwitch:!!this.taskDefaultData().project,taskProject:null,taskProjectEndpoint:"/task/projects",startDate:"",editChecklistPrevIndex:"",editChecklist:!1,editPreviousChecklist:!1,repeatRule:this.get(this.taskDefaultData(),"recurring.recurring_rule")}},computed:Object(y["a"])(Object(y["a"])({},Object(T["c"])({getAuthStateUser:"auth/getAuthStateUser",getOrganizationSlug:"organization/getOrganizationSlug",isSupervisor:"auth/isSupervisor"})),{},{observersData:function(){var t=[];return this.formValues.observers&&this.formValues.observers.forEach((function(e){t.unshift({user:e})})),t},responsiblePersonsData:function(){return this.actualResponsiblePersonsObject.map((function(t){return{user:t.id,core_tasks:t.core_tasks||[]}}))}}),watch:{projectTaskSwitch:function(t){t||(this.taskProject=null)},responsiblePersonsObject:function(t,e){if(this.responsiblePersonsObject=t,t&&t.length){var s=e.map((function(t){return t.id})),i=t.map((function(t){return t.id}));t.length<e.length?this.actualResponsiblePersonsObject=this.actualResponsiblePersonsObject.filter((function(t){return i.includes(t.id)})):s.includes(t[0].id)||this.actualResponsiblePersonsObject.push(t[0]),this.getUserCoreTasks(t)}else this.actualResponsiblePersonsObject=t}},mounted:function(){this.initializeSortableJs(),this.actionData&&this.actionData.id&&(this.getPreviousAttachments(),this.populateFormValues())},methods:Object(y["a"])(Object(y["a"])({},Object(T["d"])({setNavDrawerItems:"setNavDrawerItems"})),{},{populateFormValues:function(){this.formValues=this.actionData,this.previousResponsiblePersons=this.formValues.responsible_persons,this.formValues.observers=this.actionData.observers.map((function(t){return t.id})),this.checklists=this.actionData.checklists},getPreviousAttachments:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/hris/".concat(t.getOrganizationSlug,"/employment/template-detail/").concat(t.actionData.id,"/attachments/")).then((function(e){t.previousAttachments=e.results}));case 2:case"end":return e.stop()}}),e)})))()},getUserCoreTasks:function(t){var e=this,s=t[0];this.userCoreTasks[s.id]||this.$http.get(w["a"].getUserResultAreas(s.organization_slug,s.id)).then((function(t){var i=t.experiences.filter((function(t){return t.is_current}));if(i.length&&i[0].result_areas.length){var a=i[0].result_areas;e.$set(e.userCoreTasks,s.id,a)}else e.userCoreTasks[s.id]=[]}))},initializeSortableJs:function(){if(0!==this.checklists.length){var t=document.getElementById("checklistWrapper");this.sortable=p["a"].create(t,{selectedClass:"sortHandle",draggable:".sortHandle",handle:".sortHandle",onEnd:this.reArrangeChecklist})}},reArrangeChecklist:function(t){var e=this;this.sortingStarted=!0,this.checklists.splice(t.newIndex,0,this.checklists.splice(t.oldIndex,1)[0]),this.$nextTick((function(){e.sortingStarted=!1,e.$nextTick((function(){e.initializeSortableJs()}))}))},addToCheckList:function(){this.formValues.check_list_title?this.formValues.check_list_title.length>100?this.notifyUser("The Checklists field may not be greater than 100 characters","red"):(this.checklists.push({title:this.formValues.check_list_title}),this.formValues.check_list_title="",this.editChecklistIndex="",this.editChecklistPrevIndex=""):this.notifyUser("Please write something on your checklist.","red")},getFormAction:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.validateAllFields();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t.formValues.id?t.updateTask():t.createTask());case 4:case"end":return e.stop()}}),e)})))()},createTask:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.post(m.postTemplateDetail(t.getOrganizationSlug),t.constructFormData()).then((function(e){t.notifyUser("Successfully created Task Template"),t.$emit("success"),t.$emit("dismissForm"),t.attachments.length&&t.createAttachment(e.id,"created")})).catch((function(e){t.pushErrors(e),t.notifyInvalidFormResponse()}));case 2:case"end":return e.stop()}}),e)})))()},createAttachment:function(t,e){var s=this;return Object(r["a"])(regeneratorRuntime.mark((function i(){var a,n,r,o,l;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:a=0,n=Object(b["a"])(s.attachments),i.prev=2,n.s();case 4:if((r=n.n()).done){i.next=14;break}return o=r.value,l=new FormData,l.append("attachment",o.file,o.file.name),l.append("caption",o.caption),l.append("template",t),i.next=12,s.$http.post("/hris/".concat(s.getOrganizationSlug,"/employment/template-detail/").concat(t,"/attachments/"),l).catch((function(){a+=1}));case 12:i.next=4;break;case 14:i.next=19;break;case 16:i.prev=16,i.t0=i["catch"](2),n.e(i.t0);case 19:return i.prev=19,n.f(),i.finish(19);case 22:a?s.notifyUser("Successfully ".concat(e," task but some attachments failed"),"warning"):s.notifyUser("Successfully ".concat(e," task"),"green"),s.$emit("dismissForm");case 24:case"end":return i.stop()}}),i,null,[[2,16,19,22]])})))()},deleteAttachment:function(){var t=this,e=this.previousAttachments[this.deleteAttachmentIndex].id;this.$http.delete("/hris/".concat(this.getOrganizationSlug,"/employment/template-detail/").concat(this.actionData.id,"/attachments/").concat(e,"/")).then((function(){t.notifyUser("Successfully deleted attachment","green"),t.deleteNotification.dialog=!1,t.previousAttachments.splice(t.deleteAttachmentIndex,1)}))},viewAttachment:function(t){var e="https://docs.google.com/viewerng/viewer?url=".concat(t);window.open(e,"_blank")},updateTask:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.put(m.updateTemplateDetail(t.getOrganizationSlug,t.formValues.id),t.constructFormData()).then((function(e){t.attachments.length?t.createAttachment(e.id,"updated"):(t.notifyUser("Successfully updated Task Template"),t.$emit("success"),t.$emit("dismissForm"))})).catch((function(e){t.pushErrors(e),t.notifyInvalidFormResponse()}));case 2:case"end":return e.stop()}}),e)})))()},addCheckList:function(t){this.$http.post(x["a"].postCheckList(this.formValues.id),{check_list_title:t})},updateRecentChecklist:function(t,e){this.list?this.list.length>100?(this.notifyUser("The Checklists field may not be greater than 100 characters","red"),this.editChecklist=!1,this.editChecklistPrevIndex=""):(this.checklists.splice(e,1,{title:this.list}),this.editChecklist=!1):(this.notifyUser("Please write something on your checklist.","red"),this.editChecklist=!1)},updateChecklist:function(t,e){var s=this;this.prevList?this.prevList.length>100?this.notifyUser("The Checklists field may not be greater than 100 characters","red"):this.$http.put(x["a"].putCheckList(this.formValues.id,t),{check_list_title:this.prevList}).then((function(t){s.previousCheckLists[e].check_list_title=t.check_list_title})).catch((function(t){s.notifyInvalidFormResponse(),s.pushErrors(t)})):this.notifyUser("Please write something on your checklist.","red")},constructFormData:function(){var t=this.previousResponsiblePersons.map((function(t){return{user:t.user.id,core_tasks:t.core_tasks.map((function(t){return t.id})),read_only:t.read_only}}));return{id:this.formValues.id||null,observers:this.observersData.map((function(t){return t.user})),responsible_persons:t.concat(this.responsiblePersonsData),deadline:this.formValues.deadline,template:this.$route.query.template,priority:this.formValues.priority,checklists:this.checklists,title:this.formValues.title,include_employee:this.formValues.include_employee,description:this.formValues.description||""}},taskDefaultData:function(){return{title:"",status:1,description:"",priority:"MINOR",checklist:"",include_employee:!1,skip_offday:!1,approve_required:!1,working_day:!1,auto_complete:!1,deadline:null,start:"",finish:"",project:null,recurring:null}},removeResponsiblePerson:function(t,e){t.read_only&&this.previousObservers.unshift(t),this.previousResponsiblePersons.splice(e,1)},removeCoreTask:function(t,e){var s=this.deepCopy(this.responsiblePersonsObject[e]),i=this.deepCopy(t).core_tasks.map((function(t){return t.id}));s.core_tasks||(s.core_tasks=[]),s.core_tasks=s.core_tasks.filter((function(t){return!i.includes(t)})),this.$set(this.responsiblePersonsObject,e,s)}})},P=O,V=s("2877"),j=s("6544"),$=s.n(j),I=s("8212"),A=s("8336"),L=s("a609"),R=s("ac7c"),B=s("62ad"),E=s("ce7e"),U=s("553a"),F=s("4bd4"),N=s("ce87"),z=s("132d"),M=s("adda"),H=s("8270"),q=s("5d23"),J=s("0fd9b"),W=s("2fa4"),K=s("b73d"),Y=s("8654"),G=s("3a2f"),Q=Object(V["a"])(P,v,g,!1,null,null,null),X=Q.exports;$()(Q,{VAvatar:I["a"],VBtn:A["a"],VBtnToggle:L["a"],VCheckbox:R["a"],VCol:B["a"],VDivider:E["a"],VFooter:U["a"],VForm:F["a"],VHover:N["a"],VIcon:z["a"],VImg:M["a"],VListItemAvatar:H["a"],VListItemContent:q["a"],VListItemSubtitle:q["b"],VListItemTitle:q["c"],VRow:J["a"],VSpacer:W["a"],VSwitch:K["a"],VTextField:Y["a"],VTooltip:G["a"]});var Z={components:{VuePageWrapper:o["default"],DataTableNoData:f["default"],TemplateForm:X,UserListDialog:l["default"],ThumbnailUsers:c["default"]},mixins:[u["a"],d["a"]],data:function(){return{htmlTitle:"Letter Template | Settings | HRIS | Admin",orgSlug:this.$route.params.slug,showDetails:!1,showUsersList:!1,taskDetails:{},individualDetails:{},sortingStarted:!1,breadCrumbItems:[{text:"HRIS",disabled:!1,to:{name:"admin-slug-hris-overview",params:{slug:this.$route.params.slug}}},{text:"Settings",disabled:!1,to:{name:"admin-slug-hris-settings",params:{slug:this.$route.params.slug}}},{text:"Task Template",disabled:!1,to:{name:"admin-slug-hris-settings-task-template",params:{slug:this.$route.params.slug}}},{text:"Details",disabled:!0}],list:"",showFilters:!1,createTemplate:!1,checklists:[],deleteId:"",createHeading:"",cardSubtitle:"",prevCheckList:[],editChecklist:"",templateType:this.$route.query.type,rowsPerPageItems:[10,20,30,40,50],check_list_title:"",templateEndpoint:h["a"].getTaskTemplate(this.$route.params.slug),formValues:{checklists:[],title:""},editPrevChecklist:"",prevList:"",deleteNotification:{dialog:!1,heading:"Confirm Delete",text:"Are you sure you want to delete this Details?"},search:"",templateAttachments:[],headers:[{text:"Title",width:"",value:"title",align:"left",sortable:!0},{text:"Checklist",width:"",value:"checklists_count",sortable:!0},{text:"Modified Date",width:"",value:"modified_at",sortable:!0},{text:"Actions",width:"",value:"name",align:"center",sortable:!1}],loading:!1}},computed:{DataTableFilter:function(){return{search:this.search,type:this.$route.query.template}}},watch:{checklists:function(){this.createTemplate&&this.checklists.length&&this.initializeSortableJs()}},created:function(){this.loadDataTableChange()},methods:{clearForm:function(){this.formValues={},this.checklists=[],this.prevCheckList=[],this.check_list_title="",this.formValues.description="",this.clearNonFieldErrors(),this.$validator.errors.clear()},fetchDataTable:function(){var t=this;this.loading=!0,this.$http.get(m.getTemplateDetail(this.orgSlug),{params:this.fullParams}).then((function(e){t.loadDataTable(e)})).finally((function(){t.loading=!1}))},addToCheckList:function(){var t=this.checklists||[];this.check_list_title?this.check_list_title.length>100?this.notifyUser("The Checklists field may not be greater than 100 characters","red"):t.map((function(t){return t.title.toLowerCase()})).includes(this.check_list_title.toLowerCase())||this.checklists.includes(this.check_list_title)?this.notifyUser("The Checklists cannot be Duplicated","red"):(this.checklists.push({title:this.check_list_title}),this.check_list_title="",this.editChecklistIndex="",this.editChecklistPrevIndex=""):this.notifyUser("Please write something on your checklist.","red")},initializeSortableJs:function(){var t=document.getElementById("checklistWrapper");t&&(this.sortable=p["a"].create(t,{selectedClass:"sortHandle",draggable:".sortHandle",handle:".sortHandle",onEnd:this.reArrangeChecklist}))},destroySortableJs:function(){this.sortable.destroy(),this.sortable=null},reArrangeChecklist:function(t){var e=this;this.sortingStarted=!0,this.checklists.splice(t.newIndex,0,this.checklists.splice(t.oldIndex,1)[0]),this.$nextTick((function(){e.sortingStarted=!1,e.$nextTick((function(){e.initializeSortableJs()}))}))},priorityColor:function(){return"MINOR"===this.individualDetails.priority?"green--text":"MAJOR"===this.individualDetails.priority?"purple--text":"red--text"},downloadAttachment:function(t){window.open(t)},triggerForm:function(t,e){var s={create:"Create ".concat(this.templateType," Task Template"),update:"Update ".concat(this.templateType," Task Template")},i={create:"Here you can create ".concat(this.templateType," task template"),update:"Here you can update the ".concat(this.templateType," task template")};this.createHeading=s[t],this.cardSubtitle=i[t],this.taskDetails={},"update"===t&&(this.taskDetails=e),this.createTemplate=!0},viewDetails:function(t){this.individualDetails=t,this.showDetails=!0,this.getAttachments()},viewAttachment:function(t){var e="https://docs.google.com/viewerng/viewer?url=".concat(t);window.open(e,"_blank")},getAttachments:function(){var t=this;this.$http.get("/hris/".concat(this.getOrganizationSlug,"/employment/template-detail/").concat(this.individualDetails.id,"/attachments/")).then((function(e){t.templateAttachments=e.results}))},createTemplateDetail:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.formValues.template=t.$route.query.template,e.next=3,t.validateAllFields();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}e.t0=t.formValues.id;case 6:if(!e.t0){e.next=12;break}return t.formValues.checklists=Object(n["a"])(t.checklists),e.next=10,t.$http.put(m.updateTemplateDetail(t.orgSlug,t.formValues.id),t.formValues).then((function(){t.notifyUser("Successfully Updated Task Template"),t.dismissForm(),t.checklists=[]})).catch((function(e){t.pushErrors(e),t.notifyInvalidFormResponse()}));case 10:e.next=16;break;case 12:return t.formValues.checklists=[],t.formValues.checklists=Object(n["a"])(t.checklists),e.next=16,t.$http.post(m.postTemplateDetail(t.orgSlug),t.formValues).then((function(){t.notifyUser("Successfully created Task Template"),t.dismissForm(),t.checklists=[]})).catch((function(e){t.pushErrors(e),t.notifyInvalidFormResponse()}));case 16:case"end":return e.stop()}}),e)})))()},updateChecklist:function(t){this.list?this.list.length>100?this.notifyUser("The Checklists field may not be greater than 100 characters","red"):(this.checklists.splice(t,1,{title:this.list}),this.editChecklist=!1):this.notifyUser("Please write something on your checklist.","red")},updateRecentChecklist:function(t,e){this.list?this.list.length>100?(this.notifyUser("The Checklists field may not be greater than 100 characters","red"),this.editChecklist=!1,this.editChecklistPrevIndex=""):(this.checklists.splice(e,1,this.list),this.editChecklist=!1):(this.notifyUser("Please write something on your checklist.","red"),this.editChecklist=!1)},deleteTemplate:function(){var t=this;this.$http.delete(m.deleteTemplateDetail(this.orgSlug,this.deleteId)).then((function(){t.notifyUser("Successfully Deleted Task Details."),t.dismissForm()})).catch((function(e){t.pushErrors(e),t.notifyInvalidFormResponse()}))},dismissForm:function(){this.createTemplate=!1,this.fetchDataTable(),this.deleteNotification.dialog=!1,this.formValues={},this.formValues.description="",this.check_list_title="",this.prevCheckList=[],this.$validator.errors.clear(),this.clearNonFieldErrors()}}},tt=Z,et=s("b0af"),st=s("99d9"),it=s("8fea"),at=s("169a"),nt=s("8860"),rt=s("da13"),ot=s("e449"),lt=s("0789"),ct=Object(V["a"])(tt,i,a,!1,null,null,null);e["default"]=ct.exports;$()(ct,{VBtn:A["a"],VCard:et["a"],VCardText:st["c"],VCol:B["a"],VDataTable:it["a"],VDialog:at["a"],VDivider:E["a"],VHover:N["a"],VIcon:z["a"],VList:nt["a"],VListItem:rt["a"],VListItemTitle:q["c"],VMenu:ot["a"],VRow:J["a"],VSlideYTransition:lt["g"],VTextField:Y["a"],VTooltip:G["a"]})},"17cc":function(t,e,s){"use strict";var i=s("b85c"),a=s("1da1"),n=s("5530");s("96cf"),s("ac1f"),s("841c"),s("d3b7"),s("3ca3"),s("ddb0"),s("2b3d"),s("b64b");e["a"]={data:function(){return{fetchedResults:[],response:{},extra_data:"",appliedFilters:{},footerProps:{itemsPerPageOptions:[10,20,30,40,50,100]},pagination:{sortBy:["modified_at"],descending:!1,totalItems:0,page:1,rowsPerPage:10,pageCount:0},triggerDataTable:!0,fullParams:""}},created:function(){this.getParams(this.DataTableFilter)},methods:{getParams:function(t){var e=Object(n["a"])(Object(n["a"])({},t),{},{offset:(this.pagination.page-1)*this.pagination.rowsPerPage,limit:this.pagination.rowsPerPage,ordering:this.pagination.descending?this.pagination.sortBy:"-"+this.pagination.sortBy});this.fullParams=this.convertToURLSearchParams(e)},loadDataTable:function(t){this.response=t,this.fetchedResults=t.results,this.pagination.totalItems=t.count,this.extra_data=t.extra_data,this.triggerDataTable=!0},fetchData:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function s(){var i,a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return console.warn("DatatableMixin: fetchData has been deprecated. Please use the function in page itself."),i=Object(n["a"])(Object(n["a"])(Object(n["a"])({},t),e.appliedFilters),{},{search:e.search,offset:(e.pagination.page-1)*e.pagination.rowsPerPage,limit:e.pagination.rowsPerPage,ordering:e.pagination.descending?e.pagination.sortBy:"-"+e.pagination.sortBy}),a=e.convertToURLSearchParams(i),e.loading=!0,s.next=6,e.$http.get(e.endpoint,{params:a}).then((function(t){e.response=t,e.fetchedResults=t.results,e.pagination.totalItems=t.count})).finally((function(){e.loading=!1}));case 6:case"end":return s.stop()}}),s)})))()},applyFilters:function(t){this.appliedFilters=t,this.fetchData(t)},convertToURLSearchParams:function(t){for(var e=new URLSearchParams,s=0,a=Object.keys(t);s<a.length;s++){var n=a[s],r=t[n];if(void 0===r&&(r=""),Array.isArray(r)){var o,l=Object(i["a"])(r);try{for(l.s();!(o=l.n()).done;){var c=o.value;e.append(n,c)}}catch(u){l.e(u)}finally{l.f()}}else e.append(n,r)}return e},loadDataTableChange:function(){var t=this;this.triggerDataTable&&(this.getParams(this.DataTableFilter),this.$nextTick((function(){t.fetchDataTable()})))}},watch:{DataTableFilter:function(t){this.fetchedResults=[],this.getParams(t),this.fetchDataTable(),this.pagination.page=1},"pagination.sortBy":function(){this.fetchedResults=[],this.loadDataTableChange()},"pagination.descending":function(){this.fetchedResults=[],this.loadDataTableChange()},"pagination.page":function(){this.fetchedResults=[],this.loadDataTableChange()},"pagination.rowsPerPage":function(){this.fetchedResults=[],this.loadDataTableChange()}}}},"1f09":function(t,e,s){},"2a18":function(t,e,s){"use strict";s("99af");e["a"]={completeCheckList:function(t,e){return"/task/".concat(t,"/checklists/").concat(e,"/check/")},getCheckList:function(t){return"/task/".concat(t,"/checklists/")},postCheckList:function(t){return"/task/".concat(t,"/checklists/")},putCheckList:function(t,e){return"/task/".concat(t,"/checklists/").concat(e,"/")},deleteCheckList:function(t,e){return"/task/".concat(t,"/checklists/").concat(e,"/")}}},"2ab5":function(t,e,s){"use strict";s("9d1c")},"2bc5":function(t,e,s){"use strict";var i=s("5530"),a=(s("a15b"),s("abd3"),s("ade3")),n=s("1c87"),r=s("58df"),o=Object(r["a"])(n["a"]).extend({name:"v-breadcrumbs-item",props:{activeClass:{type:String,default:"v-breadcrumbs__item--disabled"},ripple:{type:[Boolean,Object],default:!1}},computed:{classes:function(){return Object(a["a"])({"v-breadcrumbs__item":!0},this.activeClass,this.disabled)}},render:function(t){var e=this.generateRouteLink(),s=e.tag,a=e.data;return t("li",[t(s,Object(i["a"])(Object(i["a"])({},a),{},{attrs:Object(i["a"])(Object(i["a"])({},a.attrs),{},{"aria-current":this.isActive&&this.isLink?"page":void 0})}),this.$slots.default)])}}),l=s("80d2"),c=Object(l["i"])("v-breadcrumbs__divider","li"),u=s("7560");e["a"]=Object(r["a"])(u["a"]).extend({name:"v-breadcrumbs",props:{divider:{type:String,default:"/"},items:{type:Array,default:function(){return[]}},large:Boolean},computed:{classes:function(){return Object(i["a"])({"v-breadcrumbs--large":this.large},this.themeClasses)}},methods:{genDivider:function(){return this.$createElement(c,this.$slots.divider?this.$slots.divider:this.divider)},genItems:function(){for(var t=[],e=!!this.$scopedSlots.item,s=[],i=0;i<this.items.length;i++){var a=this.items[i];s.push(a.text),e?t.push(this.$scopedSlots.item({item:a})):t.push(this.$createElement(o,{key:s.join("."),props:a},[a.text])),i<this.items.length-1&&t.push(this.genDivider())}return t}},render:function(t){var e=this.$slots.default||this.genItems();return t("ul",{staticClass:"v-breadcrumbs",class:this.classes},e)}})},3129:function(t,e,s){"use strict";var i=s("3835"),a=s("5530"),n=(s("ac1f"),s("1276"),s("d81d"),s("a630"),s("3ca3"),s("5319"),s("1f09"),s("c995")),r=s("24b2"),o=s("7560"),l=s("58df"),c=s("80d2");e["a"]=Object(l["a"])(n["a"],r["a"],o["a"]).extend({name:"VSkeletonLoader",props:{boilerplate:Boolean,loading:Boolean,tile:Boolean,transition:String,type:String,types:{type:Object,default:function(){return{}}}},computed:{attrs:function(){return this.isLoading?this.boilerplate?{}:Object(a["a"])({"aria-busy":!0,"aria-live":"polite",role:"alert"},this.$attrs):this.$attrs},classes:function(){return Object(a["a"])(Object(a["a"])({"v-skeleton-loader--boilerplate":this.boilerplate,"v-skeleton-loader--is-loading":this.isLoading,"v-skeleton-loader--tile":this.tile},this.themeClasses),this.elevationClasses)},isLoading:function(){return!("default"in this.$scopedSlots)||this.loading},rootTypes:function(){return Object(a["a"])({actions:"button@2",article:"heading, paragraph",avatar:"avatar",button:"button",card:"image, card-heading","card-avatar":"image, list-item-avatar","card-heading":"heading",chip:"chip","date-picker":"list-item, card-heading, divider, date-picker-options, date-picker-days, actions","date-picker-options":"text, avatar@2","date-picker-days":"avatar@28",heading:"heading",image:"image","list-item":"text","list-item-avatar":"avatar, text","list-item-two-line":"sentences","list-item-avatar-two-line":"avatar, sentences","list-item-three-line":"paragraph","list-item-avatar-three-line":"avatar, paragraph",paragraph:"text@3",sentences:"text@2",table:"table-heading, table-thead, table-tbody, table-tfoot","table-heading":"heading, text","table-thead":"heading@6","table-tbody":"table-row-divider@6","table-row-divider":"table-row, divider","table-row":"table-cell@6","table-cell":"text","table-tfoot":"text@2, avatar@2",text:"text"},this.types)}},methods:{genBone:function(t,e){return this.$createElement("div",{staticClass:"v-skeleton-loader__".concat(t," v-skeleton-loader__bone")},e)},genBones:function(t){var e=this,s=t.split("@"),a=Object(i["a"])(s,2),n=a[0],r=a[1],o=function(){return e.genStructure(n)};return Array.from({length:r}).map(o)},genStructure:function(t){var e=[];t=t||this.type||"";var s=this.rootTypes[t]||"";if(t===s);else{if(t.indexOf(",")>-1)return this.mapBones(t);if(t.indexOf("@")>-1)return this.genBones(t);s.indexOf(",")>-1?e=this.mapBones(s):s.indexOf("@")>-1?e=this.genBones(s):s&&e.push(this.genStructure(s))}return[this.genBone(t,e)]},genSkeleton:function(){var t=[];return this.isLoading?t.push(this.genStructure()):t.push(Object(c["s"])(this)),this.transition?this.$createElement("transition",{props:{name:this.transition},on:{afterEnter:this.resetStyles,beforeEnter:this.onBeforeEnter,beforeLeave:this.onBeforeLeave,leaveCancelled:this.resetStyles}},t):t},mapBones:function(t){return t.replace(/\s/g,"").split(",").map(this.genStructure)},onBeforeEnter:function(t){this.resetStyles(t),this.isLoading&&(t._initialStyle={display:t.style.display,transition:t.style.transition},t.style.setProperty("transition","none","important"))},onBeforeLeave:function(t){t.style.setProperty("display","none","important")},resetStyles:function(t){t._initialStyle&&(t.style.display=t._initialStyle.display||"",t.style.transition=t._initialStyle.transition,delete t._initialStyle)}},render:function(t){return t("div",{staticClass:"v-skeleton-loader",attrs:this.attrs,on:this.$listeners,class:this.classes,style:this.isLoading?this.measurableStyles:void 0},[this.genSkeleton()])}})},3860:function(t,e,s){"use strict";var i=s("604c");e["a"]=i["a"].extend({name:"button-group",provide:function(){return{btnToggle:this}},computed:{classes:function(){return i["a"].options.computed.classes.call(this)}},methods:{genData:i["a"].options.methods.genData}})},"553a":function(t,e,s){"use strict";var i=s("5530"),a=(s("a9e3"),s("c7cd"),s("b5b6"),s("8dd9")),n=s("3a66"),r=s("d10f"),o=s("58df"),l=s("80d2");e["a"]=Object(o["a"])(a["a"],Object(n["a"])("footer",["height","inset"]),r["a"]).extend({name:"v-footer",props:{height:{default:"auto",type:[Number,String]},inset:Boolean,padless:Boolean,tag:{type:String,default:"footer"}},computed:{applicationProperty:function(){return this.inset?"insetFooter":"footer"},classes:function(){return Object(i["a"])(Object(i["a"])({},a["a"].options.computed.classes.call(this)),{},{"v-footer--absolute":this.absolute,"v-footer--fixed":!this.absolute&&(this.app||this.fixed),"v-footer--padless":this.padless,"v-footer--inset":this.inset})},computedBottom:function(){if(this.isPositioned)return this.app?this.$vuetify.application.bottom:0},computedLeft:function(){if(this.isPositioned)return this.app&&this.inset?this.$vuetify.application.left:0},computedRight:function(){if(this.isPositioned)return this.app&&this.inset?this.$vuetify.application.right:0},isPositioned:function(){return Boolean(this.absolute||this.fixed||this.app)},styles:function(){var t=parseInt(this.height);return Object(i["a"])(Object(i["a"])({},a["a"].options.computed.styles.call(this)),{},{height:isNaN(t)?t:Object(l["g"])(t),left:Object(l["g"])(this.computedLeft),right:Object(l["g"])(this.computedRight),bottom:Object(l["g"])(this.computedBottom)})}},methods:{updateApplication:function(){var t=parseInt(this.height);return isNaN(t)?this.$el?this.$el.clientHeight:0:t}},render:function(t){var e=this.setBackgroundColor(this.color,{staticClass:"v-footer",class:this.classes,style:this.styles});return t(this.tag,e,this.$slots.default)}})},"7e58":function(t,e,s){},9815:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-dialog",{attrs:{width:"500",persistent:"",scrollable:""},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.$emit("input",!1)}},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[s("v-card",[s("vue-card-title",{attrs:{title:t.title,subtitle:"List of Employees",icon:"mdi-account-group-outline",dark:"",closable:""},on:{close:function(e){return t.$emit("input",!1)}}}),s("v-divider"),t.headerInfo?s("v-list",{staticClass:"primaryLight pl-9 pr-5 py-0"},[s("v-list-item",[s("v-list-item-content",{staticClass:"text-body-1",attrs:{md:"5"}},[t._v(" Name ")]),s("v-list-item-action",{staticClass:"text-body-1 text-center"},[t._v(" "+t._s(t.headerInfo)+" ")])],1)],1):t._e(),s("v-divider"),s("v-card-text",{staticClass:"pb-0"},[t.endpoint||0!==t.users.length?t._e():s("div",[s("vue-no-data")],1),t.userInstance&&t.userInstance.length?s("v-list",t._l(t.userInstance,(function(e){return s("v-list-item",{key:e.id},[s("v-list-item-content",[s("vue-user",{attrs:{user:e.liked_by||e.user||e}})],1),t._l(t.infoList,(function(i,a){return[s("v-list-item-action",{key:a},[s("span",[a>0?s("span",[s("span",[t._v("|")])]):t._e(),t._v(" "+t._s(e[i])+" ")])])]})),s("v-list-item-action",[t._t("info",null,{user:e})],2)],2)})),1):t._e(),t.dialog&&t.endpoint?s("div",[s("infinite-loading-base",{attrs:{endpoint:t.endpoint,"response-key":t.responseKey},on:{setInfiniteResponse:t.setInfiniteResponse}})],1):t._e()],1)],1)],1)},a=[],n=s("2909"),r=(s("99af"),s("e585")),o=s("02cb"),l=s("cdd1"),c={components:{VueUser:o["default"],VueNoData:r["default"],InfiniteLoadingBase:l["a"]},extends:l["a"],props:{value:{type:Boolean,default:!1},users:{type:Array,default:function(){return[]}},title:{type:String,default:"List Of Employees"},infoList:{type:Array,default:function(){return[]}},endpoint:{type:String,default:""},headerInfo:{type:String,default:""},responseKey:{type:String,default:"results"}},data:function(){return{userInstance:[],dialog:this.value,fetched:!this.endpoint}},watch:{value:function(t){this.dialog=t,this.userInstance=this.users}},created:function(){this.userInstance=Object(n["a"])(this.users)},methods:{setInfiniteResponse:function(t){this.userInstance=this.userInstance.concat(t[this.responseKey])}}},u=c,d=s("2877"),h=s("6544"),p=s.n(h),m=s("b0af"),f=s("99d9"),v=s("169a"),g=s("ce7e"),b=s("8860"),y=s("da13"),_=s("1800"),k=s("5d23"),C=Object(d["a"])(u,i,a,!1,null,null,null);e["default"]=C.exports;p()(C,{VCard:m["a"],VCardText:f["c"],VDialog:v["a"],VDivider:g["a"],VList:b["a"],VListItem:y["a"],VListItemAction:_["a"],VListItemContent:k["a"]})},"9d01":function(t,e,s){},"9d1c":function(t,e,s){},a019:function(t,e,s){"use strict";s("99af");e["a"]={getUserResultAreas:function(t,e){return"/hris/".concat(t,"/user-result-areas/").concat(e,"/")}}},a51f:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.search.length>0?s("span",[t._v(' Your search for "'+t._s(t.search)+'" found no results. ')]):t.loading?s("v-skeleton-loader",{attrs:{type:"table",height:t.skeletonLoaderHeight}}):s("no-data-found",{attrs:{text:t.text,height:t.height}},[t._t("default")],2)],1)},a=[],n=(s("a9e3"),s("e585")),r={components:{NoDataFound:n["default"]},props:{search:{type:String,default:""},loading:{type:Boolean,required:!0},text:{type:String,default:"No data available at the moment"},height:{type:[String,Number],default:200},skeletonLoaderHeight:{type:[String,Number],default:void 0}}},o=r,l=s("2877"),c=s("6544"),u=s.n(c),d=s("3129"),h=Object(l["a"])(o,i,a,!1,null,null,null);e["default"]=h.exports;u()(h,{VSkeletonLoader:d["a"]})},a609:function(t,e,s){"use strict";var i=s("5530"),a=(s("7e58"),s("3860")),n=s("a9ad"),r=s("58df");e["a"]=Object(r["a"])(a["a"],n["a"]).extend({name:"v-btn-toggle",props:{backgroundColor:String,borderless:Boolean,dense:Boolean,group:Boolean,rounded:Boolean,shaped:Boolean,tile:Boolean},computed:{classes:function(){return Object(i["a"])(Object(i["a"])({},a["a"].options.computed.classes.call(this)),{},{"v-btn-toggle":!0,"v-btn-toggle--borderless":this.borderless,"v-btn-toggle--dense":this.dense,"v-btn-toggle--group":this.group,"v-btn-toggle--rounded":this.rounded,"v-btn-toggle--shaped":this.shaped,"v-btn-toggle--tile":this.tile},this.themeClasses)}},methods:{genData:function(){var t=this.setTextColor(this.color,Object(i["a"])({},a["a"].options.methods.genData.call(this)));return this.group?t:this.setBackgroundColor(this.backgroundColor,t)}}})},ab8a:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.changeType&&0!==t.nonFieldErrors.length?s("div",t._l(t.nonFieldErrors,(function(e,i){return s("v-col",{key:i},t._l(e,(function(e,i){return s("div",{key:i},[s("span",{domProps:{textContent:t._s(t.key)}}),s("span",{domProps:{textContent:t._s(e.toString())}})])})),0)})),1):t._e(),t.changeType||0===t.nonFieldErrors.length?t._e():s("v-alert",{staticClass:"ma-3",attrs:{outlined:"",dense:"",tile:"",dismissible:"",color:"danger"}},[s("span",{domProps:{textContent:t._s("There are some errors")}}),t._l(t.nonFieldErrors,(function(e,i){return s("div",{key:i},t._l(e,(function(e,i){return s("div",{key:i},[s("ul",[s("li",[s("span",{domProps:{textContent:t._s(t.key)}}),s("span",{domProps:{textContent:t._s(e.toString())}})])])])})),0)}))],2)],1)},a=[],n={props:{nonFieldErrors:{type:Array,required:!0},changeType:{type:Boolean,default:!1}},data:function(){return{key:""}}},r=n,o=s("2877"),l=s("6544"),c=s.n(l),u=s("0798"),d=s("62ad"),h=Object(o["a"])(r,i,a,!1,null,null,null);e["default"]=h.exports;c()(h,{VAlert:u["a"],VCol:d["a"]})},abd3:function(t,e,s){},b1a9:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-row",{attrs:{dense:"",align:"start"}},[s("v-col",{attrs:{md:"6",cols:"12"}},[s("file-upload",{staticClass:"pr-2",attrs:{label:"Attachment",hint:"Files with jpg, png, odt extensions are not available for preview."},model:{value:t.attachment,callback:function(e){t.attachment=e},expression:"attachment"}})],1),s("v-col",{attrs:{md:"6",cols:"12"}},[s("v-text-field",{staticClass:"pl-2",attrs:{"data-cy":"input-caption",disabled:!t.attachment,label:"Caption"},model:{value:t.caption,callback:function(e){t.caption=e},expression:"caption"}},[s("v-icon",{attrs:{slot:"append-outer","data-cy":"btn-add-attachment",color:"primary"},on:{click:t.appendFile},slot:"append-outer"},[t._v(" mdi-plus-box-outline ")])],1)],1)],1)},a=[],n=s("5530"),r=s("f82f"),o=s("2f62"),l={components:{FileUpload:r["a"]},props:{value:{type:Array,default:function(){return[]}}},data:function(){return{attachment:"",caption:"",attachments:[]}},watch:{attachments:function(t){this.$emit("input",t)}},methods:Object(n["a"])(Object(n["a"])({},Object(o["d"])({setSnackBar:"common/setSnackBar"})),{},{appendFile:function(){this.attachment&&this.caption?(this.setSnackBar({display:!1}),this.attachments.unshift({file:this.attachment,caption:this.caption}),this.attachment=null,this.caption=""):this.setSnackBar({text:"Please add both attachment and caption",color:"red"})}})},c=l,u=s("2877"),d=s("6544"),h=s.n(d),p=s("62ad"),m=s("132d"),f=s("0fd9b"),v=s("8654"),g=Object(u["a"])(c,i,a,!1,null,null,null);e["a"]=g.exports;h()(g,{VCol:p["a"],VIcon:m["a"],VRow:f["a"],VTextField:v["a"]})},b5b6:function(t,e,s){},b73d:function(t,e,s){"use strict";var i=s("5530"),a=(s("0481"),s("ec29"),s("9d01"),s("fe09")),n=s("c37a"),r=s("c3f0"),o=s("0789"),l=s("490a"),c=s("80d2");e["a"]=a["a"].extend({name:"v-switch",directives:{Touch:r["a"]},props:{inset:Boolean,loading:{type:[Boolean,String],default:!1},flat:{type:Boolean,default:!1}},computed:{classes:function(){return Object(i["a"])(Object(i["a"])({},n["a"].options.computed.classes.call(this)),{},{"v-input--selection-controls v-input--switch":!0,"v-input--switch--flat":this.flat,"v-input--switch--inset":this.inset})},attrs:function(){return{"aria-checked":String(this.isActive),"aria-disabled":String(this.isDisabled),role:"switch"}},validationState:function(){return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0},switchData:function(){return this.setTextColor(this.loading?void 0:this.validationState,{class:this.themeClasses})}},methods:{genDefaultSlot:function(){return[this.genSwitch(),this.genLabel()]},genSwitch:function(){return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.genInput("checkbox",Object(i["a"])(Object(i["a"])({},this.attrs),this.attrs$)),this.genRipple(this.setTextColor(this.validationState,{directives:[{name:"touch",value:{left:this.onSwipeLeft,right:this.onSwipeRight}}]})),this.$createElement("div",Object(i["a"])({staticClass:"v-input--switch__track"},this.switchData)),this.$createElement("div",Object(i["a"])({staticClass:"v-input--switch__thumb"},this.switchData),[this.genProgress()])])},genProgress:function(){return this.$createElement(o["c"],{},[!1===this.loading?null:this.$slots.progress||this.$createElement(l["a"],{props:{color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,size:16,width:2,indeterminate:!0}})])},onSwipeLeft:function(){this.isActive&&this.onChange()},onSwipeRight:function(){this.isActive||this.onChange()},onKeydown:function(t){(t.keyCode===c["y"].left&&this.isActive||t.keyCode===c["y"].right&&!this.isActive)&&this.onChange()}}})},cde3:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"download-only"},t._l(t.users,(function(e,i){return s("v-chip",{key:i,staticClass:"ma-1",attrs:{small:"",label:""}},[t._v(" "+t._s(e.full_name)+" ")])})),1),s("v-row",{staticClass:"download-hidden",attrs:{"no-gutters":""}},[t.users&&!t.users.length?s("div",[s("v-col",{staticClass:"ma-0 pa-0"},[s("v-avatar",{staticClass:"mr-1",attrs:{size:"20"}},[s("v-img",{attrs:{src:"/images/info/user-default.png"}})],1),s("span",{staticClass:"grey--text text-caption"},[t._v("No Employee")])],1)],1):t._l(t.users.slice(0,3),(function(e,i){return s("div",{key:i,staticClass:"text-left"},[s("v-badge",{attrs:{dot:"",right:"",bottom:"",overlap:"","offset-y":"5",color:e.user&&e.user.is_online?"green":"transparent"}},[s("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(i){var a=i.on;return[s("a",[s("v-avatar",t._g({staticClass:"mr-n1",attrs:{size:t.imgSize}},a),[s("v-img",{attrs:{height:t.imgSize,width:t.imgSize,src:e.profile_picture||e.user.profile_picture},on:{click:t.showMore}})],1)],1)]}}],null,!0)},[s("span",{domProps:{textContent:t._s(e.full_name||e.user.full_name)}}),e[t.type]?s("span",[t._v(" : "),s("span",{domProps:{textContent:t._s(e[t.type])}})]):t._e()])],1)],1)})),t.users&&t.users.length&&t.totalUsers>3?s("div",[s("v-col",{staticClass:"pl-2 py-0 text-subtitle-1"},[s("a",{on:{click:t.showMore}},[t._v(" +"+t._s(parseInt(t.totalUsers)-3)+" ")])])],1):t._e()],2)],1)},a=[],n=(s("a9e3"),{name:"ThumbnailUsers",props:{users:{type:Array,default:function(){return[]}},totalUsers:{type:Number,required:!0},type:{type:String,default:""},imgSize:{type:[String,Number],default:22}},watch:{users:function(t){this.users=t}},methods:{showMore:function(){this.users&&0===this.users.length||this.$emit("showMore")}}}),r=n,o=(s("2ab5"),s("2877")),l=s("6544"),c=s.n(l),u=s("8212"),d=s("4ca6"),h=s("cc20"),p=s("62ad"),m=s("adda"),f=s("0fd9b"),v=s("3a2f"),g=Object(o["a"])(r,i,a,!1,null,"51021d54",null);e["default"]=g.exports;c()(g,{VAvatar:u["a"],VBadge:d["a"],VChip:h["a"],VCol:p["a"],VImg:m["a"],VRow:f["a"],VTooltip:v["a"]})},ce87:function(t,e,s){"use strict";var i=s("16b7"),a=s("f2e7"),n=s("58df"),r=s("d9bd");e["a"]=Object(n["a"])(i["a"],a["a"]).extend({name:"v-hover",props:{disabled:{type:Boolean,default:!1},value:{type:Boolean,default:void 0}},methods:{onMouseEnter:function(){this.runDelay("open")},onMouseLeave:function(){this.runDelay("close")}},render:function(){return this.$scopedSlots.default||void 0!==this.value?(this.$scopedSlots.default&&(t=this.$scopedSlots.default({hover:this.isActive})),Array.isArray(t)&&1===t.length&&(t=t[0]),t&&!Array.isArray(t)&&t.tag?(this.disabled||(t.data=t.data||{},this._g(t.data,{mouseenter:this.onMouseEnter,mouseleave:this.onMouseLeave})),t):(Object(r["c"])("v-hover should only contain a single element",this),t)):(Object(r["c"])("v-hover is missing a default scopedSlot or bound value",this),null);var t}})},ef8c:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("v-autocomplete",{class:t.appliedClass,attrs:{items:t.itemsSorted,loading:t.isLoading,"search-input":t.search,multiple:t.multiple,label:t.label,error:t.errorMessages.length>0,"error-messages":t.errorMessages,disabled:t.disabled,"prepend-inner-icon":t.prependInnerIcon,clearable:t.clearable&&!t.readonly,readonly:!!t.readonly,"hide-details":t.hideDetails,"data-cy":"input-user-autocomplete-"+t.dataCyVariable,placeholder:t.placeholder,"hide-selected":"","hide-no-data":"","item-text":"full_name","item-value":"id"},on:{"update:searchInput":function(e){t.search=e},"update:search-input":function(e){t.search=e},blur:function(e){return t.$emit("blur")}},scopedSlots:t._u([{key:"selection",fn:function(e){return[s("v-chip",{attrs:{"input-value":e.selected,close:(t.clearable||!t.clearable&&!t.multiple)&&!t.readonly,small:""},on:{"click:close":function(s){return t.remove(e.item)}}},[s("v-avatar",{attrs:{left:""}},[s("v-img",{attrs:{src:e.item.profile_picture,cover:""}})],1),t._v(" "+t._s(t._f("truncate")(e.item.full_name,t.truncate))+" ")],1)]}},{key:"item",fn:function(e){var i=e.item;return[s("v-list-item-avatar",[s("v-avatar",{attrs:{size:"30"}},[s("v-img",{attrs:{src:i.profile_picture,cover:""}})],1)],1),s("v-list-item-content",[s("v-list-item-title",[t._v(" "+t._s(t._f("truncate")(i.full_name,20))+" "),i.employee_code?s("span",[t._v("("+t._s(i.employee_code)+")")]):t._e()]),i.division?s("v-list-item-subtitle",{domProps:{textContent:t._s(i.division)}}):t._e()],1)]}}]),model:{value:t.selectedData,callback:function(e){t.selectedData=e},expression:"selectedData"}})],1)},a=[],n=s("53ca"),r=(s("a9e3"),s("ac1f"),s("841c"),s("4e827"),s("2ca0"),s("d81d"),s("a434"),s("d3b7"),s("159b"),s("7db0"),s("4de4"),s("caad"),s("2532"),s("fab2")),o=s("63ea"),l=s.n(o),c={props:{value:{type:[Number,String,Array,Object],required:!1,default:function(){return null}},dataCyVariable:{type:String,default:""},userObject:{type:[Object,Array],required:!1,default:function(){return{}}},params:{type:[Object,Array],required:!1,default:function(){return{}}},multiple:{type:Boolean,required:!1,default:!1},disabled:{type:Boolean,required:!1,default:!1},errorMessages:{type:[String,Array],default:function(){return[]}},label:{type:String,default:"Select Employee"},prependInnerIcon:{type:String,default:"mdi-account-plus-outline"},itemsToExclude:{type:[Array,Number],default:null},itemsToInclude:{type:[Array,Number],default:null},clearable:{type:Boolean,default:!0},readonly:{type:Boolean,default:!1},hideDetails:{type:Boolean,default:!1},appliedClass:{type:String,default:""},truncate:{type:Number,default:10},placeholder:{type:String,default:""}},data:function(){return{isLoading:!1,items:[],allUsers:[],selectedData:null,search:null}},computed:{itemsSorted:function(){return this.sortBySearch(this.items,this.search?this.search.toLowerCase():"")}},watch:{value:{handler:function(t,e){!t&&e&&(this.selectedData="",this.populateInitialUsers()),!e&&t&&this.populateInitialUsers()},immediate:!0},search:function(t){!t||this.items.length>0||this.fetchUsers()},selectedData:function(t){this.search="",this.syncUserData(t),this.$emit("input",t)},itemsToExclude:function(){this.items=this.excludeRecord(this.allUsers)},itemsToInclude:function(){this.items=this.includeRecord(this.allUsers)},params:{handler:function(t,e){l()(t,e)||this.fetchUsers()},deep:!0}},methods:{sortBySearch:function(t,e){return t.sort((function(t,s){return t.full_name.toLowerCase().startsWith(e)&&s.full_name.toLowerCase().startsWith(e)?t.full_name.toLowerCase().localeCompare(s.full_name.toLowerCase()):t.full_name.toLowerCase().startsWith(e)?-1:s.full_name.toLowerCase().startsWith(e)?1:t.full_name.toLowerCase().localeCompare(s.full_name.toLowerCase())}))},populateInitialUsers:function(){this.fetchUsers(this.value),Array.isArray(this.value)?"object"===Object(n["a"])(this.value[0])?this.selectedData=this.value.map((function(t){return t.user.id})):this.selectedData=this.value:null===this.value?this.selectedData="":"object"===Object(n["a"])(this.value)?this.selectedData=this.value.id:this.selectedData=this.value,this.$emit("input",this.selectedData)},remove:function(t){if(this.selectedData instanceof Object){var e=this.selectedData.indexOf(t.id);e>=0&&this.selectedData.splice(e,1),this.$emit("remove",t)}else this.selectedData=""},fetchUsers:function(t){var e=this;this.isLoading||(this.isLoading=!0,this.$http.get(r["a"].autocomplete,{params:this.params}).then((function(s){e.allUsers=s,e.itemsToExclude&&(s=e.excludeRecord(s)),e.itemsToInclude&&(s=e.includeRecord(s)),e.items=s,t&&e.syncUserData(t)})).finally((function(){return e.isLoading=!1})))},syncUserData:function(t){var e=this;if(t instanceof Array){var s=[];t.forEach((function(t){s.unshift(e.items.find((function(e){return e.id===t})))})),this.$emit("update:userObject",s)}else{var i=this.items.find((function(e){return e.id===t}));this.$emit("update:userObject",i)}},excludeRecord:function(t){var e=[];return"number"===typeof this.itemsToExclude?e.push(this.itemsToExclude):e=this.itemsToExclude,t.filter((function(t){return!e.includes(t.id)}))},includeRecord:function(t){var e=this;return t.filter((function(t){return e.itemsToInclude.includes(t.id)}))}}},u=c,d=s("2877"),h=s("6544"),p=s.n(h),m=s("c6a6"),f=s("8212"),v=s("cc20"),g=s("adda"),b=s("8270"),y=s("5d23"),_=Object(d["a"])(u,i,a,!1,null,null,null);e["default"]=_.exports;p()(_,{VAutocomplete:m["a"],VAvatar:f["a"],VChip:v["a"],VImg:g["a"],VListItemAvatar:b["a"],VListItemContent:y["a"],VListItemSubtitle:y["b"],VListItemTitle:y["c"]})},f82f:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("v-text-field",{class:t.appliedClass,attrs:{id:t.id,label:t.label,"data-cy":"input-file-upload",error:t.errorMessages.length>0,"error-messages":t.errorMessages,"hide-details":t.hideDetails,hint:t.hint,"persistent-hint":!!t.hint,disabled:t.disabled,readonly:"","prepend-inner-icon":"mdi-attachment","append-icon":"mdi-close"},on:{"click:prepend":t.pickFile,"click:append":function(e){return t.clear()},click:t.pickFile,blur:function(e){return t.$emit("blur")}},model:{value:t.fileName,callback:function(e){t.fileName=e},expression:"fileName"}}),s("input",{ref:"upload",staticClass:"d-none",attrs:{id:"fileUpload",type:"file",multiple:"multiple"},on:{change:t.upload}})],1)},a=[],n=s("1da1"),r=s("5530"),o=(s("96cf"),s("a9e3"),s("ac1f"),s("1276"),s("b0c0"),s("2f62")),l={props:{value:{type:[String,File,Object],default:void 0},default:{type:[String,File],default:void 0},text:{type:String,default:void 0},id:{type:String,default:""},label:{type:String,default:"Browse file from here"},hint:{type:String,default:void 0},errorMessages:{type:[String,Array],default:function(){return[]}},hideDetails:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},appliedClass:{type:String,default:""},returnObject:{type:Boolean,default:!1},maxSize:{type:Number,default:5}},data:function(){return{fileName:null}},watch:{default:{handler:function(t){!t||t instanceof File||(this.fileName=t)},immediate:!0},value:function(t){t||(this.fileName=""),document.getElementById("fileUpload").value=null}},methods:Object(r["a"])(Object(r["a"])({},Object(o["d"])({setSnackBar:"common/setSnackBar"})),{},{pickFile:function(){this.$refs.upload.click()},upload:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function s(){var i,a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:i=new FileReader,i.readAsDataURL(t.target.files[0]),a="",1===t.target.files[0].name.split(".").length?a="Please upload known file type.":t.target.files[0].size>1024*e.maxSize*1024?a="File size cannot be greater than ".concat(e.maxSize,"MB."):"svg"===t.target.files[0].name.split(".").pop()&&(a="SVG image not allowed here."),a?e.setSnackBar({text:a,color:"red"}):i.onload=function(){e.returnObject?e.$emit("input",{file_name:t.target.files[0].name,file_content:t.target.files[0]}):e.$emit("input",t.target.files[0]),e.$emit("blur"),e.$emit("update",i.result),e.fileName=t.target.files[0].name};case 5:case"end":return s.stop()}}),s)})))()},clear:function(){this.fileName=null,this.returnObject?this.$emit("input",{file_name:"",file_content:""}):this.$emit("input",this.fileName)}})},c=l,u=s("2877"),d=s("6544"),h=s.n(d),p=s("8654"),m=Object(u["a"])(c,i,a,!1,null,null,null);e["a"]=m.exports;h()(m,{VTextField:p["a"]})},fab2:function(t,e,s){"use strict";e["a"]={getUserList:"/users/",postUser:"/users/",autocomplete:"/users/autocomplete/",postImportUser:"/users/import/",downloadUserImportSample:function(t){return"/users/import/sample/?organization=".concat(t)},getUserDetail:function(t){return"/users/".concat(t,"/")},getInternalUserDetail:function(t){return"/users/".concat(t,"/internal-detail")},deleteUser:function(t){return"/users/".concat(t,"/")},updateUser:function(t){return"/users/".concat(t,"/")},changePassword:function(t){return"/users/".concat(t,"/change-password/")},getUserCV:function(t){return"/users/".concat(t,"/cv/")},getProfileCompleteness:function(t){return"users/".concat(t,"/profile-completeness/")}}}}]);