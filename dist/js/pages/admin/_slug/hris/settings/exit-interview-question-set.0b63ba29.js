(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages/admin/_slug/hris/settings/exit-interview-question-set","chunk-2d0c8a11"],{"17cc":function(e,t,a){"use strict";var i=a("b85c"),s=a("1da1"),n=a("5530");a("96cf"),a("ac1f"),a("841c"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("b64b");t["a"]={data:function(){return{fetchedResults:[],response:{},extra_data:"",appliedFilters:{},footerProps:{itemsPerPageOptions:[10,20,30,40,50,100]},pagination:{sortBy:["modified_at"],descending:!1,totalItems:0,page:1,rowsPerPage:10,pageCount:0},triggerDataTable:!0,fullParams:""}},created:function(){this.getParams(this.DataTableFilter)},methods:{getParams:function(e){var t=Object(n["a"])(Object(n["a"])({},e),{},{offset:(this.pagination.page-1)*this.pagination.rowsPerPage,limit:this.pagination.rowsPerPage,ordering:this.pagination.descending?this.pagination.sortBy:"-"+this.pagination.sortBy});this.fullParams=this.convertToURLSearchParams(t)},loadDataTable:function(e){this.response=e,this.fetchedResults=e.results,this.pagination.totalItems=e.count,this.extra_data=e.extra_data,this.triggerDataTable=!0},fetchData:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return console.warn("DatatableMixin: fetchData has been deprecated. Please use the function in page itself."),i=Object(n["a"])(Object(n["a"])(Object(n["a"])({},e),t.appliedFilters),{},{search:t.search,offset:(t.pagination.page-1)*t.pagination.rowsPerPage,limit:t.pagination.rowsPerPage,ordering:t.pagination.descending?t.pagination.sortBy:"-"+t.pagination.sortBy}),s=t.convertToURLSearchParams(i),t.loading=!0,a.next=6,t.$http.get(t.endpoint,{params:s}).then((function(e){t.response=e,t.fetchedResults=e.results,t.pagination.totalItems=e.count})).finally((function(){t.loading=!1}));case 6:case"end":return a.stop()}}),a)})))()},applyFilters:function(e){this.appliedFilters=e,this.fetchData(e)},convertToURLSearchParams:function(e){for(var t=new URLSearchParams,a=0,s=Object.keys(e);a<s.length;a++){var n=s[a],r=e[n];if(void 0===r&&(r=""),Array.isArray(r)){var o,l=Object(i["a"])(r);try{for(l.s();!(o=l.n()).done;){var c=o.value;t.append(n,c)}}catch(d){l.e(d)}finally{l.f()}}else t.append(n,r)}return t},loadDataTableChange:function(){var e=this;this.triggerDataTable&&(this.getParams(this.DataTableFilter),this.$nextTick((function(){e.fetchDataTable()})))}},watch:{DataTableFilter:function(e){this.fetchedResults=[],this.getParams(e),this.fetchDataTable(),this.pagination.page=1},"pagination.sortBy":function(){this.fetchedResults=[],this.loadDataTableChange()},"pagination.descending":function(){this.fetchedResults=[],this.loadDataTableChange()},"pagination.page":function(){this.fetchedResults=[],this.loadDataTableChange()},"pagination.rowsPerPage":function(){this.fetchedResults=[],this.loadDataTableChange()}}}},"4e53":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-row",{staticClass:"pb-1",attrs:{"no-gutters":"",align:"center"}},[a("v-col",{staticClass:"pl-1 text-caption",attrs:{md:"6",cols:"12"}},[a("v-row",{staticClass:"px-2",attrs:{align:"center","no-gutters":""}},[a("v-col",{attrs:{cols:e.small?"8":"4"}},[e._v(" Rows Per Page :")]),a("v-col",{attrs:{cols:e.small?"4":"2"}},[a("v-select",{staticClass:"ma-0 text-caption",attrs:{"hide-details":"",dense:"",items:e.footerProps.itemsPerPageOptions},on:{change:function(t){return e.loadData(t)}},model:{value:e.pagination.rowsPerPage,callback:function(t){e.$set(e.pagination,"rowsPerPage",t)},expression:"pagination.rowsPerPage"}})],1)],1)],1),a("v-col",{staticClass:"text-right",attrs:{md:"6",cols:"12"}},[a("v-row",{attrs:{align:"center","no-gutters":""}},[a("v-col",{attrs:{offset:e.small?"0":"6"}}),a("v-col",{staticClass:"text-caption",attrs:{cols:e.small?"8":"4"}},[e._v(" Showing "),0===e.pagination.totalItems?a("span",[e._v(" 0 ")]):a("span",[e._v(" "+e._s(e.pagination.page*e.pagination.rowsPerPage-(e.pagination.rowsPerPage-1))+" ")]),e._v(" - "),e.pagination.totalItems>e.pagination.page*e.pagination.rowsPerPage?a("span",[e._v(" "+e._s(e.pagination.page*e.pagination.rowsPerPage)+" ")]):a("span",[e._v(" "+e._s(e.pagination.totalItems)+" ")]),e._v(" of "+e._s(e.pagination.totalItems)+" ")]),a("v-col",{attrs:{cols:e.small?"4":"2"}},[a("v-icon",{attrs:{text:"",disabled:!e.response.previous||e.loading},domProps:{textContent:e._s("mdi-chevron-left")},on:{click:function(t){e.pagination.page--}}}),a("v-icon",{attrs:{text:"",disabled:!e.response.next||e.loading},domProps:{textContent:e._s("mdi-chevron-right")},on:{click:function(t){e.pagination.page++}}})],1)],1)],1)],1)},s=[],n={props:{pagination:{type:Object,required:!0},footerProps:{type:Object,required:!0},response:{type:[Array,Object],required:!0},small:{type:Boolean,required:!1,default:!1},loading:{type:Boolean,default:!1}},methods:{loadData:function(e){this.pagination.page=1,this.pagination.rowsPerPage=e}}},r=n,o=a("2877"),l=a("6544"),c=a.n(l),d=a("62ad"),u=a("132d"),m=a("0fd9b"),h=a("b974"),p=Object(o["a"])(r,i,s,!1,null,null,null);t["a"]=p.exports;c()(p,{VCol:d["a"],VIcon:u["a"],VRow:m["a"],VSelect:h["a"]})},5660:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"d-flex space-between"},[a("v-autocomplete",{key:e.componentKey,ref:"autoComplete",class:e.appliedClass,attrs:{id:e.id,items:e.itemsSorted,"search-input":e.search,loading:e.isLoading,multiple:e.multiple,label:e.label,error:e.errorMessages.length>0,"error-messages":e.errorMessages,disabled:e.disabled,readonly:e.readonly,"data-cy":"autocomplete-"+e.dataCyVariable,"prepend-inner-icon":e.prependInnerIcon,clearable:e.clearable&&!e.readonly,"hide-details":e.hideDetails,"item-text":e.itemText,"item-value":e.itemValue,"small-chips":e.multiple||e.chips,"deletable-chips":e.multiple,hint:e.hint,"persistent-hint":e.persistentHint,chips:e.chips,solo:e.solo,flat:e.flat,"cache-items":e.cacheItems,placeholder:e.placeholder,dense:e.dense,"hide-selected":"","hide-no-data":""},on:{"update:searchInput":function(t){e.search=t},"update:search-input":function(t){e.search=t},focus:e.populateOnFocus,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.searchText())},change:e.updateState,blur:function(t){return e.$emit("blur")}},scopedSlots:e._u([{key:"selection",fn:function(t){return[e._t("selection",(function(){return[e.itemText&&t.item?a("div",[e.multiple||e.chips?a("v-chip",{attrs:{close:(e.clearable||!e.clearable&&!e.multiple)&&!e.readonly,small:""},on:{"click:close":function(a){return e.remove(t.item)}}},[t.item[e.itemText]?a("div",[t.item[e.itemText].length>40?a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(i){var s=i.on;return[a("span",e._g({},s),[e._v(" "+e._s(e._f("truncate")(t.item[e.itemText],40)))])]}}],null,!0)},[a("span",[e._v(e._s(t.item[e.itemText]))])]):a("span",[e._v(e._s(t.item[e.itemText]))])],1):a("div",[a("span",[e._v(e._s(t.item))])])]):a("div",[t.item[e.itemText]?a("div",[t.item[e.itemText].length>40?a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(i){var s=i.on;return[a("span",e._g({},s),[e._v(" "+e._s(e._f("truncate")(t.item[e.itemText],40)))])]}}],null,!0)},[a("span",[e._v(e._s(t.item[e.itemText]))])]):a("span",[e._v(e._s(t.item[e.itemText]))])],1):a("div",[a("span",[e._v(e._s(t.item))])])])],1):e._e()]}),{props:t})]}},{key:"item",fn:function(t){return[a("v-list-item-content",[a("v-list-item-title",[e._t("item",(function(){return[e.itemText&&t.item?a("div",[t.item[e.itemText]?a("div",[t.item[e.itemText].length>40?a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(i){var s=i.on;return[a("span",e._g({},s),[e._v(" "+e._s(e._f("truncate")(t.item[e.itemText],40)))])]}}],null,!0)},[a("span",[e._v(e._s(t.item[e.itemText]))])]):a("span",[e._v(e._s(t.item[e.itemText]))])],1):a("div",[a("span",[e._v(e._s(t.item))])])]):e._e()]}),{props:t})],2)],1)]}},{key:"append-item",fn:function(){return[!e.fullyLoaded&&e.showMoreIcon?a("div",[a("v-list-item-content",{staticClass:"px-4 pointer primary--text font-weight-bold"},[a("v-list-item-title",{on:{click:function(t){return e.fetchData()}}},[e._v(" Load More Items ... ")])],1)],1):e._e()]},proxy:!0}],null,!0),model:{value:e.selectedData,callback:function(t){e.selectedData=t},expression:"selectedData"}}),e._t("default")],2)},s=[],n=a("2909"),r=a("5530"),o=a("53ca"),l=a("1da1"),c=(a("96cf"),a("a9e3"),a("ac1f"),a("841c"),a("7db0"),a("d81d"),a("159b"),a("4de4"),a("4e827"),a("2ca0"),a("d3b7"),a("c740"),a("a434"),a("3ca3"),a("ddb0"),a("2b3d"),a("caad"),a("2532"),a("63ea")),d=a.n(c),u={props:{value:{type:[Number,String,Array,Object],default:void 0},id:{type:String,default:""},dataCyVariable:{type:String,default:""},endpoint:{type:String,default:""},itemText:{type:String,required:!0},itemValue:{type:String,required:!0},params:{type:Object,required:!1,default:function(){return{}}},itemsToExclude:{type:[Array,Number],default:null},forceFetch:{type:Boolean,default:!1},staticItems:{type:Array,default:function(){return[]}},errorMessages:{type:[String,Array],default:function(){return[]}},label:{type:String,default:""},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},hint:{type:String,default:void 0},persistentHint:{type:Boolean,required:!1,default:!1},multiple:{type:Boolean,required:!1,default:!1},clearable:{type:Boolean,default:!0},hideDetails:{type:Boolean,default:!1},solo:{type:Boolean,default:!1},flat:{type:Boolean,default:!1},chips:{type:Boolean,default:!1},prependInnerIcon:{type:String,default:void 0},cacheItems:{type:Boolean,default:!1},appliedClass:{type:String,default:""},placeholder:{type:String,default:""},dense:{type:Boolean,default:!1}},data:function(){return{componentKey:0,items:[],selectedData:null,search:null,initialFetchStarted:!1,nextLimit:null,nextOffset:null,showMoreIcon:!1,fullyLoaded:!1,isLoading:!1}},computed:{itemsSorted:function(){return this.sortBySearch(this.items,this.search?this.search.toLowerCase():"")}},watch:{value:{handler:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var a,i,s,n,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=10;break}if(!this.forceFetch||this.initialFetchStarted){e.next=6;break}return this.initialFetchStarted=!0,e.next=5,this.fetchData();case 5:this.removeDuplicateItem();case 6:Array.isArray(t)?(s=[],"object"===Object(o["a"])(t[0])?(this.selectedData=t.map((function(e){return e[r.itemValue]})),t.forEach((function(e){var t=r.items.find((function(t){return t===e}));t||s.push(e)}))):(t.forEach((function(e){var t=r.items.find((function(t){return t[r.itemValue]===e}));t||s.push(e)})),this.selectedData=t),s.length>0&&(n=this.items).push.apply(n,s)):"object"===Object(o["a"])(t)?(this.selectedData=t[this.itemValue],a=this.items.find((function(e){return e[r.itemValue]===t})),a||this.items.push(t)):(this.selectedData=t,i=this.items.find((function(e){return e===t})),i||this.items.push(t)),this.updateData(this.selectedData),e.next=11;break;case 10:t||(this.selectedData=null);case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),immediate:!0},selectedData:function(e){this.updateData(e)},params:{handler:function(e,t){d()(e,t)||(this.fullyLoaded=!1,this.initialFetchStarted=!1,this.items=[],this.componentKey+=1)},deep:!0}},methods:{sortBySearch:function(e,t){var a=this.itemText,i=e.filter((function(e){return"object"===Object(o["a"])(e)}));return i.sort((function(e,i){return e[a].toLowerCase().startsWith(t)&&i[a].toLowerCase().startsWith(t)?e[a].toLowerCase().localeCompare(i[a].toLowerCase()):e[a].toLowerCase().startsWith(t)?-1:i[a].toLowerCase().startsWith(t)?1:e[a].toLowerCase().localeCompare(i[a].toLowerCase())}))},populateOnFocus:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.initialFetchStarted){t.next=2;break}return t.abrupt("return");case 2:return e.initialFetchStarted=!0,t.next=5,e.fetchData();case 5:e.removeDuplicateItem();case 6:case"end":return t.stop()}}),t)})))()},fetchData:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.staticItems.length>0)){t.next=3;break}return e.items=e.staticItems,t.abrupt("return");case 3:return a=e.nextLimit,i=e.nextOffset,e.search&&(a=null,i=null),e.isLoading=!0,t.next=9,e.$http.get(e.endpoint,{params:Object(r["a"])(Object(r["a"])({},e.params),{},{search:e.search,limit:a,offset:i})}).then((function(t){var a;t.results||(t.results=t),t.next?(e.showMoreIcon=!0,e.extractLimitOffset(t.next)):(e.showMoreIcon=!1,e.search||(e.fullyLoaded=!0)),e.itemsToExclude&&(t.results=e.excludeRecord(t.results)),(a=e.items).push.apply(a,Object(n["a"])(t.results))})).finally((function(){e.isLoading=!1}));case 9:case"end":return t.stop()}}),t)})))()},removeDuplicateItem:function(){var e=this,t=this.items.indexOf(this.selectedData);if(t>=0){var a=this.items.findIndex((function(t){return t[e.itemValue]===e.selectedData}));a>=0&&(this.items.splice(t,1),this.componentKey+=1)}},updateData:function(e){var t=this,a=[];e instanceof Array?e.forEach((function(e){a.unshift(t.items.find((function(a){return a[t.itemValue]===e})))})):a=this.items.find((function(a){return a[t.itemValue]===e})),this.$emit("input",e),this.$emit("update:selectedFullData",a)},searchText:function(){0!==this.$refs.autoComplete.filteredItems.length||this.fullyLoaded||this.fetchData()},extractLimitOffset:function(e){var t=new URL(e);this.nextLimit=t.searchParams.get("limit"),this.nextOffset=t.searchParams.get("offset")},excludeRecord:function(e){var t=this,a=[];return"number"===typeof this.itemsToExclude?a.push(this.itemsToExclude):a=this.itemsToExclude,e.filter((function(e){if(e[t.itemValue])return!a.includes(e[t.itemValue])}))},remove:function(e){if(this.selectedData instanceof Object){var t=this.selectedData.indexOf(e[this.itemValue]);t>=0&&this.selectedData.splice(t,1)}else this.selectedData=null},updateState:function(){this.search="",this.nextLimit&&(this.showMoreIcon=!0)}}},m=u,h=a("2877"),p=a("6544"),f=a.n(p),v=a("c6a6"),g=a("cc20"),b=a("5d23"),x=a("3a2f"),w=Object(h["a"])(m,i,s,!1,null,null,null);t["default"]=w.exports;f()(w,{VAutocomplete:v["a"],VChip:g["a"],VListItemContent:b["a"],VListItemTitle:b["c"],VTooltip:x["a"]})},ceef:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("vue-page-wrapper",{attrs:{title:e.htmlTitle,"bread-crumbs":e.breadCrumbItems}},[a("v-card",[a("vue-card-title",{attrs:{title:"Exit Interview Question Set",subtitle:"The list below shows exit interview question set.",icon:"mdi-text-box-plus-outline"}}),a("v-divider")],1),a("v-row",[e.showList?a("v-col",{attrs:{md:"4",cols:"12"}},[a("v-card",[a("v-card-title",{staticClass:"pa-1 mr-1"},[a("v-subheader",{staticClass:"font-weight-bold"},[e._v("Exit Interview Forms")]),a("v-spacer"),a("v-btn",{attrs:{icon:"",fab:"","x-small":""},on:{click:function(t){return e.addNewItem()}}},[a("v-icon",{attrs:{color:"primary"}},[e._v("mdi-plus-thick")])],1)],1),a("v-divider"),a("v-data-table",{attrs:{headers:e.headers,items:e.fetchedResults,page:e.pagination.page,"items-per-page":e.pagination.rowsPerPage,"server-items-length":e.pagination.totalItems,"hide-default-footer":"","hide-default-header":"","mobile-breakpoint":0},on:{"update:page":function(t){return e.$set(e.pagination,"page",t)},"page-count":function(t){e.pagination.pageCount=t}},scopedSlots:e._u([{key:"item",fn:function(t){return[a("tr",{class:{primary:e.selectedReference===t.item}},[a("td",{staticClass:"pointer",on:{click:function(a){e.showViewForm=!0,e.showCreateForm=!1,e.selectedReference=t.item}}},[a("div",{staticClass:"font-weight-bold",class:e.selectedReference===t.item?"white--text":"primary--text"},[e._v(" "+e._s(t.item.name)+" ")])]),a("td",[a("div",{staticClass:"pointer text-right"},[a("v-icon",{attrs:{color:e.selectedReference===t.item?"white":"primary",small:""},domProps:{textContent:e._s("mdi-square-edit-outline")},on:{click:function(a){return e.updateItem(t.item)}}}),a("v-icon",{attrs:{color:e.selectedReference===t.item?"white":"danger",small:""},domProps:{textContent:e._s("mdi-trash-can-outline")},on:{click:function(a){e.selectedReference=t.item,e.deleteDialog.dialog=!0}}})],1)])])]}}],null,!1,3062848136)},[a("template",{slot:"no-data"},[a("data-table-no-data",{attrs:{loading:e.loading}})],1)],2),a("v-divider"),a("data-table-card-pagination",{attrs:{"footer-props":e.footerProps,response:e.response,pagination:e.pagination,small:""}})],1)],1):e._e(),a("v-col",{attrs:{md:e.showList?"8":"12",cols:"12"}},[e.showViewForm?a("view-form",{attrs:{"recruitment-type":"exit-interview","selected-item":e.selectedReference}}):e._e(),e.showViewForm||e.showCreateForm||!e.loading?e._e():a("default-svg-loader",{attrs:{loading:e.loading}})],1),a("v-dialog",{attrs:{scrollable:"","max-width":"1050px",persistent:""},on:{keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;e.showList=!0,e.showCreateForm=!1,e.fetchDataTable()}},model:{value:e.showCreateForm,callback:function(t){e.showCreateForm=t},expression:"showCreateForm"}},[e.showCreateForm?a("exit-interview-form",{attrs:{"form-item":e.selectedReference,"recruitment-type":"exit-interview"},on:{close:function(t){e.showList=!0,e.showCreateForm=!1,e.fetchDataTable()}}}):e._e()],1),a("vue-dialog",{attrs:{notify:e.deleteDialog},on:{close:function(t){e.deleteDialog.dialog=!1},agree:function(t){return e.deleteItem()}},model:{value:e.deleteDialog.dialog,callback:function(t){e.$set(e.deleteDialog,"dialog",t)},expression:"deleteDialog.dialog"}})],1)],1)},s=[],n=a("5530"),r=(a("d3b7"),a("3ca3"),a("ddb0"),a("99af"),a("c197")),o=a("17cc"),l=a("2f62"),c=a("0549"),d=a("a51f"),u=a("4e53"),m=a("0a8c"),h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("vue-card-title",{attrs:{title:e.formItem.id?"Update Exit Interview Form":"Create Exit Interview Form",subtitle:e.formItem.id?"Update Exit Interview Form":"Create Exit Interview Form",icon:"mdi-text-box-plus-outline",closable:""},on:{close:function(t){return e.$emit("close")}}}),a("v-card-text",{staticClass:"scrollbar-lg"},[a("v-row",{attrs:{"no-gutters":""}},[e.nonFieldErrors.length>0?a("v-col",{staticClass:"ml-4",attrs:{cols:"12"}},[a("non-field-form-errors",{attrs:{"non-field-errors":e.nonFieldErrors}})],1):e._e()],1),a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{staticClass:"mt-2 ml-4",attrs:{cols:"4"}},[a("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required|max:255",expression:"'required|max:255'"}],attrs:{counter:255,dense:"","prepend-inner-icon":"mdi-information-outline"},model:{value:e.formValues.name,callback:function(t){e.$set(e.formValues,"name",t)},expression:"formValues.name"}},"v-text-field",e.veeValidate("title","Title*"),!1))],1)],1),a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{staticClass:"ml-4"},[a("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"max:600",expression:"'max:600'"}],attrs:{counter:600,label:"Description",dense:"","prepend-inner-icon":"mdi-information-outline"},model:{value:e.formValues.description,callback:function(t){e.$set(e.formValues,"description",t)},expression:"formValues.description"}},"v-text-field",e.veeValidate("description","Description"),!1))],1)],1),a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{staticClass:"ml-4",attrs:{cols:"6"}},[a("vue-auto-complete",{staticClass:"mr-12",attrs:{endpoint:e.referenceCheckEndpoint,params:{category:"exit-interview"},"item-text":"title","prepend-inner-icon":"mdi-text-box-outline",label:"Select Reference Category To Select Preferred Questions","item-value":"slug","hide-details":""},on:{input:e.getQuestionByCategory},model:{value:e.referenceCategory,callback:function(t){e.referenceCategory=t},expression:"referenceCategory"}})],1)],1),a("div",{staticClass:"pt-6"},[e.showForm&&!e.loading?a("div",{staticClass:"scrollbar-thin",staticStyle:{height:"550px"}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{md:"5",cols:"12"}},[a("v-row",{attrs:{align:"center"}},[a("v-col",{staticClass:"py-0 text-subtitle-1 font-weight-bold blueGrey--text",attrs:{cols:"12",md:"9"}},[a("span",[e._v(" "+e._s("Select Questions ("+e.searchedItemList.length+")")+" ")])]),a("v-col",{staticClass:"py-0",attrs:{md:"3",cols:"12"}},[a("v-btn",{staticClass:"blueGrey--text",attrs:{small:"",text:""},on:{click:e.selectAllElement}},[a("v-icon",{attrs:{small:""}},[e._v("mdi-plus-box-outline")]),e._v("Add All ")],1)],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-card",{staticClass:"blue lighten-5",attrs:{outlined:""}},[a("v-card-title",{staticClass:"pb-2"},[a("v-text-field",{staticClass:"white",attrs:{label:"Search",dense:"",outlined:"","hide-details":"","prepend-inner-icon":"mdi-magnify"},model:{value:e.searchItem,callback:function(t){e.searchItem=t},expression:"searchItem"}})],1),a("v-card-text",{staticClass:"blue lighten-5 scrollbar-thin",staticStyle:{height:"400px"}},[a("v-list",{staticClass:"blue lighten-5",attrs:{dense:""}},[a("v-list-item-group",[e._l(e.searchedItemList,(function(t,i){return a("v-list-item",{key:t.id,attrs:{dense:""}},[a("v-list-item-content",{staticClass:"py-0"},[a("v-row",{attrs:{"no-gutters":"",align:"center"}},[a("v-col",[a("v-row",{staticClass:"text--primary",attrs:{"no-gutters":""}},[a("v-col",{staticClass:"px-0 mx-0",attrs:{cols:"1"}},[a("span",{domProps:{textContent:e._s(i+1+". ")}})]),a("v-col",[a("span",{staticClass:"remove-margin",domProps:{innerHTML:e._s(t.title)}})])],1)],1),a("v-list-item-action",[a("v-icon",{attrs:{size:"20",color:"blueGrey"},on:{click:function(a){return e.selectElement(t)}}},[e._v(" mdi-plus-box-outline")])],1)],1),a("v-divider")],1)],1)})),e.searchedItemList&&0===e.searchedItemList.length?a("vue-no-data",{attrs:{text:"No results found."}}):e._e()],2)],1)],1)],1)],1)],1)],1),a("v-col",{attrs:{md:"1",cols:"12"}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{staticClass:"text-center"},[a("v-icon",[e._v("mdi-swap-horizontal")])],1)],1)],1),a("v-col",{attrs:{md:"5",cols:"12"}},[a("v-row",{attrs:{align:"center"}},[a("v-col",{staticClass:"py-0 text-subtitle-1 font-weight-bold blueGrey--text",attrs:{cols:"12",md:"9"}},[a("span",[e._v(" "+e._s("List of Selected Questions ("+e.searchedSelectedItemList.length+") "))])]),a("v-col",{staticClass:"py-0",attrs:{md:"3",cols:"12"}},[a("v-btn",{staticClass:"red--text",attrs:{small:"",text:""},on:{click:e.removeAllItem}},[a("v-icon",{attrs:{small:""}},[e._v("mdi-trash-can-outline")]),e._v("Delete All ")],1)],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-card",{staticClass:"blue lighten-5",attrs:{outlined:""}},[a("v-card-title",{staticClass:"pb-2"},[a("v-text-field",{staticClass:"white",attrs:{label:"Search",dense:"","hide-details":"",outlined:"","prepend-inner-icon":"mdi-magnify"},model:{value:e.searchSelectedItem,callback:function(t){e.searchSelectedItem=t},expression:"searchSelectedItem"}})],1),a("v-card-text",{staticClass:"blue lighten-5 scrollbar-thin",staticStyle:{height:"400px"}},[a("v-list",{staticClass:"blue lighten-5",attrs:{dense:""}},[a("v-list-item-group",[e._l(e.searchedSelectedItemList,(function(t,i){return a("v-list-item",{key:t.id},[a("v-list-item-content",{staticClass:"py-0"},[a("v-row",{attrs:{"no-gutters":"",align:"center"}},[a("v-col",[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{staticClass:"px-0 mx-0",attrs:{cols:"1"}},[a("span",{domProps:{textContent:e._s(i+1+". ")}})]),a("v-col",[a("span",{staticClass:"remove-margin",domProps:{innerHTML:e._s(t.title)}})])],1)],1),a("v-list-item-action",[a("v-icon",{attrs:{size:"20",color:"red"},on:{click:function(a){return e.removeElement(t)}}},[e._v(" mdi-trash-can-outline")])],1)],1),a("v-divider")],1)],1)})),e.searchedSelectedItemList&&0===e.searchedSelectedItemList.length?a("vue-no-data",{attrs:{text:"No results found."}}):e._e()],2)],1)],1)],1)],1)],1)],1)],1)],1):e._e(),e.loading?a("default-svg-loader"):e._e(),a("v-divider")],1)],1),a("v-card-actions",[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{staticClass:"text-right"},[a("v-btn",{attrs:{small:"",text:""},on:{click:function(t){return e.$emit("close")}}},[e._v("Cancel")]),a("v-btn",{attrs:{small:"",color:"primary"},on:{click:function(t){e.formItem.id?e.updateReferenceQuestion():e.insertSelectedItems()}}},[e._v(" "+e._s(e.formItem.id?"Update":"Save")+" ")])],1)],1)],1)],1)},p=[],f=a("2909"),v=(a("4de4"),a("caad"),a("2532"),a("b0c0"),a("a4d3"),a("e01a"),a("d81d"),a("c740"),a("a434"),a("e585")),g=a("ab8a"),b=a("c44a"),x=a("5660"),w={name:"ExitInterviewForm",components:{VueNoData:v["default"],DefaultSvgLoader:r["default"],VueAutoComplete:x["default"],NonFieldFormErrors:g["default"]},mixins:[b["a"]],props:{formItem:{type:Object,default:function(){return{}}}},data:function(){return{referenceCheckEndpoint:"",formValues:{},referenceCategory:"",searchSelectedItem:"",searchItem:"",selectedItemList:[],searchedSelectedItemList:[],itemList:[],searchedItemList:[],loading:!1,showForm:!1}},computed:{searchItemList:function(){var e=this;return this.itemList.filter((function(t){return t.title.toLowerCase().includes(e.searchItem.toLowerCase())}))}},watch:{searchItem:{handler:function(){this.updateItemList()}},searchSelectedItem:function(){this.updateSelectedItemList()}},created:function(){var e=this;this.referenceCheckEndpoint="/questionnaire/".concat(this.getOrganizationSlug,"/question-categories/"),this.formItem.id&&this.$nextTick((function(){e.loading=!0,e.formValues.name=e.formItem.name,e.formValues.description=e.formItem.description,e.selectedItemList=e.formItem.questions||[],e.searchedSelectedItemList=e.formItem.questions||[],e.loading=!1,e.showForm=!0}))},methods:{getQuestionByCategory:function(e){var t=this;e&&(this.loading=!0,this.$http.get("/questionnaire/".concat(this.getOrganizationSlug,"/questions/?category__slug=").concat(e)).then((function(e){var a=e.results,i=t.selectedItemList.map((function(e){return e.id})),s=a.filter((function(e){return!i.includes(e.id)}));t.itemList=s,t.searchedItemList=s,t.loading=!1,t.showForm=!0})))},updateItemList:function(){var e=this;this.searchedItemList=this.itemList.filter((function(t){var a="";return t.title&&(a=t.title.toLowerCase().includes(e.searchItem.toLowerCase())),a}))},updateSelectedItemList:function(){var e=this;this.searchedSelectedItemList=this.selectedItemList.filter((function(t){var a="";return t.title&&(a=t.title.toLowerCase().includes(e.searchSelectedItem.toLowerCase())),a}))},selectElement:function(e){var t=this.itemList.findIndex((function(t){return t.id===e.id}));this.itemList.splice(t,1),this.selectedItemList.unshift(e),this.searchSelectedItem="",this.updateItemList(),this.updateSelectedItemList()},selectAllElement:function(){var e;this.searchedItemList=[],(e=this.selectedItemList).push.apply(e,Object(f["a"])(this.itemList)),this.itemList=[],this.searchSelectedItem="",this.searchItem="",this.updateSelectedItemList(),this.updateItemList()},removeElement:function(e){var t=this.selectedItemList.findIndex((function(t){return t.id===e.id}));this.selectedItemList.splice(t,1),this.itemList.unshift(e),this.searchItem="",this.updateItemList(),this.updateSelectedItemList()},removeAllItem:function(){var e;this.searchedSelectedItemList=[],(e=this.itemList).push.apply(e,Object(f["a"])(this.selectedItemList)),this.selectedItemList=[],this.searchSelectedItem="",this.searchItem="",this.updateSelectedItemList(),this.updateItemList()},insertSelectedItems:function(){var e=this;this.validateAllFields(),this.selectedItemList.length?(this.formValues.questions=this.selectedItemList.map((function(e){return e.id})),this.$http.post("hris/".concat(this.getOrganizationSlug,"/exit-interview/question-set/"),this.formValues).then((function(){e.notifyUser("Successfully created Exit Interview Question.","green"),e.$emit("close")})).finally((function(){}))):this.notifyUser("Please select questions.","red")},updateReferenceQuestion:function(){var e=this;this.validateAllFields(),this.formValues.questions=this.selectedItemList.map((function(e){return e.id})),this.$http.put("/hris/".concat(this.getOrganizationSlug,"/exit-interview/question-set/").concat(this.formItem.id,"/"),this.formValues).then((function(){e.notifyUser("Successfully updated Exit Interview Question.","green"),e.$emit("close")})).catch((function(t){e.notifyInvalidFormResponse(),e.pushErrors(t)}))}}},y=w,I=a("2877"),C=a("6544"),_=a.n(C),L=a("8336"),S=a("b0af"),D=a("99d9"),V=a("62ad"),T=a("ce7e"),k=a("132d"),P=a("8860"),F=a("da13"),O=a("1800"),R=a("5d23"),E=a("1baa"),j=a("0fd9b"),B=a("8654"),$=Object(I["a"])(y,h,p,!1,null,"3045f1eb",null),q=$.exports;_()($,{VBtn:L["a"],VCard:S["a"],VCardActions:D["a"],VCardText:D["c"],VCardTitle:D["d"],VCol:V["a"],VDivider:T["a"],VIcon:k["a"],VList:P["a"],VListItem:F["a"],VListItemAction:O["a"],VListItemContent:R["a"],VListItemGroup:E["a"],VRow:j["a"],VTextField:B["a"]});var A=function(){return a.e("chunk-2d216237").then(a.bind(null,"c0d8"))},Q={components:{ExitInterviewForm:q,DataTableCardPagination:u["a"],DataTableNoData:d["default"],VuePageWrapper:c["default"],DefaultSvgLoader:r["default"],ViewForm:A},mixins:[o["a"]],data:function(){return{settingsName:"Exit Interview Question Set.",htmlTitle:"Exit Interview Question Set | Settings | HRIS | Admin",breadCrumbItems:[{text:"HRIS",disabled:!1,to:{name:"admin-slug-hris-overview",params:{slug:this.$route.params.slug}}},{text:"Settings",disabled:!1,to:{name:"admin-slug-hris-settings",params:{slug:this.$route.params.slug}}},{text:"Exit Interview Question Set",disabled:!0}],headers:[{text:"Title",value:"title",sortable:!0},{text:"Action",sortable:!1}],loading:!1,showList:!1,showCreateForm:!1,showViewForm:!1,selectedReference:{},deleteDialog:{dialog:!1,heading:"Confirm Delete",text:"Are you sure you want to delete this Question Set?"}}},computed:{DataTableFilter:function(){return{}}},watch:{selectedTab:function(){this.showViewForm=!1,this.showCreateForm=!1,this.fetchDataTable()}},created:function(){this.loadDataTableChange()},methods:Object(n["a"])(Object(n["a"])({},Object(l["d"])({setSnackBar:"common/setSnackBar"})),{},{fetchDataTable:function(){var e=this;this.loading=!0,this.$http.get(m["a"].getExitInterviewQuestionList(this.getOrganizationSlug),{params:this.fullParams}).then((function(t){e.loadDataTable(t),e.showList=!0,t.results.length>0&&(e.showViewForm=!0,e.selectedReference=t.results[0])})).finally((function(){return e.loading=!1}))},addNewItem:function(){var e=this;this.showList=!1,this.selectedReference={},this.showViewForm=!1,this.showCreateForm=!1,this.$nextTick((function(){e.showCreateForm=!0}))},updateItem:function(e){var t=this;this.showList=!1,this.showViewForm=!1,this.selectedReference=e,this.showCreateForm=!1,this.$nextTick((function(){t.showCreateForm=!0}))},deleteItem:function(){var e=this;this.$http.delete("/hris/".concat(this.getOrganizationSlug,"/exit-interview/question-set/").concat(this.selectedReference.id)).then((function(){e.deleteDialog.dialog=!1,e.fetchDataTable(),e.setSnackBar({text:"Successfully deleted Exit Interview\n            Question set.",color:"green"})})).catch((function(t){t.response.data&&(e.setSnackBar({text:t.response.data.error,color:"red"}),e.deleteDialog.dialog=!1)}))}})},M=Q,N=a("8fea"),U=a("169a"),z=a("2fa4"),H=a("e0c7"),G=Object(I["a"])(M,i,s,!1,null,null,null);t["default"]=G.exports;_()(G,{VBtn:L["a"],VCard:S["a"],VCardTitle:D["d"],VCol:V["a"],VDataTable:N["a"],VDialog:U["a"],VDivider:T["a"],VIcon:k["a"],VRow:j["a"],VSpacer:z["a"],VSubheader:H["a"]})}}]);