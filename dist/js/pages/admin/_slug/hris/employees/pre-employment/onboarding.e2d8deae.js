(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages/admin/_slug/hris/employees/pre-employment/onboarding","chunk-26c51c79","chunk-31f8a6e6","chunk-6a942d56","chunk-2d0c8a11","/pages/admin/_slug/recruitment/external-interviewer-list~/pages/careers/_jobSLug/job-apply.vue~/page~38f6bbe4","chunk-2d2259e9","chunk-6441e173","chunk-aee42bec","chunk-2d2160c2","chunk-1b4245df","chunk-2d2160c2","chunk-67ccef97","chunk-20176648","chunk-1a24631a","chunk-511bcae8","chunk-63c80d7a","chunk-da62e0c8","chunk-2d22d378","chunk-2d213000","chunk-2d0d6ae8","chunk-2d2160c2","chunk-2d2160c2","chunk-2d2160c2"],{"0116":function(e,t,n){"use strict";n("99af");t["a"]={getTaskTemplate:function(e){return"/hris/".concat(e,"/employment/template/")},postTaskTemplate:function(e){return"/hris/".concat(e,"/employment/template/")},updateTaskTemplate:function(e,t){return"/hris/".concat(e,"/employment/template/").concat(t,"/")},deleteTaskTemplate:function(e,t){return"/hris/".concat(e,"/employment/template/").concat(t,"/")}}},"0549":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-row",{staticClass:"mb-3",attrs:{"no-gutters":""}},[e.breadCrumbs?n("v-col",{attrs:{cols:"12"}},[n("v-card",{attrs:{flat:""}},[n("v-breadcrumbs",{staticClass:"text-body-1 pa-2",class:{"text-caption pa-1":e.$vuetify.breakpoint.xs},attrs:{items:e.breadCrumbs},scopedSlots:e._u([{key:"item",fn:function(t){return[n("span",{class:t.item.disabled?"grey--text":"baseColor--text text--accent-2 pointer",domProps:{textContent:e._s(t.item.text)},on:{click:function(n){return e.$router.push(t.item.to)}}})]}}],null,!1,1670153796)},[n("v-icon",{attrs:{slot:"divider"},slot:"divider"},[e._v("mdi-chevron-right")])],1)],1)],1):e._e()],1),n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"12"}},[e._t("default")],2)],1)],1)},i=[],o=n("5530"),r=(n("ac1f"),n("1276"),n("b0c0"),n("2f62")),s={props:{title:{type:String,required:!0},breadCrumbs:{type:Array,default:function(){return[]}}},computed:Object(o["a"])({},Object(r["c"])({getOrganizationName:"organization/getOrganizationName",getSupervisorSwitchedOrganization:"supervisor/getSwitchedOrganization"})),mounted:function(){document.title="".concat(this.title," | RealHRsoft");var e=this.$route.params.slug?"admin-slug-dashboard":"root",t=this.$route.name.split("-"),n=this.getOrganizationName;this.getSupervisorSwitchedOrganization&&"user"===t[0]&&"supervisor"===t[1]&&(n=this.getSupervisorSwitchedOrganization.name),this.breadCrumbs.unshift({text:n,disabled:!1,to:{name:e,params:{slug:this.$route.params.slug}}})}},l=s,c=n("2877"),u=n("6544"),d=n.n(u),p=n("2bc5"),m=n("b0af"),h=n("62ad"),f=n("132d"),v=n("0fd9b"),g=Object(c["a"])(l,a,i,!1,null,null,null);t["default"]=g.exports;d()(g,{VBreadcrumbs:p["a"],VCard:m["a"],VCol:h["a"],VIcon:f["a"],VRow:v["a"]})},"0780":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.userData.length?e._e():n("p",{domProps:{textContent:e._s("Selected users will appear here ...")}}),n("v-row",{attrs:{justify:"start"}},e._l(e.userData,(function(t,a){return n("v-col",{key:a,attrs:{md:"4"}},[n("v-list",{attrs:{"two-line":""}},[n("v-list-item",[n("v-list-item-avatar",[n("v-img",{attrs:{src:t.profile_picture}})],1),n("v-list-item-content",[n("v-list-item-title",{domProps:{textContent:e._s(t.full_name)}}),n("v-list-item-subtitle",{domProps:{textContent:e._s(t.division)}})],1)],1)],1)],1)})),1)],1)},i=[],o={props:{userData:{type:[Array],default:function(){return[]}}}},r=o,s=n("2877"),l=n("6544"),c=n.n(l),u=n("62ad"),d=n("adda"),p=n("8860"),m=n("da13"),h=n("8270"),f=n("5d23"),v=n("0fd9b"),g=Object(s["a"])(r,a,i,!1,null,null,null);t["a"]=g.exports;c()(g,{VCol:u["a"],VImg:d["a"],VList:p["a"],VListItem:m["a"],VListItemAvatar:h["a"],VListItemContent:f["a"],VListItemSubtitle:f["b"],VListItemTitle:f["c"],VRow:v["a"]})},"0798":function(e,t,n){"use strict";var a=n("5530"),i=n("ade3"),o=(n("caad"),n("0c18"),n("10d2")),r=n("afdd"),s=n("9d26"),l=n("f2e7"),c=n("7560"),u=n("f40d"),d=n("58df"),p=n("d9bd");t["a"]=Object(d["a"])(o["a"],l["a"],u["a"]).extend({name:"v-alert",props:{border:{type:String,validator:function(e){return["top","right","bottom","left"].includes(e)}},closeLabel:{type:String,default:"$vuetify.close"},coloredBorder:Boolean,dense:Boolean,dismissible:Boolean,closeIcon:{type:String,default:"$cancel"},icon:{default:"",type:[Boolean,String],validator:function(e){return"string"===typeof e||!1===e}},outlined:Boolean,prominent:Boolean,text:Boolean,type:{type:String,validator:function(e){return["info","error","success","warning"].includes(e)}},value:{type:Boolean,default:!0}},computed:{__cachedBorder:function(){if(!this.border)return null;var e={staticClass:"v-alert__border",class:Object(i["a"])({},"v-alert__border--".concat(this.border),!0)};return this.coloredBorder&&(e=this.setBackgroundColor(this.computedColor,e),e.class["v-alert__border--has-color"]=!0),this.$createElement("div",e)},__cachedDismissible:function(){var e=this;if(!this.dismissible)return null;var t=this.iconColor;return this.$createElement(r["a"],{staticClass:"v-alert__dismissible",props:{color:t,icon:!0,small:!0},attrs:{"aria-label":this.$vuetify.lang.t(this.closeLabel)},on:{click:function(){return e.isActive=!1}}},[this.$createElement(s["a"],{props:{color:t}},this.closeIcon)])},__cachedIcon:function(){return this.computedIcon?this.$createElement(s["a"],{staticClass:"v-alert__icon",props:{color:this.iconColor}},this.computedIcon):null},classes:function(){var e=Object(a["a"])(Object(a["a"])({},o["a"].options.computed.classes.call(this)),{},{"v-alert--border":Boolean(this.border),"v-alert--dense":this.dense,"v-alert--outlined":this.outlined,"v-alert--prominent":this.prominent,"v-alert--text":this.text});return this.border&&(e["v-alert--border-".concat(this.border)]=!0),e},computedColor:function(){return this.color||this.type},computedIcon:function(){return!1!==this.icon&&("string"===typeof this.icon&&this.icon?this.icon:!!["error","info","success","warning"].includes(this.type)&&"$".concat(this.type))},hasColoredIcon:function(){return this.hasText||Boolean(this.border)&&this.coloredBorder},hasText:function(){return this.text||this.outlined},iconColor:function(){return this.hasColoredIcon?this.computedColor:void 0},isDark:function(){return!(!this.type||this.coloredBorder||this.outlined)||c["a"].options.computed.isDark.call(this)}},created:function(){this.$attrs.hasOwnProperty("outline")&&Object(p["a"])("outline","outlined",this)},methods:{genWrapper:function(){var e=[this.$slots.prepend||this.__cachedIcon,this.genContent(),this.__cachedBorder,this.$slots.append,this.$scopedSlots.close?this.$scopedSlots.close({toggle:this.toggle}):this.__cachedDismissible],t={staticClass:"v-alert__wrapper"};return this.$createElement("div",t,e)},genContent:function(){return this.$createElement("div",{staticClass:"v-alert__content"},this.$slots.default)},genAlert:function(){var e={staticClass:"v-alert",attrs:{role:"alert"},on:this.listeners$,class:this.classes,style:this.styles,directives:[{name:"show",value:this.isActive}]};if(!this.coloredBorder){var t=this.hasText?this.setTextColor:this.setBackgroundColor;e=t(this.computedColor,e)}return this.$createElement("div",e,[this.genWrapper()])},toggle:function(){this.isActive=!this.isActive}},render:function(e){var t=this.genAlert();return this.transition?e("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},[t]):t}})},"0a33":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[e.isCardTitle?n("vue-card-title",{attrs:{title:"Assign Supervisor to onboard "+e.fullName,subtitle:"Assign Supervisor.",icon:"mdi-file-document-outline",dark:"",closable:""},on:{close:function(t){return e.$emit("cancel")}}}):e._e(),n("v-card-text",[e.supervisorLevel?n("v-form",{on:{submit:function(t){return t.preventDefault(),e.submitForm.apply(null,arguments)}}},[n("v-row",[n("v-col",{attrs:{md:"12"}},[e.nonFieldErrors?n("non-field-form-errors",{attrs:{"non-field-errors":e.nonFieldErrors}}):e._e()],1)],1),n("v-row",{attrs:{"no-gutters":""}},[n("v-col",[n("v-checkbox",{attrs:{label:"Do not assign any supervisor?"},model:{value:e.has_no_supervisor,callback:function(t){e.has_no_supervisor=t},expression:"has_no_supervisor"}})],1)],1),e._l(e.supervisorLevel,(function(t,a){return[e.has_no_supervisor?e._e():n("v-row",{key:a},[n("v-col",{attrs:{md:"1"}},[n("v-sheet",{staticClass:"white--text",attrs:{color:e.getLevelInfo(a).color,label:"",width:"100",height:"30"}},[n("div",{staticClass:"pt-1"},[n("v-icon",{attrs:{color:"white",left:""}},[e._v(" mdi-shield-account ")]),e._v(" "+e._s(e.getLevelInfo(a).text)+" ")],1)])],1),n("v-col",{attrs:{md:"4"}},[n("users-auto-complete",e._b({directives:[{name:"validate",rawName:"v-validate",value:"",expression:"''"}],attrs:{"data-cy-variable":"level-"+(a+1)+"-supervisor","items-to-exclude":e.excludeSupervisor(a),disabled:t.switch,clearable:!1},model:{value:t.supervisor,callback:function(n){e.$set(t,"supervisor",n)},expression:"level.supervisor"}},"users-auto-complete",e.veeValidate("supervisor","Supervisor"),!1)),n("v-checkbox",{directives:[{name:"show",rawName:"v-show",value:e.bulkAssign.length>=1,expression:"bulkAssign.length >= 1"}],staticClass:"labelStyling mt-0",attrs:{label:"Same as previous",disabled:e.disablePermission},model:{value:t.switch,callback:function(n){e.$set(t,"switch",n)},expression:"level.switch"}})],1),n("v-col",{attrs:{md:"2"}},[n("v-switch",{attrs:{"data-cy":"switch-level-"+(a+1)+"-approve-authority",disabled:e.handleApproveDisable(a)||t.switch,label:"Approve Authority"},model:{value:t.approve,callback:function(n){e.$set(t,"approve",n)},expression:"level.approve"}}),n("span",[e._v("Supervisor can approve their"),n("br"),e._v(" teams requests.")])],1),3!==t.authority_order?n("v-col",{attrs:{md:"2"}},[n("v-switch",{attrs:{"data-cy":"switch-level-"+(a+1)+"-forward-authority",disabled:e.handleForwardDisable(a)||t.switch,label:"Forward Authority"},model:{value:t.forward,callback:function(n){e.$set(t,"forward",n)},expression:"level.forward"}}),n("span",[e._v("Supervisor can forward their"),n("br"),e._v(" teams requests.")])],1):e._e(),n("v-col",{attrs:{md:"2"}},[n("v-switch",{attrs:{"data-cy":"switch-level-"+(a+1)+"-deny-authority",disabled:e.handleDenyDisable(a)||t.switch,label:"Deny Authority"},model:{value:t.deny,callback:function(n){e.$set(t,"deny",n)},expression:"level.deny"}}),n("span",[e._v("Supervisor can deny their"),n("br"),e._v(" teams requests.")])],1)],1)]})),n("v-divider"),n("v-row",{attrs:{"no-gutters":""}},[e.preEmployment?n("v-col",{staticClass:"pt-2",attrs:{md:"6"}},[n("v-btn",{attrs:{color:"primary",depressed:""},on:{click:function(t){return e.$emit("next","task-form","previous","preTask")}}},[n("v-icon",{domProps:{textContent:e._s("mdi-chevron-left")}}),n("span",{domProps:{textContent:e._s("Previous")}})],1)],1):e._e(),n("v-col",{staticClass:"text-right pt-2"},[e.preEmployment?n("v-btn",{attrs:{text:""},on:{click:function(t){return e.$emit("cancel")}}},[e._v(" Cancel ")]):e._e(),n("v-btn",{attrs:{disabled:e.errors.any(),depressed:"",color:"primary",type:"submit"}},[e._v(" "+e._s(e.preEmployment?"Next":"Save")+" ")])],1)],1)],2):e._e()],1)],1)},i=[],o=(n("a9e3"),n("4de4"),n("159b"),n("7db0"),n("d81d"),n("c44a")),r=n("ab8a"),s=n("ef8c"),l=n("791c2"),c={components:{NonFieldFormErrors:r["default"],UsersAutoComplete:s["default"]},mixins:[o["a"]],props:{fullName:{type:String,default:""},assignFor:{type:Number,required:!1,default:null},bulkAssign:{type:Array,required:!1,default:function(){return[]}},reassignData:{type:Array,required:!1,default:function(){return[]}},doNotAssign:{type:Boolean,default:!1},preEmployment:{type:Boolean,default:!1},isCardTitle:{type:Boolean,default:!1},componentType:{type:String,default:""}},data:function(){return{disablePermission:!1,supervisors:null,has_no_supervisor:this.doNotAssign,supervisorLevel:[{authority_order:1,supervisor:null,approve:!1,forward:!1,deny:!1,switch:!1},{authority_order:2,supervisor:null,approve:!1,forward:!1,deny:!1,switch:!1},{authority_order:3,supervisor:null,approve:!1,forward:!1,deny:!1,switch:!1}]}},watch:{reassignData:{handler:function(e){e.length>0?(this.supervisors=this.deepCopy(e),this.setReassignData(this.supervisors)):this.nonFieldErrorsList=[]},immediate:!0}},methods:{submitForm:function(){this.bulkAssign.length>=1?this.bulkSubmitForm():this.individualAssignForm()},individualAssignForm:function(){var e=this,t=l["a"].assignSupervisors()+"?organization_slug=".concat(this.getOrganizationSlug),n=this.supervisorLevel.filter((function(e){return!!e.supervisor}));n={user:this.assignFor,supervisors:n,has_supervisor:!0},this.has_no_supervisor&&(n={user:this.assignFor,supervisors:[],has_supervisor:!1}),this.$http.post(t,n).then((function(){e.preEmployment?e.$emit("next","letter-template","next",e.componentType):e.$emit("refreshDataTable")})).catch((function(t){e.pushErrors(t)}))},bulkSubmitForm:function(){var e=this,t=l["a"].assignBulkSupervisors()+"?organization_slug=".concat(this.getOrganizationSlug),n=this.supervisorLevel.filter((function(e){return!!e.supervisor}));n={user:this.bulkAssign,supervisors:n,has_supervisor:!0,ignore_all_authority_change:this.disablePermission,ignore_first_level_authority_change:this.supervisorLevel[0].switch,ignore_second_level_authority_change:this.supervisorLevel[1].switch,ignore_third_level_authority_change:this.supervisorLevel[2].switch},this.has_no_supervisor&&(n={user:this.bulkAssign,supervisors:[],has_supervisor:!1,ignore_all_authority_change:this.disablePermission,ignore_first_level_authority_change:this.supervisorLevel[0].switch,ignore_second_level_authority_change:this.supervisorLevel[1].switch,ignore_third_level_authority_change:this.supervisorLevel[2].switch}),this.$http.post(t,n).then((function(){e.preEmployment?e.$emit("next","letter-template","next",e.componentType):e.$emit("refreshDataTable")})).catch((function(t){e.pushErrors(t)}))},handleDisable:function(e){return this.assignFor&&this.supervisorLevel[e].supervisor===this.assignFor&&(this.notifyUser("Cannot assign supervisor to self.","red"),this.supervisorLevel[e].supervisor=null),!(0!==e||!this.supervisorLevel[1].supervisor&&!this.supervisorLevel[2].supervisor)||(!(1!==e||this.supervisorLevel[0].supervisor&&!this.supervisorLevel[2].supervisor)||2===e&&!this.supervisorLevel[1].supervisor)},getLevelInfo:function(e){var t=[{icon:"mdi-shield-account",text:"1st Level",color:"green"},{icon:"mdi-shield-account",text:"2nd Level",color:"blue"},{icon:"mdi-shield-account",text:"3rd Level",color:"amber"}];return t[e]},handleForwardDisable:function(e){if(this.bulkAssign.length>=1){if(!this.supervisorLevel[e].supervisor)return this.supervisorLevel[e].deny=!1,!0}else{var t=e+1,n=this.supervisorLevel[t].supervisor;if(!n)return this.supervisorLevel[e].forward=!1,!0}},handleApproveDisable:function(e){var t=e+1;return 3===t&&this.supervisorLevel[e].supervisor||this.supervisorLevel[e].supervisor&&!this.supervisorLevel[t].supervisor?(this.supervisorLevel[e].approve=!0,!0):this.supervisorLevel[e].supervisor?void 0:(this.supervisorLevel[e].approve=!1,!0)},handleDenyDisable:function(e){if(!this.supervisorLevel[e].supervisor)return this.supervisorLevel[e].deny=!1,!0},setReassignData:function(e){var t=this;this.supervisorLevel.forEach((function(n,a){var i=e.find((function(e){return e.authority_order===n.authority_order}));i&&(delete i.id,i.supervisor=i.supervisor.id,t.supervisorLevel[a]=i)}))},excludeSupervisor:function(e){var t=this.supervisorLevel.map((function(t,n){if(n!==e)return t.supervisor}));return t.push(this.assignFor),t}}},u=c,d=n("2877"),p=n("6544"),m=n.n(p),h=n("8336"),f=n("b0af"),v=n("99d9"),g=n("ac7c"),y=n("62ad"),b=n("ce7e"),_=n("4bd4"),k=n("132d"),x=n("0fd9b"),w=n("8dd9"),C=n("b73d"),T=Object(d["a"])(u,a,i,!1,null,null,null);t["default"]=T.exports;m()(T,{VBtn:h["a"],VCard:f["a"],VCardText:v["c"],VCheckbox:g["a"],VCol:y["a"],VDivider:b["a"],VForm:_["a"],VIcon:k["a"],VRow:x["a"],VSheet:w["a"],VSwitch:C["a"]})},"0b25":function(e,t,n){var a=n("a691"),i=n("50c4");e.exports=function(e){if(void 0===e)return 0;var t=a(e),n=i(t);if(t!==n)throw RangeError("Wrong length or index");return n}},"0c18":function(e,t,n){},"0d1d":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("vue-card-title",{attrs:{title:"Add Employee and Generate Template",subtitle:"Step 2: Add Employee, Select Employee and Generate Template Letter",icon:"mdi-file-document-outline"}}),n("v-divider"),n("v-card-text",[n("v-row",{attrs:{align:"center"}},[e.disabled?e._e():n("v-col",{attrs:{cols:"12"}},[n("div",{on:{click:e.openAddEmployee}},[n("v-icon",{attrs:{size:"20"},domProps:{textContent:e._s("mdi-account-plus-outline")}}),e._v(" Add Employee ")],1)]),n("v-col",{attrs:{cols:"4"}},[n("user-auto-complete",e._b({directives:[{name:"validate",rawName:"v-validate"}],attrs:{params:{organization:e.orgSlug,is_active:"all"},disabled:e.disabled},model:{value:e.employee,callback:function(t){e.employee=t},expression:"employee"}},"user-auto-complete",e.veeValidate("employee","Select Employee"),!1))],1),n("v-col",{attrs:{cols:"2"}},[e.disabled?n("div",[n("v-chip",{attrs:{color:"success",outlined:""}},[e._v(" Completed ")])],1):e._e()]),n("v-col",{attrs:{md:"6",cols:"12"}},[n("v-row",{attrs:{align:"center"}},[n("v-col",{attrs:{cols:"8"}},[n("vue-auto-complete",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{endpoint:e.templateEndpoint,params:{type:"on"},"item-text":"title","item-value":"slug"},model:{value:e.template,callback:function(t){e.template=t},expression:"template"}},"vue-auto-complete",e.veeValidate("letter_template","Letter Template"),!1))],1),n("v-col",{attrs:{cols:"4"}},[n("v-btn",{attrs:{color:"primary",outlined:""},on:{click:e.generateLetter}},[e._v(" Generate ")])],1)],1),e._l(e.generateDetail,(function(t,a){return n("v-row",{key:a,staticClass:"py-1"},[n("a",{staticClass:"mr-2 pt-1",on:{click:function(t){return e.viewLetter(e.generateDetail[a])}}},[e._v(" "+e._s(t.title)+" ")]),n("span",[n("v-chip",{attrs:{color:e.statusColor[t.status],small:"",outlined:""}},[e._v(" "+e._s(t.status)+" ")])],1)])}))],2)],1),n("v-dialog",{attrs:{height:"900",width:"800","hide-overlay":"","max-width":"800px"},on:{keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;e.offerLetter=!1}},model:{value:e.offerLetter,callback:function(t){e.offerLetter=t},expression:"offerLetter"}},[n("v-card",[n("vue-card-title",{attrs:{title:"Generated Letter",subtitle:"-",icon:"mdi-file-document-outline",dark:""}}),n("v-divider"),n("v-card-text",[n("v-card",{ref:"print",attrs:{border:"1",flat:""}},[e.individualLetter?n("v-card-text",{domProps:{innerHTML:e._s(e.$sanitize(e.individualLetter.message))}}):e._e()],1)],1),n("v-divider"),n("v-card-actions",[n("v-col",[n("v-btn",{attrs:{outlined:"",small:"",color:"primary",depressed:"",right:""},on:{click:e.sendOfferLetter}},[e._v(" Send ")]),n("v-btn",{attrs:{outlined:"",small:"",color:"primary",depressed:""},on:{click:e.saveOfferLetter}},[e._v(" Save ")]),n("v-btn",{attrs:{text:""},on:{click:function(t){return e.downloadPdf(e.$refs.print,"l","general-template.pdf")}}},[e._v(" Print ")]),n("v-btn",{attrs:{text:""},on:{click:function(t){e.offerLetter=!1}}},[e._v(" Cancel ")])],1)],1)],1)],1)],1),n("v-snackbar",{attrs:{right:""},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e.nonFieldErrors?n("non-field-form-errors",{attrs:{"non-field-errors":e.nonFieldErrors,"change-type":""}}):e._e(),n("v-btn",{attrs:{text:""},on:{click:function(t){e.snackbar=!1}}},[n("v-icon",{domProps:{textContent:e._s("mdi-close")}})],1)],1)],1)},i=[],o=n("1da1"),r=(n("96cf"),n("d81d"),n("d3b7"),n("ddb0"),n("b0c0"),n("fb6a"),n("3ca3"),n("2b3d"),n("99af"),n("5660")),s=n("ab8a"),l=n("ef8c"),c=n("0116"),u=n("c44a"),d=n("50e3"),p=n("d242"),m={components:{VueAutoComplete:r["default"],NonFieldFormErrors:s["default"],UserAutoComplete:l["default"]},mixins:[u["a"],p["a"]],props:{title:{type:String,default:""},subTitle:{type:String,default:""},user:{type:Object,default:function(){return{id:""}}}},data:function(){return{orgSlug:this.$route.params.slug,taskDetails:{},isLoading:!1,descriptionLimit:40,entries:[],model:"",template:"",letterId:"",individualLetter:"",statusColor:{"Not Sent":"red",Sent:"green",SAVED:"green",Downloaded:"info",Accepted:"success",Declined:"danger"},employee:"",templateEndpoint:d["a"].getLetterTemplate(this.$route.params.slug),search:"",snackbar:!1,disabled:!!this.user,generateDetail:{},taskCount:"",offerLetter:!1}},computed:{items:function(){var e=this;return this.entries.map((function(t){var n=t.name.length>e.descriptionLimit?t.name.slice(0,e.descriptionLimit)+"...":t.name;return Object.assign({},t,{query:n})}))}},watch:{search:function(){var e=this;this.items.length>0||this.isLoading||(this.isLoading=!0,this.$http.get(c["a"].getTaskTemplate(this.orgSlug)).then((function(t){e.entries=t.results})),this.isLoading=!1)},model:function(){this.checkTask(this.model)}},created:function(){this.user&&(this.employee=this.user.id),this.getLetters()},methods:{sendOfferLetter:function(){var e=this;this.$http.post(d["a"].sendLetter(this.orgSlug,this.letterId)).then((function(t){e.notifyUser(t),e.offerLetter=!1,e.getLetters()}))},saveOfferLetter:function(){var e=this;this.$http.post(d["a"].saveLetter(this.orgSlug,this.letterId)).then((function(){e.notifyUser("This letter is successfully saved in user documents.")}))},downloadOfferLetter:function(){var e=this;this.$http({url:d["a"].downloadLetter(this.orgSlug,this.letterId),method:"GET",responseType:"blob"}).then((function(t){e.notifyUser("Your file is being Downloaded","green");var n=window.URL.createObjectURL(new Blob([t])),a=document.createElement("a");a.href=n,a.setAttribute("download","Offer Letter.pdf"),document.body.appendChild(a),a.click()}))},generateLetter:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.validateAllFields();case 2:if(!t.sent){t.next=5;break}e.addEmployee(),e.user.id&&(n="/hris/".concat(e.orgSlug,"/employment/pre-employment/").concat(e.$route.query.id,"/letters/"),e.$http.post(n,{letter_template:e.template}).then((function(){e.notifyUser("Successfully Generated Template."),e.getLetters(),e.disabled=!0})).catch((function(t){e.pushErrors(t),e.notifyInvalidFormResponse(t.response.data.non_field_errors[0])})));case 5:case"end":return t.stop()}}),t)})))()},addEmployee:function(){var e=this;this.$http.patch("/hris/".concat(this.orgSlug,"/employment/pre-employment/").concat(this.$route.query.id,"/"),{employee:this.employee}).then((function(){e.$emit("refresh")}))},getLetters:function(){var e=this,t="/hris/".concat(this.orgSlug,"/employment/pre-employment/").concat(this.$route.query.id,"/letters/");this.$http.get(t).then((function(t){e.generateDetail=t.results,t.results.length>0&&(e.disabled=!0)})).catch((function(t){e.pushErrors(t),e.snackbar=!0}))},viewLetter:function(e){this.individualLetter=e,this.letterId=e.id,this.offerLetter=!0},openAddEmployee:function(){this.$router.push({name:"admin-slug-hris-employees-pre-employment-add",params:{slug:this.orgSlug},query:{userId:this.$route.query.id}})}}},h=m,f=n("2877"),v=n("6544"),g=n.n(v),y=n("8336"),b=n("b0af"),_=n("99d9"),k=n("cc20"),x=n("62ad"),w=n("169a"),C=n("ce7e"),T=n("132d"),D=n("0fd9b"),V=n("2db4"),E=Object(f["a"])(h,a,i,!1,null,null,null);t["a"]=E.exports;g()(E,{VBtn:y["a"],VCard:b["a"],VCardActions:_["a"],VCardText:_["c"],VChip:k["a"],VCol:x["a"],VDialog:w["a"],VDivider:C["a"],VIcon:T["a"],VRow:D["a"],VSnackbar:V["a"]})},1229:function(e,t,n){"use strict";n("99af");t["a"]={getDivision:function(e){return"/org/".concat(e,"/division/")},postDivision:function(e){return"/org/".concat(e,"/division/")},getDivisionDetails:function(e,t){return"/org/".concat(e,"/division/").concat(t,"/")},putDivision:function(e,t){return"/org/".concat(e,"/division/").concat(t,"/")},deleteDivision:function(e,t){return"/org/".concat(e,"/division/").concat(t,"/")},importDivision:function(e){return"/org/".concat(e,"/division/import/")},downloadSampleDivision:function(e){return"/org/".concat(e,"/division/import/sample")}}},1448:function(e,t,n){var a=n("ebb5").aTypedArrayConstructor,i=n("4840");e.exports=function(e,t){var n=i(e,e.constructor),o=0,r=t.length,s=new(a(n))(r);while(r>o)s[o]=t[o++];return s}},"145e":function(e,t,n){"use strict";var a=n("7b0b"),i=n("23cb"),o=n("50c4"),r=Math.min;e.exports=[].copyWithin||function(e,t){var n=a(this),s=o(n.length),l=i(e,s),c=i(t,s),u=arguments.length>2?arguments[2]:void 0,d=r((void 0===u?s:i(u,s))-c,s-l),p=1;c<l&&l<c+d&&(p=-1,c+=d-1,l+=d-1);while(d-- >0)c in n?n[l]=n[c]:delete n[l],l+=p,c+=p;return n}},"170b":function(e,t,n){"use strict";var a=n("ebb5"),i=n("50c4"),o=n("23cb"),r=n("4840"),s=a.aTypedArray,l=a.exportTypedArrayMethod;l("subarray",(function(e,t){var n=s(this),a=n.length,l=o(e,a);return new(r(n,n.constructor))(n.buffer,n.byteOffset+l*n.BYTES_PER_ELEMENT,i((void 0===t?a:o(t,a))-l))}))},"182d":function(e,t,n){var a=n("f8cd");e.exports=function(e,t){var n=a(e);if(n%t)throw RangeError("Wrong offset");return n}},"1f04":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return l}));var a=n("1da1");n("d3b7"),n("3ca3"),n("ddb0"),n("96cf");function i(e){return o.apply(this,arguments)}function o(){return o=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r(t);case 2:return n=e.sent,e.next=5,l([n]);case 5:return a=e.sent,e.abrupt("return",a[0]);case 7:case"end":return e.stop()}}),e)}))),o.apply(this,arguments)}function r(e){return s.apply(this,arguments)}function s(){return s=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.next=5,n.blob();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)}))),s.apply(this,arguments)}function l(e){return c.apply(this,arguments)}function c(){return c=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(n=function(e){var t=new FileReader;return new Promise((function(n){t.readAsDataURL(e),t.onloadend=function(){n(t.result)}}))},a=[],i=0;i<t.length;i++)a.push(n(t[i]));return e.next=5,Promise.all(a);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)}))),c.apply(this,arguments)}},"1f09":function(e,t,n){},"219c":function(e,t,n){"use strict";var a=n("ebb5"),i=n("da84"),o=n("d039"),r=n("1c0b"),s=n("50c4"),l=n("addb"),c=n("04d1"),u=n("d998"),d=n("2d00"),p=n("512c"),m=a.aTypedArray,h=a.exportTypedArrayMethod,f=i.Uint16Array,v=f&&f.prototype.sort,g=!!v&&!o((function(){var e=new f(2);e.sort(null),e.sort({})})),y=!!v&&!o((function(){if(d)return d<74;if(c)return c<67;if(u)return!0;if(p)return p<602;var e,t,n=new f(516),a=Array(516);for(e=0;e<516;e++)t=e%4,n[e]=515-e,a[e]=e-2*t+3;for(n.sort((function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(n[e]!==a[e])return!0})),b=function(e){return function(t,n){return void 0!==e?+e(t,n)||0:n!==n?-1:t!==t?1:0===t&&0===n?1/t>0&&1/n<0?1:-1:t>n}};h("sort",(function(e){var t=this;if(void 0!==e&&r(e),y)return v.call(t,e);m(t);var n,a=s(t.length),i=Array(a);for(n=0;n<a;n++)i[n]=t[n];for(i=l(t,b(e)),n=0;n<a;n++)t[n]=i[n];return t}),!y||g)},2326:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("vue-card-title",{attrs:{title:e.sharedData.title,subtitle:e.sharedData.subTitle,icon:"mdi-file-document-outline",dark:"",closable:""},on:{close:function(t){return e.$emit("cancel")}}}),n("v-divider"),n("v-card-text",[n("v-row",{attrs:{align:"center"}},[n("v-col",{attrs:{cols:"4"}},[n("vue-auto-complete",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{endpoint:e.templateEndpoint,params:{type:"onBoard"===e.component?"on":"offBoard"===e.component?"off":"changeType"===e.component?"change":""},"item-text":"title","item-value":"slug"},model:{value:e.template,callback:function(t){e.template=t},expression:"template"}},"vue-auto-complete",e.veeValidate("letter_template","Letter Template"),!1))],1),n("v-col",{attrs:{cols:"4"}},[n("v-btn",{attrs:{depressed:"",outlined:"",color:"primary"},domProps:{textContent:e._s("Generate")},on:{click:e.generateLetter}})],1)],1)],1),n("v-divider"),n("v-data-table",{attrs:{headers:e.headers,items:e.fetchedResults,loading:e.loading,"sort-desc":e.pagination.descending,"sort-by":e.pagination.sortBy,page:e.pagination.page,"items-per-page":e.pagination.rowsPerPage,"footer-props":e.footerProps,"server-items-length":e.pagination.totalItems,"must-sort":"","mobile-breakpoint":0},on:{"update:sortDesc":function(t){return e.$set(e.pagination,"descending",t)},"update:sort-desc":function(t){return e.$set(e.pagination,"descending",t)},"update:sortBy":function(t){return e.$set(e.pagination,"sortBy",t)},"update:sort-by":function(t){return e.$set(e.pagination,"sortBy",t)},"update:page":function(t){return e.$set(e.pagination,"page",t)},"update:itemsPerPage":function(t){return e.$set(e.pagination,"rowsPerPage",t)},"update:items-per-page":function(t){return e.$set(e.pagination,"rowsPerPage",t)}},scopedSlots:e._u([{key:"item",fn:function(t){return[n("tr",[n("td",[n("a",{on:{click:function(n){return e.viewLetter(t.item)}}},[e._v(" "+e._s(t.item.title)+" ")])]),n("td",{staticClass:"text-center"},[n("span",{class:t.item.is_sent?"success--text":"grey--text"},[e._v(" "+e._s(t.item.is_sent?"Sent":"Not Sent")+" ")])]),n("td",[n("div",[e._v(e._s(e._f("dayjs")(t.item.created_at,"YYYY-MM-DD")))]),n("div",[e._v(" "+e._s(e._f("dayjs")(t.item.created_at,"hh:mm a"))+" ")])]),n("td",{staticClass:"text-center"},[t.item.is_saved?n("span",{staticClass:"success--text",domProps:{textContent:e._s("Saved")}}):n("v-btn",{attrs:{outlined:"",small:"",color:"primary"},domProps:{textContent:e._s("Save")},on:{click:function(n){return e.saveOfferLetter(t.item.id)}}})],1),n("td",[n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(a){var i=a.on;return[n("v-icon",e._g({attrs:{small:""},domProps:{textContent:e._s("mdi-download-outline")},on:{click:function(n){return e.downloadOfferLetter(t.item.id,t.item.title)}}},i))]}}],null,!0)},[n("span",{domProps:{textContent:e._s("Download")}})]),n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(a){var i=a.on;return[n("v-icon",e._g({attrs:{small:""},domProps:{textContent:e._s("mdi-send-outline")},on:{click:function(n){return e.sendOfferLetter(t.item.id)}}},i))]}}],null,!0)},[n("span",{domProps:{textContent:e._s(t.item.is_sent?"Re-send":"Send")}})]),t.item.is_saved?e._e():n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(a){var i=a.on;return[n("v-icon",e._g({attrs:{small:""},domProps:{textContent:e._s("mdi-delete")},on:{click:function(n){e.deleteNotification.dialog=!0,e.letterId=t.item.id}}},i))]}}],null,!0)},[n("span",{domProps:{textContent:e._s("Delete")}})])],1)])]}}])},[n("template",{slot:"no-data"},[n("data-table-no-data",{attrs:{loading:e.loading,height:"90",text:"Letter templates have not been generated yet"}})],1)],2),n("v-card-actions",[n("v-btn",{attrs:{depressed:"",color:"primary"},on:{click:function(t){e.$emit("next","changeType"===e.component?e.openPrevStep():"onBoard"===e.component?"assign-supervisor-form":"offBoard"===e.component?e.employmentDetails.pre_task?"task-list":"task-form":"","assign-supervisor-form",e.componentType||"preTask")}}},[n("v-icon",{domProps:{textContent:e._s("mdi-chevron-left")}}),n("span",{domProps:{textContent:e._s("Previous")}})],1),n("v-spacer"),n("v-btn",{attrs:{text:""},on:{click:function(t){return e.$emit("cancel")}}},[e._v(" Cancel ")]),n("v-btn",{attrs:{disabled:!e.fetchedResults.length,depressed:"",color:"primary"},on:{click:function(t){return e.gotoNextStep("postTask")}}},[e._v(" Next "),n("v-icon",{domProps:{textContent:e._s("mdi-chevron-right")}})],1)],1),n("v-dialog",{attrs:{persistent:"",height:"900",width:"800","max-width":"800px"},on:{keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;e.offerLetter=!1}},model:{value:e.offerLetter,callback:function(t){e.offerLetter=t},expression:"offerLetter"}},[n("v-card",[n("vue-card-title",{attrs:{title:"Generated Letter",subtitle:"Generated Letter Detail",icon:"mdi-file-document-outline",dark:""}},[n("template",{slot:"actions"},[e.individualLetter.is_saved||e.individualLetter.is_sent?e._e():n("v-icon",{attrs:{small:""},domProps:{textContent:e._s(e.letter.editable?"mdi-eye-outline":"mdi-pencil")},on:{click:function(t){e.letter.editable=!e.letter.editable,e.letter.editText=e.individualLetter.message}}})],1)],2),n("v-divider"),e.individualLetter?n("v-card-text",{staticClass:"pa-3"},[e.letter.editable?n("vue-trumbowyg",{model:{value:e.letter.editText,callback:function(t){e.$set(e.letter,"editText",t)},expression:"letter.editText"}}):n("div",{ref:"print",domProps:{innerHTML:e._s(e.$sanitize(e.individualLetter.message))}})],1):e._e(),n("v-divider"),n("v-card-actions",[n("v-spacer"),e.letter.editable?n("div",[n("v-btn",{attrs:{right:"",color:"primary"},domProps:{textContent:e._s("Update")},on:{click:e.updateLetter}}),n("v-btn",{attrs:{text:""},domProps:{textContent:e._s("Cancel")},on:{click:function(t){e.offerLetter=!1}}})],1):n("div",[n("v-btn",{attrs:{text:""},domProps:{textContent:e._s("Cancel")},on:{click:function(t){e.offerLetter=!1}}}),n("v-btn",{attrs:{text:"",color:"primary"},domProps:{textContent:e._s("Print")},on:{click:function(t){return e.downloadPdf(e.$refs.print,"l","onBoard"===e.component?"pre-employment-latter-template.pdf":"offBoard"===e.component?"letter-template.pdf":"")}}}),e.individualLetter.is_saved?e._e():n("v-btn",{attrs:{outlined:"",color:"primary"},domProps:{textContent:e._s("Save")},on:{click:function(t){return e.saveOfferLetter()}}}),n("v-btn",{attrs:{right:"",color:"primary"},domProps:{textContent:e._s(e.individualLetter.is_sent?"Re-Send":"Send")},on:{click:function(t){return e.sendOfferLetter()}}})],1)],1)],1)],1),n("vue-dialog",{attrs:{notify:e.deleteNotification},on:{close:function(t){e.deleteNotification.dialog=!1},agree:e.deleteLetter}}),n("v-snackbar",{attrs:{right:""},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e.nonFieldErrors?n("non-field-form-errors",{attrs:{"non-field-errors":e.nonFieldErrors,"change-type":""}}):e._e(),n("v-btn",{attrs:{text:""},on:{click:function(t){e.snackbar=!1}}},[n("v-icon",{domProps:{textContent:e._s("mdi-close")}})],1)],1)],1)},i=[],o=n("1da1"),r=(n("96cf"),n("d81d"),n("d3b7"),n("ddb0"),n("b0c0"),n("fb6a"),n("caad"),n("3ca3"),n("2b3d"),n("5660")),s=n("8714"),l=n("a51f"),c=n("1467"),u=n("0116"),d=n("50e3"),p=n("5615"),m=n("d242"),h=n("afa9"),f=n("99d6"),v={name:"LetterTemplate",components:{DataTableNoData:l["default"],VueAutoComplete:r["default"],VueTrumbowyg:c["default"]},mixins:[s["a"],m["a"]],props:{employmentDetails:{type:Object,default:function(){return{}}},component:{type:String,default:""},componentType:{type:String,default:""}},data:function(){return{endPoint:{},sharedData:{},orgSlug:this.$route.params.slug,taskDetails:{},isLoading:!1,descriptionLimit:40,entries:[],model:"",template:"",letterId:"",individualLetter:"",statusColor:{"Not Sent":"red",Sent:"green"},employee:"",templateEndpoint:d["a"].getLetterTemplate(this.$route.params.slug),search:"",snackbar:!1,disabled:!!this.user,generateDetail:{},taskCount:"",letter:{editable:!1,editText:""},offerLetter:!1,rowsPerPageItems:[10,20,30,40,50],headers:[{text:"Title",sortable:!1},{text:"Status",sortable:!1,align:"center"},{text:"Generated Date",sortable:!1},{text:"Save To Employee Documents",sortable:!1,align:"center"},{text:"Actions",sortable:!1}],loading:!1,deleteNotification:{dialog:!1,heading:"Confirm Delete",text:"Deleting this letter will not delete the one that is already saved to employee documents. Are you sure you want to delete this letter?"}}},computed:{items:function(){var e=this;return this.entries.map((function(t){var n=t.name.length>e.descriptionLimit?t.name.slice(0,e.descriptionLimit)+"...":t.name;return Object.assign({},t,{query:n})}))}},watch:{search:function(){var e=this;this.items.length>0||this.isLoading||(this.isLoading=!0,this.getData(u["a"].getTaskTemplate(this.orgSlug)).then((function(t){e.entries=t.results})),this.isLoading=!1)},model:function(){this.checkTask(this.model)}},created:function(){this.initializeUrl(),this.dataTableEndpoint=this.endPoint.fetchDataTable},methods:{initializeUrl:function(){"onBoard"===this.component?(this.sharedData.title="Select And Generate Letter Template to onboard ".concat(this.employmentDetails.full_name),this.sharedData.subTitle="List of -Task.",this.endPoint.fetchDataTable=p["a"].letterTemplate(this.getOrganizationSlug,this.employmentDetails.id),this.endPoint.updateDetails=p["a"].updatePreEmployment(this.getOrganizationSlug,this.employmentDetails.id)):"offBoard"===this.component?(this.sharedData.title="Select And Generate Letter Template to offboard ".concat(this.employmentDetails.employee.full_name),this.sharedData.subTitle="Select And Generate Letter Template to offboard ".concat(this.employmentDetails.employee.full_name),this.endPoint.fetchDataTable=h["a"].letterTemplate(this.getOrganizationSlug,this.employmentDetails.id),this.endPoint.updateDetails=h["a"].updateSeparationDetails(this.getOrganizationSlug,this.employmentDetails.id)):"changeType"===this.component&&(this.sharedData.title="Select And Generate Letter Template to change type ".concat(this.employmentDetails.employee.full_name),this.sharedData.subTitle="Select And Generate Letter Template to change type ".concat(this.employmentDetails.employee.full_name),this.endPoint.fetchDataTable=f["a"].getLetters(this.getOrganizationSlug,this.employmentDetails.id),this.endPoint.updateDetails=f["a"].getChangeTypeDetails(this.getOrganizationSlug,this.employmentDetails.id))},deleteLetter:function(){var e=this,t=d["a"].deleteLetter(this.orgSlug,this.letterId);this.deleteData(t).then((function(){e.notifyUser("This letter is successfully saved in user documents"),e.deleteNotification.dialog=!1,e.fetchDataTable()}))},updateLetter:function(){var e=this,t={message:this.letter.editText};this.crud.message="Successfully updated offer letter",this.patchData(d["a"].putLetter(this.orgSlug,this.individualLetter.id),t).then((function(t){e.individualLetter.message=t.message,e.letter.editable=!1}))},gotoNextStep:function(e){var t=this;if(["workshift-changed","payroll-changed","experience-added","pre-completed","core-tasks-updated","supervisor-added","letters-generated"].includes(this.employmentDetails.status)){var n={status:"letters-generated"};this.patchData(this.endPoint.updateDetails,n,{validate:!1}).then((function(n){t.$emit("next","onBoard"===t.component?"assign-equipment":"offBoard"===t.component?t.getNextComponent():"changeType"===t.component?"task-form":"","onBoard"===t.component?"letters-generated":"offBoard"===t.component?n.status:"changeType"===t.component?"task-form":"",e||t.componentType)}))}else this.$emit("next","onBoard"===this.component?"assign-equipment":"offBoard"===this.component?this.getNextComponent():"changeType"===this.component?"task-form":"","",e||this.componentType)},sendOfferLetter:function(e){var t=this;this.insertData(d["a"].sendLetter(this.orgSlug,e||this.letterId)).then((function(e){t.crud.message=e,t.offerLetter=!1,t.fetchDataTable()}))},saveOfferLetter:function(e){var t=this;this.crud.message="This letter is successfully saved in user documents.",this.insertData(d["a"].saveLetter(this.orgSlug,e||this.letterId)).then((function(){t.offerLetter=!1,t.fetchDataTable()}))},downloadOfferLetter:function(e,t){var n=this;this.$http({url:d["a"].downloadLetter(this.orgSlug,e||this.letterId),method:"GET",responseType:"blob"}).then((function(e){n.notifyUser("Your file is being Downloaded","green");var a=window.URL.createObjectURL(new Blob([e])),i=document.createElement("a");i.href=a,i.setAttribute("download","".concat(t,".pdf")),document.body.appendChild(i),i.click()}))},generateLetter:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.validateAllFields();case 2:if(!t.sent){t.next=4;break}(e.employmentDetails.employee&&e.employmentDetails.employee.id||e.employmentDetails.employee.id||e.employmentDetails.employee)&&(e.crud.message="Successfully Generated Template.",e.insertData(e.endPoint.fetchDataTable,{letter_template:e.template}).then((function(){e.fetchDataTable(),e.disabled=!0})).catch(function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.pushErrors(n);case 2:e.nonFieldErrors.length&&e.notifyUser(e.nonFieldErrors[0]["non field errors"],"red");case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 4:case"end":return t.stop()}}),t)})))()},viewLetter:function(e){this.individualLetter=e,this.letterId=e.id,this.offerLetter=!0},getNextStatus:function(){var e=this.employmentDetails.separation_type;return e.display_leave?"letters-generated":e.display_attendance_details?"leave-reviewed":e.display_pending_tasks?"attendance-reviewed":e.display_payroll?"tasks-reviewed":"payroll-reviewed"},getNextComponent:function(){var e=this.employmentDetails.separation_type;return e.display_leave?"leave-details":e.display_attendance_details?"attendance-details":e.display_pending_tasks?"pending-tasks":e.display_payroll?"payroll-details":"task-form"},openPrevStep:function(){var e=this.employmentDetails.change_type,t="";return t=e.affects_core_tasks?"coretasks-list":e.affects_leave_balance?"leave-list":e.affects_work_shift?"workshift":e.affects_payroll?"payroll-list":"experience-list",t}}},g=v,y=n("2877"),b=n("6544"),_=n.n(b),k=n("8336"),x=n("b0af"),w=n("99d9"),C=n("62ad"),T=n("8fea"),D=n("169a"),V=n("ce7e"),E=n("132d"),S=n("0fd9b"),P=n("2db4"),L=n("2fa4"),O=n("3a2f"),A=Object(y["a"])(g,a,i,!1,null,null,null);t["a"]=A.exports;_()(A,{VBtn:k["a"],VCard:x["a"],VCardActions:w["a"],VCardText:w["c"],VCol:C["a"],VDataTable:T["a"],VDialog:D["a"],VDivider:V["a"],VIcon:E["a"],VRow:S["a"],VSnackbar:P["a"],VSpacer:L["a"],VTooltip:O["a"]})},"25a1":function(e,t,n){"use strict";var a=n("ebb5"),i=n("d58f").right,o=a.aTypedArray,r=a.exportTypedArrayMethod;r("reduceRight",(function(e){return i(o(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}))},2954:function(e,t,n){"use strict";var a=n("ebb5"),i=n("4840"),o=n("d039"),r=a.aTypedArray,s=a.aTypedArrayConstructor,l=a.exportTypedArrayMethod,c=[].slice,u=o((function(){new Int8Array(1).slice()}));l("slice",(function(e,t){var n=c.call(r(this),e,t),a=i(this,this.constructor),o=0,l=n.length,u=new(s(a))(l);while(l>o)u[o]=n[o++];return u}),u)},"2a18":function(e,t,n){"use strict";n("99af");t["a"]={completeCheckList:function(e,t){return"/task/".concat(e,"/checklists/").concat(t,"/check/")},getCheckList:function(e){return"/task/".concat(e,"/checklists/")},postCheckList:function(e){return"/task/".concat(e,"/checklists/")},putCheckList:function(e,t){return"/task/".concat(e,"/checklists/").concat(t,"/")},deleteCheckList:function(e,t){return"/task/".concat(e,"/checklists/").concat(t,"/")}}},"2ab5":function(e,t,n){"use strict";n("9d1c")},"2bc5":function(e,t,n){"use strict";var a=n("5530"),i=(n("a15b"),n("abd3"),n("ade3")),o=n("1c87"),r=n("58df"),s=Object(r["a"])(o["a"]).extend({name:"v-breadcrumbs-item",props:{activeClass:{type:String,default:"v-breadcrumbs__item--disabled"},ripple:{type:[Boolean,Object],default:!1}},computed:{classes:function(){return Object(i["a"])({"v-breadcrumbs__item":!0},this.activeClass,this.disabled)}},render:function(e){var t=this.generateRouteLink(),n=t.tag,i=t.data;return e("li",[e(n,Object(a["a"])(Object(a["a"])({},i),{},{attrs:Object(a["a"])(Object(a["a"])({},i.attrs),{},{"aria-current":this.isActive&&this.isLink?"page":void 0})}),this.$slots.default)])}}),l=n("80d2"),c=Object(l["i"])("v-breadcrumbs__divider","li"),u=n("7560");t["a"]=Object(r["a"])(u["a"]).extend({name:"v-breadcrumbs",props:{divider:{type:String,default:"/"},items:{type:Array,default:function(){return[]}},large:Boolean},computed:{classes:function(){return Object(a["a"])({"v-breadcrumbs--large":this.large},this.themeClasses)}},methods:{genDivider:function(){return this.$createElement(c,this.$slots.divider?this.$slots.divider:this.divider)},genItems:function(){for(var e=[],t=!!this.$scopedSlots.item,n=[],a=0;a<this.items.length;a++){var i=this.items[a];n.push(i.text),t?e.push(this.$scopedSlots.item({item:i})):e.push(this.$createElement(s,{key:n.join("."),props:i},[i.text])),a<this.items.length-1&&e.push(this.genDivider())}return e}},render:function(e){var t=this.$slots.default||this.genItems();return e("ul",{staticClass:"v-breadcrumbs",class:this.classes},t)}})},"2c2a":function(e,t,n){"use strict";n("99af");t["a"]={getEmploymentLevel:function(e){return"/org/".concat(e,"/employment/level/")},postEmploymentLevel:function(e){return"/org/".concat(e,"/employment/level/")},getEmploymentLevelDetail:function(e,t){return"/org/".concat(e,"/employment/level/").concat(t,"/")},updateEmploymentLevel:function(e,t){return"/org/".concat(e,"/employment/level/").concat(t,"/")},deleteEmploymentLevel:function(e,t){return"/org/".concat(e,"/employment/level/").concat(t,"/")},importEmploymentLevel:function(e){return"/org/".concat(e,"/employment/level/import/")},downloadSampleEmploymentLevel:function(e){return"/org/".concat(e,"/employment/level/import/sample")}}},"2ff6":function(e,t,n){(function(a){var i,o;(function(a,r){i=r,o="function"===typeof i?i.call(t,n,t,e):i,void 0===o||(e.exports=o)})("undefined"!==typeof self&&self,(function(){"function"!==typeof Promise&&function(t){function n(e,t){return function(){e.apply(t,arguments)}}function a(e){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof e)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],c(e,n(o,this),n(r,this))}function i(e){var t=this;return null===this._state?void this._deferreds.push(e):void d((function(){var n=t._state?e.onFulfilled:e.onRejected;if(null!==n){var a;try{a=n(t._value)}catch(o){return void e.reject(o)}e.resolve(a)}else(t._state?e.resolve:e.reject)(t._value)}))}function o(e){try{if(e===this)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"===typeof e||"function"===typeof e)){var t=e.then;if("function"===typeof t)return void c(n(t,e),n(o,this),n(r,this))}this._state=!0,this._value=e,s.call(this)}catch(i){r.call(this,i)}}function r(e){this._state=!1,this._value=e,s.call(this)}function s(){for(var e=0,t=this._deferreds.length;t>e;e++)i.call(this,this._deferreds[e]);this._deferreds=null}function l(e,t,n,a){this.onFulfilled="function"===typeof e?e:null,this.onRejected="function"===typeof t?t:null,this.resolve=n,this.reject=a}function c(e,t,n){var a=!1;try{e((function(e){a||(a=!0,t(e))}),(function(e){a||(a=!0,n(e))}))}catch(o){if(a)return;a=!0,n(o)}}var u=setTimeout,d="function"===typeof setImmediate&&setImmediate||function(e){u(e,1)},p=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};a.prototype["catch"]=function(e){return this.then(null,e)},a.prototype.then=function(e,t){var n=this;return new a((function(a,o){i.call(n,new l(e,t,a,o))}))},a.all=function(){var e=Array.prototype.slice.call(1===arguments.length&&p(arguments[0])?arguments[0]:arguments);return new a((function(t,n){function a(o,r){try{if(r&&("object"===typeof r||"function"===typeof r)){var s=r.then;if("function"===typeof s)return void s.call(r,(function(e){a(o,e)}),n)}e[o]=r,0===--i&&t(e)}catch(c){n(c)}}if(0===e.length)return t([]);for(var i=e.length,o=0;o<e.length;o++)a(o,e[o])}))},a.resolve=function(e){return e&&"object"===typeof e&&e.constructor===a?e:new a((function(t){t(e)}))},a.reject=function(e){return new a((function(t,n){n(e)}))},a.race=function(e){return new a((function(t,n){for(var a=0,i=e.length;i>a;a++)e[a].then(t,n)}))},a._setImmediateFn=function(e){d=e},e.exports?e.exports=a:t.Promise||(t.Promise=a)}(this),"function"!==typeof window.CustomEvent&&function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}e.prototype=window.Event.prototype,window.CustomEvent=e}(),HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(e,t,n){for(var a=atob(this.toDataURL(t,n).split(",")[1]),i=a.length,o=new Uint8Array(i),r=0;r<i;r++)o[r]=a.charCodeAt(r);e(new Blob([o],{type:t||"image/png"}))}});var t,n,i,o=["Webkit","Moz","ms"],r=document.createElement("div").style,s=[1,8,3,6],l=[2,7,4,5];function c(e){if(e in r)return e;var t=e[0].toUpperCase()+e.slice(1),n=o.length;while(n--)if(e=o[n]+t,e in r)return e}function u(e,t){var n=s.indexOf(e)>-1?s:l,a=n.indexOf(e),i=t/90%n.length;return n[(n.length+a+i%n.length)%n.length]}function d(e,t){for(var n in e=e||{},t)t[n]&&t[n].constructor&&t[n].constructor===Object?(e[n]=e[n]||{},d(e[n],t[n])):e[n]=t[n];return e}function p(e){return d({},e)}function m(e,t,n){var a;return function(){var i=this,o=arguments,r=function(){a=null,n||e.apply(i,o)},s=n&&!a;clearTimeout(a),a=setTimeout(r,t),s&&e.apply(i,o)}}function h(e){if("createEvent"in document){var t=document.createEvent("HTMLEvents");t.initEvent("change",!1,!0),e.dispatchEvent(t)}else e.fireEvent("onchange")}function f(e,t,n){if("string"===typeof t){var a=t;t={},t[a]=n}for(var i in t)e.style[i]=t[i]}function v(e,t){e.classList?e.classList.add(t):e.className+=" "+t}function g(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(t,"")}function y(e,t){for(var n in t)e.setAttribute(n,t[n])}function b(e){return parseInt(e,10)}function _(e,t){var n=new Image;return n.style.opacity="0",new Promise((function(a,i){function o(){n.style.opacity="1",setTimeout((function(){a(n)}),1)}n.removeAttribute("crossOrigin"),e.match(/^https?:\/\/|^\/\//)&&n.setAttribute("crossOrigin","anonymous"),n.onload=function(){t?EXIF.getData(n,(function(){o()})):o()},n.onerror=function(e){n.style.opacity=1,setTimeout((function(){i(e)}),1)},n.src=e}))}function k(e,t){var n=e.naturalWidth,a=e.naturalHeight,i=t||T(e);if(i&&i>=5){var o=n;n=a,a=o}return{width:n,height:a}}n=c("transform"),t=c("transformOrigin"),i=c("userSelect");var x={translate3d:{suffix:", 0px"},translate:{suffix:""}},w=function(e,t,n){this.x=parseFloat(e),this.y=parseFloat(t),this.scale=parseFloat(n)};w.parse=function(e){return e.style?w.parse(e.style[n]):e.indexOf("matrix")>-1||e.indexOf("none")>-1?w.fromMatrix(e):w.fromString(e)},w.fromMatrix=function(e){var t=e.substring(7).split(",");return t.length&&"none"!==e||(t=[1,0,0,1,0,0]),new w(b(t[4]),b(t[5]),parseFloat(t[0]))},w.fromString=function(e){var t=e.split(") "),n=t[0].substring(re.globals.translate.length+1).split(","),a=t.length>1?t[1].substring(6):1,i=n.length>1?n[0]:0,o=n.length>1?n[1]:0;return new w(i,o,a)},w.prototype.toString=function(){var e=x[re.globals.translate].suffix||"";return re.globals.translate+"("+this.x+"px, "+this.y+"px"+e+") scale("+this.scale+")"};var C=function(e){if(!e||!e.style[t])return this.x=0,void(this.y=0);var n=e.style[t].split(" ");this.x=parseFloat(n[0]),this.y=parseFloat(n[1])};function T(e){return e.exifdata&&e.exifdata.Orientation?b(e.exifdata.Orientation):1}function D(e,t,n){var a=t.width,i=t.height,o=e.getContext("2d");switch(e.width=t.width,e.height=t.height,o.save(),n){case 2:o.translate(a,0),o.scale(-1,1);break;case 3:o.translate(a,i),o.rotate(180*Math.PI/180);break;case 4:o.translate(0,i),o.scale(1,-1);break;case 5:e.width=i,e.height=a,o.rotate(90*Math.PI/180),o.scale(1,-1);break;case 6:e.width=i,e.height=a,o.rotate(90*Math.PI/180),o.translate(0,-i);break;case 7:e.width=i,e.height=a,o.rotate(-90*Math.PI/180),o.translate(-a,i),o.scale(1,-1);break;case 8:e.width=i,e.height=a,o.translate(0,a),o.rotate(-90*Math.PI/180);break}o.drawImage(t,0,0,a,i),o.restore()}function V(){var e,t,n,a,i,o,r=this,s="croppie-container",l=r.options.viewport.type?"cr-vp-"+r.options.viewport.type:null;r.options.useCanvas=r.options.enableOrientation||E.call(r),r.data={},r.elements={},e=r.elements.boundary=document.createElement("div"),n=r.elements.viewport=document.createElement("div"),t=r.elements.img=document.createElement("img"),a=r.elements.overlay=document.createElement("div"),r.options.useCanvas?(r.elements.canvas=document.createElement("canvas"),r.elements.preview=r.elements.canvas):r.elements.preview=t,v(e,"cr-boundary"),e.setAttribute("aria-dropeffect","none"),i=r.options.boundary.width,o=r.options.boundary.height,f(e,{width:i+(isNaN(i)?"":"px"),height:o+(isNaN(o)?"":"px")}),v(n,"cr-viewport"),l&&v(n,l),f(n,{width:r.options.viewport.width+"px",height:r.options.viewport.height+"px"}),n.setAttribute("tabindex",0),v(r.elements.preview,"cr-image"),y(r.elements.preview,{alt:"preview","aria-grabbed":"false"}),v(a,"cr-overlay"),r.element.appendChild(e),e.appendChild(r.elements.preview),e.appendChild(n),e.appendChild(a),v(r.element,s),r.options.customClass&&v(r.element,r.options.customClass),j.call(this),r.options.enableZoom&&L.call(r),r.options.enableResize&&S.call(r)}function E(){return this.options.enableExif&&window.EXIF}function S(){var e,t,n,a,o,r,s,l=this,c=document.createElement("div"),u=!1,d=50;function p(r){if((void 0===r.button||0===r.button)&&(r.preventDefault(),!u)){var s=l.elements.overlay.getBoundingClientRect();if(u=!0,t=r.pageX,n=r.pageY,e=-1!==r.currentTarget.className.indexOf("vertical")?"v":"h",a=s.width,o=s.height,r.touches){var c=r.touches[0];t=c.pageX,n=c.pageY}window.addEventListener("mousemove",m),window.addEventListener("touchmove",m),window.addEventListener("mouseup",h),window.addEventListener("touchend",h),document.body.style[i]="none"}}function m(i){var r=i.pageX,s=i.pageY;if(i.preventDefault(),i.touches){var u=i.touches[0];r=u.pageX,s=u.pageY}var p=r-t,m=s-n,h=l.options.viewport.height+m,v=l.options.viewport.width+p;"v"===e&&h>=d&&h<=o?(f(c,{height:h+"px"}),l.options.boundary.height+=m,f(l.elements.boundary,{height:l.options.boundary.height+"px"}),l.options.viewport.height+=m,f(l.elements.viewport,{height:l.options.viewport.height+"px"})):"h"===e&&v>=d&&v<=a&&(f(c,{width:v+"px"}),l.options.boundary.width+=p,f(l.elements.boundary,{width:l.options.boundary.width+"px"}),l.options.viewport.width+=p,f(l.elements.viewport,{width:l.options.viewport.width+"px"})),B.call(l),M.call(l),$.call(l),I.call(l),n=s,t=r}function h(){u=!1,window.removeEventListener("mousemove",m),window.removeEventListener("touchmove",m),window.removeEventListener("mouseup",h),window.removeEventListener("touchend",h),document.body.style[i]=""}v(c,"cr-resizer"),f(c,{width:this.options.viewport.width+"px",height:this.options.viewport.height+"px"}),this.options.resizeControls.height&&(r=document.createElement("div"),v(r,"cr-resizer-vertical"),c.appendChild(r)),this.options.resizeControls.width&&(s=document.createElement("div"),v(s,"cr-resizer-horisontal"),c.appendChild(s)),r&&(r.addEventListener("mousedown",p),r.addEventListener("touchstart",p)),s&&(s.addEventListener("mousedown",p),s.addEventListener("touchstart",p)),this.elements.boundary.appendChild(c)}function P(e){if(this.options.enableZoom){var t=this.elements.zoomer,n=K(e,4);t.value=Math.max(parseFloat(t.min),Math.min(parseFloat(t.max),n)).toString()}}function L(){var e=this,t=e.elements.zoomerWrap=document.createElement("div"),n=e.elements.zoomer=document.createElement("input");function a(){O.call(e,{value:parseFloat(n.value),origin:new C(e.elements.preview),viewportRect:e.elements.viewport.getBoundingClientRect(),transform:w.parse(e.elements.preview)})}function i(t){var n,i;if("ctrl"===e.options.mouseWheelZoom&&!0!==t.ctrlKey)return 0;n=t.wheelDelta?t.wheelDelta/1200:t.deltaY?t.deltaY/1060:t.detail?t.detail/-60:0,i=e._currentZoom+n*e._currentZoom,t.preventDefault(),P.call(e,i),a.call(e)}v(t,"cr-slider-wrap"),v(n,"cr-slider"),n.type="range",n.step="0.0001",n.value="1",n.style.display=e.options.showZoomer?"":"none",n.setAttribute("aria-label","zoom"),e.element.appendChild(t),t.appendChild(n),e._currentZoom=1,e.elements.zoomer.addEventListener("input",a),e.elements.zoomer.addEventListener("change",a),e.options.mouseWheelZoom&&(e.elements.boundary.addEventListener("mousewheel",i),e.elements.boundary.addEventListener("DOMMouseScroll",i))}function O(e){var a=this,i=e?e.transform:w.parse(a.elements.preview),o=e?e.viewportRect:a.elements.viewport.getBoundingClientRect(),r=e?e.origin:new C(a.elements.preview);function s(){var e={};e[n]=i.toString(),e[t]=r.toString(),f(a.elements.preview,e)}if(a._currentZoom=e?e.value:a._currentZoom,i.scale=a._currentZoom,a.elements.zoomer.setAttribute("aria-valuenow",a._currentZoom),s(),a.options.enforceBoundary){var l=A.call(a,o),c=l.translate,u=l.origin;i.x>=c.maxX&&(r.x=u.minX,i.x=c.maxX),i.x<=c.minX&&(r.x=u.maxX,i.x=c.minX),i.y>=c.maxY&&(r.y=u.minY,i.y=c.maxY),i.y<=c.minY&&(r.y=u.maxY,i.y=c.minY)}s(),F.call(a),I.call(a)}function A(e){var t=this,n=t._currentZoom,a=e.width,i=e.height,o=t.elements.boundary.clientWidth/2,r=t.elements.boundary.clientHeight/2,s=t.elements.preview.getBoundingClientRect(),l=s.width,c=s.height,u=a/2,d=i/2,p=-1*(u/n-o),m=p-(l*(1/n)-a*(1/n)),h=-1*(d/n-r),f=h-(c*(1/n)-i*(1/n)),v=1/n*u,g=l*(1/n)-v,y=1/n*d,b=c*(1/n)-y;return{translate:{maxX:p,minX:m,maxY:h,minY:f},origin:{maxX:g,minX:v,maxY:b,minY:y}}}function $(e){var a=this,i=a._currentZoom,o=a.elements.preview.getBoundingClientRect(),r=a.elements.viewport.getBoundingClientRect(),s=w.parse(a.elements.preview.style[n]),l=new C(a.elements.preview),c=r.top-o.top+r.height/2,u=r.left-o.left+r.width/2,d={},p={};if(e){var m=l.x,h=l.y,v=s.x,g=s.y;d.y=m,d.x=h,s.y=v,s.x=g}else d.y=c/i,d.x=u/i,p.y=(d.y-l.y)*(1-i),p.x=(d.x-l.x)*(1-i),s.x-=p.x,s.y-=p.y;var y={};y[t]=d.x+"px "+d.y+"px",y[n]=s.toString(),f(a.elements.preview,y)}function j(){var e,t,a,o,r,s=this,l=!1;function c(e,t){var n=s.elements.preview.getBoundingClientRect(),a=r.y+t,i=r.x+e;s.options.enforceBoundary?(o.top>n.top+t&&o.bottom<n.bottom+t&&(r.y=a),o.left>n.left+e&&o.right<n.right+e&&(r.x=i)):(r.y=a,r.x=i)}function u(e){s.elements.preview.setAttribute("aria-grabbed",e),s.elements.boundary.setAttribute("aria-dropeffect",e?"move":"none")}function d(e){var t,n=37,a=38,l=39,c=40;if(!e.shiftKey||e.keyCode!==a&&e.keyCode!==c){if(s.options.enableKeyMovement&&e.keyCode>=37&&e.keyCode<=40){e.preventDefault();var u=d(e.keyCode);r=w.parse(s.elements.preview),document.body.style[i]="none",o=s.elements.viewport.getBoundingClientRect(),p(u)}}else t=e.keyCode===a?parseFloat(s.elements.zoomer.value)+parseFloat(s.elements.zoomer.step):parseFloat(s.elements.zoomer.value)-parseFloat(s.elements.zoomer.step),s.setZoom(t);function d(e){switch(e){case n:return[1,0];case a:return[0,1];case l:return[-1,0];case c:return[0,-1]}}}function p(e){var t=e[0],o=e[1],l={};c(t,o),l[n]=r.toString(),f(s.elements.preview,l),B.call(s),document.body.style[i]="",$.call(s),I.call(s),a=0}function m(n){if((void 0===n.button||0===n.button)&&(n.preventDefault(),!l)){if(l=!0,e=n.pageX,t=n.pageY,n.touches){var a=n.touches[0];e=a.pageX,t=a.pageY}u(l),r=w.parse(s.elements.preview),window.addEventListener("mousemove",v),window.addEventListener("touchmove",v),window.addEventListener("mouseup",g),window.addEventListener("touchend",g),document.body.style[i]="none",o=s.elements.viewport.getBoundingClientRect()}}function v(i){i.preventDefault();var o=i.pageX,l=i.pageY;if(i.touches){var u=i.touches[0];o=u.pageX,l=u.pageY}var d=o-e,p=l-t,m={};if("touchmove"===i.type&&i.touches.length>1){var v=i.touches[0],g=i.touches[1],y=Math.sqrt((v.pageX-g.pageX)*(v.pageX-g.pageX)+(v.pageY-g.pageY)*(v.pageY-g.pageY));a||(a=y/s._currentZoom);var b=y/a;return P.call(s,b),void h(s.elements.zoomer)}c(d,p),m[n]=r.toString(),f(s.elements.preview,m),B.call(s),t=l,e=o}function g(){l=!1,u(l),window.removeEventListener("mousemove",v),window.removeEventListener("touchmove",v),window.removeEventListener("mouseup",g),window.removeEventListener("touchend",g),document.body.style[i]="",$.call(s),I.call(s),a=0}s.elements.overlay.addEventListener("mousedown",m),s.elements.viewport.addEventListener("keydown",d),s.elements.overlay.addEventListener("touchstart",m)}function B(){if(this.elements){var e=this,t=e.elements.boundary.getBoundingClientRect(),n=e.elements.preview.getBoundingClientRect();f(e.elements.overlay,{width:n.width+"px",height:n.height+"px",top:n.top-t.top+"px",left:n.left-t.left+"px"})}}C.prototype.toString=function(){return this.x+"px "+this.y+"px"};var F=m(B,500);function I(){var e,t=this,n=t.get();N.call(t)&&(t.options.update.call(t,n),t.$&&"undefined"===typeof Prototype?t.$(t.element).trigger("update.croppie",n):(window.CustomEvent?e=new CustomEvent("update",{detail:n}):(e=document.createEvent("CustomEvent"),e.initCustomEvent("update",!0,!0,n)),t.element.dispatchEvent(e)))}function N(){return this.elements.preview.offsetHeight>0&&this.elements.preview.offsetWidth>0}function R(){var e,a=this,i=1,o={},r=a.elements.preview,s=new w(0,0,i),l=new C,c=N.call(a);c&&!a.data.bound&&(a.data.bound=!0,o[n]=s.toString(),o[t]=l.toString(),o["opacity"]=1,f(r,o),e=a.elements.preview.getBoundingClientRect(),a._originalImageWidth=e.width,a._originalImageHeight=e.height,a.data.orientation=T(a.elements.img),a.options.enableZoom?M.call(a,!0):a._currentZoom=i,s.scale=a._currentZoom,o[n]=s.toString(),f(r,o),a.data.points.length?z.call(a,a.data.points):q.call(a),$.call(a),B.call(a))}function M(e){var t,n,a,i,o=this,r=Math.max(o.options.minZoom,0)||0,s=o.options.maxZoom||1.5,l=o.elements.zoomer,c=parseFloat(l.value),u=o.elements.boundary.getBoundingClientRect(),d=k(o.elements.img,o.data.orientation),p=o.elements.viewport.getBoundingClientRect();o.options.enforceBoundary&&(a=p.width/d.width,i=p.height/d.height,r=Math.max(a,i)),r>=s&&(s=r+1),l.min=K(r,4),l.max=K(s,4),!e&&(c<l.min||c>l.max)?P.call(o,c<l.min?l.min:l.max):e&&(n=Math.max(u.width/d.width,u.height/d.height),t=null!==o.data.boundZoom?o.data.boundZoom:n,P.call(o,t)),h(l)}function z(e){if(4!==e.length)throw"Croppie - Invalid number of points supplied: "+e;var a=this,i=e[2]-e[0],o=a.elements.viewport.getBoundingClientRect(),r=a.elements.boundary.getBoundingClientRect(),s={left:o.left-r.left,top:o.top-r.top},l=o.width/i,c=e[1],u=e[0],d=-1*e[1]+s.top,p=-1*e[0]+s.left,m={};m[t]=u+"px "+c+"px",m[n]=new w(p,d,l).toString(),f(a.elements.preview,m),P.call(a,l),a._currentZoom=l}function q(){var e=this,t=e.elements.preview.getBoundingClientRect(),a=e.elements.viewport.getBoundingClientRect(),i=e.elements.boundary.getBoundingClientRect(),o=a.left-i.left,r=a.top-i.top,s=o-(t.width-a.width)/2,l=r-(t.height-a.height)/2,c=new w(s,l,e._currentZoom);f(e.elements.preview,n,c.toString())}function U(e){var t=this,n=t.elements.canvas,a=t.elements.img,i=n.getContext("2d");i.clearRect(0,0,n.width,n.height),n.width=a.width,n.height=a.height;var o=t.options.enableOrientation&&e||T(a);D(n,a,o)}function Y(e){var t=this,n=e.points,a=b(n[0]),i=b(n[1]),o=b(n[2]),r=b(n[3]),s=o-a,l=r-i,c=e.circle,u=document.createElement("canvas"),d=u.getContext("2d"),p=e.outputWidth||s,m=e.outputHeight||l;u.width=p,u.height=m,e.backgroundColor&&(d.fillStyle=e.backgroundColor,d.fillRect(0,0,p,m));var h=a,f=i,v=s,g=l,y=0,_=0,k=p,x=m;return a<0&&(h=0,y=Math.abs(a)/s*p),v+h>t._originalImageWidth&&(v=t._originalImageWidth-h,k=v/s*p),i<0&&(f=0,_=Math.abs(i)/l*m),g+f>t._originalImageHeight&&(g=t._originalImageHeight-f,x=g/l*m),d.drawImage(this.elements.preview,h,f,v,g,y,_,k,x),c&&(d.fillStyle="#fff",d.globalCompositeOperation="destination-in",d.beginPath(),d.arc(u.width/2,u.height/2,u.width/2,0,2*Math.PI,!0),d.closePath(),d.fill()),u}function H(e){var t=e.points,n=document.createElement("div"),a=document.createElement("img"),i=t[2]-t[0],o=t[3]-t[1];return v(n,"croppie-result"),n.appendChild(a),f(a,{left:-1*t[0]+"px",top:-1*t[1]+"px"}),a.src=e.url,f(n,{width:i+"px",height:o+"px"}),n}function W(e){return Y.call(this,e).toDataURL(e.format,e.quality)}function Z(e){var t=this;return new Promise((function(n){Y.call(t,e).toBlob((function(e){n(e)}),e.format,e.quality)}))}function G(e){this.elements.img.parentNode&&(Array.prototype.forEach.call(this.elements.img.classList,(function(t){e.classList.add(t)})),this.elements.img.parentNode.replaceChild(e,this.elements.img),this.elements.preview=e),this.elements.img=e}function J(e,t){var n,a=this,i=[],o=null,r=E.call(a);if("string"===typeof e)n=e,e={};else if(Array.isArray(e))i=e.slice();else{if("undefined"===typeof e&&a.data.url)return R.call(a),I.call(a),null;n=e.url,i=e.points||[],o="undefined"===typeof e.zoom?null:e.zoom}return a.data.bound=!1,a.data.url=n||a.data.url,a.data.boundZoom=o,_(n,r).then((function(n){if(G.call(a,n),i.length)a.options.relative&&(i=[i[0]*n.naturalWidth/100,i[1]*n.naturalHeight/100,i[2]*n.naturalWidth/100,i[3]*n.naturalHeight/100]);else{var o,r,s=k(n),l=a.elements.viewport.getBoundingClientRect(),c=l.width/l.height,u=s.width/s.height;u>c?(r=s.height,o=r*c):(o=s.width,r=s.height/c);var d=(s.width-o)/2,p=(s.height-r)/2,m=d+o,h=p+r;a.data.points=[d,p,m,h]}a.data.points=i.map((function(e){return parseFloat(e)})),a.options.useCanvas&&U.call(a,e.orientation),R.call(a),I.call(a),t&&t()}))}function K(e,t){return parseFloat(e).toFixed(t||0)}function X(){var e=this,t=e.elements.preview.getBoundingClientRect(),n=e.elements.viewport.getBoundingClientRect(),a=n.left-t.left,i=n.top-t.top,o=(n.width-e.elements.viewport.offsetWidth)/2,r=(n.height-e.elements.viewport.offsetHeight)/2,s=a+e.elements.viewport.offsetWidth+o,l=i+e.elements.viewport.offsetHeight+r,c=e._currentZoom;(c===1/0||isNaN(c))&&(c=1);var u=e.options.enforceBoundary?0:Number.NEGATIVE_INFINITY;return a=Math.max(u,a/c),i=Math.max(u,i/c),s=Math.max(u,s/c),l=Math.max(u,l/c),{points:[K(a),K(i),K(s),K(l)],zoom:c,orientation:e.data.orientation}}var Q={type:"canvas",format:"png",quality:1},ee=["jpeg","webp","png"];function te(e){var t,n=this,a=X.call(n),i=d(p(Q),p(e)),o="string"===typeof e?e:i.type||"base64",r=i.size||"viewport",s=i.format,l=i.quality,c=i.backgroundColor,u="boolean"===typeof i.circle?i.circle:"circle"===n.options.viewport.type,m=n.elements.viewport.getBoundingClientRect(),h=m.width/m.height;return"viewport"===r?(a.outputWidth=m.width,a.outputHeight=m.height):"object"===typeof r&&(r.width&&r.height?(a.outputWidth=r.width,a.outputHeight=r.height):r.width?(a.outputWidth=r.width,a.outputHeight=r.width/h):r.height&&(a.outputWidth=r.height*h,a.outputHeight=r.height)),ee.indexOf(s)>-1&&(a.format="image/"+s,a.quality=l),a.circle=u,a.url=n.data.url,a.backgroundColor=c,t=new Promise((function(e){switch(o.toLowerCase()){case"rawcanvas":e(Y.call(n,a));break;case"canvas":case"base64":e(W.call(n,a));break;case"blob":Z.call(n,a).then(e);break;default:e(H.call(n,a));break}})),t}function ne(){R.call(this)}function ae(e){if(!this.options.useCanvas||!this.options.enableOrientation)throw"Croppie: Cannot rotate without enableOrientation && EXIF.js included";var t=this,n=t.elements.canvas;t.data.orientation=u(t.data.orientation,e),D(n,t.elements.img,t.data.orientation),$.call(t,!0),M.call(t)}function ie(){var e=this;e.element.removeChild(e.elements.boundary),g(e.element,"croppie-container"),e.options.enableZoom&&e.element.removeChild(e.elements.zoomerWrap),delete e.elements}if(a){var oe=a;oe.fn.croppie=function(e){var t=typeof e;if("string"===t){var n=Array.prototype.slice.call(arguments,1),a=oe(this).data("croppie");return"get"===e?a.get():"result"===e?a.result.apply(a,n):"bind"===e?a.bind.apply(a,n):this.each((function(){var t=oe(this).data("croppie");if(t){var a=t[e];if(!oe.isFunction(a))throw"Croppie "+e+" method not found";a.apply(t,n),"destroy"===e&&oe(this).removeData("croppie")}}))}return this.each((function(){var t=new re(this,e);t.$=oe,oe(this).data("croppie",t)}))}}function re(e,t){if(e.className.indexOf("croppie-container")>-1)throw new Error("Croppie: Can't initialize croppie more than once");if(this.element=e,this.options=d(p(re.defaults),t),"img"===this.element.tagName.toLowerCase()){var n=this.element;v(n,"cr-original-image"),y(n,{"aria-hidden":"true",alt:""});var a=document.createElement("div");this.element.parentNode.appendChild(a),a.appendChild(n),this.element=a,this.options.url=this.options.url||n.src}if(V.call(this),this.options.url){var i={url:this.options.url,points:this.options.points};delete this.options["url"],delete this.options["points"],J.call(this,i)}}return re.defaults={viewport:{width:100,height:100,type:"square"},boundary:{},orientationControls:{enabled:!0,leftClass:"",rightClass:""},resizeControls:{width:!0,height:!0},customClass:"",showZoomer:!0,enableZoom:!0,enableResize:!1,mouseWheelZoom:!0,enableExif:!1,enforceBoundary:!0,enableOrientation:!1,enableKeyMovement:!0,update:function(){}},re.globals={translate:"translate3d"},d(re.prototype,{bind:function(e,t){return J.call(this,e,t)},get:function(){var e=X.call(this),t=e.points;return this.options.relative&&(t[0]/=this.elements.img.naturalWidth/100,t[1]/=this.elements.img.naturalHeight/100,t[2]/=this.elements.img.naturalWidth/100,t[3]/=this.elements.img.naturalHeight/100),e},result:function(e){return te.call(this,e)},refresh:function(){return ne.call(this)},setZoom:function(e){P.call(this,e),h(this.elements.zoomer)},rotate:function(e){ae.call(this,e)},destroy:function(){return ie.call(this)}}),re}))}).call(this,n("1157"))},"2ffe":function(e,t,n){},3129:function(e,t,n){"use strict";var a=n("3835"),i=n("5530"),o=(n("ac1f"),n("1276"),n("d81d"),n("a630"),n("3ca3"),n("5319"),n("1f09"),n("c995")),r=n("24b2"),s=n("7560"),l=n("58df"),c=n("80d2");t["a"]=Object(l["a"])(o["a"],r["a"],s["a"]).extend({name:"VSkeletonLoader",props:{boilerplate:Boolean,loading:Boolean,tile:Boolean,transition:String,type:String,types:{type:Object,default:function(){return{}}}},computed:{attrs:function(){return this.isLoading?this.boilerplate?{}:Object(i["a"])({"aria-busy":!0,"aria-live":"polite",role:"alert"},this.$attrs):this.$attrs},classes:function(){return Object(i["a"])(Object(i["a"])({"v-skeleton-loader--boilerplate":this.boilerplate,"v-skeleton-loader--is-loading":this.isLoading,"v-skeleton-loader--tile":this.tile},this.themeClasses),this.elevationClasses)},isLoading:function(){return!("default"in this.$scopedSlots)||this.loading},rootTypes:function(){return Object(i["a"])({actions:"button@2",article:"heading, paragraph",avatar:"avatar",button:"button",card:"image, card-heading","card-avatar":"image, list-item-avatar","card-heading":"heading",chip:"chip","date-picker":"list-item, card-heading, divider, date-picker-options, date-picker-days, actions","date-picker-options":"text, avatar@2","date-picker-days":"avatar@28",heading:"heading",image:"image","list-item":"text","list-item-avatar":"avatar, text","list-item-two-line":"sentences","list-item-avatar-two-line":"avatar, sentences","list-item-three-line":"paragraph","list-item-avatar-three-line":"avatar, paragraph",paragraph:"text@3",sentences:"text@2",table:"table-heading, table-thead, table-tbody, table-tfoot","table-heading":"heading, text","table-thead":"heading@6","table-tbody":"table-row-divider@6","table-row-divider":"table-row, divider","table-row":"table-cell@6","table-cell":"text","table-tfoot":"text@2, avatar@2",text:"text"},this.types)}},methods:{genBone:function(e,t){return this.$createElement("div",{staticClass:"v-skeleton-loader__".concat(e," v-skeleton-loader__bone")},t)},genBones:function(e){var t=this,n=e.split("@"),i=Object(a["a"])(n,2),o=i[0],r=i[1],s=function(){return t.genStructure(o)};return Array.from({length:r}).map(s)},genStructure:function(e){var t=[];e=e||this.type||"";var n=this.rootTypes[e]||"";if(e===n);else{if(e.indexOf(",")>-1)return this.mapBones(e);if(e.indexOf("@")>-1)return this.genBones(e);n.indexOf(",")>-1?t=this.mapBones(n):n.indexOf("@")>-1?t=this.genBones(n):n&&t.push(this.genStructure(n))}return[this.genBone(e,t)]},genSkeleton:function(){var e=[];return this.isLoading?e.push(this.genStructure()):e.push(Object(c["s"])(this)),this.transition?this.$createElement("transition",{props:{name:this.transition},on:{afterEnter:this.resetStyles,beforeEnter:this.onBeforeEnter,beforeLeave:this.onBeforeLeave,leaveCancelled:this.resetStyles}},e):e},mapBones:function(e){return e.replace(/\s/g,"").split(",").map(this.genStructure)},onBeforeEnter:function(e){this.resetStyles(e),this.isLoading&&(e._initialStyle={display:e.style.display,transition:e.style.transition},e.style.setProperty("transition","none","important"))},onBeforeLeave:function(e){e.style.setProperty("display","none","important")},resetStyles:function(e){e._initialStyle&&(e.style.display=e._initialStyle.display||"",e.style.transition=e._initialStyle.transition,delete e._initialStyle)}},render:function(e){return e("div",{staticClass:"v-skeleton-loader",attrs:this.attrs,on:this.$listeners,class:this.classes,style:this.isLoading?this.measurableStyles:void 0},[this.genSkeleton()])}})},3280:function(e,t,n){"use strict";var a=n("ebb5"),i=n("e58c"),o=a.aTypedArray,r=a.exportTypedArrayMethod;r("lastIndexOf",(function(e){return i.apply(o(this),arguments)}))},3516:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("vue-card-title",{attrs:{title:e.sharedData.title,subtitle:e.sharedData.subTitle,icon:"mdi-file-document-outline",dark:"",closable:""},on:{close:function(t){return e.$emit("cancel")}}}),n("v-divider"),n("v-card-text",[n("v-row",{attrs:{align:"center"}},[n("v-col",{attrs:{cols:"6",md:"3"}},[n("vue-auto-complete",e._b({directives:[{name:"validate",rawName:"v-validate",value:"",expression:"''"}],attrs:{endpoint:e.equipmentCategoryEndpoint,"item-text":"name","item-value":"slug","hide-details":""},model:{value:e.equipmentCategorySlug,callback:function(t){e.equipmentCategorySlug=t},expression:"equipmentCategorySlug"}},"vue-auto-complete",e.veeValidate("equipmentCategorySlug","Equipment Category *"),!1))],1),n("v-col",{attrs:{cols:"6",md:"3"}},[n("vue-auto-complete",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{endpoint:e.equipmentEndpoint,disabled:!e.equipmentCategorySlug,params:{category:e.equipmentCategorySlug,status:"Idle",assigned_to:"User"},"item-text":"name","item-value":"id","hide-details":"",multiple:""},model:{value:e.formValues.equipment,callback:function(t){e.$set(e.formValues,"equipment",t)},expression:"formValues.equipment"}},"vue-auto-complete",e.veeValidate("equipment","Equipments *"),!1))],1),n("v-col",{staticClass:"mt-2",attrs:{md:"3",cols:"6"}},[n("vue-date-picker",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"mt-4",model:{value:e.formValues.assigned_date,callback:function(t){e.$set(e.formValues,"assigned_date",t)},expression:"formValues.assigned_date"}},"vue-date-picker",e.veeValidate("assigned_date","Assigned Date *"),!1))],1),n("v-col",{attrs:{md:"3",cols:"6"}},[n("v-btn",{attrs:{disabled:e.loading,depressed:"",color:"primary"},domProps:{textContent:e._s("Assign")},on:{click:e.assignEquipment}})],1)],1),n("v-divider"),n("v-data-table",{attrs:{headers:e.headers,items:e.fetchedResults,loading:e.loading,"sort-desc":e.pagination.descending,"sort-by":e.pagination.sortBy,page:e.pagination.page,"items-per-page":e.pagination.rowsPerPage,"footer-props":e.footerProps,"server-items-length":e.pagination.totalItems,"must-sort":"","mobile-breakpoint":0},on:{"update:sortDesc":function(t){return e.$set(e.pagination,"descending",t)},"update:sort-desc":function(t){return e.$set(e.pagination,"descending",t)},"update:sortBy":function(t){return e.$set(e.pagination,"sortBy",t)},"update:sort-by":function(t){return e.$set(e.pagination,"sortBy",t)},"update:page":function(t){return e.$set(e.pagination,"page",t)},"update:itemsPerPage":function(t){return e.$set(e.pagination,"rowsPerPage",t)},"update:items-per-page":function(t){return e.$set(e.pagination,"rowsPerPage",t)}},scopedSlots:e._u([{key:"item",fn:function(t){return[n("tr",[n("td",[e._v(" "+e._s(t.item.name)+" ")]),n("td",{staticClass:"text-center"},[e._v(" "+e._s(t.item.category.name)+" ")]),n("td",{staticClass:"text-center"},[e._v(" "+e._s(t.item.code)+" ")]),n("td",{staticClass:"text-center"},[e._v(" "+e._s(e._f("dayjs")(t.item.assigned_date,"YYYY-MM-DD"))+" ")]),n("td",{staticClass:"text-center"},[e._v(" "+e._s(t.item.status)+" ")])])]}}])},[n("template",{slot:"no-data"},[n("data-table-no-data",{attrs:{loading:e.loading,height:"90",text:"Letter templates have not been generated yet"}})],1)],2)],1),n("v-card-actions",[n("v-btn",{attrs:{depressed:"",color:"primary"},on:{click:function(t){return e.$emit("next","onBoard"===e.component?"letter-template":"","",e.componentType||"preTask")}}},[n("v-icon",{domProps:{textContent:e._s("mdi-chevron-left")}}),n("span",{domProps:{textContent:e._s("Previous")}})],1),n("v-spacer"),n("v-btn",{attrs:{text:""},on:{click:function(t){return e.$emit("cancel")}}},[e._v(" Cancel ")]),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.gotoNextStep("postTask")}}},[e._v(" Skip ")]),n("v-btn",{attrs:{disabled:!e.fetchedResults.length,depressed:"",color:"primary"},on:{click:function(t){return e.gotoNextStep("postTask")}}},[e._v(" Next "),n("v-icon",{domProps:{textContent:e._s("mdi-chevron-right")}})],1)],1),n("v-snackbar",{attrs:{right:""},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e.nonFieldErrors?n("non-field-form-errors",{attrs:{"non-field-errors":e.nonFieldErrors,"change-type":""}}):e._e(),n("v-btn",{attrs:{text:""},on:{click:function(t){e.snackbar=!1}}},[n("v-icon",{domProps:{textContent:e._s("mdi-close")}})],1)],1)],1)},i=[],o=n("1da1"),r=(n("96cf"),n("159b"),n("5660")),s=n("ab8a"),l=n("8cd3"),c=n("a51f"),u=n("c44a"),d=n("71b7"),p=n("741f"),m=n("5615"),h=n("f70a"),f={name:"AssignEquipment",components:{VueDatePicker:p["default"],DataTableNoData:c["default"],VueAutoComplete:r["default"],NonFieldFormErrors:s["default"]},mixins:[u["a"],l["a"],h["a"]],props:{employmentDetails:{type:Object,default:function(){return{}}},component:{type:String,default:""},componentType:{type:String,default:""}},data:function(){return{formValues:{assigned_date:this.$dayjs(new Date).format("YYYY-MM-DD")},equipmentCategorySlug:"",endPoint:{},sharedData:{title:"Assign equipment to onboard ".concat(this.employmentDetails.full_name),subTitle:"List of assign equipment"},taskDetails:{},isLoading:!1,descriptionLimit:40,entries:[],model:"",employee:"",equipmentCategoryEndpoint:d["a"].getEquipmentCategory(),equipmentEndpoint:"",search:"",snackbar:!1,disabled:!!this.user,offerLetter:!1,rowsPerPageItems:[10,20,30,40,50],headers:[{text:"Equipment Name",sortable:!1},{text:"Equipment Category",sortable:!1,align:"center"},{text:"Equipment Code",sortable:!1,align:"center"},{text:"Assigned From Date",sortable:!1,align:"center"},{text:"Equipment Status",sortable:!1,align:"center"}],loading:!1,userId:null}},computed:{dataTableFilter:function(){return{as:"hr",status:"Used"}}},watch:{equipmentCategorySlug:function(e){this.getEquipmentList(e)}},created:function(){this.userId="number"===typeof this.employmentDetails.employee?this.employmentDetails.employee:this.employmentDetails.employee.id,this.dataTableEndpoint=d["a"].getUserEquipment(this.userId)},methods:{gotoNextStep:function(e){var t=this,n={status:"equipments-assigned"};this.patchData(m["a"].updatePreEmployment(this.getOrganizationSlug,this.employmentDetails.id),n).then((function(){t.$emit("next","task-form","equipments-assigned",e||t.componentType)}))},getEquipmentList:function(){this.formValues.equipment=[],this.equipmentEndpoint=d["a"].getEquipmentList(this.getOrganizationSlug)},assignEquipment:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=[],a=e.formValues.assigned_date,e.formValues.equipment.forEach((function(t){n.push({equipment:t,user:e.userId,branch:"",division:"",meeting_room:"",assigned_date:e.formValues.assigned_date})})),e.crud.message="Successfully assign equipments.",t.next=6,e.insertData(d["a"].assignEquipment(e.getOrganizationSlug),{assignments:n}).then((function(){e.loading=!1,e.equipmentCategorySlug="",e.formValues.assigned_date=a,e.fetchDataTable()}));case 6:e.loading=!1;case 7:case"end":return t.stop()}}),t)})))()}}},v=f,g=n("2877"),y=n("6544"),b=n.n(y),_=n("8336"),k=n("b0af"),x=n("99d9"),w=n("62ad"),C=n("8fea"),T=n("ce7e"),D=n("132d"),V=n("0fd9b"),E=n("2db4"),S=n("2fa4"),P=Object(g["a"])(v,a,i,!1,null,null,null);t["a"]=P.exports;b()(P,{VBtn:_["a"],VCard:k["a"],VCardActions:x["a"],VCardText:x["c"],VCol:w["a"],VDataTable:C["a"],VDivider:T["a"],VIcon:D["a"],VRow:V["a"],VSnackbar:E["a"],VSpacer:S["a"]})},"35ea":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.offerLetter.display?n("v-card",[n("vue-card-title",{attrs:{title:"Generated Letter",subtitle:"Generated Letter Detail",icon:"mdi-file-document-outline",dark:""}},[n("template",{slot:"actions"},[["accepted","declined","expired"].includes(e.offerLetter.details.status)||["stopped","downloaded","sent"].includes(e.employmentDetails.status)?e._e():n("v-icon",{attrs:{small:"",dark:""},domProps:{textContent:e._s(e.offerLetter.editable?"mdi-eye-outline":"mdi-pencil")},on:{click:function(t){e.offerLetter.editable=!e.offerLetter.editable,e.offerLetter.editText=e.offerLetter.details.message}}}),n("v-icon",{attrs:{small:"",dark:""},domProps:{textContent:e._s("mdi-close")},on:{click:function(t){return e.$emit("cancel")}}})],1)],2),n("v-divider"),n("v-card-text",{ref:"print",staticClass:"pa-3"},[n("div",{staticClass:"mx-5 pt-2"},["hold"===e.employmentDetails.status?n("v-row",{attrs:{align:"center"}},[n("v-chip",{attrs:{label:""}},[e._v(" On Hold ")]),n("v-col",{staticClass:"my-2 pl-1"},[n("div",{domProps:{textContent:e._s("Remarks")}}),n("div",{staticClass:"border pl-1",domProps:{textContent:e._s(e.employmentDetails.status_remark)}})])],1):"stopped"===e.employmentDetails.status?n("v-row",{attrs:{align:"center"}},[n("v-chip",{attrs:{label:""}},[e._v(" Stopped ")]),n("v-col",{staticClass:"my-2 pl-1",attrs:{cols:"12"}},[n("div",{domProps:{textContent:e._s("Remarks")}}),n("div",{staticClass:"border pl-1",domProps:{textContent:e._s(e.employmentDetails.status_remark)}})])],1):"accepted"===e.offerLetter.details.status?n("v-row",{attrs:{align:"center"}},[n("v-chip",{staticClass:"success ml-n2",attrs:{label:""}},[e._v(" Accepted ")]),e.offerLetter.details.remarks?n("v-col",{staticClass:"pl-1",attrs:{cols:"12"}},[n("div",{domProps:{textContent:e._s("Remarks")}}),n("div",{staticClass:"border pl-1",domProps:{textContent:e._s(e.offerLetter.details.remarks)}})]):e._e()],1):"expired"===e.employmentDetails.status?n("div",[n("v-chip",{attrs:{label:""}},[e._v(" Expired ")]),n("span",[n("span",[e._v("Expired on: ")]),e._v(" "+e._s(e._f("dayjs")(e.employmentDetails.deadline,"YYYY-MM-DD h:mm A"))+" ")])],1):"declined"===e.employmentDetails.status?n("v-row",{attrs:{align:"center"}},[n("v-chip",{staticClass:"error ml-n2",attrs:{label:""}},[e._v(" Declined ")]),e.offerLetter.details.remarks?n("v-col",{staticClass:"my-2 pl-1",attrs:{cols:"12"}},[n("div",{domProps:{textContent:e._s("Declination Remarks")}}),n("div",{staticClass:"border pl-1",domProps:{textContent:e._s(e.offerLetter.details.remarks)}})]):e._e()],1):e._e()],1),e.offerLetter.editable?n("vue-trumbowyg",{model:{value:e.offerLetter.editText,callback:function(t){e.$set(e.offerLetter,"editText",t)},expression:"offerLetter.editText"}}):n("div",{domProps:{innerHTML:e._s(e.offerLetter.details.message)}})],1),n("v-divider"),"expired"!==e.employmentDetails.status?n("v-card-actions",[n("v-spacer"),["accepted","declined","expired"].includes(e.get(e.offerLetter,"details.status"))||["stopped","hold","completed"].includes(e.get(e.employmentDetails,"status"))?e._e():n("v-btn",{attrs:{text:"",color:"primary"},domProps:{textContent:e._s("Re-Generate")},on:{click:e.reGenerateLetter}}),n("v-btn",{attrs:{outlined:"",color:"primary"},domProps:{textContent:e._s("Download")},on:{click:function(t){return e.downloadOfferLetter(e.offerLetter.details.title)}}}),e.offerLetter.editable?n("div",[n("v-btn",{attrs:{right:"",color:"primary",depressed:""},domProps:{textContent:e._s("Update")},on:{click:e.updateOfferLetter}}),n("v-btn",{attrs:{text:""},domProps:{textContent:e._s("Cancel")},on:{click:function(t){return e.$emit("cancel")}}})],1):"downloaded"===e.employmentDetails.status?n("div",[["accepted","declined","expired"].includes(e.offerLetter.details.status)||["stopped"].includes(e.employmentDetails.status)?e._e():n("v-btn",{attrs:{color:"primary",depressed:"",right:""},domProps:{textContent:e._s(e.offerLetter.details.is_sent?"Re Send":"Send")},on:{click:e.sendOfferLetter}}),n("v-btn",{attrs:{right:"",color:"success",depressed:""},domProps:{textContent:e._s("Accept")},on:{click:function(t){return e.reactToOfferLetter(!0)}}}),n("v-btn",{attrs:{right:"",depressed:"",color:"danger",dark:""},domProps:{textContent:e._s("Decline")},on:{click:function(t){return e.reactToOfferLetter(!1)}}}),n("v-btn",{attrs:{text:""},domProps:{textContent:e._s("Cancel")},on:{click:function(t){return e.$emit("cancel")}}})],1):n("div",{key:"region-v-else"},[["accepted","declined","expired"].includes(e.offerLetter.details.status)||["stopped"].includes(e.employmentDetails.status)?e._e():n("v-btn",{attrs:{color:"primary",right:""},domProps:{textContent:e._s(e.offerLetter.details.is_sent?"Re Send":"Send")},on:{click:e.sendOfferLetter}}),n("v-btn",{attrs:{text:"",color:"primary"},domProps:{textContent:e._s("Print")},on:{click:function(t){return e.downloadPdf(e.$refs.print,"l","onboarding.pdf")}}}),n("v-btn",{attrs:{text:""},domProps:{textContent:e._s("Cancel")},on:{click:function(t){return e.$emit("cancel")}}})],1)],1):e._e()],1):e._e()},i=[],o=(n("caad"),n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),n("5615")),r=n("50e3"),s=n("d242"),l=n("1467"),c=n("c44a"),u={name:"GenerateLetter",components:{VueTrumbowyg:l["default"]},mixins:[s["a"],c["a"]],props:{employmentDetails:{type:Object,default:function(){return{}}}},data:function(){return{offerLetter:{display:!1,editable:!1,editText:"",selectedId:"",details:{}}}},created:function(){this.generateLetter()},methods:{generateLetter:function(){var e=this;if(this.employmentDetails.generated_letter||!["hold","stopped"].includes(this.employmentDetails.status)){var t=o["a"].generateOfferLetter(this.getOrganizationSlug,this.employmentDetails.id);this.$http[this.employmentDetails.generated_letter?"get":"post"](t).then((function(t){e.offerLetter.details=t,e.offerLetter.selectedId=t.id,e.offerLetter.display=!0})).catch((function(t){e.pushErrors(t);var n=e.get(t,"response.data[0]");n&&e.notifyUser(n,"red")}))}else this.displayHoldStatus=!0},sendOfferLetter:function(){var e=this,t=r["a"].sendLetter(this.getOrganizationSlug,this.offerLetter.selectedId);this.$http.post(t).then((function(){e.notifyUser("Successfully sent offer letter"),e.$emit("cancel")})).catch((function(t){e.pushErrors(t);var n=t.response.data.email;n&&e.notifyUser(n,"red")}))},reactToOfferLetter:function(e){var t=this,n="";n=e?o["a"].acceptOfferLetter(this.getOrganizationSlug,this.employmentDetails.id):o["a"].declineOfferLetter(this.getOrganizationSlug,this.employmentDetails.id),this.$http.post(n).then((function(){t.notifyUser("Successfully ".concat(e?"Accepted":"Rejected"," offer letter")),t.$emit("cancel")})).catch((function(e){var n=t.get(e,"response.data.message");n&&t.notifyInvalidFormResponse(n)}))},reGenerateLetter:function(){var e=this;this.offerLetter.display=!1;var t=o["a"].reGenerateLetter(this.getOrganizationSlug,this.offerLetter.details.id);this.$http.post(t).then((function(t){e.offerLetter.details=t,e.offerLetter.selectedId=t.id,e.offerLetter.display=!0}))},downloadOfferLetter:function(e){var t=this;this.$http({url:r["a"].downloadLetter(this.getOrganizationSlug,this.offerLetter.selectedId),method:"GET",responseType:"blob"}).then((function(n){t.generateLetter(),t.$emit("cancel"),t.notifyUser("Your file is being Downloaded","green");var a=window.URL.createObjectURL(new Blob([n])),i=document.createElement("a");i.href=a,i.setAttribute("download","".concat(e,".pdf")),document.body.appendChild(i),i.click()}))},updateOfferLetter:function(){var e=this,t={message:this.offerLetter.editText},n=r["a"].putLetter(this.getOrganizationSlug,this.offerLetter.selectedId);this.$http.patch(n,t).then((function(t){e.notifyUser("Successfully updated offer letter"),e.offerLetter.details=t,e.offerLetter.editable=!1})).catch((function(t){e.pushErrors(t)}))}}},d=u,p=n("2877"),m=n("6544"),h=n.n(m),f=n("8336"),v=n("b0af"),g=n("99d9"),y=n("cc20"),b=n("62ad"),_=n("ce7e"),k=n("132d"),x=n("0fd9b"),w=n("2fa4"),C=Object(p["a"])(d,a,i,!1,null,"21c4e3da",null);t["a"]=C.exports;h()(C,{VBtn:f["a"],VCard:v["a"],VCardActions:g["a"],VCardText:g["c"],VChip:y["a"],VCol:b["a"],VDivider:_["a"],VIcon:k["a"],VRow:x["a"],VSpacer:w["a"]})},3860:function(e,t,n){"use strict";var a=n("604c");t["a"]=a["a"].extend({name:"button-group",provide:function(){return{btnToggle:this}},computed:{classes:function(){return a["a"].options.computed.classes.call(this)}},methods:{genData:a["a"].options.methods.genData}})},"3a7b":function(e,t,n){"use strict";var a=n("ebb5"),i=n("b727").findIndex,o=a.aTypedArray,r=a.exportTypedArrayMethod;r("findIndex",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)}))},"3b22":function(e,t,n){"use strict";t["a"]={getPostHiringMethod:"/recruitment/hiring-method/",updateDeleteHiringMethod:function(e){return"/recruitment/hiring-method/".concat(e)}}},"3c5d":function(e,t,n){"use strict";var a=n("ebb5"),i=n("50c4"),o=n("182d"),r=n("7b0b"),s=n("d039"),l=a.aTypedArray,c=a.exportTypedArrayMethod,u=s((function(){new Int8Array(1).set({})}));c("set",(function(e){l(this);var t=o(arguments.length>1?arguments[1]:void 0,1),n=this.length,a=r(e),s=i(a.length),c=0;if(s+t>n)throw RangeError("Wrong length");while(c<s)this[t+c]=a[c++]}),u)},"3fcc":function(e,t,n){"use strict";var a=n("ebb5"),i=n("b727").map,o=n("4840"),r=a.aTypedArray,s=a.aTypedArrayConstructor,l=a.exportTypedArrayMethod;l("map",(function(e){return i(r(this),e,arguments.length>1?arguments[1]:void 0,(function(e,t){return new(s(o(e,e.constructor)))(t)}))}))},4873:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("form",[n("v-row",{staticClass:"mb-4"},[n("v-col",{staticClass:"pa-6",attrs:{cols:"12",md:"6"}},[n("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required|name|max:150",expression:"'required|name|max:150'"}],attrs:{counter:150,"prepend-inner-icon":"mdi-account-outline"},model:{value:e.formValues.firstName,callback:function(t){e.$set(e.formValues,"firstName",t)},expression:"formValues.firstName"}},"v-text-field",e.veeValidate("first_name","First Name *"),!1)),n("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required|name|max:150",expression:"'required|name|max:150'"}],attrs:{counter:150,"prepend-inner-icon":"mdi-account-outline"},model:{value:e.formValues.lastName,callback:function(t){e.$set(e.formValues,"lastName",t)},expression:"formValues.lastName"}},"v-text-field",e.veeValidate("last_name","Last Name *"),!1)),n("v-tabs",{staticClass:"py-4",attrs:{"hide-slider":"","prepend-icon":"mdi-human-male-female"},model:{value:e.activeGender,callback:function(t){e.activeGender=t},expression:"activeGender"}},e._l(e.genderChoices,(function(t,a){return n("v-tab",{key:a,attrs:{"active-class":"white--text primary text-caption"},on:{click:function(n){e.formValues.gender=t.value}}},[n("v-icon",{class:"pr-2 text-body-1",domProps:{textContent:e._s(t.icon)}}),n("span",{domProps:{textContent:e._s(t.value)}})],1)})),1),n("vue-auto-complete",e._b({directives:[{name:"validate",rawName:"v-validate",value:"",expression:"''"}],attrs:{endpoint:e.religionEthnicityEndpoint,params:{category:"Ethnicity",ordering:"name"},"item-text":"name","item-value":"slug","prepend-inner-icon":"mdi-account-multiple"},model:{value:e.formValues.ethnicity,callback:function(t){e.$set(e.formValues,"ethnicity",t)},expression:"formValues.ethnicity"}},"vue-auto-complete",e.veeValidate("ethnicity","Ethnicity"),!1),[e.isOnBoardAdd?n("v-btn",{staticClass:"mt-4",attrs:{icon:""},on:{click:function(t){(e.formDialog=!0)&&(e.activeAutoCompleteForm="Ethnicity")}}},[n("v-icon",{attrs:{color:"blue"},domProps:{textContent:e._s("mdi-plus-box")}})],1):e._e()],1),e.imgDialog?n("image-upload",{attrs:{resize:!1,profile:""},on:{close:function(t){e.imgDialog=!1},"cropped-image":e.updateProfilePicture},model:{value:e.formValues.profile_picture,callback:function(t){e.$set(e.formValues,"profile_picture",t)},expression:"formValues.profile_picture"}}):e._e(),n("v-text-field",{attrs:{readonly:"","data-cy":"image-upload-profile-picture",label:"Profile Picture","prepend-inner-icon":"mdi-attachment",clearable:""},on:{click:function(t){e.imgDialog=!0},"click:clear":e.removeProfilePicture},model:{value:e.imageName,callback:function(t){e.imageName=t},expression:"imageName"}}),e.imageUrl?n("v-row",{staticClass:"py-4",attrs:{align:"center"}},[n("v-col",[n("v-img",{attrs:{src:e.imageUrl,width:"150",contain:""}})],1)],1):e._e()],1),n("v-col",{staticClass:"pa-6",attrs:{cols:"12",md:"6"}},[n("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"name|max:150",expression:"'name|max:150'"}],attrs:{counter:150,"prepend-inner-icon":"mdi-account-outline"},model:{value:e.formValues.middleName,callback:function(t){e.$set(e.formValues,"middleName",t)},expression:"formValues.middleName"}},"v-text-field",e.veeValidate("middle_name","Middle Name"),!1)),n("vue-date-picker",e._b({directives:[{name:"validate",rawName:"v-validate",value:"mustBeAboveSixteen|required",expression:"'mustBeAboveSixteen|required'"}],model:{value:e.formValues.dateOfBirth,callback:function(t){e.$set(e.formValues,"dateOfBirth",t)},expression:"formValues.dateOfBirth"}},"vue-date-picker",e.veeValidate("date_of_birth","Date Of Birth *"),!1)),n("vue-auto-complete",e._b({directives:[{name:"validate",rawName:"v-validate",value:"",expression:"''"}],attrs:{endpoint:e.religionEthnicityEndpoint,params:{category:"Religion",ordering:"name"},"prepend-inner-icon":"mdi-account-multiple","item-text":"name","item-value":"slug"},model:{value:e.formValues.religion,callback:function(t){e.$set(e.formValues,"religion",t)},expression:"formValues.religion"}},"vue-auto-complete",e.veeValidate("religion","Religion"),!1),[e.isOnBoardAdd?n("v-btn",{staticClass:"mt-4",attrs:{icon:""},on:{click:function(t){(e.formDialog=!0)&&(e.activeAutoCompleteForm="Religion")}}},[n("v-icon",{attrs:{color:"blue"},domProps:{textContent:e._s("mdi-plus-box")}})],1):e._e()],1),n("v-autocomplete",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"mt-3",attrs:{items:e.nationalityChoices,"prepend-inner-icon":"mdi-flag-outline","item-text":"display","item-value":"value","hide-selected":"",clearable:"","hide-no-data":""},on:{focus:e.getNationalityChoices},model:{value:e.formValues.nationality,callback:function(t){e.$set(e.formValues,"nationality",t)},expression:"formValues.nationality"}},"v-autocomplete",e.veeValidate("nationality","Nationality *"),!1)),n("v-select",e._b({staticClass:"py-4",attrs:{items:e.maritalChoices,"prepend-inner-icon":"mdi-heart-outline"},model:{value:e.formValues.maritalStatus,callback:function(t){e.$set(e.formValues,"maritalStatus",t)},expression:"formValues.maritalStatus"}},"v-select",e.veeValidate("marital_status","Marital Status"),!1)),"Married"===e.formValues.maritalStatus?n("vue-date-picker",e._b({directives:[{name:"validate",rawName:"v-validate",value:"mustBePastDate",expression:"'mustBePastDate'"}],attrs:{items:e.maritalChoices},model:{value:e.formValues.marriage_anniversary,callback:function(t){e.$set(e.formValues,"marriage_anniversary",t)},expression:"formValues.marriage_anniversary"}},"vue-date-picker",e.veeValidate("marriage_anniversary","Marriage Anniversary"),!1)):e._e(),n("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:{required:!0,regex:/^([0-9()+,' '-]+)$/},expression:"{\n          required: true,\n          regex: /^([0-9()+,' '-]+)$/\n        }"}],attrs:{counter:25,"prepend-inner-icon":"mdi-cellphone"},model:{value:e.formValues.contactNumber,callback:function(t){e.$set(e.formValues,"contactNumber",t)},expression:"formValues.contactNumber"}},"v-text-field",e.veeValidate("contacts","Contact Number *"),!1)),n("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{counter:"255","prepend-inner-icon":"mdi-web"},model:{value:e.formValues.currentAddress,callback:function(t){e.$set(e.formValues,"currentAddress",t)},expression:"formValues.currentAddress"}},"v-text-field",e.veeValidate("current_address","Contact Address *"),!1))],1)],1),n("v-footer",{attrs:{height:"auto",fixed:""}},[n("v-btn",{attrs:{color:"primary","data-cy":"btn-step-one-previous",depressed:""},on:{click:function(t){e.preEmploymentUser.pre_task?e.$emit("next","task-list","","preTask"):e.$emit("next","task-form","","preTask")}}},[n("v-icon",{domProps:{textContent:e._s("mdi-chevron-left")}}),n("span",{domProps:{textContent:e._s("Previous")}})],1),n("v-spacer"),n("v-btn",{attrs:{"data-cy":"btn-step-one-next",color:"primary",depressed:""},on:{click:e.next}},[n("span",{domProps:{textContent:e._s("Next")}}),n("v-icon",{domProps:{textContent:e._s("mdi-chevron-right")}})],1)],1),n("v-dialog",{attrs:{"max-width":"600px",persistent:""},model:{value:e.formDialog,callback:function(t){e.formDialog=t},expression:"formDialog"}},[e.formDialog?n(e.activeAutoCompleteForm,{key:e.formDialogComponentKey,tag:"component",attrs:{"org-slug":e.orgSlug},on:{"dismiss-form":e.closeAutoCompleteForm}}):e._e()],1)],1)},i=[],o=n("1da1"),r=n("0d21"),s=n("db90"),l=n("06c5"),c=n("3d8c");function u(e){return Object(r["a"])(e)||Object(s["a"])(e)||Object(l["a"])(e)||Object(c["a"])()}var d=n("3835"),p=(n("96cf"),n("d3b7"),n("3ca3"),n("ddb0"),n("ac1f"),n("5319"),n("1276"),n("fb6a"),n("a15b"),n("b0c0"),n("2b3d"),n("c44a")),m=n("ad37"),h=n("38ef"),f=n("741f"),v=n("5660"),g=n("69e5"),y=n("7bb1"),b=n("13ea"),_=n.n(b),k=function(){return n.e("chunk-3fcf7130").then(n.bind(null,"36b7"))},x=function(){return n.e("chunk-3fe57ba8").then(n.bind(null,"bde3"))};y["b"].Validator.extend("mustBeAboveSixteen",{validate:function(e){var t=new Date,n=new Date(e),a=t.getFullYear()-n.getFullYear(),i=t.getMonth()-n.getMonth();return(i<0||0===i&&t.getDate()<n.getDate())&&a--,a>16},getMessage:function(e){return"".concat(e," - Employee must be above 16 years.")}}),y["b"].Validator.extend("mustBePastDate",{getMessage:function(e){return"".concat(e," - Must be past Date.")},validate:function(e){var t=new Date,n=new Date(e);return n<t}});var w={components:{VueAutoComplete:v["default"],ImageUpload:g["default"],VueDatePicker:f["default"],Religion:k,Ethnicity:x},mixins:[p["a"]],props:{isOnBoardAdd:{type:Boolean,default:!1},registrations:{type:Object,required:!0},preEmploymentUser:{type:Object,default:function(){return{}}}},data:function(){return{formValues:this.registrations,genderChoices:[{icon:"mdi-gender-male",value:"Male"},{icon:"mdi-gender-female",value:"Female"},{icon:"mdi-gender-male-female",value:"Other"}],maritalChoices:["Married","Single","Divorced","Widowed"],religionEthnicityEndpoint:m["a"].getReligionEthnicity,nationalityChoices:[],imgDialog:!1,imageUrl:"",imageName:"",activeGender:0,formDialog:!1,formDialogComponentKey:!0,activeAutoCompleteForm:"",orgSlug:this.$route.params.slug}},computed:{activeAutoCompleteFormName:function(){return this.activeAutoCompleteForm.replace(/([A-Z]+)/g," $1").replace(/([A-Z][a-z])/g," $1")}},watch:{formDialog:function(e){e&&(this.formDialogComponentKey+=1)}},created:function(){this.populateFormData()},methods:{populateFormData:function(){if(!_()(this.preEmploymentUser)){var e,t,n="";if(2===this.preEmploymentUser.full_name.split(" ").length){var a=this.preEmploymentUser.full_name.split(" "),i=Object(d["a"])(a,2);e=i[0],n=i[1]}else{var o=this.preEmploymentUser.full_name.split(" "),r=u(o);e=r[0],t=r[1],n=r.slice(2)}n&&Array.isArray(n)&&(n=n.join(" ")),this.formValues.firstName=e,this.formValues.middleName=t,this.formValues.lastName=n,this.formValues.currentAddress=this.preEmploymentUser.address,this.formValues.gender=this.preEmploymentUser.gender,"Female"===this.formValues.gender&&(this.activeGender=1),"Other"===this.formValues.gender&&(this.activeGender=2)}},closeAutoCompleteForm:function(e,t){this.formDialog=!1,this.formValues[t]=e},removeProfilePicture:function(){this.formValues.profile_picture="",this.imageName="",this.imageUrl=""},updateProfilePicture:function(e){var t=e.size;t>5e6?(this.notifyUser("File size may not be greater then 5MB.","red"),this.imgDialog=!1):(this.formValues.profile_picture=e,this.imageName=e.name,this.imageUrl=URL.createObjectURL(e),this.imgDialog=!1)},getNationalityChoices:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$http.get(h["a"].getConstants,{params:{field:"nationality",ordering:"name"}}).then((function(t){e.nationalityChoices=t.nationality}));case 1:case"end":return t.stop()}}),t)})))()},next:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.validateAllFields();case 2:if(!t.sent){t.next=4;break}e.$emit("switch",2);case 4:case"end":return t.stop()}}),t)})))()}}},C=w,T=n("2877"),D=n("6544"),V=n.n(D),E=n("c6a6"),S=n("8336"),P=n("62ad"),L=n("169a"),O=n("553a"),A=n("132d"),$=n("adda"),j=n("0fd9b"),B=n("b974"),F=n("2fa4"),I=n("71a3"),N=n("fe57"),R=n("8654"),M=Object(T["a"])(C,a,i,!1,null,null,null);t["a"]=M.exports;V()(M,{VAutocomplete:E["a"],VBtn:S["a"],VCol:P["a"],VDialog:L["a"],VFooter:O["a"],VIcon:A["a"],VImg:$["a"],VRow:j["a"],VSelect:B["a"],VSpacer:F["a"],VTab:I["a"],VTabs:N["a"],VTextField:R["a"]})},4891:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{attrs:{flat:""}},[n("vue-card-title",{attrs:{title:e.titles[e.step-1]?e.titles[e.step-1]:e.titles[e.step],subtitle:"Please Fill The Form Below to Add New Employee",icon:"mdi-account-outline",dark:"",closable:""},on:{close:function(t){return e.$emit("cancel")}}}),n("v-divider"),n("v-card-text",[n("v-stepper",{model:{value:e.step,callback:function(t){e.step=t},expression:"step"}},[n("v-stepper-header",[n("v-stepper-step",{attrs:{complete:e.step>1,step:"1"}},[e._v(" "+e._s(e.$t("personal"))+" ")]),n("v-divider"),n("v-stepper-step",{attrs:{complete:e.step>2,step:"2"}},[e._v(" "+e._s(e.$t("employment"))+" ")]),n("v-divider"),n("v-stepper-step",{attrs:{step:"3"}},[e._v(" "+e._s(e.$t("account"))+" ")])],1),n("v-stepper-items",e._l(3,(function(t){return n("v-stepper-content",{key:t,attrs:{step:t}},[e.loading?e._e():n("step-"+e.componentMap[t],{tag:"component",attrs:{registrations:e.registrations,"pre-employment-user":e.employmentDetails},on:{"update:registrations":function(t){e.registrations=t},switch:e.switchStep,next:e.gotoNext,"employee-added":function(t){return e.$emit("employee-added",t)}}})],1)})),1)],1)],1)],1)},i=[],o=n("5660"),r=n("0549"),s=n("4873"),l=n("dc7f"),c=n("f22b"),u={components:{VueAutoComplete:o["default"],StepOne:s["a"],StepTwo:l["a"],StepThree:c["a"],VuePageWrapper:r["default"]},props:{employmentDetails:{type:Object,default:function(){return{}}}},data:function(){return{orgSlug:this.$route.params.slug,titles:[this.$t("personalInformation"),this.$t("employmentInformation"),this.$t("accountSettings")],step:1,componentMap:{1:"one",2:"two",3:"three"},registrations:{gender:"Male"},loading:!1}},methods:{switchStep:function(e){this.step=e},gotoNext:function(e,t,n,a){this.$emit("next",e,t,n,a)}}},d=u,p=n("2877"),m=n("6544"),h=n.n(m),f=n("b0af"),v=n("99d9"),g=n("ce7e"),y=n("7e85"),b=n("e516"),_=n("9c54"),k=n("56a4"),x=Object(p["a"])(d,a,i,!1,null,null,null);t["a"]=x.exports;h()(x,{VCard:f["a"],VCardText:v["c"],VDivider:g["a"],VStepper:y["a"],VStepperContent:b["a"],VStepperHeader:_["a"],VStepperItems:_["b"],VStepperStep:k["a"]})},"50e3":function(e,t,n){"use strict";n("99af");t["a"]={getLetterTemplate:function(e){return"/hris/".concat(e,"/employment/letter-template/")},postLetterTemplate:function(e){return"/hris/".concat(e,"/employment/letter-template/")},updateLetterTemplate:function(e,t){return"/hris/".concat(e,"/employment/letter-template/").concat(t,"/")},deleteLetterTemplate:function(e,t){return"/hris/".concat(e,"/employment/letter-template/").concat(t,"/")},downloadLetter:function(e,t){return"/hris/".concat(e,"/employment/letters/").concat(t,"/download/")},getLetter:function(e){return"/hris/".concat(e,"/employment/letters/")},postLetter:function(e){return"/hris/".concat(e,"/employment/letters/")},putLetter:function(e,t){return"/hris/".concat(e,"/employment/letters/").concat(t,"/")},deleteLetter:function(e,t){return"/hris/".concat(e,"/employment/letters/").concat(t,"/")},sendLetter:function(e,t){return"/hris/".concat(e,"/employment/letters/").concat(t,"/send/")},saveLetter:function(e,t){return"/hris/".concat(e,"/employment/letters/").concat(t,"/save/")},getHints:function(e){return"/hris/".concat(e,"/employment/letter-template/hints/")}}},"553a":function(e,t,n){"use strict";var a=n("5530"),i=(n("a9e3"),n("c7cd"),n("b5b6"),n("8dd9")),o=n("3a66"),r=n("d10f"),s=n("58df"),l=n("80d2");t["a"]=Object(s["a"])(i["a"],Object(o["a"])("footer",["height","inset"]),r["a"]).extend({name:"v-footer",props:{height:{default:"auto",type:[Number,String]},inset:Boolean,padless:Boolean,tag:{type:String,default:"footer"}},computed:{applicationProperty:function(){return this.inset?"insetFooter":"footer"},classes:function(){return Object(a["a"])(Object(a["a"])({},i["a"].options.computed.classes.call(this)),{},{"v-footer--absolute":this.absolute,"v-footer--fixed":!this.absolute&&(this.app||this.fixed),"v-footer--padless":this.padless,"v-footer--inset":this.inset})},computedBottom:function(){if(this.isPositioned)return this.app?this.$vuetify.application.bottom:0},computedLeft:function(){if(this.isPositioned)return this.app&&this.inset?this.$vuetify.application.left:0},computedRight:function(){if(this.isPositioned)return this.app&&this.inset?this.$vuetify.application.right:0},isPositioned:function(){return Boolean(this.absolute||this.fixed||this.app)},styles:function(){var e=parseInt(this.height);return Object(a["a"])(Object(a["a"])({},i["a"].options.computed.styles.call(this)),{},{height:isNaN(e)?e:Object(l["g"])(e),left:Object(l["g"])(this.computedLeft),right:Object(l["g"])(this.computedRight),bottom:Object(l["g"])(this.computedBottom)})}},methods:{updateApplication:function(){var e=parseInt(this.height);return isNaN(e)?this.$el?this.$el.clientHeight:0:e}},render:function(e){var t=this.setBackgroundColor(this.color,{staticClass:"v-footer",class:this.classes,style:this.styles});return e(this.tag,t,this.$slots.default)}})},5615:function(e,t,n){"use strict";n("99af");t["a"]={getPreEmployment:function(e){return"/hris/".concat(e,"/employment/pre-employment/")},postPreEmployment:function(e){return"/hris/".concat(e,"/employment/pre-employment/")},updatePreEmployment:function(e,t){return"/hris/".concat(e,"/employment/pre-employment/").concat(t,"/")},deletePreEmployment:function(e,t){return"/hris/".concat(e,"/employment/pre-employment/").concat(t,"/")},getPreEmploymentDetail:function(e,t){return"/hris/".concat(e,"/employment/pre-employment/").concat(t,"/")},generateOfferLetter:function(e,t){return"/hris/".concat(e,"/employment/pre-employment/").concat(t,"/generate/")},sendOfferLetter:function(e,t){return"/hris/".concat(e,"/employment/pre-employment/").concat(t,"/send-offer/")},downloadOfferLetter:function(e,t){return"/hris/".concat(e,"/employment/pre-employment/").concat(t,"/download/")},getEmailDetail:function(e,t){return"/hris/".concat(e,"/employment/pre-employment/offer-letter/perform/").concat(t,"/")},postEmailDetail:function(e,t){return"/hris/".concat(e,"/employment/pre-employment/offer-letter/perform/").concat(t,"/")},getOfferLetter:function(e){return"/hris/offer-letter/".concat(e,"/")},acceptOfferLetter:function(e,t){return"/hris/".concat(e,"/employment/pre-employment/").concat(t,"/letter/accept/")},declineOfferLetter:function(e,t){return"/hris/".concat(e,"/employment/pre-employment/").concat(t,"/letter/decline/")},reGenerateLetter:function(e,t){return"/hris/".concat(e,"/employment/letters/").concat(t,"/regenerate/")},downloadLetterId:function(e,t){return"/hris/".concat(e,"/employment/letters/").concat(t,"/download/")},getPreTasks:function(e,t){return"/hris/".concat(e,"/employment/pre-employment/").concat(t,"/pre-tasks/")},postPreTasksMultiAssign:function(e,t){return"/hris/".concat(e,"/employment/pre-employment/").concat(t,"/pre-tasks/multi-assign/")},getPostTasks:function(e,t){return"/hris/".concat(e,"/employment/pre-employment/").concat(t,"/post-tasks/")},postPostTasksMultiAssign:function(e,t){return"/hris/".concat(e,"/employment/pre-employment/").concat(t,"/post-tasks/multi-assign/")},letterTemplate:function(e,t){return"/hris/".concat(e,"/employment/pre-employment/").concat(t,"/letters/")}}},5620:function(e,t,n){"use strict";n("ac39")},5660:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex space-between"},[n("v-autocomplete",{key:e.componentKey,ref:"autoComplete",class:e.appliedClass,attrs:{id:e.id,items:e.itemsSorted,"search-input":e.search,loading:e.isLoading,multiple:e.multiple,label:e.label,error:e.errorMessages.length>0,"error-messages":e.errorMessages,disabled:e.disabled,readonly:e.readonly,"data-cy":"autocomplete-"+e.dataCyVariable,"prepend-inner-icon":e.prependInnerIcon,clearable:e.clearable&&!e.readonly,"hide-details":e.hideDetails,"item-text":e.itemText,"item-value":e.itemValue,"small-chips":e.multiple||e.chips,"deletable-chips":e.multiple,hint:e.hint,"persistent-hint":e.persistentHint,chips:e.chips,solo:e.solo,flat:e.flat,"cache-items":e.cacheItems,placeholder:e.placeholder,dense:e.dense,"hide-selected":"","hide-no-data":""},on:{"update:searchInput":function(t){e.search=t},"update:search-input":function(t){e.search=t},focus:e.populateOnFocus,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.searchText())},change:e.updateState,blur:function(t){return e.$emit("blur")}},scopedSlots:e._u([{key:"selection",fn:function(t){return[e._t("selection",(function(){return[e.itemText&&t.item?n("div",[e.multiple||e.chips?n("v-chip",{attrs:{close:(e.clearable||!e.clearable&&!e.multiple)&&!e.readonly,small:""},on:{"click:close":function(n){return e.remove(t.item)}}},[t.item[e.itemText]?n("div",[t.item[e.itemText].length>40?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(a){var i=a.on;return[n("span",e._g({},i),[e._v(" "+e._s(e._f("truncate")(t.item[e.itemText],40)))])]}}],null,!0)},[n("span",[e._v(e._s(t.item[e.itemText]))])]):n("span",[e._v(e._s(t.item[e.itemText]))])],1):n("div",[n("span",[e._v(e._s(t.item))])])]):n("div",[t.item[e.itemText]?n("div",[t.item[e.itemText].length>40?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(a){var i=a.on;return[n("span",e._g({},i),[e._v(" "+e._s(e._f("truncate")(t.item[e.itemText],40)))])]}}],null,!0)},[n("span",[e._v(e._s(t.item[e.itemText]))])]):n("span",[e._v(e._s(t.item[e.itemText]))])],1):n("div",[n("span",[e._v(e._s(t.item))])])])],1):e._e()]}),{props:t})]}},{key:"item",fn:function(t){return[n("v-list-item-content",[n("v-list-item-title",[e._t("item",(function(){return[e.itemText&&t.item?n("div",[t.item[e.itemText]?n("div",[t.item[e.itemText].length>40?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(a){var i=a.on;return[n("span",e._g({},i),[e._v(" "+e._s(e._f("truncate")(t.item[e.itemText],40)))])]}}],null,!0)},[n("span",[e._v(e._s(t.item[e.itemText]))])]):n("span",[e._v(e._s(t.item[e.itemText]))])],1):n("div",[n("span",[e._v(e._s(t.item))])])]):e._e()]}),{props:t})],2)],1)]}},{key:"append-item",fn:function(){return[!e.fullyLoaded&&e.showMoreIcon?n("div",[n("v-list-item-content",{staticClass:"px-4 pointer primary--text font-weight-bold"},[n("v-list-item-title",{on:{click:function(t){return e.fetchData()}}},[e._v(" Load More Items ... ")])],1)],1):e._e()]},proxy:!0}],null,!0),model:{value:e.selectedData,callback:function(t){e.selectedData=t},expression:"selectedData"}}),e._t("default")],2)},i=[],o=n("2909"),r=n("5530"),s=n("53ca"),l=n("1da1"),c=(n("96cf"),n("a9e3"),n("ac1f"),n("841c"),n("7db0"),n("d81d"),n("159b"),n("4de4"),n("4e827"),n("2ca0"),n("d3b7"),n("c740"),n("a434"),n("3ca3"),n("ddb0"),n("2b3d"),n("caad"),n("2532"),n("63ea")),u=n.n(c),d={props:{value:{type:[Number,String,Array,Object],default:void 0},id:{type:String,default:""},dataCyVariable:{type:String,default:""},endpoint:{type:String,default:""},itemText:{type:String,required:!0},itemValue:{type:String,required:!0},params:{type:Object,required:!1,default:function(){return{}}},itemsToExclude:{type:[Array,Number],default:null},forceFetch:{type:Boolean,default:!1},staticItems:{type:Array,default:function(){return[]}},errorMessages:{type:[String,Array],default:function(){return[]}},label:{type:String,default:""},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},hint:{type:String,default:void 0},persistentHint:{type:Boolean,required:!1,default:!1},multiple:{type:Boolean,required:!1,default:!1},clearable:{type:Boolean,default:!0},hideDetails:{type:Boolean,default:!1},solo:{type:Boolean,default:!1},flat:{type:Boolean,default:!1},chips:{type:Boolean,default:!1},prependInnerIcon:{type:String,default:void 0},cacheItems:{type:Boolean,default:!1},appliedClass:{type:String,default:""},placeholder:{type:String,default:""},dense:{type:Boolean,default:!1}},data:function(){return{componentKey:0,items:[],selectedData:null,search:null,initialFetchStarted:!1,nextLimit:null,nextOffset:null,showMoreIcon:!1,fullyLoaded:!1,isLoading:!1}},computed:{itemsSorted:function(){return this.sortBySearch(this.items,this.search?this.search.toLowerCase():"")}},watch:{value:{handler:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var n,a,i,o,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=10;break}if(!this.forceFetch||this.initialFetchStarted){e.next=6;break}return this.initialFetchStarted=!0,e.next=5,this.fetchData();case 5:this.removeDuplicateItem();case 6:Array.isArray(t)?(i=[],"object"===Object(s["a"])(t[0])?(this.selectedData=t.map((function(e){return e[r.itemValue]})),t.forEach((function(e){var t=r.items.find((function(t){return t===e}));t||i.push(e)}))):(t.forEach((function(e){var t=r.items.find((function(t){return t[r.itemValue]===e}));t||i.push(e)})),this.selectedData=t),i.length>0&&(o=this.items).push.apply(o,i)):"object"===Object(s["a"])(t)?(this.selectedData=t[this.itemValue],n=this.items.find((function(e){return e[r.itemValue]===t})),n||this.items.push(t)):(this.selectedData=t,a=this.items.find((function(e){return e===t})),a||this.items.push(t)),this.updateData(this.selectedData),e.next=11;break;case 10:t||(this.selectedData=null);case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),immediate:!0},selectedData:function(e){this.updateData(e)},params:{handler:function(e,t){u()(e,t)||(this.fullyLoaded=!1,this.initialFetchStarted=!1,this.items=[],this.componentKey+=1)},deep:!0}},methods:{sortBySearch:function(e,t){var n=this.itemText,a=e.filter((function(e){return"object"===Object(s["a"])(e)}));return a.sort((function(e,a){return e[n].toLowerCase().startsWith(t)&&a[n].toLowerCase().startsWith(t)?e[n].toLowerCase().localeCompare(a[n].toLowerCase()):e[n].toLowerCase().startsWith(t)?-1:a[n].toLowerCase().startsWith(t)?1:e[n].toLowerCase().localeCompare(a[n].toLowerCase())}))},populateOnFocus:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.initialFetchStarted){t.next=2;break}return t.abrupt("return");case 2:return e.initialFetchStarted=!0,t.next=5,e.fetchData();case 5:e.removeDuplicateItem();case 6:case"end":return t.stop()}}),t)})))()},fetchData:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.staticItems.length>0)){t.next=3;break}return e.items=e.staticItems,t.abrupt("return");case 3:return n=e.nextLimit,a=e.nextOffset,e.search&&(n=null,a=null),e.isLoading=!0,t.next=9,e.$http.get(e.endpoint,{params:Object(r["a"])(Object(r["a"])({},e.params),{},{search:e.search,limit:n,offset:a})}).then((function(t){var n;t.results||(t.results=t),t.next?(e.showMoreIcon=!0,e.extractLimitOffset(t.next)):(e.showMoreIcon=!1,e.search||(e.fullyLoaded=!0)),e.itemsToExclude&&(t.results=e.excludeRecord(t.results)),(n=e.items).push.apply(n,Object(o["a"])(t.results))})).finally((function(){e.isLoading=!1}));case 9:case"end":return t.stop()}}),t)})))()},removeDuplicateItem:function(){var e=this,t=this.items.indexOf(this.selectedData);if(t>=0){var n=this.items.findIndex((function(t){return t[e.itemValue]===e.selectedData}));n>=0&&(this.items.splice(t,1),this.componentKey+=1)}},updateData:function(e){var t=this,n=[];e instanceof Array?e.forEach((function(e){n.unshift(t.items.find((function(n){return n[t.itemValue]===e})))})):n=this.items.find((function(n){return n[t.itemValue]===e})),this.$emit("input",e),this.$emit("update:selectedFullData",n)},searchText:function(){0!==this.$refs.autoComplete.filteredItems.length||this.fullyLoaded||this.fetchData()},extractLimitOffset:function(e){var t=new URL(e);this.nextLimit=t.searchParams.get("limit"),this.nextOffset=t.searchParams.get("offset")},excludeRecord:function(e){var t=this,n=[];return"number"===typeof this.itemsToExclude?n.push(this.itemsToExclude):n=this.itemsToExclude,e.filter((function(e){if(e[t.itemValue])return!n.includes(e[t.itemValue])}))},remove:function(e){if(this.selectedData instanceof Object){var t=this.selectedData.indexOf(e[this.itemValue]);t>=0&&this.selectedData.splice(t,1)}else this.selectedData=null},updateState:function(){this.search="",this.nextLimit&&(this.showMoreIcon=!0)}}},p=d,m=n("2877"),h=n("6544"),f=n.n(h),v=n("c6a6"),g=n("cc20"),y=n("5d23"),b=n("3a2f"),_=Object(m["a"])(p,a,i,!1,null,null,null);t["default"]=_.exports;f()(_,{VAutocomplete:v["a"],VChip:g["a"],VListItemContent:y["a"],VListItemTitle:y["c"],VTooltip:b["a"]})},"56a4":function(e,t,n){"use strict";n("a9e3"),n("d3b7"),n("25f0");var a=n("9d26"),i=n("a9ad"),o=n("3206"),r=n("5607"),s=n("58df"),l=Object(s["a"])(i["a"],Object(o["a"])("stepper","v-stepper-step","v-stepper"));t["a"]=l.extend().extend({name:"v-stepper-step",directives:{ripple:r["a"]},inject:["stepClick"],props:{color:{type:String,default:"primary"},complete:Boolean,completeIcon:{type:String,default:"$complete"},editable:Boolean,editIcon:{type:String,default:"$edit"},errorIcon:{type:String,default:"$error"},rules:{type:Array,default:function(){return[]}},step:[Number,String]},data:function(){return{isActive:!1,isInactive:!0}},computed:{classes:function(){return{"v-stepper__step--active":this.isActive,"v-stepper__step--editable":this.editable,"v-stepper__step--inactive":this.isInactive,"v-stepper__step--error error--text":this.hasError,"v-stepper__step--complete":this.complete}},hasError:function(){return this.rules.some((function(e){return!0!==e()}))}},mounted:function(){this.stepper&&this.stepper.register(this)},beforeDestroy:function(){this.stepper&&this.stepper.unregister(this)},methods:{click:function(e){e.stopPropagation(),this.$emit("click",e),this.editable&&this.stepClick(this.step)},genIcon:function(e){return this.$createElement(a["a"],e)},genLabel:function(){return this.$createElement("div",{staticClass:"v-stepper__label"},this.$slots.default)},genStep:function(){var e=!(this.hasError||!this.complete&&!this.isActive)&&this.color;return this.$createElement("span",this.setBackgroundColor(e,{staticClass:"v-stepper__step__step"}),this.genStepContent())},genStepContent:function(){var e=[];return this.hasError?e.push(this.genIcon(this.errorIcon)):this.complete?this.editable?e.push(this.genIcon(this.editIcon)):e.push(this.genIcon(this.completeIcon)):e.push(String(this.step)),e},toggle:function(e){this.isActive=e.toString()===this.step.toString(),this.isInactive=Number(e)<Number(this.step)}},render:function(e){return e("div",{staticClass:"v-stepper__step",class:this.classes,directives:[{name:"ripple",value:this.editable}],on:{click:this.click}},[this.genStep(),this.genLabel()])}})},"5cc6":function(e,t,n){var a=n("74e8");a("Uint8",(function(e){return function(t,n,a){return e(this,t,n,a)}}))},"5e12":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("vue-page-wrapper",{attrs:{title:e.htmlTitle,"bread-crumbs":e.breadCrumbItems}},[n("v-card",[n("vue-card-title",{attrs:{title:"Pre Employment",subtitle:"Pre employment Information.",icon:"mdi-file-document-outline"}},[n("template",{slot:"actions"},[e.filters.showDeletedList?e._e():n("v-btn",{attrs:{small:"",color:"primary",depressed:""},on:{click:e.initiateEmployeeOnboard}},[e._v(" Onboard Employee ")]),n("v-btn",{attrs:{icon:""},on:{click:function(t){e.filters.display=!e.filters.display}}},[n("v-icon",{attrs:{small:""},domProps:{textContent:e._s("mdi-filter-variant")}})],1)],1)],2),n("v-divider"),n("v-slide-y-transition",[e.filters.display?n("div",[n("v-row",{attrs:{"no-gutters":""}},[n("v-col",[n("vue-search",{staticClass:"py-3 mx-3",attrs:{search:e.filters.search},on:{"update:search":function(t){return e.$set(e.filters,"search",t)}},model:{value:e.filters.search,callback:function(t){e.$set(e.filters,"search",t)},expression:"filters.search"}})],1)],1),n("v-divider")],1):e._e()]),n("v-card-text",{staticClass:"ma-0 pa-0"},[n("v-data-table",{attrs:{headers:e.headers,items:e.fetchedResults,"sort-desc":e.pagination.descending,"sort-by":e.pagination.sortBy,page:e.pagination.page,"mobile-breakpoint":0,"items-per-page":e.pagination.rowsPerPage,"footer-props":e.footerProps,"server-items-length":e.pagination.totalItems,"must-sort":""},on:{"update:sortDesc":function(t){return e.$set(e.pagination,"descending",t)},"update:sort-desc":function(t){return e.$set(e.pagination,"descending",t)},"update:sortBy":function(t){return e.$set(e.pagination,"sortBy",t)},"update:sort-by":function(t){return e.$set(e.pagination,"sortBy",t)},"update:page":function(t){return e.$set(e.pagination,"page",t)},"update:itemsPerPage":function(t){return e.$set(e.pagination,"rowsPerPage",t)},"update:items-per-page":function(t){return e.$set(e.pagination,"rowsPerPage",t)}},scopedSlots:e._u([{key:"item",fn:function(t){return[n("tr",[n("td",[n("a",{domProps:{textContent:e._s(t.item.full_name)},on:{click:function(n){return e.openPreEmploymentDetails(t.item.id)}}}),t.item.job_title?n("div",{domProps:{textContent:e._s(t.item.job_title.title)}}):e._e()]),n("td",[n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(a){var i=a.on;return[n("span",e._g({},i),[e._v(" "+e._s(e._f("truncate")(t.item.email||"-",20))+" ")])]}}],null,!0)},[n("span",{domProps:{textContent:e._s(t.item.email)}})])],1),n("td",{domProps:{textContent:e._s(t.item.date_of_join.substring(0,10))}}),n("td",[e._v(" "+e._s(e._f("dayjs")(t.item.deadline,"YYYY-MM-DD"))+" "),n("div",[e._v(" "+e._s(e._f("dayjs")(t.item.deadline,"h:mm A"))+" ")])]),n("td",{staticClass:"text-center py-2"},[e.statusMap[t.item.status].extraText?n("div",{staticClass:"grey--text",domProps:{textContent:e._s(e.statusMap[t.item.status].extraText)}}):e._e(),e.statusMap[t.item.status].taskStatus?n("div",{staticClass:"grey--text",domProps:{textContent:e._s(e.statusMap[t.item.status].taskStatus(t.item))}}):e._e(),"letter"===e.statusMap[t.item.status].type?n("v-btn",{attrs:{outlined:"",small:"",color:"primary"},domProps:{textContent:e._s(t.item.generated_letter?"Preview & Forward":"Generate Letter")},on:{click:function(n){e.generateLetter(t.item),e.offerLetter.editable=!1}}}):"button"===e.statusMap[t.item.status].type?n("v-btn",{staticClass:"my-1",attrs:{outlined:"",small:"",color:"primary"},domProps:{textContent:e._s(e.statusMap[t.item.status].text)},on:{click:function(n){return e.showForm(t.item)}}}):n("span",{class:e.statusMap[t.item.status].color+"--text",domProps:{textContent:e._s(e.statusMap[t.item.status].text)}}),n("div",[e.statusMap[t.item.status].viewDetails?n("a",{domProps:{textContent:e._s("View Details")},on:{click:function(n){e.statusMap[t.item.status].viewDetails(t.item)}}}):e._e()])],1),n("td",{staticClass:"text-center"},[n("vue-context-menu",{attrs:{"context-list":[{name:t.item.generated_letter?"View Letter":"Generate",icon:"mdi-eye-outline",color:"primary",hide:["hold"].includes(t.item.status),disabled:e.filters.showDeletedList,disable_message:"Not Allowed"},{name:"Update Details",icon:"mdi-pencil-outline",color:"primary",hide:["accepted","declined","expired"].includes(e.get(t.item,"generated_letter.status"))||["stopped","hold","completed"].includes(t.item.status)},{name:"Hold",icon:"mdi-alert-circle-outline",color:"grey darken-2",hide:["stopped","hold","completed"].includes(t.item.status),disabled:e.filters.showDeletedList,disable_message:"Not Allowed"},{name:"Resume",icon:"mdi-check",color:"success",hide:!("hold"===t.item.status),disabled:e.filters.showDeletedList,disable_message:"Not Allowed"},{name:"Stop",icon:"mdi-close",color:"danger",hide:["stopped","hold","completed"].includes(t.item.status),disabled:e.filters.showDeletedList,disable_message:"Not Allowed"},{name:"Delete",icon:"mdi-delete-outline",color:"danger",hide:!("expired"===t.item.status),disabled:e.filters.showDeletedList,disable_message:"Not Allowed"}]},on:{click0:function(n){e.generateLetter(t.item),e.preEmploymentDetails.selectedId=t.item.id},click1:function(n){return e.triggerForm("update",t.item)},click2:function(n){e.holdNotification.dialog=!0,e.preEmploymentDetails.selectedId=t.item.id},click3:function(n){e.resumeNotification.dialog=!0,e.preEmploymentDetails.selectedId=t.item.id},click4:function(n){e.stopNotification.dialog=!0,e.preEmploymentDetails.selectedId=t.item.id},click5:function(n){e.deleteNotification.dialog=!0,e.preEmploymentDetails.selectedId=t.item.id}}})],1)])]}}])},[n("template",{slot:"no-data"},[n("data-table-no-data",{attrs:{loading:e.loading}})],1)],2),n("v-dialog",{attrs:{height:"900",persistent:"",width:"800",scrollable:"","max-width":"800px"},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.dismissForm.apply(null,arguments)}},model:{value:e.offerLetter.display,callback:function(t){e.$set(e.offerLetter,"display",t)},expression:"offerLetter.display"}},[n("generateLetter",e._g(e._b({key:e.generateLetterKey},"generateLetter",e.dynamicProps,!1),e.eventToListen))],1),n("v-dialog",{attrs:{width:"400"},on:{keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;e.displayHoldStatus=!1}},model:{value:e.displayHoldStatus,callback:function(t){e.displayHoldStatus=t},expression:"displayHoldStatus"}},[e.displayHoldStatus?n("v-card",[n("vue-card-title",{attrs:{title:"hold"===e.preEmploymentForm.actionData.status?"Details of Hold":"Details of Stopped",subtitle:"-",icon:"mdi-file-document-outline",dark:"",closable:""},on:{close:function(t){e.displayHoldStatus=!1}}}),n("v-card-text",[n("v-col",[n("div",[e._v(" You have "),n("v-chip",{attrs:{small:""}},[e._v(" "+e._s("hold"===e.preEmploymentForm.actionData.status?"Hold":"Stopped")+" ")]),e._v(" this Review because of following Reasons. ")],1),n("div",{staticClass:"pa-2 border"},[e._v(" "+e._s(e.preEmploymentForm.actionData.status_remark||"N/A")+" ")])])],1)],1):e._e()],1),n(e.dialogType,{tag:"v-bottom-sheet",staticClass:"white",attrs:{scrollable:"",fullscreen:e.fullScreenComponents.includes(e.preEmploymentForm.currentComponent),persistent:""},on:{keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;e.preEmploymentForm.display=!1,e.fetchDataTable()}},model:{value:e.preEmploymentForm.display,callback:function(t){e.$set(e.preEmploymentForm,"display",t)},expression:"preEmploymentForm.display"}},[e.preEmploymentForm.display?n(e.preEmploymentForm.currentComponent,e._g(e._b({tag:"component",attrs:{as:"hr"},on:{cancel:function(t){e.preEmploymentForm.display=!1,e.fetchDataTable()},refresh:function(t){e.preEmploymentForm.display=!1,e.fetchDataTable()},next:e.gotoNext,"employee-added":function(t){e.preEmploymentForm.actionData.employee=t},completed:function(t){e.preEmploymentForm.display=!1,e.fetchDataTable()}}},"component",e.dynamicProps,!1),e.eventToListen)):e._e()],1)],1)],1),n("vue-dialog",{attrs:{notify:e.deleteNotification},on:{close:function(t){e.deleteNotification.dialog=!1},agree:e.deletePreEmployment}}),n("vue-dialog",{attrs:{notify:e.holdNotification},on:{close:function(t){e.holdNotification.dialog=!1,e.remarks=""},agree:e.holdPreEmployment}},[e.holdNotification.dialog?n("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required|max:600",expression:"'required|max:600'"}],attrs:{counter:600},model:{value:e.remarks,callback:function(t){e.remarks=t},expression:"remarks"}},"v-text-field",e.veeValidate("status_remark","Remarks *"),!1)):e._e()],1),n("vue-dialog",{attrs:{notify:e.resumeNotification},on:{close:function(t){e.resumeNotification.dialog=!1,e.remarks=""},agree:e.resumePreEmployment}},[e.resumeNotification.dialog?n("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required|max:600",expression:"'required|max:600'"}],attrs:{counter:600},model:{value:e.remarks,callback:function(t){e.remarks=t},expression:"remarks"}},"v-text-field",e.veeValidate("status_remark","Remarks *"),!1)):e._e()],1),n("vue-dialog",{attrs:{notify:e.stopNotification},on:{close:function(t){e.stopNotification.dialog=!1,e.remarks=""},agree:e.stopPreEmployment}},[e.stopNotification.dialog?n("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required|max:600",expression:"'required|max:600'"}],attrs:{counter:600},model:{value:e.remarks,callback:function(t){e.remarks=t},expression:"remarks"}},"v-text-field",e.veeValidate("status_remark","Remarks *"),!1)):e._e()],1)],1)},i=[],o=n("1da1"),r=(n("96cf"),n("caad"),n("2532"),n("ac1f"),n("841c"),n("99af"),n("0549")),s=n("8714"),l=n("983c"),c=n("5660"),u=n("1467"),d=n("741f"),p=n("a51f"),m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("vue-card-title",{attrs:{title:e.createHeadings,subtitle:e.createHeadings,icon:"mdi-file-document-outline",dark:"",closable:""},on:{close:function(t){return e.$emit("cancel")}}}),n("v-card-text",{ref:"empForm",staticClass:"scrollbar-md"},[e.nonFieldErrors?n("non-field-form-errors",{attrs:{"non-field-errors":e.nonFieldErrors}}):e._e(),n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("v-switch",{attrs:{label:"Import Employee from Recruitment"},model:{value:e.showRecruitmentCandidates,callback:function(t){e.showRecruitmentCandidates=t},expression:"showRecruitmentCandidates"}})],1),e.showRecruitmentCandidates?[n("v-col",{attrs:{cols:"4"}},[n("vue-auto-complete",e._b({attrs:{endpoint:"/recruitment/applicant/on-board/?organization="+e.getOrganizationSlug+"&as=hr","prepend-inner-icon":"mdi-account-outline","item-text":"full_name","item-value":"id"},model:{value:e.applicantId,callback:function(t){e.applicantId=t},expression:"applicantId"}},"vue-auto-complete",e.veeValidate("applicant","Recruitment Applicant *"),!1))],1),n("v-col",{attrs:{cols:"8"}})]:e._e(),n("v-col",{attrs:{cols:"4"}},[n("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required|name|max:255",expression:"'required|name|max:255'"}],attrs:{counter:"255"},model:{value:e.formValues.full_name,callback:function(t){e.$set(e.formValues,"full_name",t)},expression:"formValues.full_name"}},"v-text-field",e.veeValidate("full_name","Full Name *"),!1))],1),n("v-col",{attrs:{cols:"4"}},[n("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required|max:255",expression:"'required|max:255'"}],attrs:{counter:"255"},model:{value:e.formValues.address,callback:function(t){e.$set(e.formValues,"address",t)},expression:"formValues.address"}},"v-text-field",e.veeValidate("address","Address *"),!1))],1),n("v-col",{attrs:{cols:"4"}},[n("v-tabs",{attrs:{"hide-slider":"","prepend-icon":"mdi-human-male-female"},model:{value:e.activeGender,callback:function(t){e.activeGender=t},expression:"activeGender"}},e._l(e.genderChoices,(function(t){return n("v-tab",{key:t.value,attrs:{"active-class":"white--text primary text-caption"},on:{click:function(n){e.formValues.gender=t.value}}},[n("v-icon",{class:"pr-2 text-body-1",domProps:{textContent:e._s(t.icon)}}),n("span",{domProps:{textContent:e._s(t.value)}})],1)})),1)],1),n("v-col",{attrs:{cols:"4"}},[n("vue-date-time-picker",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],model:{value:e.formValues.deadline,callback:function(t){e.$set(e.formValues,"deadline",t)},expression:"formValues.deadline"}},"vue-date-time-picker",e.veeValidate("deadline","Deadline To Reply *"),!1))],1),n("v-col",{attrs:{cols:"4"}},[n("vue-date-picker",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],model:{value:e.formValues.date_of_join,callback:function(t){e.$set(e.formValues,"date_of_join",t)},expression:"formValues.date_of_join"}},"vue-date-picker",e.veeValidate("date_of_join","Date of Join *"),!1))],1),n("v-col",{attrs:{cols:"4"}},[n("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"email",expression:"'email'"}],attrs:{"prepend-inner-icon":"mdi-email-outline"},model:{value:e.formValues.email,callback:function(t){e.$set(e.formValues,"email",t)},expression:"formValues.email"}},"v-text-field",e.veeValidate("email","Email"),!1))],1),n("v-col",{attrs:{cols:"4"}},[n("vue-auto-complete",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{endpoint:e.jobTitleEndpoint,"prepend-inner-icon":"mdi-account-outline","item-text":"title","item-value":"slug"},model:{value:e.formValues.job_title,callback:function(t){e.$set(e.formValues,"job_title",t)},expression:"formValues.job_title"}},"vue-auto-complete",e.veeValidate("job_title","Job Title *"),!1),[n("v-btn",{staticClass:"mt-4",attrs:{icon:""},on:{click:function(t){(e.formDialog=!0)&&(e.activeAutoCompleteForm="JobTitle")}}},[n("v-icon",{attrs:{color:"blue"},domProps:{textContent:e._s("mdi-plus-box")}})],1)],1)],1),n("v-col",{attrs:{cols:"4"}},[n("vue-auto-complete",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{endpoint:e.employeeLevelEndpoint,params:{is_archived:"false"},"item-text":"title","item-value":"slug"},model:{value:e.formValues.employment_level,callback:function(t){e.$set(e.formValues,"employment_level",t)},expression:"formValues.employment_level"}},"vue-auto-complete",e.veeValidate("employee_level","Employee Level *"),!1),[n("v-btn",{staticClass:"mt-4",attrs:{icon:""},on:{click:function(t){(e.formDialog=!0)&&(e.activeAutoCompleteForm="EmploymentLevel")}}},[n("v-icon",{attrs:{color:"blue"},domProps:{textContent:e._s("mdi-plus-box")}})],1)],1)],1),n("v-col",{attrs:{cols:"4"}},[n("vue-auto-complete",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{endpoint:e.employmentTypeEndpoint,params:{is_archived:"false"},"item-text":"title","item-value":"slug"},model:{value:e.formValues.employment_status,callback:function(t){e.$set(e.formValues,"employment_status",t)},expression:"formValues.employment_status"}},"vue-auto-complete",e.veeValidate("employment_status","Employment Type *"),!1),[n("v-btn",{staticClass:"mt-4",attrs:{icon:""},on:{click:function(t){(e.formDialog=!0)&&(e.activeAutoCompleteForm="EmploymentType")}}},[n("v-icon",{attrs:{color:"blue"},domProps:{textContent:e._s("mdi-plus-box")}})],1)],1)],1),n("v-col",{attrs:{cols:"4"}},[n("vue-auto-complete",e._b({directives:[{name:"validate",rawName:"v-validate",value:"",expression:"''"}],attrs:{endpoint:e.branchEndpoint,params:{is_archived:"false"},"item-text":"name","item-value":"slug"},model:{value:e.formValues.branch,callback:function(t){e.$set(e.formValues,"branch",t)},expression:"formValues.branch"}},"vue-auto-complete",e.veeValidate("branch","Branch"),!1),[n("v-btn",{staticClass:"mt-4",attrs:{icon:""},on:{click:function(t){(e.formDialog=!0)&&(e.activeAutoCompleteForm="Branch")}}},[n("v-icon",{attrs:{color:"blue"},domProps:{textContent:e._s("mdi-plus-box")}})],1)],1)],1),n("v-col",{attrs:{cols:"4"}},[n("v-slider",{attrs:{disabled:!e.formValues.employment_level||isNaN(e.formValues.step),max:e.maxValue,min:"0",label:"Step","thumb-label":"always"},model:{value:e.formValues.step,callback:function(t){e.$set(e.formValues,"step",t)},expression:"formValues.step"}})],1),n("v-col",{attrs:{cols:"4"}},[n("vue-date-picker",e._b({directives:[{name:"validate",rawName:"v-validate",value:"",expression:"''"}],model:{value:e.formValues.contract_period,callback:function(t){e.$set(e.formValues,"contract_period",t)},expression:"formValues.contract_period"}},"vue-date-picker",e.veeValidate("contract_period","Contract Period"),!1))],1),n("v-col",{attrs:{cols:"4"}},[n("vue-auto-complete",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{endpoint:e.divisionEndpoint,params:{is_archived:!1},"item-text":"name","item-value":"slug"},model:{value:e.formValues.division,callback:function(t){e.$set(e.formValues,"division",t)},expression:"formValues.division"}},"vue-auto-complete",e.veeValidate("division","Division *"),!1),[n("v-btn",{staticClass:"mt-4",attrs:{icon:""},on:{click:function(t){(e.formDialog=!0)&&(e.activeAutoCompleteForm="Division")}}},[n("v-icon",{attrs:{color:"blue"},domProps:{textContent:e._s("mdi-plus-box")}})],1)],1)],1),n("v-col",{attrs:{cols:"4"}},[n("vue-auto-complete",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{endpoint:e.payrollEndpoint,params:{organization__slug:e.orgSlug,is_template:2},"item-text":"name","item-value":"id"},model:{value:e.formValues.payroll,callback:function(t){e.$set(e.formValues,"payroll",t)},expression:"formValues.payroll"}},"vue-auto-complete",e.veeValidate("payroll","Payroll *"),!1),[n("v-btn",{staticClass:"mt-4",attrs:{icon:""},on:{click:function(t){(e.formDialog=!0)&&(e.activeAutoCompleteForm="Payroll")}}},[n("v-icon",{attrs:{color:"blue"},domProps:{textContent:e._s("mdi-plus-box")}})],1)],1)],1),n("v-col",{attrs:{cols:"4"}},[n("vue-auto-complete",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{endpoint:e.templateEndpoint,params:{type:"offer"},"item-text":"title","item-value":"slug"},model:{value:e.formValues.template_letter,callback:function(t){e.$set(e.formValues,"template_letter",t)},expression:"formValues.template_letter"}},"vue-auto-complete",e.veeValidate("template_letter","Template Letter *"),!1),[n("v-btn",{staticClass:"mt-4",attrs:{icon:""},on:{click:function(t){(e.formDialog=!0)&&(e.activeAutoCompleteForm="LetterTemplate")}}},[n("v-icon",{attrs:{color:"blue"},domProps:{textContent:e._s("mdi-plus-box")}})],1)],1)],1),n("v-col",{attrs:{cols:"4"}},[n("v-select",e._b({attrs:{items:e.maritalChoices,"prepend-inner-icon":"mdi-heart-outline"},model:{value:e.formValues.maritalStatus,callback:function(t){e.$set(e.formValues,"maritalStatus",t)},expression:"formValues.maritalStatus"}},"v-select",e.veeValidate("marital_status","Marital Status"),!1))],1),n("v-col",{attrs:{md:"12",sm:"12"}},[n("div",[n("v-icon",{attrs:{small:""},domProps:{textContent:e._s("mdi-file-document-outline")}}),e._v(" Job Description ")],1),n("vue-trumbowyg",e._b({directives:[{name:"validate",rawName:"v-validate"}],attrs:{rows:2,"prepend-inner-icon":"mdi-file-document-outline"},model:{value:e.formValues.job_description,callback:function(t){e.$set(e.formValues,"job_description",t)},expression:"formValues.job_description"}},"vue-trumbowyg",e.veeValidate("job_description","Job Description"),!1))],1),n("v-col",{attrs:{md:"12",sm:"12"}},[n("div",[n("v-icon",{attrs:{small:""},domProps:{textContent:e._s("mdi-file-document-outline")}}),e._v(" Job Specification ")],1),n("vue-trumbowyg",e._b({directives:[{name:"validate",rawName:"v-validate"}],attrs:{rows:2,"prepend-inner-icon":"mdi-file-document-outline"},model:{value:e.formValues.job_specification,callback:function(t){e.$set(e.formValues,"job_specification",t)},expression:"formValues.job_specification"}},"vue-trumbowyg",e.veeValidate("job_specification","Job Specification"),!1))],1)],2)],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"primary",outlined:""},domProps:{textContent:e._s("Clear")},on:{click:function(t){return e.clearForm()}}}),n("v-btn",{attrs:{disabled:e.loading,depressed:"",color:"primary"},on:{click:e.createPreEmployment}},[n("v-icon",{attrs:{size:"14",left:""},domProps:{textContent:e._s("mdi-content-save-outline")}}),e._v(" Save ")],1)],1),n("v-dialog",{attrs:{"max-width":"LetterTemplate"===e.activeAutoCompleteForm?"1000px":"600px",persistent:""},model:{value:e.formDialog,callback:function(t){e.formDialog=t},expression:"formDialog"}},[n("v-card",{tag:"component"},[n("v-card-title",[n("v-icon",{staticClass:"mr-3"},[e._v("mdi-file-edit-outline")]),n("div",[n("div",{staticClass:"text-body-1"},[e._v(" Create - "+e._s(e.activeAutoCompleteFormName)+" ")]),n("div",{staticClass:"text-caption grey--text"},[e._v(" Please fill the following form to complete your action. ")])]),n("v-spacer"),n("v-btn",{attrs:{icon:""},on:{click:function(t){e.formDialog=!1}}},[n("v-icon",[e._v("mdi-close-circle")])],1)],1),n(e.activeAutoCompleteForm,e._b({key:e.formDialogComponentKey,tag:"component",attrs:{"org-slug":e.orgSlug},on:{close:function(t){e.formDialog=!1},"dismiss-form":e.closeAutoCompleteForm}},"component",e.activeAutoCompleteProps,!1))],1)],1)],1)},h=[],f=n("5530"),v=n("53ca"),g=(n("d3b7"),n("3ca3"),n("ddb0"),n("5319"),n("a4d3"),n("e01a"),n("f12b")),y=n("f1d0"),b=n("d567"),_=n("86eb"),k=n("1229"),x=n("2c2a"),w=n("7e77"),C=n("e59e"),T=n("d772"),D=n("99d6"),V=n("50e3"),E=n("5615"),S=function(){return n.e("chunk-f963e174").then(n.bind(null,"96e4"))},P=function(){return n.e("chunk-2d21ee9e").then(n.bind(null,"d81e"))},L=function(){return n.e("chunk-c547037c").then(n.bind(null,"4479"))},O=function(){return n.e("chunk-ad6773b4").then(n.bind(null,"cd42"))},A=function(){return n.e("chunk-c51c4562").then(n.bind(null,"c3ba"))},$=function(){return n.e("chunk-c51b3778").then(n.bind(null,"d8b2"))},j=function(){return n.e("chunk-017b8c30").then(n.bind(null,"19e1"))},B={components:{VueTrumbowyg:u["default"],VueDatePicker:d["default"],VueAutoComplete:c["default"],VueDateTimePicker:b["a"],EmploymentLevel:S,JobTitle:P,EmploymentType:L,Branch:O,Division:A,Payroll:$,LetterTemplate:j},mixins:[g["a"]],props:{employmentDetails:{type:Object,default:function(){return{full_name:"",address:"",gender:"Male",deadline:null,date_of_join:null,email:"",employment_level:null,contract_period:null,employment_status:null,job_title:null,step:0,division:null,branch:null,payroll:null,template_letter:null}}},createHeadings:{type:String,default:"Create Pre Employment Details."},as:{type:String}},data:function(){return{maritalChoices:["Married","Single","Divorced","Widowed"],orgSlug:this.$route.params.slug,organizationEndpoint:y["a"].getOrganizationList,genderChoices:[{icon:"mdi-gender-male",value:"Male"},{icon:"mdi-gender-female",value:"Female"},{icon:"mdi-gender-male-female",value:"Other"}],typeChoices:[{text:"Onboarding",value:"onboarding"},{text:"Offboarding",value:"offboarding"},{text:"Change Type",value:"change_type"},{text:"Offer Letter",value:"offer_letter"}],formValues:this.employmentDetails,maxValue:"",formDialog:!1,formDialogComponentKey:!0,activeAutoCompleteForm:"",activeAutoCompleteProps:{},showRecruitmentCandidates:!1,applicantId:null}},computed:{activeGender:function(){return"Female"===this.formValues.gender?1:"Other"===this.formValues.gender?2:0},activeAutoCompleteFormName:function(){return this.activeAutoCompleteForm.replace(/([A-Z]+)/g," $1").replace(/([A-Z][a-z])/g," $1")},jobTitleEndpoint:function(){return _["a"].getJobTitle(this.orgSlug)},divisionEndpoint:function(){return k["a"].getDivision(this.orgSlug)},employeeLevelEndpoint:function(){return x["a"].getEmploymentLevel(this.orgSlug)},employmentTypeEndpoint:function(){return w["a"].getEmploymentType(this.orgSlug)},branchEndpoint:function(){return C["a"].getBranch(this.orgSlug)},payrollEndpoint:function(){return T["a"].getPackage+"?organization__slug=".concat(this.getOrganizationSlug,"&as=").concat(this.as)},changeTypeEndpoint:function(){return D["a"].getChangeType(this.orgSlug)},templateEndpoint:function(){return V["a"].getLetterTemplate(this.orgSlug)}},watch:{formDialog:function(e){e&&(this.formDialogComponentKey+=1)},employmentDetails:function(){this.formValues=this.deepCopy(this.employmentDetails)},"formValues.employment_level":function(){var e=this;this.formValues.employment_level&&"object"!==Object(v["a"])(this.formValues.employment_level)&&this.getData(x["a"].updateEmploymentLevel(this.orgSlug,this.formValues.employment_level)).then((function(t){e.formValues.step=0,e.maxValue=t.scale_max}))},applicantId:function(e){e&&this.getApplicantDetail(e)},activeAutoCompleteFormName:function(){"LetterTemplate"===this.activeAutoCompleteForm&&(this.activeAutoCompleteProps={hintChoices:[{value:"offer",text:"Offer Letter"},{value:"on",text:"On Boarding"},{value:"off",text:"Off Boarding"},{value:"change",text:"Change Type"}],actionData:{},templateType:"letter"})}},methods:{closeAutoCompleteForm:function(e,t){this.formDialog=!1,this.formValues[t]=e},clearForm:function(){this.formValues={},this.clearNonFieldErrors(),this.$validator.errors.clear(),this.clearNonFieldErrors(),this.formValues.step=0,this.formValues.gender="Male",this.formValues.contract_period=null},createPreEmployment:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.formValues.id){t.next=7;break}return e.constructFormValues(e.formValues),e.crud.message="Successfully Updated Pre Employment Details.",t.next=5,e.putData(E["a"].updatePreEmployment(e.orgSlug,e.formValues.id),e.formValues).then((function(){e.$emit("completed"),e.clearForm()}));case 5:t.next=11;break;case 7:n=e.deepCopy(e.formValues),n.contract_period&&""!==n.contract_period||delete n.contract_period,e.crud.message="Successfully created Pre Employment Details.",e.insertData(E["a"].postPreEmployment(e.orgSlug),n).then((function(){e.$emit("completed")}));case 11:case"end":return t.stop()}}),t)})))()},constructFormValues:function(e){this.formValues={id:e.id,full_name:e.full_name,address:e.address,gender:e.gender,deadline:e.deadline,date_of_join:e.date_of_join,email:e.email,employment_level:e.employment_level,contract_period:e.contract_period,employment_status:e.employment_status,job_title:e.job_title,step:e.step,division:e.division,branch:e.branch,payroll:e.payroll,template_letter:e.template_letter,new_hiring_method:e.new_hiring_method}},getApplicantDetail:function(e){var t=this;this.getData("recruitment/applicant/on-board/".concat(e,"/?organization=").concat(this.getOrganizationSlug)).then((function(e){t.formValues=Object(f["a"])(Object(f["a"])({},t.formValues),e),t.formValues.job_description=e.description||"",t.formValues.job_specification=e.specification||"",delete t.formValues.id}))}}},F=B,I=n("2877"),N=n("6544"),R=n.n(N),M=n("8336"),z=n("b0af"),q=n("99d9"),U=n("62ad"),Y=n("169a"),H=n("ce7e"),W=n("132d"),Z=n("0fd9b"),G=n("b974"),J=n("ba0d"),K=n("2fa4"),X=n("b73d"),Q=n("71a3"),ee=n("fe57"),te=n("8654"),ne=Object(I["a"])(F,m,h,!1,null,null,null),ae=ne.exports;R()(ne,{VBtn:M["a"],VCard:z["a"],VCardActions:q["a"],VCardText:q["c"],VCardTitle:q["d"],VCol:U["a"],VDialog:Y["a"],VDivider:H["a"],VIcon:W["a"],VRow:Z["a"],VSelect:G["a"],VSlider:J["a"],VSpacer:K["a"],VSwitch:X["a"],VTab:Q["a"],VTabs:ee["a"],VTextField:te["a"]});var ie=n("0d1d"),oe=n("892c"),re=n("c715"),se=n("4891"),le=n("0a33"),ce=n("2326"),ue=n("e4bf"),de=n("791c2"),pe=n("d242"),me=n("35ea"),he=n("3516"),fe={components:{AssignEquipment:he["a"],generateLetter:me["a"],VuePageWrapper:r["default"],DataTableNoData:p["default"],VueAutoComplete:c["default"],VueTrumbowyg:u["default"],VueDatePicker:d["default"],PreEmploymentForm:ae,GenerateTemplate:ie["a"],TaskForm:re["a"],TaskList:oe["a"],AddEmployeeForm:se["a"],AssignSupervisorForm:le["default"],LetterTemplate:ce["a"],VueContextMenu:ue["default"]},mixins:[s["a"],l["a"],pe["a"]],data:function(){return{generateLetterKey:1,eventToListen:{},htmlTitle:"Onboarding | Pre Employment | Employees | HRIS | Admin",breadCrumbItems:[{text:"HRIS",disabled:!1,to:{name:"admin-slug-hris-overview",params:{slug:this.$route.params.slug}}},{text:"Employees",disabled:!1,to:{name:"admin-slug-hris-employees",params:{slug:this.$route.params.slug}}},{text:"Pre Employment",disabled:!1,to:{name:"admin-slug-hris-employees-pre-employment",params:{slug:this.$route.params.slug}}},{text:"Onboarding",disabled:!0}],filters:{display:!1,search:"",showDeletedList:!1},preEmploymentForm:{display:!1,fullScreen:!1,currentComponent:"pre-employment-form",actionData:{}},offerLetter:{display:!1,editable:!1,editText:"",selectedId:"",details:{}},preEmploymentDetails:{selectedId:"",status:""},deleteNotification:{dialog:!1,heading:"Confirm Delete",text:"Are you sure you want to delete this Pre Employment?"},holdNotification:{dialog:!1,heading:"Confirm Hold",subheading:"You are about to hold this Pre Employment process",text:"You can resume this Pre Employment Process later from exactly where you left. Are you sure you want to hold this Pre Employment?"},resumeNotification:{dialog:!1,heading:"Confirm Resume",subheading:"You are about to resume this Pre Employment process",text:"Are you sure you want to resume this Pre Employment?"},stopNotification:{dialog:!1,heading:"Confirm Stop",subheading:"You are about to stop this Pre Employment process",text:"Pre Employment cannot be resumed once it is stopped. Are you sure you want to hold this Pre Employment?"},headers:[{text:"Name",value:"full_name",sortable:!0},{text:"Email",value:"email",sortable:!0},{text:"Join Date",value:"date_of_join",sortable:!0},{text:"Deadline To Reply",value:"deadline",sortable:!0},{text:"Status",align:"center",sortable:!1},{text:"Actions",align:"center",sortable:!1}],preEmploymentId:"",statusMap:{active:{component:"",type:"letter"},"not sent":{component:"",text:"Generate Letter",type:"letter"},sent:{color:"green",component:"",text:"Sent",type:"status",viewDetails:this.generateLetter},failed:{color:"red",component:"",text:"Failed",type:"status",viewDetails:this.generateLetter},downloaded:{color:"green",text:"Downloaded",type:"status",viewDetails:this.generateLetter},accepted:{component:"task-form",text:"Create Pre Task",type:"button",props:{type:"pre"},extraText:"Letter Accepted"},declined:{color:"red",component:"",text:"Declined",type:"status",viewDetails:this.generateLetter},expired:{color:"orange",component:"",text:"Expired",type:"status",viewDetails:this.generateLetter},"pre-active":{component:"task-list",text:"View Pre Task",type:"button",taskStatus:this.taskCompletionText},"pre-completed":{component:"add-employee-form",text:"Add Employee",type:"button"},"employee-added":{component:"assign-supervisor-form",text:"Assign Supervisor",type:"button"},"supervisor-added":{component:"letter-template",text:"Select Letter Template & Generate",type:"button"},"letters-generated":{component:"assign-equipment",text:"Assign Equipment",type:"button"},"equipments-assigned":{component:"task-form",text:"Create Post Task",type:"button"},"post-active":{component:"task-list",text:"View Post Task",type:"button",taskStatus:this.taskCompletionText},"post-completed":{color:"green",component:"",text:"Completed",type:"status"},completed:{color:"green",component:"",text:"Completed",type:"status"},hold:{color:"pink",component:"",text:"On Hold",type:"status",viewDetails:this.generateLetter},stopped:{color:"red",component:"",text:"Stopped",type:"status",viewDetails:this.generateLetter}},fullScreenComponents:["add-employee-form"],displayHoldStatus:!1,propsMapper:{},remarks:"",dynamicProps:{component:"onBoard"},activateCard:!1,activateVueCardTitle:!1,activateCardText:!1}},computed:{dialogType:function(){return this.preEmploymentForm.display&&this.fullScreenComponents.includes(this.preEmploymentForm.currentComponent)?"v-dialog":"v-bottom-sheet"},DataTableFilter:function(){return{search:this.filters.search,deleted:this.filters.showDeletedList}}},mounted:function(){this.dataTableEndpoint=E["a"].getPreEmployment(this.getOrganizationSlug)},methods:{showForm:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.offerLetter.editable=!1,t.resetProps(),t.preEmploymentForm={display:!0,currentComponent:t.statusMap[e.status].component,actionData:e},"post-active"!==e.status&&"supervisor-added"!==e.status&&"letters-generated"!==e.status&&"equipments-assigned"!==e.status){n.next=7;break}"task-list"===t.preEmploymentForm.currentComponent?t.setTaskFormData(e,"postTask"):t.setCommonComponentData(e,"postTask"),n.next=17;break;case 7:if("accepted"!==e.status&&"active"!==e.status&&"pre-active"!==e.status&&"pre-completed"!==e.status){n.next=11;break}"task-list"===t.preEmploymentForm.currentComponent?t.setTaskFormData(e,"preTask"):t.setCommonComponentData(e,"preTask"),n.next=17;break;case 11:if("employee-added"!==e.status){n.next=16;break}return n.next=14,t.setSupervisorData(e);case 14:n.next=17;break;case 16:t.dynamicProps={};case 17:case"end":return n.stop()}}),n)})))()},setCommonComponentData:function(e,t){var n=this;this.dynamicProps={employmentDetails:e,component:"onBoard",componentType:t},this.eventToListen={next:function(e,t,a){return n.gotoNext(e,t,a)},cancel:function(){return n.dismissForm()}}},gotoNext:function(e,t,n,a){var i=this;return Object(o["a"])(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(i.resetProps(),i.fetchDataTable(),"task-list"!==e){o.next=6;break}i.setTaskFormData(i.preEmploymentForm.actionData,n),o.next=16;break;case 6:if("assign-supervisor-form"!==e){o.next=11;break}i.preEmploymentForm.actionData=a||i.preEmploymentForm.actionData,i.setSupervisorData(i.preEmploymentForm.actionData,n),o.next=16;break;case 11:if("letter-template"!==e){o.next=15;break}return i.loading=!1,o.next=15,i.patchData(E["a"].updatePreEmployment(i.getOrganizationSlug,i.preEmploymentForm.actionData.id),{status:"supervisor-added"}).then((function(){i.preEmploymentForm.actionData.status="supervisor-added"}));case 15:i.setCommonComponentData(i.preEmploymentForm.actionData,n);case 16:"task-form"===e&&"previous"===t&&i.preEmploymentForm.actionData.pre_task?i.preEmploymentForm.currentComponent="task-list":i.preEmploymentForm.currentComponent=e;case 17:case"end":return o.stop()}}),o)})))()},setTaskFormData:function(e,t){var n=this;this.dynamicProps={employmentDetails:e,component:"onBoard",componentType:t},this.eventToListen={"pre-task-added":function(e){return n.preEmploymentForm.actionData.pre_task=e},"post-task-added":function(e){return n.preEmploymentForm.actionData.post_task=e}}},setSupervisorData:function(e,t){var n=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var i,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i=e.employee.id||e.employee,o=de["a"].getUserSupervisor(n.$route.params.slug,i),n.loading=!1,a.next=5,n.getData(o).then((function(a){n.supervisorData=a.supervisors,n.dynamicProps={isCardTitle:!0,componentType:t,fullName:e.employee.full_name||e.full_name,"assign-for":i,"reassign-data":n.supervisorData,"pre-employment":!0}}));case 5:n.activateVueCardTitle=!0,n.activateCard=!0,n.activateCardText=!0;case 8:case"end":return a.stop()}}),a)})))()},resetProps:function(){this.activateVueCardTitle=!1,this.activateCard=!1,this.activateCardText=!1,this.dynamicProps={}},initiateEmployeeOnboard:function(){var e=this;this.preEmploymentForm={display:!0,currentComponent:"pre-employment-form"},this.dynamicProps={},this.eventToListen={refresh:function(){e.preEmploymentForm.display=!1,e.fetchDataTable()}}},triggerForm:function(e,t){this.offerLetter.editable=!1,this.preEmploymentForm={display:!0,currentComponent:"pre-employment-form",actionData:t||void 0},this.dynamicProps.employmentDetails=t},taskCompletionText:function(e){if("pre-active"===e.status){var t=e.pre_task_status_stats;return"".concat(t.completed||0," of ").concat(t.assigned||0," completed")}var n=e.post_task_status_stats;return"".concat(n.completed||0," of ").concat(n.assigned||0," completed")},deletePreEmployment:function(){var e=this;this.crud.message="Successfully Deleted Pre Employment Template.",this.deleteData(E["a"].deletePreEmployment(this.getOrganizationSlug,this.preEmploymentDetails.selectedId)).then((function(){e.dismissForm()}))},holdPreEmployment:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.validateAllFields();case 2:if(!t.sent){t.next=6;break}n={status:"hold",status_remark:e.remarks},e.crud.message="Successfully Hold Pre Employment Template.",e.patchData(E["a"].updatePreEmployment(e.getOrganizationSlug,e.preEmploymentDetails.selectedId),n).then((function(){e.remarks="",e.dismissForm()}));case 6:case"end":return t.stop()}}),t)})))()},resumePreEmployment:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.crud.message="Successfully Resumed Pre Employment Template.",n={remarks:e.remarks},e.insertData(E["a"].updatePreEmployment(e.getOrganizationSlug,e.preEmploymentDetails.selectedId)+"resume/",n).then((function(){e.remarks="",e.dismissForm()}));case 3:case"end":return t.stop()}}),t)})))()},stopPreEmployment:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.crud.message="Successfully Stopped Pre Employment Template.",n={status:"stopped",status_remark:e.remarks},e.loading=!1,t.next=5,e.validateAllFields();case 5:if(!t.sent){t.next=7;break}e.patchData(E["a"].updatePreEmployment(e.getOrganizationSlug,e.preEmploymentDetails.selectedId),n).then((function(){e.remarks="",e.dismissForm()}));case 7:case"end":return t.stop()}}),t)})))()},openPreEmploymentDetails:function(e){this.$router.push({name:"admin-slug-hris-employees-pre-employment-employee-details",params:{slug:this.$route.params.slug},query:{id:e}})},generateLetter:function(e){var t=this;this.generateLetterKey++,this.offerLetter.display=!0,this.eventToListen={cancel:function(){t.dismissForm()}},this.dynamicProps={employmentDetails:e}},dismissForm:function(){this.offerLetter.editable=!1,this.preEmploymentForm.display=!1,this.deleteNotification.dialog=!1,this.holdNotification.dialog=!1,this.stopNotification.dialog=!1,this.resumeNotification.dialog=!1,this.offerLetter.display=!1,this.formValues={},this.fetchDataTable()}}},ve=fe,ge=(n("d461"),n("288c")),ye=n("cc20"),be=n("8fea"),_e=n("0789"),ke=n("3a2f"),xe=Object(I["a"])(ve,a,i,!1,null,"7dc10559",null);t["default"]=xe.exports;R()(xe,{VBottomSheet:ge["a"],VBtn:M["a"],VCard:z["a"],VCardText:q["c"],VChip:ye["a"],VCol:U["a"],VDataTable:be["a"],VDialog:Y["a"],VDivider:H["a"],VIcon:W["a"],VRow:Z["a"],VSlideYTransition:_e["g"],VTextField:te["a"],VTooltip:ke["a"]})},"5f96":function(e,t,n){"use strict";var a=n("ebb5"),i=a.aTypedArray,o=a.exportTypedArrayMethod,r=[].join;o("join",(function(e){return r.apply(i(this),arguments)}))},"60bd":function(e,t,n){"use strict";var a=n("da84"),i=n("ebb5"),o=n("e260"),r=n("b622"),s=r("iterator"),l=a.Uint8Array,c=o.values,u=o.keys,d=o.entries,p=i.aTypedArray,m=i.exportTypedArrayMethod,h=l&&l.prototype[s],f=!!h&&("values"==h.name||void 0==h.name),v=function(){return c.call(p(this))};m("entries",(function(){return d.call(p(this))})),m("keys",(function(){return u.call(p(this))})),m("values",v,!f),m(s,v,!f)},"621a":function(e,t,n){"use strict";var a=n("da84"),i=n("83ab"),o=n("a981"),r=n("9112"),s=n("e2cc"),l=n("d039"),c=n("19aa"),u=n("a691"),d=n("50c4"),p=n("0b25"),m=n("77a7"),h=n("e163"),f=n("d2bb"),v=n("241c").f,g=n("9bf2").f,y=n("81d5"),b=n("d44e"),_=n("69f3"),k=_.get,x=_.set,w="ArrayBuffer",C="DataView",T="prototype",D="Wrong length",V="Wrong index",E=a[w],S=E,P=a[C],L=P&&P[T],O=Object.prototype,A=a.RangeError,$=m.pack,j=m.unpack,B=function(e){return[255&e]},F=function(e){return[255&e,e>>8&255]},I=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},N=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},R=function(e){return $(e,23,4)},M=function(e){return $(e,52,8)},z=function(e,t){g(e[T],t,{get:function(){return k(this)[t]}})},q=function(e,t,n,a){var i=p(n),o=k(e);if(i+t>o.byteLength)throw A(V);var r=k(o.buffer).bytes,s=i+o.byteOffset,l=r.slice(s,s+t);return a?l:l.reverse()},U=function(e,t,n,a,i,o){var r=p(n),s=k(e);if(r+t>s.byteLength)throw A(V);for(var l=k(s.buffer).bytes,c=r+s.byteOffset,u=a(+i),d=0;d<t;d++)l[c+d]=u[o?d:t-d-1]};if(o){if(!l((function(){E(1)}))||!l((function(){new E(-1)}))||l((function(){return new E,new E(1.5),new E(NaN),E.name!=w}))){S=function(e){return c(this,S),new E(p(e))};for(var Y,H=S[T]=E[T],W=v(E),Z=0;W.length>Z;)(Y=W[Z++])in S||r(S,Y,E[Y]);H.constructor=S}f&&h(L)!==O&&f(L,O);var G=new P(new S(2)),J=L.setInt8;G.setInt8(0,2147483648),G.setInt8(1,2147483649),!G.getInt8(0)&&G.getInt8(1)||s(L,{setInt8:function(e,t){J.call(this,e,t<<24>>24)},setUint8:function(e,t){J.call(this,e,t<<24>>24)}},{unsafe:!0})}else S=function(e){c(this,S,w);var t=p(e);x(this,{bytes:y.call(new Array(t),0),byteLength:t}),i||(this.byteLength=t)},P=function(e,t,n){c(this,P,C),c(e,S,C);var a=k(e).byteLength,o=u(t);if(o<0||o>a)throw A("Wrong offset");if(n=void 0===n?a-o:d(n),o+n>a)throw A(D);x(this,{buffer:e,byteLength:n,byteOffset:o}),i||(this.buffer=e,this.byteLength=n,this.byteOffset=o)},i&&(z(S,"byteLength"),z(P,"buffer"),z(P,"byteLength"),z(P,"byteOffset")),s(P[T],{getInt8:function(e){return q(this,1,e)[0]<<24>>24},getUint8:function(e){return q(this,1,e)[0]},getInt16:function(e){var t=q(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=q(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return N(q(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return N(q(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return j(q(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return j(q(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){U(this,1,e,B,t)},setUint8:function(e,t){U(this,1,e,B,t)},setInt16:function(e,t){U(this,2,e,F,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){U(this,2,e,F,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){U(this,4,e,I,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){U(this,4,e,I,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){U(this,4,e,R,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){U(this,8,e,M,t,arguments.length>2?arguments[2]:void 0)}});b(S,w),b(P,C),e.exports={ArrayBuffer:S,DataView:P}},"649e":function(e,t,n){"use strict";var a=n("ebb5"),i=n("b727").some,o=a.aTypedArray,r=a.exportTypedArrayMethod;r("some",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)}))},"69e5":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{width:"500","hide-overlay":e.hideOverlay,persistent:""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.close.apply(null,arguments)}},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-card-title",{staticClass:"baseColor"},[n("v-icon",{staticClass:"mr-3",attrs:{dark:"",left:""},domProps:{textContent:e._s("mdi-cloud-upload-outline")}}),n("span",{staticClass:"white--text",domProps:{textContent:e._s("Upload Image")}})],1),n("v-card-text",{staticClass:"pa-0"},[e.showImg&&!e.showCroppie?n("v-col",[n("v-img",{staticClass:"mx-auto",class:e.profile?"profile-picture my-4":"",attrs:{src:e.cropped,width:e.cover?"500":"300",contain:""}})],1):e._e(),e.showCroppie?n("v-col",{staticClass:"pa-0"},[n("vue-croppie",{ref:"croppieRef",attrs:{"enable-resize":e.enableResize,viewport:e.getViewPort,boundary:{height:250,width:"100%"}},on:{result:e.result}}),n("v-divider")],1):e._e(),e.image||e.showCroppie?e._e():n("v-col",{staticClass:"text-center"},[n("div",[n("v-icon",{attrs:{size:"100",color:"shade"},domProps:{textContent:e._s("mdi-open-in-app")}})],1),n("div",{staticClass:"grey--text"},[e._v("Browse a file from here")]),n("div",{staticClass:"font-italic",staticStyle:{"font-size":"10px"}},[e._v("Allowed Image Extensions are: "),n("span",{staticClass:"red--text"},[e._v("jpg, jpeg, png")])])])],1),n("v-divider"),n("v-card-actions",{staticClass:"primaryLight"},[n("v-spacer"),n("input",{ref:"image",staticClass:"d-none",attrs:{type:"file",accept:"image/*"},on:{change:e.upload}}),!e.cropStatus&&e.showCroppie?n("v-btn",{attrs:{text:"","data-cy":"btn-crop-image",color:"primary"},on:{click:e.crop}},[e._v(" Crop ")]):e._e(),e.cropped?n("v-btn",{attrs:{"data-cy":"btn-update-image",text:"",color:"primary"},on:{click:e.update}},[e._v(" "+e._s(e.$t("update"))+" ")]):e._e(),e.image?n("v-btn",{attrs:{text:""},on:{click:e.reset}},[e._v(" Reset ")]):n("v-btn",{attrs:{text:"",color:"primary"},on:{click:e.pickFile}},[e._v(" Browse ")]),n("v-btn",{attrs:{text:""},on:{click:e.close}},[e._v(" Close ")])],1)],1)],1)},i=[],o=n("5530"),r=(n("ac1f"),n("1276"),n("b0c0"),n("466d"),n("ace4"),n("d3b7"),n("5cc6"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("2b0e")),s=n("2ff6"),l=n.n(s),c={name:"VueCroppie",render:function(e){return e("div",{class:this.customClass,ref:"croppieContainer",id:"croppieContainer"})},props:{boundary:Object,customClass:String,enableExif:Boolean,enableOrientation:{type:Boolean,default:!0},enableResize:{type:Boolean,default:!0},enableZoom:{type:Boolean,default:!0},enforceBoundary:{type:Boolean,default:!0},mouseWheelZoom:{type:[Boolean,String],default:!0},showZoomer:{type:Boolean,default:!0},croppieInitialized:{type:Function,default:function(){}},viewport:{type:Object,default:function(){return{width:200,height:200,type:"square"}}},minZoom:Number,maxZoom:Number},mounted:function(){this.initCroppie()},data:function(){return{croppie:null}},methods:{initCroppie:function(){var e=this,t=this.$refs.croppieContainer,n={enableExif:this.enableExif,enableOrientation:this.enableOrientation,enableZoom:this.enableZoom,enableResize:this.enableResize,enforceBoundary:this.enforceBoundary,mouseWheelZoom:this.mouseWheelZoom,viewport:this.viewport,showZoomer:this.showZoomer,minZoom:this.minZoom,maxZoom:this.maxZoom};this.boundary&&(n.boundary=this.boundary),t.addEventListener("update",(function(t){e.$emit("update",t.detail)})),this.croppie=new l.a(t,n),this.croppieInitialized()},bind:function(e){return this.croppie.bind(e)},destroy:function(){this.croppie.destroy()},get:function(e){if(!e)return this.croppie.get();e(this.croppie.get())},rotate:function(e){this.croppie.rotate(e)},setZoom:function(e){this.croppie.setZoom(e)},result:function(e,t){var n=this;return e||(e={type:"base64"}),this.croppie.result(e).then((function(e){return t?t(e):n.$emit("result",e),e}))},refresh:function(){this.croppie.destroy(),this.initCroppie()}}},u={install:function(e,t){e.component(c.name,c)}};window&&window.Vue&&Vue.use(u);var d=u,p=n("2f62");n("dee1");r["a"].use(d);var m={props:{cover:{type:Boolean,default:!1},profile:{type:Boolean,default:!1},hideOverlay:{type:Boolean,default:!1},viewPort:{type:Object,default:function(){return{width:200,height:200}}},optionsSize:{type:[String,Object],default:"original"},enableResize:{type:Boolean,default:!1}},data:function(){return{dialog:!0,image:"",showCroppie:!1,cropped:"",cropStatus:!1,showImg:!1,fileName:"",options:{format:"png",circle:!1,size:this.optionsSize},checkbox:!0}},computed:{getViewPort:function(){return this.cover?{width:"100%",height:200,type:"square"}:this.profile?{width:200,height:200,type:"circle"}:{width:this.viewPort.width,height:this.viewPort.height,type:"square"}}},methods:Object(o["a"])(Object(o["a"])({},Object(p["d"])({setSnackBar:"common/setSnackBar"})),{},{pickFile:function(){this.$refs.image.click()},upload:function(e){var t=this;if("svg"!==e.target.files[0].name.split(".").pop()){var n=new FileReader;this.fileName=e.target.files[0].name,n.readAsDataURL(e.target.files[0]);var a=e.target.files[0].size;a>1e7?this.setSnackBar({text:"Image size too big to upload.",color:"red"}):(this.showCroppie=!0,n.onload=function(){t.$refs.croppieRef.bind({url:n.result}),t.image=n.result,e.target.value=null})}else this.setSnackBar({text:"SVG image not allowed here.",color:"red"})},crop:function(){var e=this;this.$refs.croppieRef.result(this.options,(function(t){e.cropped=t})),this.showCroppie=!1,this.cropStatus=!1,this.showImg=!0},close:function(){this.dialog=!1,this.$emit("close"),this.reset()},update:function(){this.$emit("cropped-image",this.dataURLtoBlob(this.cropped)),this.$emit("input",this.dataURLtoBlob(this.cropped)),this.$emit("base64-data",this.cropped),this.$emit("close"),this.dialog=!1,this.reset()},dataURLtoBlob:function(e){var t=e.split(","),n=t[0].match(/:(.*?);/)[1],a=atob(t[1]),i=a.length,o=new Uint8Array(i);while(i--)o[i]=a.charCodeAt(i);var r=new Blob([o],{type:n});return r.name=this.fileName,r},result:function(e){this.cropped=e},reset:function(){this.cropped=null,this.cropStatus=!1,this.showImg=!1,this.showCroppie=!1,this.image="",this.fileName=""}})},h=m,f=(n("5620"),n("2877")),v=n("6544"),g=n.n(v),y=n("8336"),b=n("b0af"),_=n("99d9"),k=n("62ad"),x=n("169a"),w=n("ce7e"),C=n("132d"),T=n("adda"),D=n("2fa4"),V=Object(f["a"])(h,a,i,!1,null,"135585b3",null);t["default"]=V.exports;g()(V,{VBtn:y["a"],VCard:b["a"],VCardActions:_["a"],VCardText:_["c"],VCardTitle:_["d"],VCol:k["a"],VDialog:x["a"],VDivider:w["a"],VIcon:C["a"],VImg:T["a"],VSpacer:D["a"]})},"6c6f":function(e,t,n){"use strict";n("d3b7");t["a"]={data:function(){return{deleteNotification:{dialog:!1,heading:"Confirm Delete",text:"Are you sure you want to delete ?"}}},methods:{deleteData:function(e,t){var n=this;return new Promise((function(a,i){!n.loading&&e&&(n.loading=!0,n.$http.delete(e,t||{}).then((function(e){n.crud.message&&setTimeout((function(){n.notifyUser(n.crud.message)}),1e3),a(e),n.loading=!1})).catch((function(e){n.pushErrors(e),n.notifyInvalidFormResponse(),i(e),n.loading=!1})).finally((function(){n.deleteNotification.dialog=!1})))}))}}}},"71b7":function(e,t,n){"use strict";t["a"]={getEquipmentCategory:function(){return"/commons/equipment-category"},getEquipmentList:function(e){return"/org/".concat(e,"/equipment")},assignEquipment:function(e){return"/org/".concat(e,"/equipment/assign/bulk")},getUserEquipment:function(e){return"/users/".concat(e,"/equipments")}}},"72f7":function(e,t,n){"use strict";var a=n("ebb5").exportTypedArrayMethod,i=n("d039"),o=n("da84"),r=o.Uint8Array,s=r&&r.prototype||{},l=[].toString,c=[].join;i((function(){l.call({})}))&&(l=function(){return c.call(this)});var u=s.toString!=l;a("toString",l,u)},"735e":function(e,t,n){"use strict";var a=n("ebb5"),i=n("81d5"),o=a.aTypedArray,r=a.exportTypedArrayMethod;r("fill",(function(e){return i.apply(o(this),arguments)}))},"741f":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return["true"!==e.useNepaliDate?n("v-text-field",e._g({class:e.appliedClass,attrs:{id:e.id,clearable:!e.readOnly,"data-cy":"date-picker-"+e.dataCyVariable,disabled:e.disabled,error:e.errorMessages.length>0,"error-messages":e.errorMessages,"hide-details":e.hideDetails,hint:e.hint,label:e.label,"prepend-inner-icon":e.prependInnerIcon,"single-line":e.singleLine,value:e.value,readonly:""},on:{paste:function(e){e.preventDefault()},"click:clear":function(t){return e.$emit("close")}},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}},a)):n("v-text-field",e._g({class:e.appliedClass,attrs:{id:e.id,label:e.label,value:e.value,"data-cy":"date-picker-"+e.dataCyVariable,error:e.errorMessages.length>0,"error-messages":e.errorMessages,disabled:e.disabled,clearable:!e.readOnly,hint:e.hint,"hide-details":e.hideDetails,"single-line":e.singleLine,"prepend-inner-icon":e.prependInnerIcon,readonly:""},on:{paste:function(e){e.preventDefault()},"click:clear":function(t){return e.$emit("close")}},model:{value:e.nepaliDate,callback:function(t){e.nepaliDate=t},expression:"nepaliDate"}},a))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},["true"===e.showCalendarChoice?n("v-btn",{attrs:{block:"",depressed:"",tile:"",color:"shade primary--text font-weight-bold"},on:{click:function(t){e.international=!e.international}}},[e._v(" "+e._s(e.international?"NE":"EN")+" ")]):e._e(),e.readOnly||e.international?e._e():n("localized-calendar",{ref:"datePicker",attrs:{"fiscal-year":[],"localized-date":e.localizedDate},on:{"update:localizedDate":function(t){e.localizedDate=t},"update:localized-date":function(t){e.localizedDate=t},"limit-mapping":function(t){e.limitMapping=t}},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}}),!e.readOnly&&e.international?n("v-date-picker",{attrs:{type:e.type,"allowed-dates":e.allowedDates,"no-title":""},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}}):e._e()],1)],1)},i=[],o=n("1da1"),r=(n("b64b"),n("99af"),n("96cf"),n("3bce")),s=n("338b"),l=n("cf45"),c={components:{LocalizedCalendar:r["a"]},mixins:[s["a"]],props:{value:{type:String,default:""},id:{type:String,default:""},type:{type:String,default:"date"},label:{type:String,default:""},disabled:{type:Boolean,default:!1},errorMessages:{type:[String,Array],default:function(){return[]}},dataCyVariable:{type:String,default:""},readOnly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},hint:{type:String,default:""},hideDetails:{type:Boolean,default:!1},singleLine:{type:Boolean,default:!1},appliedClass:{type:String,default:""},prependInnerIcon:{type:String,default:"mdi-calendar-month-outline"}},data:function(){return{menu:!1,date:this.value,nepaliDate:this.value,localizedDate:"",international:"English"===Object(l["f"])("VUE_APP_SET_DEFAULT_CALENDAR_TO"),showCalendarChoice:Object(l["f"])("VUE_APP_SHOW_CALENDAR_CHOICE"),useNepaliDate:localStorage.useNepaliDate,hasConverted:!1}},watch:{value:function(e){this.date=e},date:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e&&"true"===t.useNepaliDate&&t.hasConverted?t.nepaliDate=t.ad2bs(e):t.nepaliDate=e,n.next=3,t.$emit("input",e);case 3:return n.next=5,t.$emit("update:localizedDate",t.localizedDate);case 5:if(!e){n.next=8;break}return n.next=8,t.$emit("blur");case 8:case"end":return n.stop()}}),n)})))()},international:function(e){this.$emit("update:international",e)}},created:function(){this.date&&"true"===this.useNepaliDate&&!this.hasConverted?(this.hasConverted=!0,this.date=this.bs2ad(this.date)):this.date||"true"!==this.useNepaliDate||(this.hasConverted=!0)},methods:{allowedDates:function(e){if("false"===this.showCalendarChoice&&"English"===Object(l["f"])("VUE_APP_SET_DEFAULT_CALENDAR_TO"))return!0;var t=[],n="",a="";t=Object.keys(this.bs),n=t[0],a=t[t.length-1];var i={max:this.bs2ad("".concat(a,"-12-").concat(this.bs[a][11])),min:this.bs2ad("".concat(n,"-01-01"))};return e<=i.max&&e>=i.min}}},u=c,d=n("2877"),p=n("6544"),m=n.n(p),h=n("8336"),f=n("2e4b"),v=n("e449"),g=n("8654"),y=Object(d["a"])(u,a,i,!1,null,null,null);t["default"]=y.exports;m()(y,{VBtn:h["a"],VDatePicker:f["a"],VMenu:v["a"],VTextField:g["a"]})},"74e8":function(e,t,n){"use strict";var a=n("23e7"),i=n("da84"),o=n("83ab"),r=n("8aa7"),s=n("ebb5"),l=n("621a"),c=n("19aa"),u=n("5c6c"),d=n("9112"),p=n("50c4"),m=n("0b25"),h=n("182d"),f=n("c04e"),v=n("5135"),g=n("f5df"),y=n("861d"),b=n("7c73"),_=n("d2bb"),k=n("241c").f,x=n("a078"),w=n("b727").forEach,C=n("2626"),T=n("9bf2"),D=n("06cf"),V=n("69f3"),E=n("7156"),S=V.get,P=V.set,L=T.f,O=D.f,A=Math.round,$=i.RangeError,j=l.ArrayBuffer,B=l.DataView,F=s.NATIVE_ARRAY_BUFFER_VIEWS,I=s.TYPED_ARRAY_TAG,N=s.TypedArray,R=s.TypedArrayPrototype,M=s.aTypedArrayConstructor,z=s.isTypedArray,q="BYTES_PER_ELEMENT",U="Wrong length",Y=function(e,t){var n=0,a=t.length,i=new(M(e))(a);while(a>n)i[n]=t[n++];return i},H=function(e,t){L(e,t,{get:function(){return S(this)[t]}})},W=function(e){var t;return e instanceof j||"ArrayBuffer"==(t=g(e))||"SharedArrayBuffer"==t},Z=function(e,t){return z(e)&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},G=function(e,t){return Z(e,t=f(t,!0))?u(2,e[t]):O(e,t)},J=function(e,t,n){return!(Z(e,t=f(t,!0))&&y(n)&&v(n,"value"))||v(n,"get")||v(n,"set")||n.configurable||v(n,"writable")&&!n.writable||v(n,"enumerable")&&!n.enumerable?L(e,t,n):(e[t]=n.value,e)};o?(F||(D.f=G,T.f=J,H(R,"buffer"),H(R,"byteOffset"),H(R,"byteLength"),H(R,"length")),a({target:"Object",stat:!0,forced:!F},{getOwnPropertyDescriptor:G,defineProperty:J}),e.exports=function(e,t,n){var o=e.match(/\d+$/)[0]/8,s=e+(n?"Clamped":"")+"Array",l="get"+e,u="set"+e,f=i[s],v=f,g=v&&v.prototype,T={},D=function(e,t){var n=S(e);return n.view[l](t*o+n.byteOffset,!0)},V=function(e,t,a){var i=S(e);n&&(a=(a=A(a))<0?0:a>255?255:255&a),i.view[u](t*o+i.byteOffset,a,!0)},O=function(e,t){L(e,t,{get:function(){return D(this,t)},set:function(e){return V(this,t,e)},enumerable:!0})};F?r&&(v=t((function(e,t,n,a){return c(e,v,s),E(function(){return y(t)?W(t)?void 0!==a?new f(t,h(n,o),a):void 0!==n?new f(t,h(n,o)):new f(t):z(t)?Y(v,t):x.call(v,t):new f(m(t))}(),e,v)})),_&&_(v,N),w(k(f),(function(e){e in v||d(v,e,f[e])})),v.prototype=g):(v=t((function(e,t,n,a){c(e,v,s);var i,r,l,u=0,d=0;if(y(t)){if(!W(t))return z(t)?Y(v,t):x.call(v,t);i=t,d=h(n,o);var f=t.byteLength;if(void 0===a){if(f%o)throw $(U);if(r=f-d,r<0)throw $(U)}else if(r=p(a)*o,r+d>f)throw $(U);l=r/o}else l=m(t),r=l*o,i=new j(r);P(e,{buffer:i,byteOffset:d,byteLength:r,length:l,view:new B(i)});while(u<l)O(e,u++)})),_&&_(v,N),g=v.prototype=b(R)),g.constructor!==v&&d(g,"constructor",v),I&&d(g,I,s),T[s]=v,a({global:!0,forced:v!=f,sham:!F},T),q in v||d(v,q,o),q in g||d(g,q,o),C(s)}):e.exports=function(){}},"77a7":function(e,t){var n=Math.abs,a=Math.pow,i=Math.floor,o=Math.log,r=Math.LN2,s=function(e,t,s){var l,c,u,d=new Array(s),p=8*s-t-1,m=(1<<p)-1,h=m>>1,f=23===t?a(2,-24)-a(2,-77):0,v=e<0||0===e&&1/e<0?1:0,g=0;for(e=n(e),e!=e||e===1/0?(c=e!=e?1:0,l=m):(l=i(o(e)/r),e*(u=a(2,-l))<1&&(l--,u*=2),e+=l+h>=1?f/u:f*a(2,1-h),e*u>=2&&(l++,u/=2),l+h>=m?(c=0,l=m):l+h>=1?(c=(e*u-1)*a(2,t),l+=h):(c=e*a(2,h-1)*a(2,t),l=0));t>=8;d[g++]=255&c,c/=256,t-=8);for(l=l<<t|c,p+=t;p>0;d[g++]=255&l,l/=256,p-=8);return d[--g]|=128*v,d},l=function(e,t){var n,i=e.length,o=8*i-t-1,r=(1<<o)-1,s=r>>1,l=o-7,c=i-1,u=e[c--],d=127&u;for(u>>=7;l>0;d=256*d+e[c],c--,l-=8);for(n=d&(1<<-l)-1,d>>=-l,l+=t;l>0;n=256*n+e[c],c--,l-=8);if(0===d)d=1-s;else{if(d===r)return n?NaN:u?-1/0:1/0;n+=a(2,t),d-=s}return(u?-1:1)*n*a(2,d-t)};e.exports={pack:s,unpack:l}},"791c2":function(e,t,n){"use strict";n("99af");t["a"]={getSupervisors:"/users/supervisors/",getOrgSupervisors:function(e){return"/hris/".concat(e,"/supervisors/")},assignSupervisors:function(){return"/hris/assign/supervisors/"},assignBulkSupervisors:function(){return"/hris/assign/supervisors/bulk-assign/"},removeSupervisors:function(e){return"/hris/assign/supervisors/".concat(e,"/remove/")},getUserSupervisor:function(e,t){return"/hris/".concat(e,"/supervisors/").concat(t,"/")},replaceSupervisors:function(){return"/hris/assign/supervisors/bulk-replace"}}},"7e58":function(e,t,n){},"7e77":function(e,t,n){"use strict";n("99af");t["a"]={getEmploymentType:function(e){return"/org/".concat(e,"/employment/status/")},postEmploymentType:function(e){return"/org/".concat(e,"/employment/status/")},getEmploymentStatusDetail:function(e,t){return"/org/".concat(e,"/employment/status/").concat(t,"/")},updateEmploymentType:function(e,t){return"/org/".concat(e,"/employment/status/").concat(t,"/")},deleteEmploymentType:function(e,t){return"/org/".concat(e,"/employment/status/").concat(t,"/")},downloadSampleEmploymentType:function(e){return"/org/".concat(e,"/employment/status/import/sample")},importEmploymentType:function(e){return"/org/".concat(e,"/employment/status/import/")}}},"7e85":function(e,t,n){"use strict";var a=n("5530"),i=(n("a9e3"),n("b0c0"),n("4de4"),n("8836"),n("3206")),o=n("a452"),r=n("7560"),s=n("58df"),l=n("d9bd"),c=Object(s["a"])(Object(i["b"])("stepper"),o["a"],r["a"]);t["a"]=c.extend({name:"v-stepper",provide:function(){return{stepClick:this.stepClick,isVertical:this.vertical}},props:{altLabels:Boolean,nonLinear:Boolean,vertical:Boolean},data:function(){var e={isBooted:!1,steps:[],content:[],isReverse:!1};return e.internalLazyValue=null!=this.value?this.value:(e[0]||{}).step||1,e},computed:{classes:function(){return Object(a["a"])({"v-stepper--is-booted":this.isBooted,"v-stepper--vertical":this.vertical,"v-stepper--alt-labels":this.altLabels,"v-stepper--non-linear":this.nonLinear},this.themeClasses)}},watch:{internalValue:function(e,t){this.isReverse=Number(e)<Number(t),t&&(this.isBooted=!0),this.updateView()}},created:function(){this.$listeners.input&&Object(l["a"])("@input","@change",this)},mounted:function(){this.updateView()},methods:{register:function(e){"v-stepper-step"===e.$options.name?this.steps.push(e):"v-stepper-content"===e.$options.name&&(e.isVertical=this.vertical,this.content.push(e))},unregister:function(e){"v-stepper-step"===e.$options.name?this.steps=this.steps.filter((function(t){return t!==e})):"v-stepper-content"===e.$options.name&&(e.isVertical=this.vertical,this.content=this.content.filter((function(t){return t!==e})))},stepClick:function(e){var t=this;this.$nextTick((function(){return t.internalValue=e}))},updateView:function(){for(var e=this.steps.length;--e>=0;)this.steps[e].toggle(this.internalValue);for(var t=this.content.length;--t>=0;)this.content[t].toggle(this.internalValue,this.isReverse)}},render:function(e){return e("div",{staticClass:"v-stepper",class:this.classes},this.$slots.default)}})},"82f8":function(e,t,n){"use strict";var a=n("ebb5"),i=n("4d64").includes,o=a.aTypedArray,r=a.exportTypedArrayMethod;r("includes",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)}))},"86eb":function(e,t,n){"use strict";n("99af");t["a"]={getJobTitle:function(e){return"/org/".concat(e,"/employment/job-title/")},postJobTitle:function(e){return"/org/".concat(e,"/employment/job-title/")},getJobTitleDetail:function(e,t){return"/org/".concat(e,"/employment/job-title/").concat(t,"/")},updateJobTitle:function(e,t){return"/org/".concat(e,"/employment/job-title/").concat(t,"/")},deleteJobTitle:function(e,t){return"/org/".concat(e,"/employment/job-title/").concat(t,"/")},importJobTitle:function(e){return"/org/".concat(e,"/employment/job-title/import/")},downloadSampleJobTitle:function(e){return"/org/".concat(e,"/employment/job-title/import/sample")}}},8714:function(e,t,n){"use strict";var a=n("6c6f"),i=n("f70a"),o=n("8cd3");t["a"]={mixins:[i["a"],a["a"],o["a"]]}},8836:function(e,t,n){},"892c":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("vue-card-title",{attrs:{title:e.sharedData.title,subtitle:e.sharedData.subTitle,icon:"mdi-file-document-outline",dark:"",closable:""},on:{close:function(t){return e.$emit("cancel")}}}),n("v-divider"),n("v-card-text",{staticClass:"ma-0 pa-0 scrollbar"},[e.nonFieldErrors?n("non-field-form-errors",{attrs:{"non-field-errors":e.nonFieldErrors}}):e._e(),n("v-data-table",{attrs:{"show-select":"","mobile-breakpoint":0,"single-select":e.fetchedResults.length===e.fetchedResults.filter((function(e){return e.task})).length,headers:e.headers,items:e.fetchedResults,loading:e.loading,"sort-desc":e.pagination.descending,"sort-by":e.pagination.sortBy,page:e.pagination.page,"items-per-page":e.pagination.rowsPerPage,"footer-props":e.footerProps,"server-items-length":e.pagination.totalItems,"must-sort":""},on:{"update:sortDesc":function(t){return e.$set(e.pagination,"descending",t)},"update:sort-desc":function(t){return e.$set(e.pagination,"descending",t)},"update:sortBy":function(t){return e.$set(e.pagination,"sortBy",t)},"update:sort-by":function(t){return e.$set(e.pagination,"sortBy",t)},"update:page":function(t){return e.$set(e.pagination,"page",t)},"update:itemsPerPage":function(t){return e.$set(e.pagination,"rowsPerPage",t)},"update:items-per-page":function(t){return e.$set(e.pagination,"rowsPerPage",t)}},scopedSlots:e._u([{key:"item",fn:function(t){return[n("tr",[n("td",[n("v-checkbox",{staticClass:"mt-n2",attrs:{value:!t.item.task&&t.isSelected,primary:"",disabled:!!t.item.task,"hide-details":""},on:{change:function(e){return t.select(!t.isSelected)}}})],1),n("td",[t.item.template_detail?n("div",[e._v(" "+e._s(e._f("truncate")(t.item.task?t.item.task.title:t.item.template_detail.title,30))+" ")]):e._e()]),n("td",[t.item.task?n("div",[n("thumbnail-users",{attrs:{"total-users":t.item.task.responsible_persons.length,users:t.item.task.responsible_persons}})],1):t.item.template_detail&&t.item.template_detail.responsible_persons.length?n("div",[n("thumbnail-users",{attrs:{"total-users":t.item.template_detail.responsible_persons.length,users:t.item.template_detail.responsible_persons}})],1):n("div",[e._v("--")])]),n("td",[t.item.task&&t.item.task.deadline?n("div",[e._v(" "+e._s(t.item.task.deadline.substring(0,10)||"N/A")+" ")]):t.item.template_detail?n("div",[e._v(" "+e._s(t.item.template_detail.deadline_date.substring(0,10))+" ")]):n("div",[e._v("--")])]),n("td",{staticClass:"text-center"},[t.item.task?n("v-chip",{attrs:{color:e.taskStatusColor[t.item.task.status],outlined:"",small:""}},[e._v(" "+e._s(t.item.task?e.taskStatus[t.item.task.status]:"N/A")+" ")]):n("div",[e._v("--")])],1),n("td",{staticClass:"text-center"},[n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(a){var i=a.on;return[n("v-icon",e._g({class:t.item.task?"primary--text":"green--text",domProps:{textContent:e._s(t.item.task?"mdi-eye-outline":"mdi-account-plus-outline")},on:{click:function(n){t.item.task?e.openDetails(t.item.task.id):e.triggerForm(t.item)}}},i))]}}],null,!0)},[n("span",{domProps:{textContent:e._s(t.item.task?"View Details":"Assign Task")}})])],1)])]}}]),model:{value:e.selectedUsers,callback:function(t){e.selectedUsers=t},expression:"selectedUsers"}},[n("template",{slot:"no-data"},[n("data-table-no-data",{attrs:{loading:e.loading}})],1)],2),n("v-dialog",{attrs:{scrollable:"",transition:"dialog-bottom-transition",fullscreen:"",persistent:""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.dismissForm.apply(null,arguments)}},model:{value:e.assignTasks,callback:function(t){e.assignTasks=t},expression:"assignTasks"}},[e.assignTasks?n("v-card",[n("vue-card-title",{attrs:{title:"Assign New Task",subtitle:"-",icon:"mdi-file-document-outline",dark:"",closable:""},on:{close:function(t){e.assignTasks=!1}}}),n("v-divider"),n("v-card-text",[e.assignTasks?n("task-assign-form",{attrs:{"action-data":e.actionData,"pre-employment-details":e.component?e.mutableEmploymentDetails:"","pre-task":"preTask"===e.componentType,endpoint:"onBoard"===e.component?"pre-employment":"offBoard"===e.component?"separation":"changeType"===e.component||"changeType"===e.component?"employment-review":""},on:{close:e.dismissForm}}):e._e()],1)],1):e._e()],1)],1),n("v-card-actions",[n("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.$emit("next","task-form","",e.componentType)}}},[n("v-icon",{domProps:{textContent:e._s("mdi-chevron-left")}}),e._v(" Previous ")],1),n("v-spacer"),n("v-btn",{attrs:{text:""},on:{click:function(t){return e.$emit("cancel")}}},[e._v(" Cancel ")]),n("v-btn",{attrs:{disabled:0===e.selectedUsers.length,color:"primary"},domProps:{textContent:e._s("Assign Selected")},on:{click:function(t){e.confirmNotify.dialog=!0}}}),n("v-btn",{attrs:{disabled:0===e.fetchedResults.filter((function(e){return e.task})).length,color:"postTask"===e.componentType&&"changeType"===e.component?"primary":"success",depressed:""},on:{click:function(t){return e.gotoNextStep()}}},[e._v(" "+e._s("preTask"===e.componentType||"postTask"===e.componentType&&"changeType"===e.component?"Next":"Complete")+" "),"preTask"===e.componentType||"postTask"===e.componentType&&"changeType"===e.component?n("v-icon",{domProps:{textContent:e._s("mdi-chevron-right")}}):n("v-icon",{domProps:{textContent:e._s("mdi-check")}})],1)],1),n("vue-dialog",{attrs:{notify:e.confirmNotify},on:{close:function(t){e.confirmNotify.dialog=!1},agree:function(t){return e.assignSelectedTasks()}}})],1)},i=[],o=(n("99af"),n("d81d"),n("4de4"),n("d3b7"),n("983c")),r=n("8714"),s=n("cde3"),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-form",{ref:"task",on:{submit:function(t){return t.preventDefault(),e.getFormAction.apply(null,arguments)}}},[n("v-row",[n("v-col",{attrs:{md:"6",cols:"12"}},[e.nonFieldErrors?n("non-field-form-errors",{attrs:{"non-field-errors":e.nonFieldErrors}}):e._e(),n("v-row",[n("v-col",{attrs:{cols:"6"}},[n("user-auto-complete",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{params:{user_status:"current",have_experience:!0},"items-to-exclude":e.previousResponsiblePersons.map((function(e){return e.user.id})),"user-object":e.responsiblePersonsObject,multiple:""},on:{"update:userObject":function(t){e.responsiblePersonsObject=t},"update:user-object":function(t){e.responsiblePersonsObject=t}},model:{value:e.responsiblePersons,callback:function(t){e.responsiblePersons=t},expression:"responsiblePersons"}},"user-auto-complete",e.veeValidate("responsible_persons","Assign To *"),!1))],1),n("v-col",{attrs:{cols:"6"}},[n("user-auto-complete",e._b({directives:[{name:"validate",rawName:"v-validate",value:"",expression:"''"}],attrs:{"user-object":e.observersObject,multiple:""},on:{"update:userObject":function(t){e.observersObject=t},"update:user-object":function(t){e.observersObject=t}},model:{value:e.formValues.observers,callback:function(t){e.$set(e.formValues,"observers",t)},expression:"formValues.observers"}},"user-auto-complete",e.veeValidate("observers","Observers"),!1))],1),n("v-col",{staticClass:"py-0",attrs:{cols:"6"}}),n("v-col",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"py-0",attrs:{cols:"6"}},[n("v-switch",{staticClass:"ma-0",attrs:{label:"Include Employee"},model:{value:e.formValues.include_employee,callback:function(t){e.$set(e.formValues,"include_employee",t)},expression:"formValues.include_employee"}})],1),n("v-col",{attrs:{cols:"12"}},[n("div",{domProps:{textContent:e._s("Priority: ")}}),n("v-btn-toggle",{model:{value:e.formValues.priority,callback:function(t){e.$set(e.formValues,"priority",t)},expression:"formValues.priority"}},e._l(e.priorityChoices,(function(t){return n("v-btn",{key:t.value,class:t.value===e.formValues.priority?t.color+" white--text":"black--text",attrs:{value:t.value,text:"",small:""},domProps:{textContent:e._s(t.text)}})})),1)],1),n("v-col",{attrs:{cols:"12"}},[n("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],model:{value:e.formValues.title,callback:function(t){e.$set(e.formValues,"title",t)},expression:"formValues.title"}},"v-text-field",e.veeValidate("title","Title *"),!1))],1),n("v-col",[n("vue-date-time-picker",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"place-holder":"Deadline of the task"},model:{value:e.formValues.deadline,callback:function(t){e.$set(e.formValues,"deadline",t)},expression:"formValues.deadline"}},"vue-date-time-picker",e.veeValidate("deadline","Deadline *"),!1))],1),n("v-col",[n("v-switch",{attrs:{label:"Changeable Deadline"},model:{value:e.formValues.changeable_deadline,callback:function(t){e.$set(e.formValues,"changeable_deadline",t)},expression:"formValues.changeable_deadline"}})],1),n("v-col",{attrs:{cols:"12"}},[n("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"max:100",expression:"'max:100'"}],attrs:{counter:100,placeholder:"Things to do ...","append-icon":"mdi-plus"},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.addToCheckList.apply(null,arguments))},"click:append":e.addToCheckList},model:{value:e.formValues.check_list_title,callback:function(t){e.$set(e.formValues,"check_list_title",t)},expression:"formValues.check_list_title"}},"v-text-field",e.veeValidate("check_list_title","Checklists"),!1))],1),n("v-col",{attrs:{cols:"12"}},[n("vue-trumbowyg",e._b({directives:[{name:"validate",rawName:"v-validate",value:"max:10000",expression:"'max:10000'"}],attrs:{placeholder:"Write a description for this task"},model:{value:e.formValues.description,callback:function(t){e.$set(e.formValues,"description",t)},expression:"formValues.description"}},"vue-trumbowyg",e.veeValidate("description","Description"),!1))],1),n("v-col",{attrs:{cols:"12"}},[n("create-task-attachments-to-assign",{attrs:{"all-attachments":e.previousAttachments},model:{value:e.attachments,callback:function(t){e.attachments=t},expression:"attachments"}})],1)],1)],1),n("v-col",{attrs:{md:"6",cols:"12"}},[n("div",[n("h4",[e._v("Responsible Person")]),n("div",[n("v-divider"),e.actualResponsiblePersonsObject&&!e.actualResponsiblePersonsObject.length?n("p",{domProps:{textContent:e._s("Select Responsible person to view their result areas")}}):e._l(e.actualResponsiblePersonsObject,(function(t,a){return n("v-col",{key:a,attrs:{cols:"12",md:"12"}},[n("v-row",{attrs:{align:"center"}},[n("v-list-item-avatar",[n("v-img",{attrs:{src:t&&t.profile_picture}})],1),n("v-col",{staticClass:"pl-0",attrs:{cols:"3"}},[n("v-list-item-content",[n("v-list-item-title",{domProps:{textContent:e._s(t&&t.full_name)}}),n("v-list-item-subtitle",{domProps:{textContent:e._s(t&&t.division)}})],1)],1),n("v-col",{attrs:{cols:"7"}},[e.userCoreTasks[t.id]?e.userCoreTasks[t.id].length?e._l(e.userCoreTasks[t.id],(function(i){return n("div",{key:i.id},[n("v-row",{attrs:{align:"center",justify:"start",dense:""}},[n("v-col",{attrs:{sm:"12"}},[n("v-switch",{key:i.id,staticClass:"mt-0",attrs:{id:String(i.id),"hide-details":""},on:{change:function(t){return e.removeCoreTask(i,a)}},model:{value:i.showCoreTask,callback:function(t){e.$set(i,"showCoreTask",t)},expression:"resultArea.showCoreTask"}},[n("template",{slot:"label"},[n("span",[e._v(" "+e._s(i.result_area.title+"-")+" ")]),i.key_result_area?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("span",e._g({staticClass:"font-weight-bold",domProps:{textContent:e._s(" KRA")}},a))]}}],null,!0)},[n("span",[e._v(" Key Result Area")])]):e._e()],1)],2)],1)],1),i.showCoreTask?n("span",e._l(i.core_tasks,(function(a){return n("v-row",{key:a.id,staticClass:"ml-3",attrs:{align:"center",dense:""}},[n("v-col",{attrs:{sm:"12"}},[n("v-checkbox",{staticClass:"mt-0",attrs:{id:String(a.id),value:a.id,loading:!0,"hide-details":"",multiple:"",height:"10"},model:{value:t.core_tasks,callback:function(n){e.$set(t,"core_tasks",n)},expression:"user.core_tasks"}},[n("template",{slot:"label"},[n("v-col",{domProps:{textContent:e._s(a.title)}})],1)],2)],1)],1)})),1):e._e()],1)})):n("p",{domProps:{textContent:e._s(t.full_name+" has no core task.")}}):n("p",{domProps:{textContent:e._s("Fetching...")}})],2)],1),n("v-divider")],1)}))],2),e.previousResponsiblePersons&&e.previousResponsiblePersons.length?n("div",[n("span",{domProps:{textContent:e._s("Existing Responsible Persons")}}),e._l(e.previousResponsiblePersons,(function(t,a){return n("div",{key:a},[n("v-hover",{scopedSlots:e._u([{key:"default",fn:function(i){var o=i.hover;return n("div",{},[n("v-avatar",{attrs:{size:"20"}},[n("v-img",{attrs:{src:t.user.profile_picture}})],1),e._v(" "+e._s(t.user.full_name)+" "),o?n("a",{on:{click:function(n){return e.removeResponsiblePerson(t,a)}}},[n("v-tooltip",{attrs:{right:""},scopedSlots:e._u([{key:"activator",fn:function(a){var i=a.on;return[n("v-icon",e._g({attrs:{color:t.read_only?"green":"red",small:""},domProps:{textContent:e._s(t.read_only?"mdi-chevron-down":"mdi-close")}},i))]}}],null,!0)},[n("span",{domProps:{textContent:e._s(t.read_only?"Move to observers":"Remove")}})])],1):e._e()],1)}}],null,!0)})],1)}))],2):e._e()]),n("div",[n("h4",[e._v("Observers")]),n("div",[n("v-divider"),n("task-user-involvement-view",{attrs:{"user-data":e.observersObject}}),e.previousObservers.length?n("div",[n("span",{domProps:{textContent:e._s("Existing Observers")}}),e._l(e.previousObservers,(function(t,a){return n("div",{key:a},[n("v-hover",{scopedSlots:e._u([{key:"default",fn:function(i){var o=i.hover;return n("div",{},[n("v-avatar",{attrs:{size:"20"}},[n("v-img",{attrs:{src:t.user.profile_picture}})],1),e._v(" "+e._s(t.user.full_name)+" "),o&&!t.read_only?n("a",{on:{click:function(t){return e.previousObservers.splice(a,1)}}},[n("v-icon",{attrs:{small:""},domProps:{textContent:e._s("mdi-close")}})],1):e._e()],1)}}],null,!0)})],1)}))],2):e._e()],1)]),n("h4",[e._v("Deadline")]),n("v-divider"),n("v-col",{attrs:{cols:"12"}},[e.formValues.deadline?n("div",[n("div",[e._v(" "+e._s(e._f("dayjs")(e.formValues.deadline,"YYYY-MM-DD"))+" "),n("span",[e._v(e._s(e._f("dayjs")(e.formValues.deadline,"fromNow")))])]),n("div",[e._v(" "+e._s(e._f("dayjs")(e.formValues.deadline,"h:mm a"))+" ")])]):n("span",{domProps:{textContent:e._s("Please select a deadline for this task")}})]),n("h4",[e._v(" Checklists "),e.checklists.length?n("v-btn",{attrs:{small:"",icon:""},on:{click:function(t){e.checklists=[]}}},[n("v-icon",{attrs:{size:"20"}},[e._v(" mdi-close ")])],1):e._e()],1),n("v-divider"),n("v-col",{attrs:{cols:"12"}},[0===e.checklists.length?n("p",{domProps:{textContent:e._s("Added checklists will appear here")}}):n("div",[e.sortingStarted?e._e():n("div",{attrs:{id:"checklistWrapper"}},e._l(e.checklists,(function(t,a){return n("ul",{key:a,staticClass:"sortHandle my-1"},[n("v-hover",{scopedSlots:e._u([{key:"default",fn:function(i){var o=i.hover;return n("li",{},[e.editChecklist&&a===e.editChecklistIndex?n("span",[n("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"max:100",expression:"'max:100'"}],attrs:{"append-icon":"mdi-check",counter:"100"},on:{"click:append":function(t){e.updateRecentChecklist(a),e.initializeSortableJs()}},model:{value:e.list,callback:function(t){e.list=t},expression:"list"}},"v-text-field",e.veeValidate("checklist_title","Title"),!1))],1):n("span",[e._v(" "+e._s(t)+" "),o?n("a",{on:{click:function(t){return e.checklists.splice(a,1)}}},[n("v-icon",{attrs:{small:""}},[e._v("mdi-close ")])],1):e._e(),o?n("a",[n("v-icon",{attrs:{small:""},on:{click:function(t){e.editChecklist=!0,e.editChecklistIndex=a,e.list=e.checklists[a]}}},[e._v("mdi-pencil ")])],1):e._e()])])}}],null,!0)})],1)})),0)])]),n("h4",[e._v("Attachments")]),n("v-divider"),n("v-col",{attrs:{cols:"12",md:"6"}},[e.attachments&&0===e.attachments.length?n("p",{domProps:{textContent:e._s("Added attachments will appear here")}}):n("div",e._l(e.attachments,(function(t,a){return n("ul",{key:a},[n("v-hover",{scopedSlots:e._u([{key:"default",fn:function(i){var o=i.hover;return n("li",{},[n("span",[e._v(" "+e._s(t.caption)+" "),o?n("a",{on:{click:function(t){e.attachments.splice(a,1),e.previousAttachments.splice(a,1)}}},[n("v-icon",{attrs:{small:""}},[e._v("mdi-close")])],1):e._e()])])}}],null,!0)})],1)})),0)])],1)],1),n("v-divider"),n("v-footer",{attrs:{fixed:"",height:"auto"}},[n("v-spacer"),n("v-btn",{staticClass:"mx-2",attrs:{color:"primary"},on:{click:e.createTask}},[n("span",{domProps:{textContent:e._s("Assign")}})]),n("v-btn",{staticClass:"mx-2",attrs:{outlined:"",color:"primary"},domProps:{textContent:e._s("Cancel")},on:{click:e.dismissForm}})],1),n("vue-notify",{attrs:{notify:e.notify}})],1)},c=[],u=n("b85c"),d=n("2909"),p=n("1da1"),m=n("5530"),h=(n("96cf"),n("a9e3"),n("159b"),n("caad"),n("2532"),n("a4d3"),n("e01a"),n("b0c0"),n("a434"),n("c44a")),f=n("ef8c"),v=n("ab8a"),g=n("0780"),y=n("2a18"),b=n("a019"),_=n("aa47"),k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-row",{attrs:{dense:"",align:"start"}},[n("v-col",{attrs:{md:"6",cols:"12"}},[n("file-upload",{staticClass:"pr-2",attrs:{label:"Attachment",hint:"Files with jpg, png, odt extensions are not available for preview."},model:{value:e.attachment,callback:function(t){e.attachment=t},expression:"attachment"}})],1),n("v-col",{attrs:{md:"6",cols:"12"}},[n("v-text-field",{staticClass:"pl-2",attrs:{disabled:!e.attachment,label:"Caption"},model:{value:e.caption,callback:function(t){e.caption=t},expression:"caption"}},[n("v-icon",{attrs:{slot:"append-outer",color:"primary"},on:{click:e.appendFile},slot:"append-outer"},[e._v(" mdi-plus-box-outline ")])],1)],1)],1)},x=[],w=n("f82f"),C=n("2f62"),T={components:{FileUpload:w["a"]},props:{value:{type:Array,default:function(){return[]}},allAttachments:{type:Array,default:function(){return[]}}},data:function(){return{attachment:"",caption:"",attachments:[]}},watch:{attachments:function(){this.$emit("input",this.allAttachments)}},methods:Object(m["a"])(Object(m["a"])({},Object(C["d"])({setSnackBar:"common/setSnackBar"})),{},{appendFile:function(){this.attachment&&this.caption?(this.setSnackBar({display:!1}),this.attachments.unshift({file:this.attachment,caption:this.caption}),this.allAttachments.unshift({file:this.attachment,caption:this.caption}),this.attachment=null,this.caption=""):this.setSnackBar({text:"Please add both attachment and caption",color:"red"})}})},D=T,V=n("2877"),E=n("6544"),S=n.n(E),P=n("62ad"),L=n("132d"),O=n("0fd9b"),A=n("8654"),$=Object(V["a"])(D,k,x,!1,null,null,null),j=$.exports;S()($,{VCol:P["a"],VIcon:L["a"],VRow:O["a"],VTextField:A["a"]});var B=n("f8a4"),F=n("1467"),I={components:{UserAutoComplete:f["default"],TaskUserInvolvementView:g["a"],NonFieldFormErrors:v["default"],VueTrumbowyg:F["default"],CreateTaskAttachmentsToAssign:j},mixins:[h["a"]],props:{preEmploymentDetails:{type:Object,required:!0},actionData:{type:Object,default:function(){return{status:1}}},endpoint:{type:String,required:!0},preTask:{type:Boolean,default:!1},parentTask:{type:Number,required:!1,default:null}},data:function(){return{notify:{},responsiblePersons:[],sortingStarted:!1,previousResponsiblePersons:[],previousObservers:[],responsiblePersonsObject:[],observersObject:[],userCoreTasks:{},priorityChoices:[{text:"Minor",value:"MINOR",color:"green"},{text:"Major",value:"MAJOR",color:"purple"},{text:"Critical",value:"CRITICAL",color:"red"}],checklists:[],actualResponsiblePersonsObject:[],editChecklistIndex:"",prevList:"",previousCheckLists:[],attachments:[],previousAttachments:[],formValues:this.deepCopy(this.taskDefaultData()),editChecklistPrevIndex:"",editChecklist:!1}},computed:Object(m["a"])(Object(m["a"])({},Object(C["c"])({getAuthStateUser:"auth/getAuthStateUser",getOrganizationSlug:"organization/getOrganizationSlug",isSupervisor:"auth/isSupervisor"})),{},{observersData:function(){var e=[];return this.formValues.observers&&this.formValues.observers.forEach((function(t){e.unshift({user:t})})),e},responsiblePersonsData:function(){return this.actualResponsiblePersonsObject.map((function(e){return{user:e.id,core_tasks:e.core_tasks||[]}}))}}),watch:{responsiblePersonsObject:function(e,t){if(this.responsiblePersonsObject=e,e&&e.length){var n=t.map((function(e){return e.id})),a=e.map((function(e){return e.id}));e.length<t.length?this.actualResponsiblePersonsObject=this.actualResponsiblePersonsObject.filter((function(e){return a.includes(e.id)})):n.includes(e[0].id)||this.actualResponsiblePersonsObject.push(e[0]),this.getUserCoreTasks(e)}else this.actualResponsiblePersonsObject=e}},mounted:function(){this.initializeSortableJs(),this.getPreviousAttachments(),this.actionData&&this.actionData.template_detail&&(this.formValues=Object(m["a"])({},this.actionData.template_detail),this.previousCheckLists=this.actionData.template_detail.checklists,this.formValues.title=this.actionData.template_detail.title.concat(" ","of (".concat(this.preEmploymentDetails.employee.full_name,")")),this.formValues.description=this.actionData.template_detail.description,this.formValues.deadline=this.actionData.template_detail.deadline_date,this.previousResponsiblePersons=this.formValues.responsible_persons,this.formValues.observers=this.actionData.template_detail.observers.map((function(e){return e.id})),this.preEmploymentDetails.employee&&this.actionData.template_detail.include_employee&&this.formValues.observers.push(this.preEmploymentDetails.employee.id),this.checklists=this.actionData.template_detail.checklists.map((function(e){return e.title})))},methods:{getPreviousAttachments:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("/hris/".concat(e.getOrganizationSlug,"/employment/template-detail/").concat(e.actionData.template_detail.id,"/attachments/")).then((function(t){var n;e.previousAttachments=t.results,(n=e.attachments).push.apply(n,Object(d["a"])(t.results))}));case 2:case"end":return t.stop()}}),t)})))()},createAttachment:function(e,t){var n=this;return Object(p["a"])(regeneratorRuntime.mark((function a(){var i,o,r,s,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:i=0,o=Object(u["a"])(n.attachments),a.prev=2,o.s();case 4:if((r=o.n()).done){a.next=14;break}return s=r.value,l=new FormData,l.append("attachment",s.file,s.file.name),l.append("caption",s.caption),l.append("task",e),a.next=12,n.$http.post(B["a"].postAttachment(e),l).catch((function(){i+=1}));case 12:a.next=4;break;case 14:a.next=19;break;case 16:a.prev=16,a.t0=a["catch"](2),o.e(a.t0);case 19:return a.prev=19,o.f(),a.finish(19);case 22:i?n.notifyUser("Successfully ".concat(t," task but some attachments failed"),"warning"):n.notifyUser("Successfully ".concat(t," task"),"green"),n.$emit("dismissForm");case 24:case"end":return a.stop()}}),a,null,[[2,16,19,22]])})))()},getUserCoreTasks:function(e){var t=this,n=e[0];this.userCoreTasks[n.id]||this.$http.get(b["a"].getUserResultAreas(n.organization_slug,n.id)).then((function(e){var a=e.experiences.filter((function(e){return e.is_current}));if(a.length&&a[0].result_areas.length){var i=a[0].result_areas;t.$set(t.userCoreTasks,n.id,i)}else t.userCoreTasks[n.id]=[]}))},initializeSortableJs:function(){if(0!==this.checklists.length){var e=document.getElementById("checklistWrapper");this.sortable=_["a"].create(e,{selectedClass:"sortHandle",draggable:".sortHandle",handle:".sortHandle",onEnd:this.reArrangeChecklist})}},reArrangeChecklist:function(e){var t=this;this.sortingStarted=!0,this.checklists.splice(e.newIndex,0,this.checklists.splice(e.oldIndex,1)[0]),this.$nextTick((function(){t.sortingStarted=!1,t.$nextTick((function(){t.initializeSortableJs()}))}))},addToCheckList:function(){this.formValues.check_list_title?this.formValues.check_list_title.length>100?this.notifyUser("The Checklists field may not be greater than 100 characters","red"):(this.checklists.push(this.formValues.check_list_title),this.formValues.check_list_title="",this.editChecklistIndex="",this.editChecklistPrevIndex=""):this.notifyUser("Please write something on your checklist.","red")},viewAttachment:function(e){var t="https://docs.google.com/viewerng/viewer?url=".concat(e);window.open(t,"_blank")},createTask:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){var n,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n={task:e.constructFormData(),template_files:e.attachments.filter((function(e){return e.id})).map((function(e){return e.id}))||[]},a="",a=e.preTask?"pre-tasks":"post-tasks",i="/hris/".concat(e.getOrganizationSlug,"/employment/").concat(e.endpoint,"/").concat(e.preEmploymentDetails.id,"/").concat(a,"/").concat(e.actionData.id,"/"),e.validateAllFields()&&e.$http.put(i,n).then((function(t){e.notifyUser("Successfully assigned task!","green"),e.dismissForm(),e.attachments.length&&e.createAttachment(t.task.id,"created")})).catch((function(t){e.pushErrors(t)}));case 5:case"end":return t.stop()}}),t)})))()},dismissForm:function(){this.formValues.description="",this.checklists=[],this.formValues={},this.$emit("close")},addCheckList:function(e){this.$http.post(y["a"].postCheckList(this.formValues.id),{check_list_title:e})},updateRecentChecklist:function(e,t){this.list?this.list.length>100?(this.notifyUser("The Checklists field may not be greater than 100 characters","red"),this.editChecklist=!1,this.editChecklistPrevIndex=""):(this.checklists.splice(t,1,this.list),this.editChecklist=!1):(this.notifyUser("Please write something on your checklist.","red"),this.editChecklist=!1)},updateChecklist:function(e,t){var n=this;this.prevList?this.prevList.length>100?this.notifyUser("The Checklists field may not be greater than 100 characters","red"):this.$http.put(y["a"].putCheckList(this.formValues.id,e),{check_list_title:this.prevList}).then((function(e){n.previousCheckLists[t].check_list_title=e.check_list_title})).catch((function(e){n.notifyInvalidFormResponse(),n.pushErrors(e)})):this.notifyUser("Please write something on your checklist.","red")},deleteCheckList:function(e,t){var n=this;this.$http.delete(y["a"].deleteCheckList(this.actionData.id,e)).then((function(){n.notifyUser("Successfully deleted Checklist","green"),n.previousCheckLists.splice(t,1)})).catch((function(){n.notifyUser("Only pending Checklist can be deleted","red")}))},constructFormData:function(){var e=this.previousObservers.map((function(e){return{user:e.user.id,read_only:e.read_only}})),t=this.previousResponsiblePersons.map((function(e){return{user:e.user.id,core_tasks:e.core_tasks.map((function(e){return e.id})),read_only:e.read_only}}));return{id:this.formValues.id||null,include_employee:this.formValues.include_employee,observers:e.concat(this.observersData),responsible_persons:t.concat(this.responsiblePersonsData),priority:this.formValues.priority,check_lists:this.checklists,title:this.formValues.title,changeable_deadline:this.formValues.changeable_deadline,deadline:this.formValues.deadline||this.$dayjs().add(7,"days").format("YYYY-MM-DD")+"T17:30",description:this.formValues.description,parent:this.parentTask||null}},taskDefaultData:function(){return{title:"",status:1,description:"",priority:"MINOR",checklist:"",changeable_deadline:!1,skip_offday:!1,approve_required:!1,working_day:!1,include_employee:!1,auto_complete:!1,deadline:this.$dayjs().add(7,"days").format("YYYY-MM-DD")+"T17:30"}},removeResponsiblePerson:function(e,t){e.read_only&&this.previousObservers.unshift(e),this.previousResponsiblePersons.splice(t,1)},removeCoreTask:function(e,t){var n=this.deepCopy(this.responsiblePersonsObject[t]),a=this.deepCopy(e).core_tasks.map((function(e){return e.id}));n.core_tasks||(n.core_tasks=[]),n.core_tasks=n.core_tasks.filter((function(e){return!a.includes(e)})),this.$set(this.responsiblePersonsObject,t,n)}}},N=I,R=n("8212"),M=n("8336"),z=n("a609"),q=n("ac7c"),U=n("ce7e"),Y=n("553a"),H=n("4bd4"),W=n("ce87"),Z=n("adda"),G=n("8270"),J=n("5d23"),K=n("2fa4"),X=n("b73d"),Q=n("3a2f"),ee=Object(V["a"])(N,l,c,!1,null,null,null),te=ee.exports;S()(ee,{VAvatar:R["a"],VBtn:M["a"],VBtnToggle:z["a"],VCheckbox:q["a"],VCol:P["a"],VDivider:U["a"],VFooter:Y["a"],VForm:H["a"],VHover:W["a"],VIcon:L["a"],VImg:Z["a"],VListItemAvatar:G["a"],VListItemContent:J["a"],VListItemSubtitle:J["b"],VListItemTitle:J["c"],VRow:O["a"],VSpacer:K["a"],VSwitch:X["a"],VTextField:A["a"],VTooltip:Q["a"]});var ne=n("a51f"),ae=n("5615"),ie=n("afa9"),oe=n("99d6"),re={name:"TaskList",components:{DataTableNoData:ne["default"],TaskAssignForm:te,ThumbnailUsers:s["default"]},mixins:[r["a"],o["a"]],props:{employmentDetails:{type:Object,default:function(){return{}}},component:{type:String,required:!0},componentType:{type:String,required:!0}},data:function(){return{mutableEmploymentDetails:this.deepCopy(this.employmentDetails),sharedData:{},endPoints:{},orgSlug:this.$route.params.slug,cardHeading:"",assignTasks:!1,rowsPerPageItems:[10,20,30,40,50],deleteSlug:"",selectedUsers:[],confirmNotify:{dialog:!1,heading:"Confirm Action",subheading:"You are about to assign the selected tasks. Confirm your action.",text:"Are you sure you want to assign the selected tasks?"},actionData:{},taskStatus:{1:"Pending",2:"In Progress",3:"On Hold",4:"Completed",5:"Closed"},taskStatusColor:{1:"orange",2:"blue",3:"grey",4:"green",5:"blue"},formValues:{name:"",template_type:""},headers:[{text:"Title",value:"title",align:"left",sortable:!0},{text:"Assigned To",value:"template_type",sortable:!1},{text:"Deadline",value:"deadline",sortable:!0},{text:"Status",value:"modified_at",align:"center",sortable:!1},{text:"Actions",value:"name",align:"center",sortable:!1}],loading:!1}},created:function(){this.initializeUrl(),this.dataTableEndpoint=this.endPoints.fetchDataTable},methods:{initializeUrl:function(){"onBoard"===this.component?(this.sharedData.title="Create ".concat("postTask"===this.componentType?"Post-Task":"Pre-Task"," to onboard ").concat(this.mutableEmploymentDetails.full_name),this.sharedData.subTitle="Create ".concat("postTask"===this.componentType?"Post Task":"Pre Task","."),this.endPoints.updatePreEmploymentSeparationDetails=ae["a"].updatePreEmployment(this.getOrganizationSlug,this.mutableEmploymentDetails.id),"postTask"===this.componentType?(this.endPoints.fetchDataTable=ae["a"].getPostTasks(this.getOrganizationSlug,this.mutableEmploymentDetails.id),this.endPoints.assignSelectedTask=ae["a"].postPostTasksMultiAssign(this.getOrganizationSlug,this.mutableEmploymentDetails.id),this.endPoints.fetchPreEmploymentDetail=ae["a"].getPreEmploymentDetail(this.getOrganizationSlug,this.mutableEmploymentDetails.id)):"preTask"===this.componentType&&(this.endPoints.fetchDataTable=ae["a"].getPreTasks(this.getOrganizationSlug,this.mutableEmploymentDetails.id),this.endPoints.assignSelectedTask=ae["a"].postPreTasksMultiAssign(this.getOrganizationSlug,this.mutableEmploymentDetails.id),this.endPoints.updatePreEmploymentSeparationDetails=ae["a"].updatePreEmployment(this.getOrganizationSlug,this.mutableEmploymentDetails.id))):"offBoard"===this.component?(this.sharedData.title="List of ".concat("postTask"===this.componentType?"Post-Task":"Pre-Task"," to offboard ").concat(this.mutableEmploymentDetails.employee.full_name),this.sharedData.subTitle="List of ".concat("postTask"===this.componentType?"Post-Task":"Pre-Task"," to offboard."),"postTask"===this.componentType?this.endPoints.fetchDataTable=ie["a"].getPostTasks(this.getOrganizationSlug,this.mutableEmploymentDetails.id):"preTask"===this.componentType&&(this.endPoints.fetchDataTable=ie["a"].getPreTasks(this.getOrganizationSlug,this.mutableEmploymentDetails.id)),this.endPoints.updatePreEmploymentSeparationDetails=ie["a"].updateSeparationDetails(this.getOrganizationSlug,this.mutableEmploymentDetails.id),this.endPoints.assignSelectedTask=ie["a"].postPostTasksMultiAssign(this.getOrganizationSlug,this.mutableEmploymentDetails.id),this.endPoints.fetchPreEmploymentDetail=ie["a"].getIndividualSeparation(this.getOrganizationSlug,this.mutableEmploymentDetails.id)):"changeType"===this.component&&(this.sharedData.title="List of ".concat("postTask"===this.componentType?"Post-Task":"Pre-Task"," of ").concat(this.mutableEmploymentDetails.employee.full_name),this.sharedData.subTitle="List of ".concat("postTask"===this.componentType?"Post-Task":"Pre-Task"," "),this.endPoints.updatePreEmploymentSeparationDetails=oe["a"].getChangeTypeDetails(this.getOrganizationSlug,this.mutableEmploymentDetails.id),"preTask"===this.componentType?(this.endPoints.fetchDataTable=oe["a"].getIndividualEmployementReviewPreTask(this.getOrganizationSlug,this.employmentDetails.id),this.endPoints.assignSelectedTask=oe["a"].preTasksMultiAssign(this.getOrganizationSlug,this.mutableEmploymentDetails.id)):"postTask"===this.componentType&&(this.endPoints.fetchDataTable=oe["a"].getIndividualEmployementReviewPostTask(this.getOrganizationSlug,this.employmentDetails.id),this.endPoints.assignSelectedTask=oe["a"].postTasksMultiAssign(this.getOrganizationSlug,this.mutableEmploymentDetails.id)))},assignSelectedTasks:function(){var e=this,t=this.selectedUsers.filter((function(e){return!e.task})).map((function(e){return e.id}));this.crud.message="Successfully assigned tasks.",this.loading=!1,this.insertData(this.endPoints.assignSelectedTask,{template_mapping:t}).then((function(){e.fetchDataTable(),e.selectedUsers=[]})).finally((function(){e.confirmNotify.dialog=!1}))},gotoNextStep:function(){var e=this,t={};"preTask"===this.componentType?"active"!==this.mutableEmploymentDetails.status&&"pre-active"!==this.mutableEmploymentDetails.status&&"pre-completed"!==this.mutableEmploymentDetails.status&&this.mutableEmploymentDetails.employee?this.$emit("next","onBoard"===this.component?"assign-supervisor-form":"offBoard"===this.component?"letter-template":"changeType"===this.component?"experience-list":"","",this.componentType):(t={status:"pre-completed"},this.patchData(this.endPoints.updatePreEmploymentSeparationDetails,t).then((function(t){e.$emit("next","onBoard"===e.component?"add-employee-form":"offBoard"===e.component?"letter-template":"changeType"===e.component?"experience-list":"","onBoard"===e.component?"pre-completed":"offBoard"===e.component?t.status:"",e.componentType)}))):"postTask"===this.componentType&&(t="changeType"===this.component?{status:"post-completed"}:{status:"completed"},this.patchData(this.endPoints.updatePreEmploymentSeparationDetails,t).then((function(){e.$emit("cancel")})))},clear:function(){this.formValues={},this.clearNonFieldErrors(),this.$validator.errors.clear()},triggerForm:function(e){this.assignTasks=!0,this.actionData=e},dismissForm:function(){this.assignTasks=!1,this.fetchDataTable(),"postTask"===this.componentType&&this.fetchPreEmploymentDetail()},fetchPreEmploymentDetail:function(){var e=this;this.getData(this.endPoints.fetchPreEmploymentDetail).then((function(t){"onBoard"!==e.component&&"offBoard"!==e.component||(e.mutableEmploymentDetails=t)}))},openDetails:function(e){var t=this.$route.params.slug;this.$router.push({name:"admin-slug-task-id-detail",params:{id:e,slug:t}})}}},se=re,le=n("b0af"),ce=n("99d9"),ue=n("cc20"),de=n("8fea"),pe=n("169a"),me=Object(V["a"])(se,a,i,!1,null,null,null);t["a"]=me.exports;S()(me,{VBtn:M["a"],VCard:le["a"],VCardActions:ce["a"],VCardText:ce["c"],VCheckbox:q["a"],VChip:ue["a"],VDataTable:de["a"],VDialog:pe["a"],VDivider:U["a"],VIcon:L["a"],VSpacer:K["a"],VTooltip:Q["a"]})},"8aa7":function(e,t,n){var a=n("da84"),i=n("d039"),o=n("1c7e"),r=n("ebb5").NATIVE_ARRAY_BUFFER_VIEWS,s=a.ArrayBuffer,l=a.Int8Array;e.exports=!r||!i((function(){l(1)}))||!i((function(){new l(-1)}))||!o((function(e){new l,new l(null),new l(1.5),new l(e)}),!0)||i((function(){return 1!==new l(new s(2),1,void 0).length}))},"8cd3":function(e,t,n){"use strict";var a=n("5530"),i=(n("d3b7"),n("f0d5"));t["a"]={mixins:[i["a"]],data:function(){return{dataTableEndpoint:"",fetchedResults:[],response:null,footerProps:{itemsPerPageOptions:[10,20,30,40,50,100]},pagination:{sortBy:["modified_at"],descending:!1,totalItems:0,page:1,rowsPerPage:10,pageCount:0},loadTableOnInit:!0}},computed:{filterParams:function(){var e=Object(a["a"])(Object(a["a"])({},this.dataTableFilter),{},{offset:(this.pagination.page-1)*this.pagination.rowsPerPage,limit:this.pagination.rowsPerPage,ordering:this.pagination.descending?this.pagination.sortBy:"-"+this.pagination.sortBy});return this.convertToURLSearchParams(e,!1)}},watch:{filterParams:function(){var e=this;this.$nextTick((function(){e.fetchDataTable()}))},dataTableFilter:function(){this.pagination.page=1}},created:function(){var e=this;setTimeout((function(){e.loadTableOnInit&&e.fetchDataTable()}),0)},methods:{fetchDataTable:function(e,t){var n=this;return new Promise((function(a,i){!e&&!n.dataTableEndpoint||n.loading||(n.loadTableOnInit=!1,n.loading=!0,n.fetchedResults=[],n.$http.get(e||n.dataTableEndpoint,t||{params:n.filterParams}).then((function(e){n.response=e,n.fetchedResults=e.results,n.pagination.totalItems=e.count,n.processAfterTableLoad(e),a(e),n.loading=!1})).catch((function(e){n.pushErrors(e),n.notifyInvalidFormResponse(),i(e),n.loading=!1})))}))},processAfterTableLoad:function(){}}}},"983c":function(e,t,n){"use strict";n("d3b7");t["a"]={methods:{getData:function(e,t,n){var a=this,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Promise((function(o,r){!a.loading&&e&&(a.clearNonFieldErrors(),a.$validator.errors.clear(),a.loading=i,a.$http.get(e,n||{params:t||{}}).then((function(e){o(e),a.loading=!1})).catch((function(e){a.pushErrors(e),a.notifyInvalidFormResponse(),r(e),a.loading=!1})))}))},getBlockingData:function(e,t,n){var a=this;return new Promise((function(i,o){a.getData(e,t,n,!0).then((function(e){i(e)})).catch((function(e){o(e)}))}))}}}},"99d6":function(e,t,n){"use strict";n("99af");t["a"]={getChangeType:function(e){return"/hris/".concat(e,"/employment/change-type/")},postChangeType:function(e){return"/hris/".concat(e,"/employment/change-type/")},updateChangeType:function(e,t){return"/hris/".concat(e,"/employment/change-type/").concat(t,"/")},getChangeTypeDetails:function(e,t){return"/hris/".concat(e,"/employment/employment-review/").concat(t,"/")},deleteChangeType:function(e,t){return"/hris/".concat(e,"/employment/change-type/").concat(t,"/")},getLetters:function(e,t){return"/hris/".concat(e,"/employment/employment-review/").concat(t,"/letters/")},getIndividualEmployementReviewPreTask:function(e,t){return"/hris/".concat(e,"/employment/employment-review/").concat(t,"/pre-tasks/")},getIndividualEmployementReviewPostTask:function(e,t){return"/hris/".concat(e,"/employment/employment-review/").concat(t,"/post-tasks/")},getEmployementReviewDetail:function(e,t){return"/hris/".concat(e,"/employment/employment-review/").concat(t,"/detail/")},assignCoreTask:function(e,t){return"/hris/".concat(e,"/employment/employment-review/").concat(t,"/assign-core-task/")},copyCoreTask:function(e,t){return"/hris/".concat(e,"/employment/employment-review/").concat(t,"/copy-core-tasks/")},getleaveDetails:function(e,t){return"/hris/".concat(e,"/employment/employment-review/").concat(t,"/leaves/")},updateLeaveDetails:function(e,t,n){return"/hris/".concat(e,"/employment/employment-review/").concat(t,"/leaves/").concat(n,"/")},preTasksMultiAssign:function(e,t){return"/hris/".concat(e,"/employment/employment-review/").concat(t,"/pre-tasks/multi-assign/")},postTasksMultiAssign:function(e,t){return"/hris/".concat(e,"/employment/employment-review/").concat(t,"/post-tasks/multi-assign/")}}},"9a8c":function(e,t,n){"use strict";var a=n("ebb5"),i=n("145e"),o=a.aTypedArray,r=a.exportTypedArrayMethod;r("copyWithin",(function(e,t){return i.call(o(this),e,t,arguments.length>2?arguments[2]:void 0)}))},"9c54":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l}));var a=n("80d2"),i=n("7e85"),o=n("56a4"),r=n("e516"),s=Object(a["i"])("v-stepper__header"),l=Object(a["i"])("v-stepper__items");i["a"],r["a"],o["a"]},"9d01":function(e,t,n){},"9d1c":function(e,t,n){},"9e29":function(e,t,n){},a019:function(e,t,n){"use strict";n("99af");t["a"]={getUserResultAreas:function(e,t){return"/hris/".concat(e,"/user-result-areas/").concat(t,"/")}}},a078:function(e,t,n){var a=n("7b0b"),i=n("50c4"),o=n("35a1"),r=n("e95a"),s=n("0366"),l=n("ebb5").aTypedArrayConstructor;e.exports=function(e){var t,n,c,u,d,p,m=a(e),h=arguments.length,f=h>1?arguments[1]:void 0,v=void 0!==f,g=o(m);if(void 0!=g&&!r(g)){d=g.call(m),p=d.next,m=[];while(!(u=p.call(d)).done)m.push(u.value)}for(v&&h>2&&(f=s(f,arguments[2],2)),n=i(m.length),c=new(l(this))(n),t=0;n>t;t++)c[t]=v?f(m[t],t):m[t];return c}},a51f:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.search.length>0?n("span",[e._v(' Your search for "'+e._s(e.search)+'" found no results. ')]):e.loading?n("v-skeleton-loader",{attrs:{type:"table",height:e.skeletonLoaderHeight}}):n("no-data-found",{attrs:{text:e.text,height:e.height}},[e._t("default")],2)],1)},i=[],o=(n("a9e3"),n("e585")),r={components:{NoDataFound:o["default"]},props:{search:{type:String,default:""},loading:{type:Boolean,required:!0},text:{type:String,default:"No data available at the moment"},height:{type:[String,Number],default:200},skeletonLoaderHeight:{type:[String,Number],default:void 0}}},s=r,l=n("2877"),c=n("6544"),u=n.n(c),d=n("3129"),p=Object(l["a"])(s,a,i,!1,null,null,null);t["default"]=p.exports;u()(p,{VSkeletonLoader:d["a"]})},a609:function(e,t,n){"use strict";var a=n("5530"),i=(n("7e58"),n("3860")),o=n("a9ad"),r=n("58df");t["a"]=Object(r["a"])(i["a"],o["a"]).extend({name:"v-btn-toggle",props:{backgroundColor:String,borderless:Boolean,dense:Boolean,group:Boolean,rounded:Boolean,shaped:Boolean,tile:Boolean},computed:{classes:function(){return Object(a["a"])(Object(a["a"])({},i["a"].options.computed.classes.call(this)),{},{"v-btn-toggle":!0,"v-btn-toggle--borderless":this.borderless,"v-btn-toggle--dense":this.dense,"v-btn-toggle--group":this.group,"v-btn-toggle--rounded":this.rounded,"v-btn-toggle--shaped":this.shaped,"v-btn-toggle--tile":this.tile},this.themeClasses)}},methods:{genData:function(){var e=this.setTextColor(this.color,Object(a["a"])({},i["a"].options.methods.genData.call(this)));return this.group?e:this.setBackgroundColor(this.backgroundColor,e)}}})},a79c:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var a=n("53ca");n("b0c0");function i(e,t,n){var r,s,l=t||new FormData;for(var c in e)if(Object.prototype.hasOwnProperty.call(e,c))if(r=n?n+"."+c:c,s=e[c],"boolean"===typeof s||"number"===typeof s)l.append(r,s);else if(Array.isArray(s))for(var u=0;u<s.length;u++)l.append(r,s[u]);else"object"!==Object(a["a"])(s)||o(s)?o(s)?l.append(r,s,s.name):s?l.append(r,s):s||"undefined"!==typeof s&&l.append(r,""):i(s,l,c);return l}function o(e){return e instanceof File||e instanceof Blob}},a975:function(e,t,n){"use strict";var a=n("ebb5"),i=n("b727").every,o=a.aTypedArray,r=a.exportTypedArrayMethod;r("every",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)}))},a981:function(e,t){e.exports="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof DataView},ab8a:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.changeType&&0!==e.nonFieldErrors.length?n("div",e._l(e.nonFieldErrors,(function(t,a){return n("v-col",{key:a},e._l(t,(function(t,a){return n("div",{key:a},[n("span",{domProps:{textContent:e._s(e.key)}}),n("span",{domProps:{textContent:e._s(t.toString())}})])})),0)})),1):e._e(),e.changeType||0===e.nonFieldErrors.length?e._e():n("v-alert",{staticClass:"ma-3",attrs:{outlined:"",dense:"",tile:"",dismissible:"",color:"danger"}},[n("span",{domProps:{textContent:e._s("There are some errors")}}),e._l(e.nonFieldErrors,(function(t,a){return n("div",{key:a},e._l(t,(function(t,a){return n("div",{key:a},[n("ul",[n("li",[n("span",{domProps:{textContent:e._s(e.key)}}),n("span",{domProps:{textContent:e._s(t.toString())}})])])])})),0)}))],2)],1)},i=[],o={props:{nonFieldErrors:{type:Array,required:!0},changeType:{type:Boolean,default:!1}},data:function(){return{key:""}}},r=o,s=n("2877"),l=n("6544"),c=n.n(l),u=n("0798"),d=n("62ad"),p=Object(s["a"])(r,a,i,!1,null,null,null);t["default"]=p.exports;c()(p,{VAlert:u["a"],VCol:d["a"]})},abd3:function(e,t,n){},ac39:function(e,t,n){},ace4:function(e,t,n){"use strict";var a=n("23e7"),i=n("d039"),o=n("621a"),r=n("825a"),s=n("23cb"),l=n("50c4"),c=n("4840"),u=o.ArrayBuffer,d=o.DataView,p=u.prototype.slice,m=i((function(){return!new u(2).slice(1,void 0).byteLength}));a({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:m},{slice:function(e,t){if(void 0!==p&&void 0===t)return p.call(r(this),e);var n=r(this).byteLength,a=s(e,n),i=s(void 0===t?n:t,n),o=new(c(this,u))(l(i-a)),m=new d(this),h=new d(o),f=0;while(a<i)h.setUint8(f++,m.getUint8(a++));return o}})},ad37:function(e,t,n){"use strict";t["a"]={getReligionEthnicity:"/commons/religion-ethnicity/",postReligionEthnicity:"/commons/religion-ethnicity/",updateReligionEthnicity:function(e){return"/commons/religion-ethnicity/".concat(e,"/")},deleteReligionEthnicity:function(e){return"/commons/religion-ethnicity/".concat(e,"/")}}},afa9:function(e,t,n){"use strict";n("99af");t["a"]={getSeparationDetails:function(e){return"/hris/".concat(e,"/employment/separation/")},getIndividualSeparation:function(e,t){return"/hris/".concat(e,"/employment/separation/").concat(t,"/")},postSeparationDetails:function(e){return"/hris/".concat(e,"/employment/separation/")},getSeparationDetail:function(e,t){return"/hris/".concat(e,"/employment/separation/").concat(t,"/")},updateSeparationDetails:function(e,t){return"/hris/".concat(e,"/employment/separation/").concat(t,"/")},updateEmployeeSeparation:function(e,t){return"/hris/".concat(e,"/employment/separation/").concat(t,"/edit/")},deleteSeparationDetails:function(e,t){return"/hris/".concat(e,"/employment/separation/").concat(t,"/")},getPreTasks:function(e,t){return"/hris/".concat(e,"/employment/separation/").concat(t,"/pre-tasks/")},getPostTasks:function(e,t){return"/hris/".concat(e,"/employment/separation/").concat(t,"/post-tasks/")},exitInterviewPost:function(e){return"/hris/".concat(e,"/exit-interview/")},postPreTasksMultiAssign:function(e,t){return"/hris/".concat(e,"/employment/separation/").concat(t,"/pre-tasks/multi-assign/")},postPostTasksMultiAssign:function(e,t){return"/hris/".concat(e,"/employment/separation/").concat(t,"/post-tasks/multi-assign/")},letterTemplate:function(e,t){return"/hris/".concat(e,"/employment/separation/").concat(t,"/letters/")},separationDetails:function(e,t){return"/hris/".concat(e,"/employment/separation/").concat(t,"/?format=json")},getEmploymeeLeaves:function(e,t){return"/hris/".concat(e,"/employment/separation/").concat(t,"/leaves/")},updateEmploymeeLeaves:function(e,t,n){return"/hris/".concat(e,"/employment/separation/").concat(t,"/leaves/").concat(n)},historyEmploymeeLeaves:function(e,t,n){return"/hris/".concat(e,"/employment/separation/").concat(t,"/leaves/").concat(n,"/history")}}},b39a:function(e,t,n){"use strict";var a=n("da84"),i=n("ebb5"),o=n("d039"),r=a.Int8Array,s=i.aTypedArray,l=i.exportTypedArrayMethod,c=[].toLocaleString,u=[].slice,d=!!r&&o((function(){c.call(new r(1))})),p=o((function(){return[1,2].toLocaleString()!=new r([1,2]).toLocaleString()}))||!o((function(){r.prototype.toLocaleString.call([1,2])}));l("toLocaleString",(function(){return c.apply(d?u.call(s(this)):s(this),arguments)}),p)},b5b6:function(e,t,n){},b73d:function(e,t,n){"use strict";var a=n("5530"),i=(n("0481"),n("ec29"),n("9d01"),n("fe09")),o=n("c37a"),r=n("c3f0"),s=n("0789"),l=n("490a"),c=n("80d2");t["a"]=i["a"].extend({name:"v-switch",directives:{Touch:r["a"]},props:{inset:Boolean,loading:{type:[Boolean,String],default:!1},flat:{type:Boolean,default:!1}},computed:{classes:function(){return Object(a["a"])(Object(a["a"])({},o["a"].options.computed.classes.call(this)),{},{"v-input--selection-controls v-input--switch":!0,"v-input--switch--flat":this.flat,"v-input--switch--inset":this.inset})},attrs:function(){return{"aria-checked":String(this.isActive),"aria-disabled":String(this.isDisabled),role:"switch"}},validationState:function(){return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0},switchData:function(){return this.setTextColor(this.loading?void 0:this.validationState,{class:this.themeClasses})}},methods:{genDefaultSlot:function(){return[this.genSwitch(),this.genLabel()]},genSwitch:function(){return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.genInput("checkbox",Object(a["a"])(Object(a["a"])({},this.attrs),this.attrs$)),this.genRipple(this.setTextColor(this.validationState,{directives:[{name:"touch",value:{left:this.onSwipeLeft,right:this.onSwipeRight}}]})),this.$createElement("div",Object(a["a"])({staticClass:"v-input--switch__track"},this.switchData)),this.$createElement("div",Object(a["a"])({staticClass:"v-input--switch__thumb"},this.switchData),[this.genProgress()])])},genProgress:function(){return this.$createElement(s["c"],{},[!1===this.loading?null:this.$slots.progress||this.$createElement(l["a"],{props:{color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,size:16,width:2,indeterminate:!0}})])},onSwipeLeft:function(){this.isActive&&this.onChange()},onSwipeRight:function(){this.isActive||this.onChange()},onKeydown:function(e){(e.keyCode===c["y"].left&&this.isActive||e.keyCode===c["y"].right&&!this.isActive)&&this.onChange()}}})},ba0d:function(e,t,n){"use strict";var a=n("ade3"),i=n("5530"),o=(n("a9e3"),n("d81d"),n("99af"),n("caad"),n("2532"),n("498a"),n("d3b7"),n("25f0"),n("b680"),n("9e29"),n("c37a")),r=n("0789"),s=n("58df"),l=n("297c"),c=n("a293"),u=n("80d2"),d=n("d9bd");t["a"]=Object(s["a"])(o["a"],l["a"]).extend({name:"v-slider",directives:{ClickOutside:c["a"]},mixins:[l["a"]],props:{disabled:Boolean,inverseLabel:Boolean,max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:1},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:function(e){return"boolean"===typeof e||"always"===e}},thumbSize:{type:[Number,String],default:32},tickLabels:{type:Array,default:function(){return[]}},ticks:{type:[Boolean,String],default:!1,validator:function(e){return"boolean"===typeof e||"always"===e}},tickSize:{type:[Number,String],default:2},trackColor:String,trackFillColor:String,value:[Number,String],vertical:Boolean},data:function(){return{app:null,oldValue:null,keyPressed:0,isFocused:!1,isActive:!1,noClick:!1}},computed:{classes:function(){return Object(i["a"])(Object(i["a"])({},o["a"].options.computed.classes.call(this)),{},{"v-input__slider":!0,"v-input__slider--vertical":this.vertical,"v-input__slider--inverse-label":this.inverseLabel})},internalValue:{get:function(){return this.lazyValue},set:function(e){e=isNaN(e)?this.minValue:e;var t=this.roundValue(Math.min(Math.max(e,this.minValue),this.maxValue));t!==this.lazyValue&&(this.lazyValue=t,this.$emit("input",t))}},trackTransition:function(){return this.keyPressed>=2?"none":""},minValue:function(){return parseFloat(this.min)},maxValue:function(){return parseFloat(this.max)},stepNumeric:function(){return this.step>0?parseFloat(this.step):0},inputWidth:function(){return(this.roundValue(this.internalValue)-this.minValue)/(this.maxValue-this.minValue)*100},trackFillStyles:function(){var e,t=this.vertical?"bottom":"left",n=this.vertical?"top":"right",i=this.vertical?"height":"width",o=this.$vuetify.rtl?"auto":"0",r=this.$vuetify.rtl?"0":"auto",s=this.isDisabled?"calc(".concat(this.inputWidth,"% - 10px)"):"".concat(this.inputWidth,"%");return e={transition:this.trackTransition},Object(a["a"])(e,t,o),Object(a["a"])(e,n,r),Object(a["a"])(e,i,s),e},trackStyles:function(){var e,t=this.vertical?this.$vuetify.rtl?"bottom":"top":this.$vuetify.rtl?"left":"right",n=this.vertical?"height":"width",i="0px",o=this.isDisabled?"calc(".concat(100-this.inputWidth,"% - 10px)"):"calc(".concat(100-this.inputWidth,"%)");return e={transition:this.trackTransition},Object(a["a"])(e,t,i),Object(a["a"])(e,n,o),e},showTicks:function(){return this.tickLabels.length>0||!(this.isDisabled||!this.stepNumeric||!this.ticks)},numTicks:function(){return Math.ceil((this.maxValue-this.minValue)/this.stepNumeric)},showThumbLabel:function(){return!this.isDisabled&&!(!this.thumbLabel&&!this.$scopedSlots["thumb-label"])},computedTrackColor:function(){if(!this.isDisabled)return this.trackColor?this.trackColor:this.isDark?this.validationState:this.validationState||"primary lighten-3"},computedTrackFillColor:function(){if(!this.isDisabled)return this.trackFillColor?this.trackFillColor:this.validationState||this.computedColor},computedThumbColor:function(){return this.thumbColor?this.thumbColor:this.validationState||this.computedColor}},watch:{min:function(e){var t=parseFloat(e);t>this.internalValue&&this.$emit("input",t)},max:function(e){var t=parseFloat(e);t<this.internalValue&&this.$emit("input",t)},value:{handler:function(e){this.internalValue=e}}},beforeMount:function(){this.internalValue=this.value},mounted:function(){this.app=document.querySelector("[data-app]")||Object(d["c"])("Missing v-app or a non-body wrapping element with the [data-app] attribute",this)},methods:{genDefaultSlot:function(){var e=[this.genLabel()],t=this.genSlider();return this.inverseLabel?e.unshift(t):e.push(t),e.push(this.genProgress()),e},genSlider:function(){return this.$createElement("div",{class:Object(i["a"])({"v-slider":!0,"v-slider--horizontal":!this.vertical,"v-slider--vertical":this.vertical,"v-slider--focused":this.isFocused,"v-slider--active":this.isActive,"v-slider--disabled":this.isDisabled,"v-slider--readonly":this.isReadonly},this.themeClasses),directives:[{name:"click-outside",value:this.onBlur}],on:{click:this.onSliderClick}},this.genChildren())},genChildren:function(){return[this.genInput(),this.genTrackContainer(),this.genSteps(),this.genThumbContainer(this.internalValue,this.inputWidth,this.isActive,this.isFocused,this.onThumbMouseDown,this.onFocus,this.onBlur)]},genInput:function(){return this.$createElement("input",{attrs:Object(i["a"])({value:this.internalValue,id:this.computedId,disabled:!0,readonly:!0,tabindex:-1},this.$attrs)})},genTrackContainer:function(){var e=[this.$createElement("div",this.setBackgroundColor(this.computedTrackColor,{staticClass:"v-slider__track-background",style:this.trackStyles})),this.$createElement("div",this.setBackgroundColor(this.computedTrackFillColor,{staticClass:"v-slider__track-fill",style:this.trackFillStyles}))];return this.$createElement("div",{staticClass:"v-slider__track-container",ref:"track"},e)},genSteps:function(){var e=this;if(!this.step||!this.showTicks)return null;var t=parseFloat(this.tickSize),n=Object(u["h"])(this.numTicks+1),i=this.vertical?"bottom":this.$vuetify.rtl?"right":"left",o=this.vertical?this.$vuetify.rtl?"left":"right":"top";this.vertical&&n.reverse();var r=n.map((function(n){var r,s=[];e.tickLabels[n]&&s.push(e.$createElement("div",{staticClass:"v-slider__tick-label"},e.tickLabels[n]));var l=n*(100/e.numTicks),c=e.$vuetify.rtl?100-e.inputWidth<l:l<e.inputWidth;return e.$createElement("span",{key:n,staticClass:"v-slider__tick",class:{"v-slider__tick--filled":c},style:(r={width:"".concat(t,"px"),height:"".concat(t,"px")},Object(a["a"])(r,i,"calc(".concat(l,"% - ").concat(t/2,"px)")),Object(a["a"])(r,o,"calc(50% - ".concat(t/2,"px)")),r)},s)}));return this.$createElement("div",{staticClass:"v-slider__ticks-container",class:{"v-slider__ticks-container--always-show":"always"===this.ticks||this.tickLabels.length>0}},r)},genThumbContainer:function(e,t,n,a,o,r,s){var l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"thumb",c=[this.genThumb()],u=this.genThumbLabelContent(e);return this.showThumbLabel&&c.push(this.genThumbLabel(u)),this.$createElement("div",this.setTextColor(this.computedThumbColor,{ref:l,key:l,staticClass:"v-slider__thumb-container",class:{"v-slider__thumb-container--active":n,"v-slider__thumb-container--focused":a,"v-slider__thumb-container--show-label":this.showThumbLabel},style:this.getThumbContainerStyles(t),attrs:Object(i["a"])({role:"slider",tabindex:this.isDisabled?-1:this.$attrs.tabindex?this.$attrs.tabindex:0,"aria-label":this.label,"aria-valuemin":this.min,"aria-valuemax":this.max,"aria-valuenow":this.internalValue,"aria-readonly":String(this.isReadonly),"aria-orientation":this.vertical?"vertical":"horizontal"},this.$attrs),on:{focus:r,blur:s,keydown:this.onKeyDown,keyup:this.onKeyUp,touchstart:o,mousedown:o}}),c)},genThumbLabelContent:function(e){return this.$scopedSlots["thumb-label"]?this.$scopedSlots["thumb-label"]({value:e}):[this.$createElement("span",[String(e)])]},genThumbLabel:function(e){var t=Object(u["g"])(this.thumbSize),n=this.vertical?"translateY(20%) translateY(".concat(Number(this.thumbSize)/3-1,"px) translateX(55%) rotate(135deg)"):"translateY(-20%) translateY(-12px) translateX(-50%) rotate(45deg)";return this.$createElement(r["e"],{props:{origin:"bottom center"}},[this.$createElement("div",{staticClass:"v-slider__thumb-label-container",directives:[{name:"show",value:this.isFocused||this.isActive||"always"===this.thumbLabel}]},[this.$createElement("div",this.setBackgroundColor(this.computedThumbColor,{staticClass:"v-slider__thumb-label",style:{height:t,width:t,transform:n}}),[this.$createElement("div",e)])])])},genThumb:function(){return this.$createElement("div",this.setBackgroundColor(this.computedThumbColor,{staticClass:"v-slider__thumb"}))},getThumbContainerStyles:function(e){var t=this.vertical?"top":"left",n=this.$vuetify.rtl?100-e:e;return n=this.vertical?100-n:n,Object(a["a"])({transition:this.trackTransition},t,"".concat(n,"%"))},onThumbMouseDown:function(e){e.preventDefault(),this.oldValue=this.internalValue,this.keyPressed=2,this.isActive=!0;var t=!u["C"]||{passive:!0,capture:!0},n=!!u["C"]&&{passive:!0};"touches"in e?(this.app.addEventListener("touchmove",this.onMouseMove,n),Object(u["a"])(this.app,"touchend",this.onSliderMouseUp,t)):(this.app.addEventListener("mousemove",this.onMouseMove,n),Object(u["a"])(this.app,"mouseup",this.onSliderMouseUp,t)),this.$emit("start",this.internalValue)},onSliderMouseUp:function(e){e.stopPropagation(),this.keyPressed=0;var t=!!u["C"]&&{passive:!0};this.app.removeEventListener("touchmove",this.onMouseMove,t),this.app.removeEventListener("mousemove",this.onMouseMove,t),this.$emit("mouseup",e),this.$emit("end",this.internalValue),Object(u["j"])(this.oldValue,this.internalValue)||(this.$emit("change",this.internalValue),this.noClick=!0),this.isActive=!1},onMouseMove:function(e){var t=this.parseMouseMove(e),n=t.value;this.internalValue=n},onKeyDown:function(e){if(this.isInteractive){var t=this.parseKeyDown(e,this.internalValue);null==t||t<this.minValue||t>this.maxValue||(this.internalValue=t,this.$emit("change",t))}},onKeyUp:function(){this.keyPressed=0},onSliderClick:function(e){if(this.noClick)this.noClick=!1;else{var t=this.$refs.thumb;t.focus(),this.onMouseMove(e),this.$emit("change",this.internalValue)}},onBlur:function(e){this.isFocused=!1,this.$emit("blur",e)},onFocus:function(e){this.isFocused=!0,this.$emit("focus",e)},parseMouseMove:function(e){var t=this.vertical?"top":"left",n=this.vertical?"height":"width",a=this.vertical?"clientY":"clientX",i=this.$refs.track.getBoundingClientRect(),o=i[t],r=i[n],s="touches"in e?e.touches[0][a]:e[a],l=Math.min(Math.max((s-o)/r,0),1)||0;this.vertical&&(l=1-l),this.$vuetify.rtl&&(l=1-l);var c=s>=o&&s<=o+r,u=parseFloat(this.min)+l*(this.maxValue-this.minValue);return{value:u,isInsideTrack:c}},parseKeyDown:function(e,t){if(this.isInteractive){var n=u["y"].pageup,a=u["y"].pagedown,i=u["y"].end,o=u["y"].home,r=u["y"].left,s=u["y"].right,l=u["y"].down,c=u["y"].up;if([n,a,i,o,r,s,l,c].includes(e.keyCode)){e.preventDefault();var d=this.stepNumeric||1,p=(this.maxValue-this.minValue)/d;if([r,s,l,c].includes(e.keyCode)){this.keyPressed+=1;var m=this.$vuetify.rtl?[r,c]:[s,c],h=m.includes(e.keyCode)?1:-1,f=e.shiftKey?3:e.ctrlKey?2:1;t+=h*d*f}else if(e.keyCode===o)t=this.minValue;else if(e.keyCode===i)t=this.maxValue;else{var v=e.keyCode===a?1:-1;t-=v*d*(p>100?p/10:10)}return t}}},roundValue:function(e){if(!this.stepNumeric)return e;var t=this.step.toString().trim(),n=t.indexOf(".")>-1?t.length-t.indexOf(".")-1:0,a=this.minValue%this.stepNumeric,i=Math.round((e-a)/this.stepNumeric)*this.stepNumeric+a;return parseFloat(Math.min(i,this.maxValue).toFixed(n))}}})},c197:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.divClass},[n("v-img",{class:e.imgClass,attrs:{src:"/svg/three-dots.svg",height:e.height,contain:""}}),n("h3",{staticClass:"text-center grey--text",domProps:{textContent:e._s(e.message)}})],1)},i=[],o={props:{message:{type:String,default:"Please wait. Fetching data just for you ..."},divClass:{type:String,default:"pa-12"},imgClass:{type:String,default:"my-6"},height:{type:String,default:"20"}},data:function(){return{}}},r=o,s=n("2877"),l=n("6544"),c=n.n(l),u=n("adda"),d=Object(s["a"])(r,a,i,!1,null,null,null);t["default"]=d.exports;c()(d,{VImg:u["a"]})},c1ac:function(e,t,n){"use strict";var a=n("ebb5"),i=n("b727").filter,o=n("1448"),r=a.aTypedArray,s=a.exportTypedArrayMethod;s("filter",(function(e){var t=i(r(this),e,arguments.length>1?arguments[1]:void 0);return o(this,t)}))},c715:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("vue-card-title",{attrs:{title:e.sharedData.title,subtitle:e.sharedData.subTitle,icon:"mdi-file-document-outline",dark:"",closable:""},on:{close:function(t){return e.$emit("cancel")}}}),n("v-divider"),n("v-card-text",[e.loading?n("div",[n("default-svg-loader")],1):n("div",[n("v-row",[e.showform?n("v-col",{attrs:{cols:"4"}},[n("vue-auto-complete",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{endpoint:e.endPoints.postTaskEndpoint,disabled:e.taskTemplateSelected,clearable:!1,"force-fetch":"","item-value":"slug","item-text":"name","hide-details":""},model:{value:e.postTask,callback:function(t){e.postTask=t},expression:"postTask"}},"vue-auto-complete",e.veeValidate("post_task","Select "+("postTask"===e.componentType?"Post":"Pre")+" Task"),!1))],1):e._e(),n("v-col",{staticClass:"mt-2",attrs:{cols:"6",offset:"1"}},[e.nonFieldErrors?n("non-field-form-errors",{attrs:{"non-field-errors":e.nonFieldErrors}}):e._e(),("postTask"===e.componentType&&e.taskInfo.post_task||"preTask"===e.componentType&&e.taskInfo.pre_task)&&e.taskDetails.length<1?n("div",[n("div",[e._v(" There is no Task inside this Template. Please Remove and Assign New. ")]),n("v-btn",{staticClass:"danger--text",attrs:{small:"",text:"",outlined:""},on:{click:e.removeTask}},[n("v-icon",{staticClass:"danger--text",attrs:{size:"14"},domProps:{textContent:e._s("mdi-close")}}),e._v(" Remove and Add Another ")],1)],1):e._e(),e.taskDetails.length?n("div",[n("div",{staticClass:"success--text pb-1",domProps:{textContent:e._s(("postTask"===e.componentType?"Post":"Pre")+" task successfully added Please click next to view task details.")}}),("postTask"===e.componentType&&e.taskInfo.post_task||"preTask"===e.componentType&&e.taskInfo.pre_task)&&e.taskDetails.length>0&&"postTask"===e.componentType&&"Pending"===e.taskInfo.post_task_status||"preTask"===e.componentType&&"Pending"===e.taskInfo.pre_task_status?n("v-btn",{staticClass:"danger--text",attrs:{small:"",text:"",outlined:""},on:{click:e.removeTask}},[n("v-icon",{staticClass:"danger--text",attrs:{size:"14"},domProps:{textContent:e._s("mdi-close")}}),e._v(" Remove and Add Another ")],1):e._e()],1):e._e()],1)],1),!("postTask"===e.componentType&&e.taskInfo.post_task||"preTask"===e.componentType&&e.taskInfo.pre_task)&&e.taskDetails.length<1?n("v-btn",{attrs:{text:"",small:"",depressed:"",color:"primary"},domProps:{textContent:e._s("Create Tasks")},on:{click:e.createTaskStatus}}):e._e()],1)]),n("v-divider"),n("v-card-actions",["postTask"===e.componentType?n("v-btn",{attrs:{color:"primary",depressed:""},on:{click:function(t){e.$emit("next","onBoard"===e.component?"assign-equipment":"offBoard"===e.component?e.getPreviousComponent():"changeType"===e.component?"letter-template":"","",e.componentType)}}},[n("v-icon",{domProps:{textContent:e._s("mdi-chevron-left")}}),e._v(" Previous ")],1):e._e(),n("v-spacer"),n("v-btn",{attrs:{text:""},on:{click:function(t){return e.$emit("cancel")}}},[e._v(" Cancel ")]),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.deleteNotification.dialog=!0}}},[e._v(" Skip ")]),n("v-btn",{attrs:{disabled:!e.taskDetails.length,depressed:"",color:"primary"},on:{click:function(t){return e.$emit("next","task-list","onBoard"===e.component?"":"offBoard"===e.component?"pre-active":"",e.componentType)}}},[e._v(" Next "),n("v-icon",{domProps:{textContent:e._s("mdi-chevron-right")}})],1)],1),n("vue-dialog",{attrs:{notify:e.deleteNotification},on:{close:function(t){e.deleteNotification.dialog=!1},agree:e.skipPostTask}})],1)},i=[],o=n("1da1"),r=(n("96cf"),n("99af"),n("d3b7"),n("caad"),n("5660")),s=n("f12b"),l=n("0116"),c=n("5615"),u=n("c197"),d=n("afa9"),p=n("99d6"),m={name:"TaskForm",components:{VueAutoComplete:r["default"],DefaultSvgLoader:u["default"]},mixins:[s["a"]],props:{employmentDetails:{type:Object,default:function(){return{}}},component:{type:String,required:!0},componentType:{type:String,required:!0}},data:function(){return{sharedData:{},endPoints:{},deleteNotification:{dialog:!1,heading:"Confirm Your Action",subheading:"You are about to skip ".concat("postTask"===this.componentType?"Post":"Pre"," task."),text:"Are you sure you want to skip ".concat("postTask"===this.componentType?"Post":"Pre"," Task?")},postTask:"",taskInfo:{postTask:""},taskDetails:[],loading:!1,taskTemplateSelected:!1,showform:!0}},watch:{"deleteNotification.dialog":function(e){this.showform=!e}},created:function(){this.initializeUrl(),this.fetchTaskInfo(),("postTask"===this.componentType&&null!=this.employmentDetails.post_task||"preTask"===this.componentType&&null!=this.employmentDetails.pre_task)&&this.checkTask()},methods:{initializeUrl:function(){"onBoard"===this.component?(this.sharedData.title="List of ".concat("postTask"===this.componentType?"Post-Task":"Pre-Task"," to onboard ").concat(this.employmentDetails.full_name),this.sharedData.subTitle="List of ".concat("postTask"===this.componentType?"Post-Task":"Pre-Task"," ."),"postTask"===this.componentType?this.endPoints.checkTaskEndPoint=c["a"].getPostTasks(this.getOrganizationSlug,this.employmentDetails.id):"preTask"===this.componentType&&(this.endPoints.checkTaskEndPoint=c["a"].getPreTasks(this.getOrganizationSlug,this.employmentDetails.id)),this.endPoints.postTaskEndpoint=l["a"].getTaskTemplate(this.getOrganizationSlug)+"?type=on",this.endPoints.fetchTaskEndPoint=c["a"].getPreEmploymentDetail(this.getOrganizationSlug,this.employmentDetails.id),this.endPoints.skipRemoveCreatePreTaskEndPoint=c["a"].updatePreEmployment(this.getOrganizationSlug,this.employmentDetails.id)):"offBoard"===this.component?(this.sharedData.title="List of ".concat("postTask"===this.componentType?"Post-Task":"Pre-Task"," to offboard ").concat(this.employmentDetails.employee.full_name),this.sharedData.subTitle="List of ".concat("postTask"===this.componentType?"Post-Task":"Pre-Task"," to offboard."),this.endPoints.postTaskEndpoint=l["a"].getTaskTemplate(this.getOrganizationSlug)+"?type=off","postTask"===this.componentType?this.endPoints.checkTaskEndPoint=d["a"].getPostTasks(this.getOrganizationSlug,this.employmentDetails.id):this.endPoints.checkTaskEndPoint=d["a"].getPreTasks(this.getOrganizationSlug,this.employmentDetails.id),this.endPoints.fetchTaskEndPoint=d["a"].getIndividualSeparation(this.getOrganizationSlug,this.employmentDetails.id),this.endPoints.skipRemoveCreatePreTaskEndPoint=d["a"].updateSeparationDetails(this.getOrganizationSlug,this.employmentDetails.id)):"changeType"===this.component&&(this.sharedData.title="List of ".concat("postTask"===this.componentType?"Post-Task":"Pre-Task"," to change type ").concat(this.employmentDetails.employee.full_name),this.sharedData.subTitle="List of ".concat("postTask"===this.componentType?"Post-Task":"Pre-Task"," to change type."),this.endPoints.postTaskEndpoint=l["a"].getTaskTemplate(this.getOrganizationSlug)+"?type=change","preTask"===this.componentType?this.endPoints.checkTaskEndPoint=p["a"].getIndividualEmployementReviewPreTask(this.getOrganizationSlug,this.employmentDetails.id):this.endPoints.checkTaskEndPoint=p["a"].getIndividualEmployementReviewPostTask(this.getOrganizationSlug,this.employmentDetails.id),this.endPoints.fetchTaskEndPoint=p["a"].getChangeTypeDetails(this.getOrganizationSlug,this.employmentDetails.id),this.endPoints.skipRemoveCreatePreTaskEndPoint=p["a"].getChangeTypeDetails(this.getOrganizationSlug,this.employmentDetails.id))},fetchTaskInfo:function(){var e=this;this.taskInfo={},this.getData(this.endPoints.fetchTaskEndPoint).then((function(t){e.taskInfo=t,"postTask"===e.componentType?e.postTask=t.post_task||"":e.postTask=t.pre_task||"",e.postTask&&(e.taskTemplateSelected=!0)}))},checkTask:function(){var e=this;this.getData(this.endPoints.checkTaskEndPoint).then((function(t){e.taskDetails=t.results||[]}))},createTaskStatus:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n={},"postTask"===e.componentType?(n.post_task=e.postTask,n.status="post-active"):"preTask"===e.componentType&&(n.pre_task=e.postTask),"preTask"!==e.componentType&&"active"!==e.employmentDetails.status&&"accepted"!==e.employmentDetails.status&&"pre-active"!==e.employmentDetails.status||(n.status="pre-active"),t.t0=e.postTask,!t.t0){t.next=8;break}return t.next=7,e.validateAllFields();case 7:t.t0=t.sent;case 8:if(!t.t0){t.next=13;break}e.clearNonFieldErrors(),e.patchData(e.endPoints.skipRemoveCreatePreTaskEndPoint,n).then((function(t){"postTask"===e.componentType&&t.post_task||"preTask"===e.componentType&&t.pre_task?(e.$emit("postTask"===e.componentType?"post-task-added":"pre-task-added","postTask"===e.componentType?t.post_task:t.pre_task,"offBoard"===e.component?"":"onBoard"===e.component?"postTask"===e.componentType?"post-active":"pre-active":""),e.taskTemplateSelected=!0):e.notifyInvalidFormResponse(),e.fetchTaskInfo(),e.checkTask()})),t.next=14;break;case 13:e.notifyUser("Please select ".concat("postTask"===e.componentType?"Post":"Pre"," Task Template."),"red");case 14:case"end":return t.stop()}}),t)})))()},removeTask:function(){var e=this,t={};"postTask"===this.componentType?t="onBoard"===this.component?{post_task:"",status:"letters-generated"}:"offBoard"===this.component?{status:"payroll-reviewed",post_task:""}:{post_task:""}:"preTask"===this.componentType&&(t.pre_task="",t.status="active"),this.patchData(this.endPoints.skipRemoveCreatePreTaskEndPoint,t).then((function(){e.$emit("postTask"===e.componentType?"post-task-added":"pre-task-added",null),e.taskTemplateSelected=!1,e.taskDetails=[],e.postTask="",e.fetchTaskInfo()}))},skipPostTask:function(){var e=this;if("postTask"===this.componentType){var t={post_task:"",status:"completed"};"changeType"===this.component&&(t.status="post-completed"),this.patchData(this.endPoints.skipRemoveCreatePreTaskEndPoint,t).then((function(){e.fetchTaskInfo(),e.$emit("cancel")})).finally((function(){e.deleteNotification.dialog=!1}))}else if("preTask"===this.componentType)if(["pre-completed","active","accepted","pre-active"].includes(this.employmentDetails.status)){var n={pre_task:"",status:"pre-completed"};this.patchData(this.endPoints.skipRemoveCreatePreTaskEndPoint,n).then((function(t){e.fetchTaskInfo(),e.deleteNotification.dialog=!1,e.employmentDetails&&!e.employmentDetails.employee?e.$emit("next","add-employee-form","pre-completed",e.componentType):e.$emit("next","changeType"===e.component?"experience-list":"letter-template",t.status,"",e.componentType)}))}else this.$emit("next","onBoard"===this.component?"assign-supervisor-form":"offBoard"===this.component?"letter-template":"changeType"===this.component?"experience-list":"","",this.componentType)},getPreviousComponent:function(){return this.employmentDetails.exit_interview?"exit-interview-details":"exit-interview"}}},h=m,f=n("2877"),v=n("6544"),g=n.n(v),y=n("8336"),b=n("b0af"),_=n("99d9"),k=n("62ad"),x=n("ce7e"),w=n("132d"),C=n("0fd9b"),T=n("2fa4"),D=Object(f["a"])(h,a,i,!1,null,null,null);t["a"]=D.exports;g()(D,{VBtn:y["a"],VCard:b["a"],VCardActions:_["a"],VCardText:_["c"],VCol:k["a"],VDivider:x["a"],VIcon:w["a"],VRow:C["a"],VSpacer:T["a"]})},ca91:function(e,t,n){"use strict";var a=n("ebb5"),i=n("d58f").left,o=a.aTypedArray,r=a.exportTypedArrayMethod;r("reduce",(function(e){return i(o(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}))},cd26:function(e,t,n){"use strict";var a=n("ebb5"),i=a.aTypedArray,o=a.exportTypedArrayMethod,r=Math.floor;o("reverse",(function(){var e,t=this,n=i(t).length,a=r(n/2),o=0;while(o<a)e=t[o],t[o++]=t[--n],t[n]=e;return t}))},cde3:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"download-only"},e._l(e.users,(function(t,a){return n("v-chip",{key:a,staticClass:"ma-1",attrs:{small:"",label:""}},[e._v(" "+e._s(t.full_name)+" ")])})),1),n("v-row",{staticClass:"download-hidden",attrs:{"no-gutters":""}},[e.users&&!e.users.length?n("div",[n("v-col",{staticClass:"ma-0 pa-0"},[n("v-avatar",{staticClass:"mr-1",attrs:{size:"20"}},[n("v-img",{attrs:{src:"/images/info/user-default.png"}})],1),n("span",{staticClass:"grey--text text-caption"},[e._v("No Employee")])],1)],1):e._l(e.users.slice(0,3),(function(t,a){return n("div",{key:a,staticClass:"text-left"},[n("v-badge",{attrs:{dot:"",right:"",bottom:"",overlap:"","offset-y":"5",color:t.user&&t.user.is_online?"green":"transparent"}},[n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(a){var i=a.on;return[n("a",[n("v-avatar",e._g({staticClass:"mr-n1",attrs:{size:e.imgSize}},i),[n("v-img",{attrs:{height:e.imgSize,width:e.imgSize,src:t.profile_picture||t.user.profile_picture},on:{click:e.showMore}})],1)],1)]}}],null,!0)},[n("span",{domProps:{textContent:e._s(t.full_name||t.user.full_name)}}),t[e.type]?n("span",[e._v(" : "),n("span",{domProps:{textContent:e._s(t[e.type])}})]):e._e()])],1)],1)})),e.users&&e.users.length&&e.totalUsers>3?n("div",[n("v-col",{staticClass:"pl-2 py-0 text-subtitle-1"},[n("a",{on:{click:e.showMore}},[e._v(" +"+e._s(parseInt(e.totalUsers)-3)+" ")])])],1):e._e()],2)],1)},i=[],o=(n("a9e3"),{name:"ThumbnailUsers",props:{users:{type:Array,default:function(){return[]}},totalUsers:{type:Number,required:!0},type:{type:String,default:""},imgSize:{type:[String,Number],default:22}},watch:{users:function(e){this.users=e}},methods:{showMore:function(){this.users&&0===this.users.length||this.$emit("showMore")}}}),r=o,s=(n("2ab5"),n("2877")),l=n("6544"),c=n.n(l),u=n("8212"),d=n("4ca6"),p=n("cc20"),m=n("62ad"),h=n("adda"),f=n("0fd9b"),v=n("3a2f"),g=Object(s["a"])(r,a,i,!1,null,"51021d54",null);t["default"]=g.exports;c()(g,{VAvatar:u["a"],VBadge:d["a"],VChip:p["a"],VCol:m["a"],VImg:h["a"],VRow:f["a"],VTooltip:v["a"]})},ce87:function(e,t,n){"use strict";var a=n("16b7"),i=n("f2e7"),o=n("58df"),r=n("d9bd");t["a"]=Object(o["a"])(a["a"],i["a"]).extend({name:"v-hover",props:{disabled:{type:Boolean,default:!1},value:{type:Boolean,default:void 0}},methods:{onMouseEnter:function(){this.runDelay("open")},onMouseLeave:function(){this.runDelay("close")}},render:function(){return this.$scopedSlots.default||void 0!==this.value?(this.$scopedSlots.default&&(e=this.$scopedSlots.default({hover:this.isActive})),Array.isArray(e)&&1===e.length&&(e=e[0]),e&&!Array.isArray(e)&&e.tag?(this.disabled||(e.data=e.data||{},this._g(e.data,{mouseenter:this.onMouseEnter,mouseleave:this.onMouseLeave})),e):(Object(r["c"])("v-hover should only contain a single element",this),e)):(Object(r["c"])("v-hover is missing a default scopedSlot or bound value",this),null);var e}})},d139:function(e,t,n){"use strict";var a=n("ebb5"),i=n("b727").find,o=a.aTypedArray,r=a.exportTypedArrayMethod;r("find",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)}))},d242:function(e,t,n){"use strict";var a=n("1da1"),i=n("5530"),o=(n("96cf"),n("d3b7"),n("3ca3"),n("ddb0"),n("caad"),n("159b"),n("99af"),n("b0c0"),n("7db0"),n("fb6a"),n("2f62")),r=n("f1d0"),s=n("1f04"),l=n("cf45");t["a"]={data:function(){return{orgInfo:null,serverTime:null,downloading:!1}},methods:Object(i["a"])(Object(i["a"])({},Object(o["d"])({setSnackBar:"common/setSnackBar"})),{},{downloadPdf:function(e){var t=arguments,i=this;return Object(a["a"])(regeneratorRuntime.mark((function o(){var r,c,u,d,p,m,h;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(r=t.length>1&&void 0!==t[1]?t[1]:"p",c=t.length>2?t[2]:void 0,u=t.length>3&&void 0!==t[3]?t[3]:35,d=t.length>4&&void 0!==t[4]?t[4]:1245,p=t.length>5&&void 0!==t[5]?t[5]:1475,e.$el&&(e=e.$el),!i.loading){o.next=8;break}return o.abrupt("return");case 8:return scroll(0,0),o.prev=9,i.loading=!0,i.downloading=!0,i.setSnackBar({text:"File Downloading. Please wait...",color:"info",persist:!0}),o.next=15,i.loadOrganizationInfo();case 15:m=0,h=0,"l"===r&&(m=805,h=86),setTimeout(Object(a["a"])(regeneratorRuntime.mark((function t(){var o,f,v,g,y,b;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o=e.getBoundingClientRect().top,f=e.getBoundingClientRect().left,v=e.offsetHeight+parseInt(getComputedStyle(e).marginTop),g=[],y=document.getElementsByClassName("download-only"),b=document.getElementsByClassName("download-hidden"),t.next=8,n.e("chunk-2d216257").then(n.t.bind(null,"c0e9",7)).then(function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(n){var i,r,s,l,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:i=n.default;case 1:if(!(v>=40)){t.next=8;break}for(r=0;r<y.length;r++)y[r].style.display="block";for(s=0;s<b.length;s++)b[s].style.display="none";return t.next=6,i(e,{x:f-u,y:o,width:d,height:p-m,type:"dataURL",scale:2,useCORS:!0,windowWidth:1300}).then(function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:g.push(t.toDataURL("image/png")),v-=p-m,o+=p-m;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:t.next=1;break;case 8:for(l=0;l<y.length;l++)y[l].style.display="none";for(c=0;c<b.length;c++)b[c].style.display="";case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 8:n.e("chunk-e0378ed4").then(n.bind(null,"8baf")).then(function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,a,o,u,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.default,a=new n(r,"mm"),!["manualtesting","development"].includes(Object(l["f"])("VUE_APP_ENV"))){e.next=8;break}return e.next=5,Object(s["b"])("https://i.imgur.com/fHyEMsl.jpg");case 5:o=e.sent,e.next=11;break;case 8:return e.next=10,Object(s["b"])(i.orgInfo.logo);case 10:o=e.sent;case 11:u=210+h,d=32,g.forEach((function(e,t){t>0&&a.addPage(),a.addImage(e,"PNG",0,d,u,0,void 0,"FAST"),i.setHeaderAndFooter(t,a,o,g.length,r)})),a.save(c||"file.pdf"),i.loading=!1,i.setSnackBar({text:"",color:"",display:!1,error:!1});case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 9:case"end":return t.stop()}}),t)}))),500),o.next=27;break;case 21:o.prev=21,o.t0=o["catch"](9),console.error("Error while downloading pdf",o.t0),i.setSnackBar({text:"Your request was not successful.",color:"red"}),i.loading=!1,i.downloading=!1;case 27:case"end":return o.stop()}}),o,null,[[9,21]])})))()},setHeaderAndFooter:function(e,t,n,a,i){var o=0,r=0;"l"===i&&(o=2.5,r=84);var s=e+1,l=t.internal.pageSize.getWidth(),c=t.internal.pageSize.getHeight(),u=this.serverTime,d="Page ".concat(s," of ").concat(a);t.setPage(s),t.setFont("Helvetica","normal"),t.setLineWidth(.2),t.setDrawColor(150),t.line(7.5+o,27,203+r,27),t.line(7.5+o,c-12,203+r,c-12),t.setTextColor(150),t.setFontSize(8),t.text(d,7.5+o,c-7),t.text(u,l-8-o,c-7,{align:"right"});var p=this.orgInfo.address?this.orgInfo.address+",":"",m=this.orgInfo.phone_no?"Tel: ".concat(this.orgInfo.phone_no):"";t.text("".concat(p," ").concat(m),l-8-o,17,{align:"right"});var h=this.orgInfo.email?this.orgInfo.email+",":"",f=this.orgInfo.website||"";t.text("".concat(h," ").concat(f),l-8-o,21,{align:"right"}),t.setTextColor(100),t.setFontSize(14),t.setFont("Helvetica","bold"),t.text("".concat(this.orgInfo.name),l-8-o,13,{align:"right"}),t.addImage(n,"JPEG",7.5+o,7,18,18,void 0,"FAST")},loadOrganizationInfo:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.getOrganizationSlug,a=JSON.parse(localStorage.getItem("org-info"))||[],!(a.length>0&&a.some((function(e){return e.slug===n})))){t.next=6;break}e.orgInfo=a.find((function(e){return e.slug===n})),t.next=8;break;case 6:return t.next=8,e.$http.get(r["a"].getOrganization(n)).then((function(t){var n=t.name,i=t.slug,o=t.appearance.logo,r=t.address?t.address.address:"",s=t.email,l=t.contacts.Phone,c=t.website,u={name:n,slug:i,logo:o,address:r,email:s,phone_no:l,website:c};a.push(u),localStorage.setItem("org-info",JSON.stringify(a)),e.orgInfo=u}));case 8:return t.next=10,e.$http.get("server-info/?fields=server_time").then((function(t){var n=t.server_time;n=n.slice(0,-6),e.serverTime=e.$dayjs(n).format("YYYY-MM-DD HH:mm:ss A")}));case 10:case"end":return t.stop()}}),t)})))()}})}},d461:function(e,t,n){"use strict";n("2ffe")},d58f:function(e,t,n){var a=n("1c0b"),i=n("7b0b"),o=n("44ad"),r=n("50c4"),s=function(e){return function(t,n,s,l){a(n);var c=i(t),u=o(c),d=r(c.length),p=e?d-1:0,m=e?-1:1;if(s<2)while(1){if(p in u){l=u[p],p+=m;break}if(p+=m,e?p<0:d<=p)throw TypeError("Reduce of empty array with no initial value")}for(;e?p>=0:d>p;p+=m)p in u&&(l=n(l,u[p],p,c));return l}};e.exports={left:s(!1),right:s(!0)}},d5d6:function(e,t,n){"use strict";var a=n("ebb5"),i=n("b727").forEach,o=a.aTypedArray,r=a.exportTypedArrayMethod;r("forEach",(function(e){i(o(this),e,arguments.length>1?arguments[1]:void 0)}))},d772:function(e,t,n){"use strict";t["a"]={getPackage:"/payroll/packages/",postPackage:function(){return"/payroll/packages/"},clonePackage:function(e){return"/payroll/".concat(e,"/packages/clone/")},getPackageVariables:"/payroll/package-headings/get_variables/",getPackageById:function(e){return"/payroll/packages/".concat(e,"/")},getBasicPackageById:function(e){return"/payroll/packages/".concat(e,"/basic-view/")},updatePackageById:function(e){return"/payroll/packages/".concat(e,"/")},createPackageHeadingById:"/payroll/package-headings/",getPackageHeadingById:function(e){return"/payroll/package-headings/".concat(e,"/")},updatePackageHeadingById:function(e){return"/payroll/package-headings/".concat(e,"/")}}},dc7f:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("form",[n("v-col",[n("v-row",[n("v-col",{attrs:{md:"6",cols:"12"}},[n("vue-date-picker",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],model:{value:e.formValues.joined_date,callback:function(t){e.$set(e.formValues,"joined_date",t)},expression:"formValues.joined_date"}},"vue-date-picker",e.veeValidate("joined_date","Joined Date *"),!1))],1),n("v-col",{attrs:{md:"6",cols:"12"}},[n("vue-auto-complete",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{endpoint:e.jobTitleEndpoint,"prepend-inner-icon":"mdi-briefcase-account-outline","item-text":"title","item-value":"slug"},model:{value:e.formValues.job_title,callback:function(t){e.$set(e.formValues,"job_title",t)},expression:"formValues.job_title"}},"vue-auto-complete",e.veeValidate("job_title","Job Title *"),!1),[e.isOnBoardAdd?n("v-btn",{staticClass:"mt-4",attrs:{icon:""},on:{click:function(t){(e.formDialog=!0)&&(e.activeAutoCompleteForm="JobTitle")}}},[n("v-icon",{attrs:{color:"blue"},domProps:{textContent:e._s("mdi-plus-box")}})],1):e._e()],1)],1),n("v-col",{attrs:{md:"6",cols:"12"}},[n("vue-auto-complete",e._b({attrs:{endpoint:e.branchEndpoint,params:{is_archived:!1},"prepend-inner-icon":"mdi-source-branch","item-text":"name","item-value":"slug"},model:{value:e.formValues.branch,callback:function(t){e.$set(e.formValues,"branch",t)},expression:"formValues.branch"}},"vue-auto-complete",e.veeValidate("branch","Branch"),!1),[e.isOnBoardAdd?n("v-btn",{staticClass:"mt-4",attrs:{icon:""},on:{click:function(t){(e.formDialog=!0)&&(e.activeAutoCompleteForm="Branch")}}},[n("v-icon",{attrs:{color:"blue"},domProps:{textContent:e._s("mdi-plus-box")}})],1):e._e()],1)],1),n("v-col",{attrs:{md:"6",cols:"12"}},[n("vue-auto-complete",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{endpoint:e.divisionEndpoint,params:{is_archived:!1},"prepend-inner-icon":"mdi-source-branch","item-text":"name","item-value":"slug"},model:{value:e.formValues.division,callback:function(t){e.$set(e.formValues,"division",t)},expression:"formValues.division"}},"vue-auto-complete",e.veeValidate("division","Division *"),!1),[e.isOnBoardAdd?n("v-btn",{staticClass:"mt-4",attrs:{icon:""},on:{click:function(t){(e.formDialog=!0)&&(e.activeAutoCompleteForm="Division")}}},[n("v-icon",{attrs:{color:"blue"},domProps:{textContent:e._s("mdi-plus-box")}})],1):e._e()],1)],1),n("v-col",{attrs:{md:"6",cols:"12"}},[n("vue-auto-complete",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{endpoint:e.employeeLevelEndpoint,params:{is_archived:!1},"selected-full-data":e.selectedEmploymentLevel,"prepend-inner-icon":"mdi-account-outline","item-text":"title","item-value":"slug"},on:{"update:selectedFullData":function(t){e.selectedEmploymentLevel=t},"update:selected-full-data":function(t){e.selectedEmploymentLevel=t}},model:{value:e.formValues.employmentLevel,callback:function(t){e.$set(e.formValues,"employmentLevel",t)},expression:"formValues.employmentLevel"}},"vue-auto-complete",e.veeValidate("employment_level","Employment Level *"),!1),[e.isOnBoardAdd?n("v-btn",{staticClass:"mt-4",attrs:{icon:""},on:{click:function(t){(e.formDialog=!0)&&(e.activeAutoCompleteForm="EmploymentLevel")}}},[n("v-icon",{attrs:{color:"blue"},domProps:{textContent:e._s("mdi-plus-box")}})],1):e._e()],1)],1),n("v-col",{attrs:{md:"6",cols:"12"}},[n("vue-auto-complete",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{endpoint:e.employmentTypeEndpoint,params:{is_archived:!1},"selected-full-data":e.selectedEmploymentType,"prepend-inner-icon":"mdi-briefcase-account-outline","item-text":"title","item-value":"slug"},on:{"update:selectedFullData":function(t){e.selectedEmploymentType=t},"update:selected-full-data":function(t){e.selectedEmploymentType=t}},model:{value:e.formValues.employmentType,callback:function(t){e.$set(e.formValues,"employmentType",t)},expression:"formValues.employmentType"}},"vue-auto-complete",e.veeValidate("employee_status","Employment Type *"),!1),[e.isOnBoardAdd?n("v-btn",{staticClass:"mt-4",attrs:{icon:""},on:{click:function(t){(e.formDialog=!0)&&(e.activeAutoCompleteForm="EmploymentType")}}},[n("v-icon",{attrs:{color:"blue"},domProps:{textContent:e._s("mdi-plus-box")}})],1):e._e()],1)],1),n("v-col",{attrs:{md:"6",cols:"12"}},[n("vue-date-picker",e._b({directives:[{name:"validate",rawName:"v-validate",value:{required:!0,mustBeAfterJoinedDate:e.formValues.joined_date},expression:"{\n            required: true,\n            mustBeAfterJoinedDate: formValues.joined_date\n          }"}],model:{value:e.formValues.start_date,callback:function(t){e.$set(e.formValues,"start_date",t)},expression:"formValues.start_date"}},"vue-date-picker",e.veeValidate("startDate","Experience Start Date *"),!1))],1),n("v-col",{attrs:{md:"6",cols:"12"}},[n("vue-date-picker",e._b({directives:[{name:"validate",rawName:"v-validate",value:{required:e.selectedEmploymentType.is_contract,mustBeAfterFromYear:e.formValues.start_date,mustBeCurrent:e.formValues.end_date},expression:"{\n            required: selectedEmploymentType.is_contract,\n            mustBeAfterFromYear: formValues.start_date,\n            mustBeCurrent: formValues.end_date\n          }"}],model:{value:e.formValues.end_date,callback:function(t){e.$set(e.formValues,"end_date",t)},expression:"formValues.end_date"}},"vue-date-picker",e.veeValidate("end_date",e.selectedEmploymentType.is_contract?"Experience End Date *":"Experience End Date"),!1))],1),n("v-col",{attrs:{md:"6",cols:"12"}},[n("vue-users-auto-complete",e._b({attrs:{params:{division:e.formValues.division}},model:{value:e.formValues.replacing,callback:function(t){e.$set(e.formValues,"replacing",t)},expression:"formValues.replacing"}},"vue-users-auto-complete",e.veeValidate("replacing","Replacing"),!1))],1),n("v-col",{attrs:{md:"6",cols:"12"}},[n("vue-auto-complete",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{endpoint:e.changeTypeEndpoint,"item-text":"title","prepend-inner-icon":"mdi-inbox-arrow-up","item-value":"slug"},model:{value:e.formValues.change_type,callback:function(t){e.$set(e.formValues,"change_type",t)},expression:"formValues.change_type"}},"vue-auto-complete",e.veeValidate("change_type","Title Change Type *"),!1),[e.isOnBoardAdd?n("v-btn",{staticClass:"mt-4",attrs:{icon:""},on:{click:function(t){(e.formDialog=!0)&&(e.activeAutoCompleteForm="ChangeType")}}},[n("v-icon",{attrs:{color:"blue"},domProps:{textContent:e._s("mdi-plus-box")}})],1):e._e()],1)],1),n("v-col",{attrs:{md:"6",cols:"12"}},[n("vue-auto-complete",{attrs:{endpoint:e.hiringMethodEndPoint,label:"Hiring method","force-fetch":"","item-text":"name","item-value":"id","prepend-inner-icon":"mdi-file-document"},model:{value:e.formValues.new_hiring_method,callback:function(t){e.$set(e.formValues,"new_hiring_method",t)},expression:"formValues.new_hiring_method"}})],1),n("v-col",{attrs:{md:"6",cols:"12"}},[n("v-slider",e._b({directives:[{name:"validate",rawName:"v-validate",value:"",expression:"''"}],attrs:{max:e.get(e.selectedEmploymentLevel,"scale_max")||100,min:"0","persistent-hint":"","data-vv-validate-on":"input",type:"number","thumb-label":"always"},model:{value:e.formValues.current_step,callback:function(t){e.$set(e.formValues,"current_step",t)},expression:"formValues.current_step"}},"v-slider",e.veeValidate("current_step","Current Step"),!1))],1),n("v-row",[n("v-col",{attrs:{md:"12",cols:"12"}},[n("div",[n("v-icon",{attrs:{small:""},domProps:{textContent:e._s("mdi-file-document-outline")}}),e._v(" Objective ")],1),n("vue-trumbowyg",e._b({directives:[{name:"validate",rawName:"v-validate"}],attrs:{rows:2,"prepend-inner-icon":"mdi-file-document-outline"},model:{value:e.formValues.objective,callback:function(t){e.$set(e.formValues,"objective",t)},expression:"formValues.objective"}},"vue-trumbowyg",e.veeValidate("objective","Objectives"),!1))],1),n("v-col",{attrs:{md:"12",cols:"12"}},[n("div",[n("v-icon",{attrs:{small:""},domProps:{textContent:e._s("mdi-file-document-outline")}}),e._v(" Job Description ")],1),n("vue-trumbowyg",e._b({directives:[{name:"validate",rawName:"v-validate"}],attrs:{rows:2,"prepend-inner-icon":"mdi-file-document-outline"},model:{value:e.formValues.job_description,callback:function(t){e.$set(e.formValues,"job_description",t)},expression:"formValues.job_description"}},"vue-trumbowyg",e.veeValidate("job_description","Job Description"),!1))],1),n("v-col",{attrs:{md:"12",cols:"12"}},[n("div",[n("v-icon",{attrs:{small:""},domProps:{textContent:e._s("mdi-file-document-outline")}}),e._v(" Job Specification ")],1),n("vue-trumbowyg",e._b({directives:[{name:"validate",rawName:"v-validate"}],attrs:{"data-cy-variable":"job-specification",rows:2,"prepend-inner-icon":"mdi-file-document-outline"},model:{value:e.formValues.job_specification,callback:function(t){e.$set(e.formValues,"job_specification",t)},expression:"formValues.job_specification"}},"vue-trumbowyg",e.veeValidate("job_description","Job Description"),!1))],1)],1)],1)],1),n("v-divider"),n("v-card-actions",[n("v-btn",{attrs:{"data-cy":"btn-step-two-previous",depressed:"",color:"primary"},on:{click:e.previous}},[n("v-icon",{domProps:{textContent:e._s("mdi-chevron-left")}}),n("span",{domProps:{textContent:e._s("Previous")}})],1),n("v-spacer"),n("v-btn",{attrs:{"data-cy":"btn-step-two-next",depressed:"",color:"primary"},on:{click:e.next}},[n("span",{domProps:{textContent:e._s("Next")}}),n("v-icon",{domProps:{textContent:e._s("mdi-chevron-right")}})],1)],1),n("v-dialog",{attrs:{"max-width":"1000px",persistent:""},on:{keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;e.formDialog=!1}},model:{value:e.formDialog,callback:function(t){e.formDialog=t},expression:"formDialog"}},[n("v-card-title",{staticClass:"white"},[n("v-icon",{staticClass:"mr-3"},[e._v("mdi-file-edit-outline")]),n("div",[n("div",{staticClass:"text-body-1"},[e._v(" Create - "+e._s(e.activeAutoCompleteFormName)+" ")]),n("div",{staticClass:"text-caption grey--text"},[e._v(" Please fill the following form to complete your action. ")])]),n("v-spacer"),n("v-btn",{attrs:{icon:""},on:{click:function(t){e.formDialog=!1}}},[n("v-icon",{attrs:{dark:""}},[e._v("mdi-close-circle")])],1)],1),n(e.activeAutoCompleteForm,{key:e.formDialogComponentKey,tag:"component",attrs:{"active-auto-complete-form-name":e.activeAutoCompleteFormName,"org-slug":e.orgSlug},on:{dismissForm:e.closeAutoCompleteForm,"dismiss-form":e.closeAutoCompleteForm}})],1)],1)},i=[],o=n("1da1"),r=(n("96cf"),n("d3b7"),n("3ca3"),n("ddb0"),n("ac1f"),n("5319"),n("99d6")),s=n("c44a"),l=n("1229"),c=n("e59e"),u=n("7e77"),d=n("2c2a"),p=n("86eb"),m=n("ef8c"),h=n("5660"),f=n("741f"),v=n("7bb1"),g=n("13ea"),y=n.n(g),b=n("1467"),_=n("3b22"),k=function(){return n.e("chunk-2d21ee9e").then(n.bind(null,"d81e"))},x=function(){return n.e("chunk-84d7ee0c").then(n.bind(null,"cd42"))},w=function(){return n.e("chunk-5d52540d").then(n.bind(null,"c3ba"))},C=function(){return Promise.all([n.e("chunk-510d4593"),n.e("chunk-f963e174"),n.e("chunk-67ccef97")]).then(n.bind(null,"96e4"))},T=function(){return n.e("chunk-5d3cf500").then(n.bind(null,"4479"))},D=function(){return n.e("chunk-5d3b91b2").then(n.bind(null,"11a5"))};v["b"].Validator.extend("mustBeAfterJoinedDate",{getMessage:function(e){return"".concat(e," - Must be equal or greater than Joined Date.")},validate:function(e,t){var n=new Date(e),a=new Date(t);return n>=a}}),v["b"].Validator.extend("mustBeAfterFromYear",{getMessage:function(e){return"".concat(e," - Must be greater than From Year.")},validate:function(e,t){var n=new Date(e),a=new Date(t);return n>a}}),v["b"].Validator.extend("mustBeCurrent",{getMessage:function(e){return"".concat(e," - Must be greater than or equal to current date.")},validate:function(e){var t=new Date(new Date(e).toDateString()),n=new Date((new Date).toDateString());return t>=n}});var V={components:{VueUsersAutoComplete:m["default"],VueAutoComplete:h["default"],VueDatePicker:f["default"],VueTrumbowyg:b["default"],JobTitle:k,Branch:x,Division:w,EmploymentLevel:C,EmploymentType:T,ChangeType:D},mixins:[s["a"]],props:{isOnBoardAdd:{type:Boolean,default:!1},registrations:{type:Object,required:!0},preEmploymentUser:{type:Object,default:function(){return{}}}},data:function(){return{is_contract:!1,formValues:this.registrations,startDateMenu:!1,endDateMenu:!1,selectedEmploymentLevel:{scale_max:10},orgSlug:this.$route.params.slug,selectedEmploymentType:{},formDialog:!1,formDialogComponentKey:!0,activeAutoCompleteForm:"",hiringMethodEndPoint:""}},computed:{activeAutoCompleteFormName:function(){return this.activeAutoCompleteForm.replace(/([A-Z]+)/g," $1").replace(/([A-Z][a-z])/g," $1")}},watch:{"formValues.supervisor":function(e){e.length>3&&e.pop()},formDialog:function(e){e&&(this.formDialogComponentKey+=1)}},created:function(){y()(this.preEmploymentUser)||(this.formValues.joined_date=this.preEmploymentUser.date_of_join,this.formValues.job_title=this.preEmploymentUser.job_title,this.formValues.start_date=this.preEmploymentUser.date_of_join,this.formValues.end_date=this.preEmploymentUser.contract_period,this.formValues.branch=this.preEmploymentUser.branch,this.formValues.division=this.preEmploymentUser.division,this.formValues.employmentLevel=this.preEmploymentUser.employment_level,this.formValues.employmentType=this.preEmploymentUser.employment_status,this.formValues.current_step=this.preEmploymentUser.step,this.formValues.objective=this.preEmploymentUser.objective,this.formValues.job_description=this.preEmploymentUser.job_description,this.formValues.change_type=this.preEmploymentUser.change_type,this.formValues.job_specification=this.preEmploymentUser.job_specification)},beforeMount:function(){this.initializeDynamicUrls()},methods:{closeAutoCompleteForm:function(e,t){this.formDialog=!1,"employment_level"===t?this.formValues["employmentLevel"]=e:"employment_status"===t?this.formValues["employmentType"]=e:this.formValues[t]=e},next:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.validateAllFields();case 2:if(!t.sent){t.next=4;break}e.$emit("switch",3);case 4:case"end":return t.stop()}}),t)})))()},previous:function(){this.$emit("switch",1)},initializeDynamicUrls:function(){var e=this.$route.params.slug;this.jobTitleEndpoint=p["a"].getJobTitle(e),this.branchEndpoint=c["a"].getBranch(e),this.divisionEndpoint=l["a"].getDivision(e),this.employeeLevelEndpoint=d["a"].getEmploymentLevel(e),this.employmentTypeEndpoint=u["a"].getEmploymentType(e),this.changeTypeEndpoint=r["a"].getChangeType(e),this.hiringMethodEndPoint=_["a"].getPostHiringMethod+"?organization=".concat(this.getOrganizationSlug)}}},E=V,S=n("2877"),P=n("6544"),L=n.n(P),O=n("8336"),A=n("99d9"),$=n("62ad"),j=n("169a"),B=n("ce7e"),F=n("132d"),I=n("0fd9b"),N=n("ba0d"),R=n("2fa4"),M=Object(S["a"])(E,a,i,!1,null,null,null);t["a"]=M.exports;L()(M,{VBtn:O["a"],VCardActions:A["a"],VCardTitle:A["d"],VCol:$["a"],VDialog:j["a"],VDivider:B["a"],VIcon:F["a"],VRow:I["a"],VSlider:N["a"],VSpacer:R["a"]})},dee1:function(e,t,n){},e4bf:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.contextList.filter((function(e){return!e.hide})).length<3&&!e.hideIcons||e.showIcons?n("div",e._l(e.contextList,(function(t,a){return n("span",{key:a},[t.hide?e._e():n("v-tooltip",{attrs:{disabled:e.$vuetify.breakpoint.xs,top:""},scopedSlots:e._u([{key:"activator",fn:function(i){var o=i.on;return[n("v-btn",e._g({staticClass:"mx-0",attrs:{text:"",width:e.small?"18":"22",depressed:"",icon:""}},o),[n("v-icon",{attrs:{disabled:t.disabled,color:t.color,"data-cy":e.dataCyVariable+"btn-dropdown-menu-item-"+(a+1),dark:!t.disabled,small:e.small,size:"20",dense:""},domProps:{textContent:e._s(t.icon)},on:{click:function(t){return e.$emit("click"+a)}}})],1)]}}],null,!0)},[n("span",{domProps:{textContent:e._s(t.disabled&&t.disable_message||t.name)}})])],1)})),0):n("v-menu",{attrs:{"offset-y":"",left:"",transition:"slide-y-transition"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{small:"",text:"",icon:""}},a),[n("v-icon",{attrs:{"data-cy":"btn-dropdown-menu"},domProps:{textContent:e._s("mdi-dots-vertical")}})],1)]}}])},e._l(e.contextList,(function(t,a){return n("v-list",{key:a,staticClass:"pa-0",attrs:{dense:""}},[t.hide?e._e():n("div",[t.disabled?n("v-list-item",{attrs:{"data-cy":"btn-dropdown-menu-item"}},[n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(a){var i=a.on;return[n("v-list-item-title",e._g({},i),[n("v-icon",{attrs:{disabled:"",small:"",color:t.color},domProps:{textContent:e._s(t.icon)}}),n("span",{staticClass:"ml-1 grey--text",domProps:{textContent:e._s(t.name)}})],1)]}}],null,!0)},[n("span",{domProps:{textContent:e._s(t.disabled&&t.disable_message||t.name)}})])],1):n("v-list-item",{attrs:{"data-cy":"btn-dropdown-menu-item"},on:{click:function(t){return e.$emit("click"+a)}}},[n("v-list-item-title",[n("v-icon",{attrs:{color:t.color,small:"",dense:""},domProps:{textContent:e._s(t.icon)}}),n("span",{staticClass:"ml-1",class:t.text_color,domProps:{textContent:e._s(t.name)}})],1)],1)],1)])})),1)],1)},i=[],o={name:"VueContextMenu",props:{contextList:{type:Array,default:function(){return[]}},dataCyVariable:{type:String,default:""},showIcons:{type:Boolean,default:!1},hideIcons:{type:Boolean,default:!1},small:{type:Boolean,default:!1}}},r=o,s=n("2877"),l=n("6544"),c=n.n(l),u=n("8336"),d=n("132d"),p=n("8860"),m=n("da13"),h=n("5d23"),f=n("e449"),v=n("3a2f"),g=Object(s["a"])(r,a,i,!1,null,"71ee785c",null);t["default"]=g.exports;c()(g,{VBtn:u["a"],VIcon:d["a"],VList:p["a"],VListItem:m["a"],VListItemTitle:h["c"],VMenu:f["a"],VTooltip:v["a"]})},e516:function(e,t,n){"use strict";n("a9e3"),n("d3b7"),n("25f0");var a=n("0789"),i=n("3206"),o=n("80d2"),r=n("58df"),s=Object(r["a"])(Object(i["a"])("stepper","v-stepper-content","v-stepper"));t["a"]=s.extend().extend({name:"v-stepper-content",inject:{isVerticalProvided:{from:"isVertical"}},props:{step:{type:[Number,String],required:!0}},data:function(){return{height:0,isActive:null,isReverse:!1,isVertical:this.isVerticalProvided}},computed:{computedTransition:function(){var e=this.$vuetify.rtl?!this.isReverse:this.isReverse;return e?a["h"]:a["i"]},styles:function(){return this.isVertical?{height:Object(o["g"])(this.height)}:{}}},watch:{isActive:function(e,t){e&&null==t?this.height="auto":this.isVertical&&(this.isActive?this.enter():this.leave())}},mounted:function(){this.$refs.wrapper.addEventListener("transitionend",this.onTransition,!1),this.stepper&&this.stepper.register(this)},beforeDestroy:function(){this.$refs.wrapper.removeEventListener("transitionend",this.onTransition,!1),this.stepper&&this.stepper.unregister(this)},methods:{onTransition:function(e){this.isActive&&"height"===e.propertyName&&(this.height="auto")},enter:function(){var e=this,t=0;requestAnimationFrame((function(){t=e.$refs.wrapper.scrollHeight})),this.height=0,setTimeout((function(){return e.isActive&&(e.height=t||"auto")}),450)},leave:function(){var e=this;this.height=this.$refs.wrapper.clientHeight,setTimeout((function(){return e.height=0}),10)},toggle:function(e,t){this.isActive=e.toString()===this.step.toString(),this.isReverse=t}},render:function(e){var t={staticClass:"v-stepper__content"},n={staticClass:"v-stepper__wrapper",style:this.styles,ref:"wrapper"};this.isVertical||(t.directives=[{name:"show",value:this.isActive}]);var a=e("div",n,[this.$slots.default]),i=e("div",t,[a]);return e(this.computedTransition,{on:this.$listeners},[i])}})},e58c:function(e,t,n){"use strict";var a=n("fc6a"),i=n("a691"),o=n("50c4"),r=n("a640"),s=Math.min,l=[].lastIndexOf,c=!!l&&1/[1].lastIndexOf(1,-0)<0,u=r("lastIndexOf"),d=c||!u;e.exports=d?function(e){if(c)return l.apply(this,arguments)||0;var t=a(this),n=o(t.length),r=n-1;for(arguments.length>1&&(r=s(r,i(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in t&&t[r]===e)return r||0;return-1}:l},e59e:function(e,t,n){"use strict";n("99af");t["a"]={getBranch:function(e){return"/org/".concat(e,"/branch/")},postBranch:function(e){return"/org/".concat(e,"/branch/")},getBranchDetail:function(e,t){return"/org/".concat(e,"/branch/").concat(t,"/")},updateBranch:function(e,t){return"/org/".concat(e,"/branch/").concat(t,"/")},deleteBranch:function(e,t){return"/org/".concat(e,"/branch/").concat(t,"/")},importBranch:function(e){return"/org/".concat(e,"/branch/import/")},downloadSampleBranch:function(e){return"/org/".concat(e,"/branch/import/sample")},exportBranch:function(e){return"/org/".concat(e,"/branch/export")},branchType:function(e){return"/org/".concat(e,"/branch-type")},branchTypeDetail:function(e,t){return"org/".concat(e,"/branch-type/").concat(t)}}},e91f:function(e,t,n){"use strict";var a=n("ebb5"),i=n("4d64").indexOf,o=a.aTypedArray,r=a.exportTypedArrayMethod;r("indexOf",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)}))},ebb5:function(e,t,n){"use strict";var a,i=n("a981"),o=n("83ab"),r=n("da84"),s=n("861d"),l=n("5135"),c=n("f5df"),u=n("9112"),d=n("6eeb"),p=n("9bf2").f,m=n("e163"),h=n("d2bb"),f=n("b622"),v=n("90e3"),g=r.Int8Array,y=g&&g.prototype,b=r.Uint8ClampedArray,_=b&&b.prototype,k=g&&m(g),x=y&&m(y),w=Object.prototype,C=w.isPrototypeOf,T=f("toStringTag"),D=v("TYPED_ARRAY_TAG"),V=i&&!!h&&"Opera"!==c(r.opera),E=!1,S={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},P={BigInt64Array:8,BigUint64Array:8},L=function(e){if(!s(e))return!1;var t=c(e);return"DataView"===t||l(S,t)||l(P,t)},O=function(e){if(!s(e))return!1;var t=c(e);return l(S,t)||l(P,t)},A=function(e){if(O(e))return e;throw TypeError("Target is not a typed array")},$=function(e){if(h){if(C.call(k,e))return e}else for(var t in S)if(l(S,a)){var n=r[t];if(n&&(e===n||C.call(n,e)))return e}throw TypeError("Target is not a typed array constructor")},j=function(e,t,n){if(o){if(n)for(var a in S){var i=r[a];if(i&&l(i.prototype,e))try{delete i.prototype[e]}catch(s){}}x[e]&&!n||d(x,e,n?t:V&&y[e]||t)}},B=function(e,t,n){var a,i;if(o){if(h){if(n)for(a in S)if(i=r[a],i&&l(i,e))try{delete i[e]}catch(s){}if(k[e]&&!n)return;try{return d(k,e,n?t:V&&k[e]||t)}catch(s){}}for(a in S)i=r[a],!i||i[e]&&!n||d(i,e,t)}};for(a in S)r[a]||(V=!1);if((!V||"function"!=typeof k||k===Function.prototype)&&(k=function(){throw TypeError("Incorrect invocation")},V))for(a in S)r[a]&&h(r[a],k);if((!V||!x||x===w)&&(x=k.prototype,V))for(a in S)r[a]&&h(r[a].prototype,x);if(V&&m(_)!==x&&h(_,x),o&&!l(x,T))for(a in E=!0,p(x,T,{get:function(){return s(this)?this[D]:void 0}}),S)r[a]&&u(r[a],D,a);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:V,TYPED_ARRAY_TAG:E&&D,aTypedArray:A,aTypedArrayConstructor:$,exportTypedArrayMethod:j,exportTypedArrayStaticMethod:B,isView:L,isTypedArray:O,TypedArray:k,TypedArrayPrototype:x}},ef8c:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-autocomplete",{class:e.appliedClass,attrs:{items:e.itemsSorted,loading:e.isLoading,"search-input":e.search,multiple:e.multiple,label:e.label,error:e.errorMessages.length>0,"error-messages":e.errorMessages,disabled:e.disabled,"prepend-inner-icon":e.prependInnerIcon,clearable:e.clearable&&!e.readonly,readonly:!!e.readonly,"hide-details":e.hideDetails,"data-cy":"input-user-autocomplete-"+e.dataCyVariable,placeholder:e.placeholder,"hide-selected":"","hide-no-data":"","item-text":"full_name","item-value":"id"},on:{"update:searchInput":function(t){e.search=t},"update:search-input":function(t){e.search=t},blur:function(t){return e.$emit("blur")}},scopedSlots:e._u([{key:"selection",fn:function(t){return[n("v-chip",{attrs:{"input-value":t.selected,close:(e.clearable||!e.clearable&&!e.multiple)&&!e.readonly,small:""},on:{"click:close":function(n){return e.remove(t.item)}}},[n("v-avatar",{attrs:{left:""}},[n("v-img",{attrs:{src:t.item.profile_picture,cover:""}})],1),e._v(" "+e._s(e._f("truncate")(t.item.full_name,e.truncate))+" ")],1)]}},{key:"item",fn:function(t){var a=t.item;return[n("v-list-item-avatar",[n("v-avatar",{attrs:{size:"30"}},[n("v-img",{attrs:{src:a.profile_picture,cover:""}})],1)],1),n("v-list-item-content",[n("v-list-item-title",[e._v(" "+e._s(e._f("truncate")(a.full_name,20))+" "),a.employee_code?n("span",[e._v("("+e._s(a.employee_code)+")")]):e._e()]),a.division?n("v-list-item-subtitle",{domProps:{textContent:e._s(a.division)}}):e._e()],1)]}}]),model:{value:e.selectedData,callback:function(t){e.selectedData=t},expression:"selectedData"}})],1)},i=[],o=n("53ca"),r=(n("a9e3"),n("ac1f"),n("841c"),n("4e827"),n("2ca0"),n("d81d"),n("a434"),n("d3b7"),n("159b"),n("7db0"),n("4de4"),n("caad"),n("2532"),n("fab2")),s=n("63ea"),l=n.n(s),c={props:{value:{type:[Number,String,Array,Object],required:!1,default:function(){return null}},dataCyVariable:{type:String,default:""},userObject:{type:[Object,Array],required:!1,default:function(){return{}}},params:{type:[Object,Array],required:!1,default:function(){return{}}},multiple:{type:Boolean,required:!1,default:!1},disabled:{type:Boolean,required:!1,default:!1},errorMessages:{type:[String,Array],default:function(){return[]}},label:{type:String,default:"Select Employee"},prependInnerIcon:{type:String,default:"mdi-account-plus-outline"},itemsToExclude:{type:[Array,Number],default:null},itemsToInclude:{type:[Array,Number],default:null},clearable:{type:Boolean,default:!0},readonly:{type:Boolean,default:!1},hideDetails:{type:Boolean,default:!1},appliedClass:{type:String,default:""},truncate:{type:Number,default:10},placeholder:{type:String,default:""}},data:function(){return{isLoading:!1,items:[],allUsers:[],selectedData:null,search:null}},computed:{itemsSorted:function(){return this.sortBySearch(this.items,this.search?this.search.toLowerCase():"")}},watch:{value:{handler:function(e,t){!e&&t&&(this.selectedData="",this.populateInitialUsers()),!t&&e&&this.populateInitialUsers()},immediate:!0},search:function(e){!e||this.items.length>0||this.fetchUsers()},selectedData:function(e){this.search="",this.syncUserData(e),this.$emit("input",e)},itemsToExclude:function(){this.items=this.excludeRecord(this.allUsers)},itemsToInclude:function(){this.items=this.includeRecord(this.allUsers)},params:{handler:function(e,t){l()(e,t)||this.fetchUsers()},deep:!0}},methods:{sortBySearch:function(e,t){return e.sort((function(e,n){return e.full_name.toLowerCase().startsWith(t)&&n.full_name.toLowerCase().startsWith(t)?e.full_name.toLowerCase().localeCompare(n.full_name.toLowerCase()):e.full_name.toLowerCase().startsWith(t)?-1:n.full_name.toLowerCase().startsWith(t)?1:e.full_name.toLowerCase().localeCompare(n.full_name.toLowerCase())}))},populateInitialUsers:function(){this.fetchUsers(this.value),Array.isArray(this.value)?"object"===Object(o["a"])(this.value[0])?this.selectedData=this.value.map((function(e){return e.user.id})):this.selectedData=this.value:null===this.value?this.selectedData="":"object"===Object(o["a"])(this.value)?this.selectedData=this.value.id:this.selectedData=this.value,this.$emit("input",this.selectedData)},remove:function(e){if(this.selectedData instanceof Object){var t=this.selectedData.indexOf(e.id);t>=0&&this.selectedData.splice(t,1),this.$emit("remove",e)}else this.selectedData=""},fetchUsers:function(e){var t=this;this.isLoading||(this.isLoading=!0,this.$http.get(r["a"].autocomplete,{params:this.params}).then((function(n){t.allUsers=n,t.itemsToExclude&&(n=t.excludeRecord(n)),t.itemsToInclude&&(n=t.includeRecord(n)),t.items=n,e&&t.syncUserData(e)})).finally((function(){return t.isLoading=!1})))},syncUserData:function(e){var t=this;if(e instanceof Array){var n=[];e.forEach((function(e){n.unshift(t.items.find((function(t){return t.id===e})))})),this.$emit("update:userObject",n)}else{var a=this.items.find((function(t){return t.id===e}));this.$emit("update:userObject",a)}},excludeRecord:function(e){var t=[];return"number"===typeof this.itemsToExclude?t.push(this.itemsToExclude):t=this.itemsToExclude,e.filter((function(e){return!t.includes(e.id)}))},includeRecord:function(e){var t=this;return e.filter((function(e){return t.itemsToInclude.includes(e.id)}))}}},u=c,d=n("2877"),p=n("6544"),m=n.n(p),h=n("c6a6"),f=n("8212"),v=n("cc20"),g=n("adda"),y=n("8270"),b=n("5d23"),_=Object(d["a"])(u,a,i,!1,null,null,null);t["default"]=_.exports;m()(_,{VAutocomplete:h["a"],VAvatar:f["a"],VChip:v["a"],VImg:g["a"],VListItemAvatar:y["a"],VListItemContent:b["a"],VListItemSubtitle:b["b"],VListItemTitle:b["c"]})},f0d5:function(e,t,n){"use strict";n("d3b7"),n("3ca3"),n("ddb0");var a=n("c44a");t["a"]={components:{NonFieldFormErrors:function(){return n.e("chunk-6441e173").then(n.bind(null,"ab8a"))}},mixins:[a["a"]],data:function(){return{crud:{name:"record",message:"",addAnother:!1},formValues:{},loading:!1}}}},f12b:function(e,t,n){"use strict";var a=n("f0d5"),i=n("983c"),o=n("f70a"),r=n("6c6f");t["a"]={mixins:[a["a"],i["a"],o["a"],r["a"]]}},f1d0:function(e,t,n){"use strict";t["a"]={getOrganizationList:"/org/",getOrganization:function(e){return"/org/".concat(e,"/")},updateOrganization:function(e){return"/org/".concat(e,"/")},getOrgEmployeeData:function(e){return"/org/".concat(e,"/employee-data/")}}},f22b:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("form",[e.nonFieldErrors?n("non-field-form-errors",{attrs:{"non-field-errors":e.nonFieldErrors}}):e._e(),n("v-col",{staticStyle:{height:"calc(100vh - 240px)"}},[n("v-row",[n("v-col",{attrs:{md:"6",cols:"12"}},[n("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{counter:"255","prepend-inner-icon":"mdi-account-outline"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}},"v-text-field",e.veeValidate("username","Username *"),!1))],1),n("v-col",{attrs:{md:"6",cols:"12"}},[n("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required|email|max:255",expression:"'required|email|max:255'"}],attrs:{counter:"255","prepend-inner-icon":"mdi-email-outline"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}},"v-text-field",e.veeValidate("email","Primary Email *"),!1))],1),n("v-col",{attrs:{md:"6",cols:"12"}},[n("vue-auto-complete",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{endpoint:e.groupsEndpoint,"prepend-inner-icon":"mdi-account-multiple","item-text":"name","item-value":"id"},model:{value:e.form.groups,callback:function(t){e.$set(e.form,"groups",t)},expression:"form.groups"}},"vue-auto-complete",e.veeValidate("groups","Groups *"),!1))],1),n("v-col",{attrs:{cols:"12"}},[n("v-switch",{attrs:{label:"Send Activation Email"},model:{value:e.form.activationEmail,callback:function(t){e.$set(e.form,"activationEmail",t)},expression:"form.activationEmail"}})],1)],1)],1),n("v-divider"),n("v-card-actions",[n("v-btn",{attrs:{"data-cy":"btn-step-three-previous",color:"primary",depressed:""},on:{click:e.previous}},[n("v-icon",{domProps:{textContent:e._s("mdi-chevron-left")}}),n("span",{domProps:{textContent:e._s("Previous")}})],1),n("v-spacer"),n("v-btn",{attrs:{"data-cy":"btn-step-three-submit",color:"primary",depressed:"",disabled:e.loading},on:{click:e.submit}},[e.isOnBoardAdd?n("span",{domProps:{textContent:e._s("Submit")}}):n("span",{domProps:{textContent:e._s("Next")}}),n("v-icon",{domProps:{textContent:e._s("mdi-chevron-right")}})],1)],1)],1)},i=[],o=n("1da1"),r=n("5530"),s=(n("96cf"),n("b0c0"),n("f0d5")),l=n("f70a"),c=n("5660"),u=n("bf02"),d=n("5615"),p=n("fab2"),m=n("a79c"),h=n("2f62"),f={components:{VueAutoComplete:c["default"]},mixins:[s["a"],l["a"]],props:{registrations:{type:Object,required:!0},preEmploymentUser:{type:Object,default:function(){return{}}},isOnBoardAdd:{type:Boolean,default:!1}},data:function(){return{form:this.registrations,orgSlug:this.$route.params.slug,groupsEndpoint:u["a"].getUserPermission,joinedDateMenu:!1}},methods:Object(r["a"])(Object(r["a"])({},Object(h["d"])({setSnackBar:"common/setSnackBar"})),{},{previous:function(){this.$emit("switch",2)},getFormData:function(){return{user:{email:this.registrations.email,first_name:this.registrations.firstName,middle_name:this.registrations.middleName,last_name:this.registrations.lastName,username:this.registrations.username,organization:this.orgSlug},code:this.registrations.employeeCode,gender:this.registrations.gender,date_of_birth:this.registrations.dateOfBirth,religion:this.registrations.religion,ethnicity:this.registrations.ethnicity,nationality:this.registrations.nationality,marital_status:this.registrations.maritalStatus,marriage_anniversary:"Married"===this.registrations.maritalStatus?this.registrations.marriage_anniversary:null,contact:{contact_of:"Self",number:this.registrations.contactNumber,number_type:"Mobile",address:this.registrations.currentAddress},current_address:{address_type:"Permanent",address:this.registrations.currentAddress},employment:{job_title:this.registrations.job_title,job_description:this.registrations.job_description,job_specification:this.registrations.job_specification,change_type:this.registrations.change_type,objective:this.registrations.objective,organization:this.orgSlug,is_current:!0,division:this.registrations.division,employee_level:this.registrations.employmentLevel,employment_status:this.registrations.employmentType,branch:this.registrations.branch,start_date:this.registrations.start_date,end_date:this.registrations.end_date,replacing:this.registrations.replacing,current_step:this.registrations.current_step||this.isOnBoardAdd?0:1},send_activation:this.registrations.activationEmail,joined_date:this.registrations.joined_date,new_hiring_method:this.registrations.new_hiring_method}},submit:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.validateAllFields();case 2:if(!t.sent){t.next=7;break}n=Object(m["b"])(e.getFormData()),e.registrations.profile_picture&&n.append("user.profile_picture",e.registrations.profile_picture,e.registrations.profile_picture.name),e.crud.message="Employee Successfully Created",e.insertData(p["a"].postUser+"?organization_slug=".concat(e.getOrganizationSlug),n).then((function(t){e.loading=!1,e.isOnBoardAdd?e.$router.push({name:"admin-slug-hris-employees-current-employee-list",params:{slug:e.orgSlug}}):e.setEmployee(t)}));case 7:case"end":return t.stop()}}),t)})))()},setEmployee:function(e){var t=this;this.loading=!1;var n={employee:e.user.id,status:"employee-added"},a=d["a"].updatePreEmployment(this.getOrganizationSlug,this.preEmploymentUser.id);this.crud.message="Employee Successfully Created",this.patchData(a,n).then((function(e){t.$emit("next","assign-supervisor-form","employee-added","",e)}))}})},v=f,g=n("2877"),y=n("6544"),b=n.n(y),_=n("8336"),k=n("99d9"),x=n("62ad"),w=n("ce7e"),C=n("132d"),T=n("0fd9b"),D=n("2fa4"),V=n("b73d"),E=n("8654"),S=Object(g["a"])(v,a,i,!1,null,null,null);t["a"]=S.exports;b()(S,{VBtn:_["a"],VCardActions:k["a"],VCol:x["a"],VDivider:w["a"],VIcon:C["a"],VRow:T["a"],VSpacer:D["a"],VSwitch:V["a"],VTextField:E["a"]})},f70a:function(e,t,n){"use strict";n("d3b7"),n("caad");t["a"]={methods:{insertData:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=a.validate,o=void 0===i||i,r=a.clearForm,s=void 0===r||r,l=arguments.length>3?arguments[3]:void 0;return new Promise((function(a,i){!n.loading&&e&&(n.clearErrors(),n.$validator.validateAll().then((function(r){o||(r=!0),r&&(n.loading=!0,n.$http.post(e,t,l||{}).then((function(e){n.clearErrors(),s&&(n.formValues={}),n.crud.addAnother||n.$emit("create"),n.crud.message&&setTimeout((function(){n.notifyUser(n.crud.message)}),1e3),a(e),n.loading=!1})).catch((function(e){n.pushErrors(e),n.notifyInvalidFormResponse(),i(e),n.loading=!1})))})))}))},patchData:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=a.validate,o=void 0===i||i,r=a.clearForm,s=void 0===r||r,l=arguments.length>3?arguments[3]:void 0;return new Promise((function(a,i){n.updateData(e,t,{validate:o,clearForm:s},"patch",l).then((function(e){a(e)})).catch((function(e){i(e)}))}))},putData:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=a.validate,o=void 0===i||i,r=a.clearForm,s=void 0===r||r,l=arguments.length>3?arguments[3]:void 0;return new Promise((function(a,i){n.updateData(e,t,{validate:o,clearForm:s},"put",l).then((function(e){a(e)})).catch((function(e){i(e)}))}))},updateData:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=a.validate,o=void 0===i||i,r=a.clearForm,s=void 0===r||r,l=arguments.length>3?arguments[3]:void 0,c=arguments.length>4?arguments[4]:void 0;return new Promise((function(a,i){!n.loading&&e&&["put","patch"].includes(l)&&(n.clearErrors(),n.$validator.validateAll().then((function(r){o||(r=!0),r&&(n.loading=!0,n.$http[l](e,t,c||{}).then((function(e){n.$emit("update"),n.clearErrors(),s&&(n.formValues={}),n.crud.message&&setTimeout((function(){n.notifyUser(n.crud.message)}),1e3),a(e),n.loading=!1})).catch((function(e){n.pushErrors(e),n.notifyInvalidFormResponse(),i(e),n.loading=!1})))})))}))},clearErrors:function(){this.clearNonFieldErrors(),this.$validator.errors.clear()}}}},f82f:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-text-field",{class:e.appliedClass,attrs:{id:e.id,label:e.label,"data-cy":"input-file-upload",error:e.errorMessages.length>0,"error-messages":e.errorMessages,"hide-details":e.hideDetails,hint:e.hint,"persistent-hint":!!e.hint,disabled:e.disabled,readonly:"","prepend-inner-icon":"mdi-attachment","append-icon":"mdi-close"},on:{"click:prepend":e.pickFile,"click:append":function(t){return e.clear()},click:e.pickFile,blur:function(t){return e.$emit("blur")}},model:{value:e.fileName,callback:function(t){e.fileName=t},expression:"fileName"}}),n("input",{ref:"upload",staticClass:"d-none",attrs:{id:"fileUpload",type:"file",multiple:"multiple"},on:{change:e.upload}})],1)},i=[],o=n("1da1"),r=n("5530"),s=(n("96cf"),n("a9e3"),n("ac1f"),n("1276"),n("b0c0"),n("2f62")),l={props:{value:{type:[String,File,Object],default:void 0},default:{type:[String,File],default:void 0},text:{type:String,default:void 0},id:{type:String,default:""},label:{type:String,default:"Browse file from here"},hint:{type:String,default:void 0},errorMessages:{type:[String,Array],default:function(){return[]}},hideDetails:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},appliedClass:{type:String,default:""},returnObject:{type:Boolean,default:!1},maxSize:{type:Number,default:5}},data:function(){return{fileName:null}},watch:{default:{handler:function(e){!e||e instanceof File||(this.fileName=e)},immediate:!0},value:function(e){e||(this.fileName=""),document.getElementById("fileUpload").value=null}},methods:Object(r["a"])(Object(r["a"])({},Object(s["d"])({setSnackBar:"common/setSnackBar"})),{},{pickFile:function(){this.$refs.upload.click()},upload:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var a,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:a=new FileReader,a.readAsDataURL(e.target.files[0]),i="",1===e.target.files[0].name.split(".").length?i="Please upload known file type.":e.target.files[0].size>1024*t.maxSize*1024?i="File size cannot be greater than ".concat(t.maxSize,"MB."):"svg"===e.target.files[0].name.split(".").pop()&&(i="SVG image not allowed here."),i?t.setSnackBar({text:i,color:"red"}):a.onload=function(){t.returnObject?t.$emit("input",{file_name:e.target.files[0].name,file_content:e.target.files[0]}):t.$emit("input",e.target.files[0]),t.$emit("blur"),t.$emit("update",a.result),t.fileName=e.target.files[0].name};case 5:case"end":return n.stop()}}),n)})))()},clear:function(){this.fileName=null,this.returnObject?this.$emit("input",{file_name:"",file_content:""}):this.$emit("input",this.fileName)}})},c=l,u=n("2877"),d=n("6544"),p=n.n(d),m=n("8654"),h=Object(u["a"])(c,a,i,!1,null,null,null);t["a"]=h.exports;p()(h,{VTextField:m["a"]})},f8cd:function(e,t,n){var a=n("a691");e.exports=function(e){var t=a(e);if(t<0)throw RangeError("The argument can't be less than 0");return t}},fab2:function(e,t,n){"use strict";t["a"]={getUserList:"/users/",postUser:"/users/",autocomplete:"/users/autocomplete/",postImportUser:"/users/import/",downloadUserImportSample:function(e){return"/users/import/sample/?organization=".concat(e)},getUserDetail:function(e){return"/users/".concat(e,"/")},getInternalUserDetail:function(e){return"/users/".concat(e,"/internal-detail")},deleteUser:function(e){return"/users/".concat(e,"/")},updateUser:function(e){return"/users/".concat(e,"/")},changePassword:function(e){return"/users/".concat(e,"/change-password/")},getUserCV:function(e){return"/users/".concat(e,"/cv/")},getProfileCompleteness:function(e){return"users/".concat(e,"/profile-completeness/")}}}}]);