(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages/admin/_slug/hris/employees/employee-separation/details","chunk-26c51c79","chunk-31f8a6e6","chunk-2d0c8a11","chunk-2d2259e9","pages/admin/_slug/hris/reports/exit-interview~pages/admin/_slug/hris/settings/exit-interview-questio~53edfea6","chunk-6441e173","chunk-aee42bec","chunk-2d2160c2","chunk-1b4245df","chunk-2d2160c2","chunk-67ccef97","chunk-20176648","chunk-63c80d7a","chunk-da62e0c8","chunk-2d22d378","chunk-2d213000","chunk-2d2160c2","chunk-2d2160c2","chunk-2d2160c2"],{"0116":function(e,t,a){"use strict";a("99af");t["a"]={getTaskTemplate:function(e){return"/hris/".concat(e,"/employment/template/")},postTaskTemplate:function(e){return"/hris/".concat(e,"/employment/template/")},updateTaskTemplate:function(e,t){return"/hris/".concat(e,"/employment/template/").concat(t,"/")},deleteTaskTemplate:function(e,t){return"/hris/".concat(e,"/employment/template/").concat(t,"/")}}},"014d":function(e,t,a){},"0549":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-row",{staticClass:"mb-3",attrs:{"no-gutters":""}},[e.breadCrumbs?a("v-col",{attrs:{cols:"12"}},[a("v-card",{attrs:{flat:""}},[a("v-breadcrumbs",{staticClass:"text-body-1 pa-2",class:{"text-caption pa-1":e.$vuetify.breakpoint.xs},attrs:{items:e.breadCrumbs},scopedSlots:e._u([{key:"item",fn:function(t){return[a("span",{class:t.item.disabled?"grey--text":"baseColor--text text--accent-2 pointer",domProps:{textContent:e._s(t.item.text)},on:{click:function(a){return e.$router.push(t.item.to)}}})]}}],null,!1,1670153796)},[a("v-icon",{attrs:{slot:"divider"},slot:"divider"},[e._v("mdi-chevron-right")])],1)],1)],1):e._e()],1),a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"12"}},[e._t("default")],2)],1)],1)},s=[],i=a("5530"),o=(a("ac1f"),a("1276"),a("b0c0"),a("2f62")),r={props:{title:{type:String,required:!0},breadCrumbs:{type:Array,default:function(){return[]}}},computed:Object(i["a"])({},Object(o["c"])({getOrganizationName:"organization/getOrganizationName",getSupervisorSwitchedOrganization:"supervisor/getSwitchedOrganization"})),mounted:function(){document.title="".concat(this.title," | RealHRsoft");var e=this.$route.params.slug?"admin-slug-dashboard":"root",t=this.$route.name.split("-"),a=this.getOrganizationName;this.getSupervisorSwitchedOrganization&&"user"===t[0]&&"supervisor"===t[1]&&(a=this.getSupervisorSwitchedOrganization.name),this.breadCrumbs.unshift({text:a,disabled:!1,to:{name:e,params:{slug:this.$route.params.slug}}})}},l=r,c=a("2877"),u=a("6544"),d=a.n(u),p=a("2bc5"),m=a("b0af"),h=a("62ad"),f=a("132d"),v=a("0fd9b"),g=Object(c["a"])(l,n,s,!1,null,null,null);t["default"]=g.exports;d()(g,{VBreadcrumbs:p["a"],VCard:m["a"],VCol:h["a"],VIcon:f["a"],VRow:v["a"]})},"0780":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.userData.length?e._e():a("p",{domProps:{textContent:e._s("Selected users will appear here ...")}}),a("v-row",{attrs:{justify:"start"}},e._l(e.userData,(function(t,n){return a("v-col",{key:n,attrs:{md:"4"}},[a("v-list",{attrs:{"two-line":""}},[a("v-list-item",[a("v-list-item-avatar",[a("v-img",{attrs:{src:t.profile_picture}})],1),a("v-list-item-content",[a("v-list-item-title",{domProps:{textContent:e._s(t.full_name)}}),a("v-list-item-subtitle",{domProps:{textContent:e._s(t.division)}})],1)],1)],1)],1)})),1)],1)},s=[],i={props:{userData:{type:[Array],default:function(){return[]}}}},o=i,r=a("2877"),l=a("6544"),c=a.n(l),u=a("62ad"),d=a("adda"),p=a("8860"),m=a("da13"),h=a("8270"),f=a("5d23"),v=a("0fd9b"),g=Object(r["a"])(o,n,s,!1,null,null,null);t["a"]=g.exports;c()(g,{VCol:u["a"],VImg:d["a"],VList:p["a"],VListItem:m["a"],VListItemAvatar:h["a"],VListItemContent:f["a"],VListItemSubtitle:f["b"],VListItemTitle:f["c"],VRow:v["a"]})},"0798":function(e,t,a){"use strict";var n=a("5530"),s=a("ade3"),i=(a("caad"),a("0c18"),a("10d2")),o=a("afdd"),r=a("9d26"),l=a("f2e7"),c=a("7560"),u=a("f40d"),d=a("58df"),p=a("d9bd");t["a"]=Object(d["a"])(i["a"],l["a"],u["a"]).extend({name:"v-alert",props:{border:{type:String,validator:function(e){return["top","right","bottom","left"].includes(e)}},closeLabel:{type:String,default:"$vuetify.close"},coloredBorder:Boolean,dense:Boolean,dismissible:Boolean,closeIcon:{type:String,default:"$cancel"},icon:{default:"",type:[Boolean,String],validator:function(e){return"string"===typeof e||!1===e}},outlined:Boolean,prominent:Boolean,text:Boolean,type:{type:String,validator:function(e){return["info","error","success","warning"].includes(e)}},value:{type:Boolean,default:!0}},computed:{__cachedBorder:function(){if(!this.border)return null;var e={staticClass:"v-alert__border",class:Object(s["a"])({},"v-alert__border--".concat(this.border),!0)};return this.coloredBorder&&(e=this.setBackgroundColor(this.computedColor,e),e.class["v-alert__border--has-color"]=!0),this.$createElement("div",e)},__cachedDismissible:function(){var e=this;if(!this.dismissible)return null;var t=this.iconColor;return this.$createElement(o["a"],{staticClass:"v-alert__dismissible",props:{color:t,icon:!0,small:!0},attrs:{"aria-label":this.$vuetify.lang.t(this.closeLabel)},on:{click:function(){return e.isActive=!1}}},[this.$createElement(r["a"],{props:{color:t}},this.closeIcon)])},__cachedIcon:function(){return this.computedIcon?this.$createElement(r["a"],{staticClass:"v-alert__icon",props:{color:this.iconColor}},this.computedIcon):null},classes:function(){var e=Object(n["a"])(Object(n["a"])({},i["a"].options.computed.classes.call(this)),{},{"v-alert--border":Boolean(this.border),"v-alert--dense":this.dense,"v-alert--outlined":this.outlined,"v-alert--prominent":this.prominent,"v-alert--text":this.text});return this.border&&(e["v-alert--border-".concat(this.border)]=!0),e},computedColor:function(){return this.color||this.type},computedIcon:function(){return!1!==this.icon&&("string"===typeof this.icon&&this.icon?this.icon:!!["error","info","success","warning"].includes(this.type)&&"$".concat(this.type))},hasColoredIcon:function(){return this.hasText||Boolean(this.border)&&this.coloredBorder},hasText:function(){return this.text||this.outlined},iconColor:function(){return this.hasColoredIcon?this.computedColor:void 0},isDark:function(){return!(!this.type||this.coloredBorder||this.outlined)||c["a"].options.computed.isDark.call(this)}},created:function(){this.$attrs.hasOwnProperty("outline")&&Object(p["a"])("outline","outlined",this)},methods:{genWrapper:function(){var e=[this.$slots.prepend||this.__cachedIcon,this.genContent(),this.__cachedBorder,this.$slots.append,this.$scopedSlots.close?this.$scopedSlots.close({toggle:this.toggle}):this.__cachedDismissible],t={staticClass:"v-alert__wrapper"};return this.$createElement("div",t,e)},genContent:function(){return this.$createElement("div",{staticClass:"v-alert__content"},this.$slots.default)},genAlert:function(){var e={staticClass:"v-alert",attrs:{role:"alert"},on:this.listeners$,class:this.classes,style:this.styles,directives:[{name:"show",value:this.isActive}]};if(!this.coloredBorder){var t=this.hasText?this.setTextColor:this.setBackgroundColor;e=t(this.computedColor,e)}return this.$createElement("div",e,[this.genWrapper()])},toggle:function(){this.isActive=!this.isActive}},render:function(e){var t=this.genAlert();return this.transition?e("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},[t]):t}})},"0a8c":function(e,t,a){"use strict";a("99af");t["a"]={getExitInterviewQuestionList:function(e){return"/hris/".concat(e,"/exit-interview/question-set/")},getIndividualSeparation:function(e,t){return"/hris/".concat(e,"/employment/separation/").concat(t,"/")},getExitInterviewCandidateList:"/commons/extra-apps/exit-interview/",getPostExitInterviewSeparation:function(e,t){return"/hris/".concat(e,"/exit-interview/").concat(t,"/")}}},"0c18":function(e,t,a){},"17cc":function(e,t,a){"use strict";var n=a("b85c"),s=a("1da1"),i=a("5530");a("96cf"),a("ac1f"),a("841c"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("b64b");t["a"]={data:function(){return{fetchedResults:[],response:{},extra_data:"",appliedFilters:{},footerProps:{itemsPerPageOptions:[10,20,30,40,50,100]},pagination:{sortBy:["modified_at"],descending:!1,totalItems:0,page:1,rowsPerPage:10,pageCount:0},triggerDataTable:!0,fullParams:""}},created:function(){this.getParams(this.DataTableFilter)},methods:{getParams:function(e){var t=Object(i["a"])(Object(i["a"])({},e),{},{offset:(this.pagination.page-1)*this.pagination.rowsPerPage,limit:this.pagination.rowsPerPage,ordering:this.pagination.descending?this.pagination.sortBy:"-"+this.pagination.sortBy});this.fullParams=this.convertToURLSearchParams(t)},loadDataTable:function(e){this.response=e,this.fetchedResults=e.results,this.pagination.totalItems=e.count,this.extra_data=e.extra_data,this.triggerDataTable=!0},fetchData:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var n,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return console.warn("DatatableMixin: fetchData has been deprecated. Please use the function in page itself."),n=Object(i["a"])(Object(i["a"])(Object(i["a"])({},e),t.appliedFilters),{},{search:t.search,offset:(t.pagination.page-1)*t.pagination.rowsPerPage,limit:t.pagination.rowsPerPage,ordering:t.pagination.descending?t.pagination.sortBy:"-"+t.pagination.sortBy}),s=t.convertToURLSearchParams(n),t.loading=!0,a.next=6,t.$http.get(t.endpoint,{params:s}).then((function(e){t.response=e,t.fetchedResults=e.results,t.pagination.totalItems=e.count})).finally((function(){t.loading=!1}));case 6:case"end":return a.stop()}}),a)})))()},applyFilters:function(e){this.appliedFilters=e,this.fetchData(e)},convertToURLSearchParams:function(e){for(var t=new URLSearchParams,a=0,s=Object.keys(e);a<s.length;a++){var i=s[a],o=e[i];if(void 0===o&&(o=""),Array.isArray(o)){var r,l=Object(n["a"])(o);try{for(l.s();!(r=l.n()).done;){var c=r.value;t.append(i,c)}}catch(u){l.e(u)}finally{l.f()}}else t.append(i,o)}return t},loadDataTableChange:function(){var e=this;this.triggerDataTable&&(this.getParams(this.DataTableFilter),this.$nextTick((function(){e.fetchDataTable()})))}},watch:{DataTableFilter:function(e){this.fetchedResults=[],this.getParams(e),this.fetchDataTable(),this.pagination.page=1},"pagination.sortBy":function(){this.fetchedResults=[],this.loadDataTableChange()},"pagination.descending":function(){this.fetchedResults=[],this.loadDataTableChange()},"pagination.page":function(){this.fetchedResults=[],this.loadDataTableChange()},"pagination.rowsPerPage":function(){this.fetchedResults=[],this.loadDataTableChange()}}}},"1d4d":function(e,t,a){"use strict";a("a9e3"),a("c96a"),a("d81d"),a("696f");var n=a("9d26"),s=a("a9ad"),i=a("16b7"),o=a("af2b"),r=a("5311"),l=a("7560"),c=a("80d2"),u=a("58df");t["a"]=Object(u["a"])(s["a"],i["a"],r["a"],o["a"],l["a"]).extend({name:"v-rating",props:{backgroundColor:{type:String,default:"accent"},color:{type:String,default:"primary"},clearable:Boolean,dense:Boolean,emptyIcon:{type:String,default:"$ratingEmpty"},fullIcon:{type:String,default:"$ratingFull"},halfIcon:{type:String,default:"$ratingHalf"},halfIncrements:Boolean,hover:Boolean,length:{type:[Number,String],default:5},readonly:Boolean,size:[Number,String],value:{type:Number,default:0},iconLabel:{type:String,default:"$vuetify.rating.ariaLabel.icon"}},data:function(){return{hoverIndex:-1,internalValue:this.value}},computed:{directives:function(){return this.readonly||!this.ripple?[]:[{name:"ripple",value:{circle:!0}}]},iconProps:function(){var e=this.$props,t=e.dark,a=e.large,n=e.light,s=e.medium,i=e.small,o=e.size,r=e.xLarge,l=e.xSmall;return{dark:t,large:a,light:n,medium:s,size:o,small:i,xLarge:r,xSmall:l}},isHovering:function(){return this.hover&&this.hoverIndex>=0}},watch:{internalValue:function(e){e!==this.value&&this.$emit("input",e)},value:function(e){this.internalValue=e}},methods:{createClickFn:function(e){var t=this;return function(a){if(!t.readonly){var n=t.genHoverIndex(a,e);t.clearable&&t.internalValue===n?t.internalValue=0:t.internalValue=n}}},createProps:function(e){var t={index:e,value:this.internalValue,click:this.createClickFn(e),isFilled:Math.floor(this.internalValue)>e,isHovered:Math.floor(this.hoverIndex)>e};return this.halfIncrements&&(t.isHalfHovered=!t.isHovered&&(this.hoverIndex-e)%1>0,t.isHalfFilled=!t.isFilled&&(this.internalValue-e)%1>0),t},genHoverIndex:function(e,t){var a=this.isHalfEvent(e);return this.halfIncrements&&this.$vuetify.rtl&&(a=!a),t+(a?.5:1)},getIconName:function(e){var t=this.isHovering?e.isHovered:e.isFilled,a=this.isHovering?e.isHalfHovered:e.isHalfFilled;return t?this.fullIcon:a?this.halfIcon:this.emptyIcon},getColor:function(e){if(this.isHovering){if(e.isHovered||e.isHalfHovered)return this.color}else if(e.isFilled||e.isHalfFilled)return this.color;return this.backgroundColor},isHalfEvent:function(e){if(this.halfIncrements){var t=e.target&&e.target.getBoundingClientRect();if(t&&e.pageX-t.left<t.width/2)return!0}return!1},onMouseEnter:function(e,t){var a=this;this.runDelay("open",(function(){a.hoverIndex=a.genHoverIndex(e,t)}))},onMouseLeave:function(){var e=this;this.runDelay("close",(function(){return e.hoverIndex=-1}))},genItem:function(e){var t=this,a=this.createProps(e);if(this.$scopedSlots.item)return this.$scopedSlots.item(a);var s={click:a.click};return this.hover&&(s.mouseenter=function(a){return t.onMouseEnter(a,e)},s.mouseleave=this.onMouseLeave,this.halfIncrements&&(s.mousemove=function(a){return t.onMouseEnter(a,e)})),this.$createElement(n["a"],this.setTextColor(this.getColor(a),{attrs:{tabindex:-1,"aria-label":this.$vuetify.lang.t(this.iconLabel,e+1,Number(this.length))},directives:this.directives,props:this.iconProps,on:s}),[this.getIconName(a)])}},render:function(e){var t=this,a=Object(c["h"])(Number(this.length)).map((function(e){return t.genItem(e)}));return e("div",{staticClass:"v-rating",class:{"v-rating--readonly":this.readonly,"v-rating--dense":this.dense}},a)}})},"1f04":function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return l}));var n=a("1da1");a("d3b7"),a("3ca3"),a("ddb0"),a("96cf");function s(e){return i.apply(this,arguments)}function i(){return i=Object(n["a"])(regeneratorRuntime.mark((function e(t){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o(t);case 2:return a=e.sent,e.next=5,l([a]);case 5:return n=e.sent,e.abrupt("return",n[0]);case 7:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)}function o(e){return r.apply(this,arguments)}function r(){return r=Object(n["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,e.next=5,a.blob();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)}))),r.apply(this,arguments)}function l(e){return c.apply(this,arguments)}function c(){return c=Object(n["a"])(regeneratorRuntime.mark((function e(t){var a,n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(a=function(e){var t=new FileReader;return new Promise((function(a){t.readAsDataURL(e),t.onloadend=function(){a(t.result)}}))},n=[],s=0;s<t.length;s++)n.push(a(t[s]));return e.next=5,Promise.all(n);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)}))),c.apply(this,arguments)}},"1f09":function(e,t,a){},2326:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("vue-card-title",{attrs:{title:e.sharedData.title,subtitle:e.sharedData.subTitle,icon:"mdi-file-document-outline",dark:"",closable:""},on:{close:function(t){return e.$emit("cancel")}}}),a("v-divider"),a("v-card-text",[a("v-row",{attrs:{align:"center"}},[a("v-col",{attrs:{cols:"4"}},[a("vue-auto-complete",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{endpoint:e.templateEndpoint,params:{type:"onBoard"===e.component?"on":"offBoard"===e.component?"off":"changeType"===e.component?"change":""},"item-text":"title","item-value":"slug"},model:{value:e.template,callback:function(t){e.template=t},expression:"template"}},"vue-auto-complete",e.veeValidate("letter_template","Letter Template"),!1))],1),a("v-col",{attrs:{cols:"4"}},[a("v-btn",{attrs:{depressed:"",outlined:"",color:"primary"},domProps:{textContent:e._s("Generate")},on:{click:e.generateLetter}})],1)],1)],1),a("v-divider"),a("v-data-table",{attrs:{headers:e.headers,items:e.fetchedResults,loading:e.loading,"sort-desc":e.pagination.descending,"sort-by":e.pagination.sortBy,page:e.pagination.page,"items-per-page":e.pagination.rowsPerPage,"footer-props":e.footerProps,"server-items-length":e.pagination.totalItems,"must-sort":"","mobile-breakpoint":0},on:{"update:sortDesc":function(t){return e.$set(e.pagination,"descending",t)},"update:sort-desc":function(t){return e.$set(e.pagination,"descending",t)},"update:sortBy":function(t){return e.$set(e.pagination,"sortBy",t)},"update:sort-by":function(t){return e.$set(e.pagination,"sortBy",t)},"update:page":function(t){return e.$set(e.pagination,"page",t)},"update:itemsPerPage":function(t){return e.$set(e.pagination,"rowsPerPage",t)},"update:items-per-page":function(t){return e.$set(e.pagination,"rowsPerPage",t)}},scopedSlots:e._u([{key:"item",fn:function(t){return[a("tr",[a("td",[a("a",{on:{click:function(a){return e.viewLetter(t.item)}}},[e._v(" "+e._s(t.item.title)+" ")])]),a("td",{staticClass:"text-center"},[a("span",{class:t.item.is_sent?"success--text":"grey--text"},[e._v(" "+e._s(t.item.is_sent?"Sent":"Not Sent")+" ")])]),a("td",[a("div",[e._v(e._s(e._f("dayjs")(t.item.created_at,"YYYY-MM-DD")))]),a("div",[e._v(" "+e._s(e._f("dayjs")(t.item.created_at,"hh:mm a"))+" ")])]),a("td",{staticClass:"text-center"},[t.item.is_saved?a("span",{staticClass:"success--text",domProps:{textContent:e._s("Saved")}}):a("v-btn",{attrs:{outlined:"",small:"",color:"primary"},domProps:{textContent:e._s("Save")},on:{click:function(a){return e.saveOfferLetter(t.item.id)}}})],1),a("td",[a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(n){var s=n.on;return[a("v-icon",e._g({attrs:{small:""},domProps:{textContent:e._s("mdi-download-outline")},on:{click:function(a){return e.downloadOfferLetter(t.item.id,t.item.title)}}},s))]}}],null,!0)},[a("span",{domProps:{textContent:e._s("Download")}})]),a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(n){var s=n.on;return[a("v-icon",e._g({attrs:{small:""},domProps:{textContent:e._s("mdi-send-outline")},on:{click:function(a){return e.sendOfferLetter(t.item.id)}}},s))]}}],null,!0)},[a("span",{domProps:{textContent:e._s(t.item.is_sent?"Re-send":"Send")}})]),t.item.is_saved?e._e():a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(n){var s=n.on;return[a("v-icon",e._g({attrs:{small:""},domProps:{textContent:e._s("mdi-delete")},on:{click:function(a){e.deleteNotification.dialog=!0,e.letterId=t.item.id}}},s))]}}],null,!0)},[a("span",{domProps:{textContent:e._s("Delete")}})])],1)])]}}])},[a("template",{slot:"no-data"},[a("data-table-no-data",{attrs:{loading:e.loading,height:"90",text:"Letter templates have not been generated yet"}})],1)],2),a("v-card-actions",[a("v-btn",{attrs:{depressed:"",color:"primary"},on:{click:function(t){e.$emit("next","changeType"===e.component?e.openPrevStep():"onBoard"===e.component?"assign-supervisor-form":"offBoard"===e.component?e.employmentDetails.pre_task?"task-list":"task-form":"","assign-supervisor-form",e.componentType||"preTask")}}},[a("v-icon",{domProps:{textContent:e._s("mdi-chevron-left")}}),a("span",{domProps:{textContent:e._s("Previous")}})],1),a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){return e.$emit("cancel")}}},[e._v(" Cancel ")]),a("v-btn",{attrs:{disabled:!e.fetchedResults.length,depressed:"",color:"primary"},on:{click:function(t){return e.gotoNextStep("postTask")}}},[e._v(" Next "),a("v-icon",{domProps:{textContent:e._s("mdi-chevron-right")}})],1)],1),a("v-dialog",{attrs:{persistent:"",height:"900",width:"800","max-width":"800px"},on:{keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;e.offerLetter=!1}},model:{value:e.offerLetter,callback:function(t){e.offerLetter=t},expression:"offerLetter"}},[a("v-card",[a("vue-card-title",{attrs:{title:"Generated Letter",subtitle:"Generated Letter Detail",icon:"mdi-file-document-outline",dark:""}},[a("template",{slot:"actions"},[e.individualLetter.is_saved||e.individualLetter.is_sent?e._e():a("v-icon",{attrs:{small:""},domProps:{textContent:e._s(e.letter.editable?"mdi-eye-outline":"mdi-pencil")},on:{click:function(t){e.letter.editable=!e.letter.editable,e.letter.editText=e.individualLetter.message}}})],1)],2),a("v-divider"),e.individualLetter?a("v-card-text",{staticClass:"pa-3"},[e.letter.editable?a("vue-trumbowyg",{model:{value:e.letter.editText,callback:function(t){e.$set(e.letter,"editText",t)},expression:"letter.editText"}}):a("div",{ref:"print",domProps:{innerHTML:e._s(e.$sanitize(e.individualLetter.message))}})],1):e._e(),a("v-divider"),a("v-card-actions",[a("v-spacer"),e.letter.editable?a("div",[a("v-btn",{attrs:{right:"",color:"primary"},domProps:{textContent:e._s("Update")},on:{click:e.updateLetter}}),a("v-btn",{attrs:{text:""},domProps:{textContent:e._s("Cancel")},on:{click:function(t){e.offerLetter=!1}}})],1):a("div",[a("v-btn",{attrs:{text:""},domProps:{textContent:e._s("Cancel")},on:{click:function(t){e.offerLetter=!1}}}),a("v-btn",{attrs:{text:"",color:"primary"},domProps:{textContent:e._s("Print")},on:{click:function(t){return e.downloadPdf(e.$refs.print,"l","onBoard"===e.component?"pre-employment-latter-template.pdf":"offBoard"===e.component?"letter-template.pdf":"")}}}),e.individualLetter.is_saved?e._e():a("v-btn",{attrs:{outlined:"",color:"primary"},domProps:{textContent:e._s("Save")},on:{click:function(t){return e.saveOfferLetter()}}}),a("v-btn",{attrs:{right:"",color:"primary"},domProps:{textContent:e._s(e.individualLetter.is_sent?"Re-Send":"Send")},on:{click:function(t){return e.sendOfferLetter()}}})],1)],1)],1)],1),a("vue-dialog",{attrs:{notify:e.deleteNotification},on:{close:function(t){e.deleteNotification.dialog=!1},agree:e.deleteLetter}}),a("v-snackbar",{attrs:{right:""},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e.nonFieldErrors?a("non-field-form-errors",{attrs:{"non-field-errors":e.nonFieldErrors,"change-type":""}}):e._e(),a("v-btn",{attrs:{text:""},on:{click:function(t){e.snackbar=!1}}},[a("v-icon",{domProps:{textContent:e._s("mdi-close")}})],1)],1)],1)},s=[],i=a("1da1"),o=(a("96cf"),a("d81d"),a("d3b7"),a("ddb0"),a("b0c0"),a("fb6a"),a("caad"),a("3ca3"),a("2b3d"),a("5660")),r=a("8714"),l=a("a51f"),c=a("1467"),u=a("0116"),d=a("50e3"),p=a("5615"),m=a("d242"),h=a("afa9"),f=a("99d6"),v={name:"LetterTemplate",components:{DataTableNoData:l["default"],VueAutoComplete:o["default"],VueTrumbowyg:c["default"]},mixins:[r["a"],m["a"]],props:{employmentDetails:{type:Object,default:function(){return{}}},component:{type:String,default:""},componentType:{type:String,default:""}},data:function(){return{endPoint:{},sharedData:{},orgSlug:this.$route.params.slug,taskDetails:{},isLoading:!1,descriptionLimit:40,entries:[],model:"",template:"",letterId:"",individualLetter:"",statusColor:{"Not Sent":"red",Sent:"green"},employee:"",templateEndpoint:d["a"].getLetterTemplate(this.$route.params.slug),search:"",snackbar:!1,disabled:!!this.user,generateDetail:{},taskCount:"",letter:{editable:!1,editText:""},offerLetter:!1,rowsPerPageItems:[10,20,30,40,50],headers:[{text:"Title",sortable:!1},{text:"Status",sortable:!1,align:"center"},{text:"Generated Date",sortable:!1},{text:"Save To Employee Documents",sortable:!1,align:"center"},{text:"Actions",sortable:!1}],loading:!1,deleteNotification:{dialog:!1,heading:"Confirm Delete",text:"Deleting this letter will not delete the one that is already saved to employee documents. Are you sure you want to delete this letter?"}}},computed:{items:function(){var e=this;return this.entries.map((function(t){var a=t.name.length>e.descriptionLimit?t.name.slice(0,e.descriptionLimit)+"...":t.name;return Object.assign({},t,{query:a})}))}},watch:{search:function(){var e=this;this.items.length>0||this.isLoading||(this.isLoading=!0,this.getData(u["a"].getTaskTemplate(this.orgSlug)).then((function(t){e.entries=t.results})),this.isLoading=!1)},model:function(){this.checkTask(this.model)}},created:function(){this.initializeUrl(),this.dataTableEndpoint=this.endPoint.fetchDataTable},methods:{initializeUrl:function(){"onBoard"===this.component?(this.sharedData.title="Select And Generate Letter Template to onboard ".concat(this.employmentDetails.full_name),this.sharedData.subTitle="List of -Task.",this.endPoint.fetchDataTable=p["a"].letterTemplate(this.getOrganizationSlug,this.employmentDetails.id),this.endPoint.updateDetails=p["a"].updatePreEmployment(this.getOrganizationSlug,this.employmentDetails.id)):"offBoard"===this.component?(this.sharedData.title="Select And Generate Letter Template to offboard ".concat(this.employmentDetails.employee.full_name),this.sharedData.subTitle="Select And Generate Letter Template to offboard ".concat(this.employmentDetails.employee.full_name),this.endPoint.fetchDataTable=h["a"].letterTemplate(this.getOrganizationSlug,this.employmentDetails.id),this.endPoint.updateDetails=h["a"].updateSeparationDetails(this.getOrganizationSlug,this.employmentDetails.id)):"changeType"===this.component&&(this.sharedData.title="Select And Generate Letter Template to change type ".concat(this.employmentDetails.employee.full_name),this.sharedData.subTitle="Select And Generate Letter Template to change type ".concat(this.employmentDetails.employee.full_name),this.endPoint.fetchDataTable=f["a"].getLetters(this.getOrganizationSlug,this.employmentDetails.id),this.endPoint.updateDetails=f["a"].getChangeTypeDetails(this.getOrganizationSlug,this.employmentDetails.id))},deleteLetter:function(){var e=this,t=d["a"].deleteLetter(this.orgSlug,this.letterId);this.deleteData(t).then((function(){e.notifyUser("This letter is successfully saved in user documents"),e.deleteNotification.dialog=!1,e.fetchDataTable()}))},updateLetter:function(){var e=this,t={message:this.letter.editText};this.crud.message="Successfully updated offer letter",this.patchData(d["a"].putLetter(this.orgSlug,this.individualLetter.id),t).then((function(t){e.individualLetter.message=t.message,e.letter.editable=!1}))},gotoNextStep:function(e){var t=this;if(["workshift-changed","payroll-changed","experience-added","pre-completed","core-tasks-updated","supervisor-added","letters-generated"].includes(this.employmentDetails.status)){var a={status:"letters-generated"};this.patchData(this.endPoint.updateDetails,a,{validate:!1}).then((function(a){t.$emit("next","onBoard"===t.component?"assign-equipment":"offBoard"===t.component?t.getNextComponent():"changeType"===t.component?"task-form":"","onBoard"===t.component?"letters-generated":"offBoard"===t.component?a.status:"changeType"===t.component?"task-form":"",e||t.componentType)}))}else this.$emit("next","onBoard"===this.component?"assign-equipment":"offBoard"===this.component?this.getNextComponent():"changeType"===this.component?"task-form":"","",e||this.componentType)},sendOfferLetter:function(e){var t=this;this.insertData(d["a"].sendLetter(this.orgSlug,e||this.letterId)).then((function(e){t.crud.message=e,t.offerLetter=!1,t.fetchDataTable()}))},saveOfferLetter:function(e){var t=this;this.crud.message="This letter is successfully saved in user documents.",this.insertData(d["a"].saveLetter(this.orgSlug,e||this.letterId)).then((function(){t.offerLetter=!1,t.fetchDataTable()}))},downloadOfferLetter:function(e,t){var a=this;this.$http({url:d["a"].downloadLetter(this.orgSlug,e||this.letterId),method:"GET",responseType:"blob"}).then((function(e){a.notifyUser("Your file is being Downloaded","green");var n=window.URL.createObjectURL(new Blob([e])),s=document.createElement("a");s.href=n,s.setAttribute("download","".concat(t,".pdf")),document.body.appendChild(s),s.click()}))},generateLetter:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.validateAllFields();case 2:if(!t.sent){t.next=4;break}(e.employmentDetails.employee&&e.employmentDetails.employee.id||e.employmentDetails.employee.id||e.employmentDetails.employee)&&(e.crud.message="Successfully Generated Template.",e.insertData(e.endPoint.fetchDataTable,{letter_template:e.template}).then((function(){e.fetchDataTable(),e.disabled=!0})).catch(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.pushErrors(a);case 2:e.nonFieldErrors.length&&e.notifyUser(e.nonFieldErrors[0]["non field errors"],"red");case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 4:case"end":return t.stop()}}),t)})))()},viewLetter:function(e){this.individualLetter=e,this.letterId=e.id,this.offerLetter=!0},getNextStatus:function(){var e=this.employmentDetails.separation_type;return e.display_leave?"letters-generated":e.display_attendance_details?"leave-reviewed":e.display_pending_tasks?"attendance-reviewed":e.display_payroll?"tasks-reviewed":"payroll-reviewed"},getNextComponent:function(){var e=this.employmentDetails.separation_type;return e.display_leave?"leave-details":e.display_attendance_details?"attendance-details":e.display_pending_tasks?"pending-tasks":e.display_payroll?"payroll-details":"task-form"},openPrevStep:function(){var e=this.employmentDetails.change_type,t="";return t=e.affects_core_tasks?"coretasks-list":e.affects_leave_balance?"leave-list":e.affects_work_shift?"workshift":e.affects_payroll?"payroll-list":"experience-list",t}}},g=v,y=a("2877"),b=a("6544"),k=a.n(b),_=a("8336"),x=a("b0af"),T=a("99d9"),D=a("62ad"),w=a("8fea"),C=a("169a"),S=a("ce7e"),P=a("132d"),L=a("0fd9b"),V=a("2db4"),O=a("2fa4"),$=a("3a2f"),E=Object(y["a"])(g,n,s,!1,null,null,null);t["a"]=E.exports;k()(E,{VBtn:_["a"],VCard:x["a"],VCardActions:T["a"],VCardText:T["c"],VCol:D["a"],VDataTable:w["a"],VDialog:C["a"],VDivider:S["a"],VIcon:P["a"],VRow:L["a"],VSnackbar:V["a"],VSpacer:O["a"],VTooltip:$["a"]})},"2a18":function(e,t,a){"use strict";a("99af");t["a"]={completeCheckList:function(e,t){return"/task/".concat(e,"/checklists/").concat(t,"/check/")},getCheckList:function(e){return"/task/".concat(e,"/checklists/")},postCheckList:function(e){return"/task/".concat(e,"/checklists/")},putCheckList:function(e,t){return"/task/".concat(e,"/checklists/").concat(t,"/")},deleteCheckList:function(e,t){return"/task/".concat(e,"/checklists/").concat(t,"/")}}},"2ab5":function(e,t,a){"use strict";a("9d1c")},"2bc5":function(e,t,a){"use strict";var n=a("5530"),s=(a("a15b"),a("abd3"),a("ade3")),i=a("1c87"),o=a("58df"),r=Object(o["a"])(i["a"]).extend({name:"v-breadcrumbs-item",props:{activeClass:{type:String,default:"v-breadcrumbs__item--disabled"},ripple:{type:[Boolean,Object],default:!1}},computed:{classes:function(){return Object(s["a"])({"v-breadcrumbs__item":!0},this.activeClass,this.disabled)}},render:function(e){var t=this.generateRouteLink(),a=t.tag,s=t.data;return e("li",[e(a,Object(n["a"])(Object(n["a"])({},s),{},{attrs:Object(n["a"])(Object(n["a"])({},s.attrs),{},{"aria-current":this.isActive&&this.isLink?"page":void 0})}),this.$slots.default)])}}),l=a("80d2"),c=Object(l["i"])("v-breadcrumbs__divider","li"),u=a("7560");t["a"]=Object(o["a"])(u["a"]).extend({name:"v-breadcrumbs",props:{divider:{type:String,default:"/"},items:{type:Array,default:function(){return[]}},large:Boolean},computed:{classes:function(){return Object(n["a"])({"v-breadcrumbs--large":this.large},this.themeClasses)}},methods:{genDivider:function(){return this.$createElement(c,this.$slots.divider?this.$slots.divider:this.divider)},genItems:function(){for(var e=[],t=!!this.$scopedSlots.item,a=[],n=0;n<this.items.length;n++){var s=this.items[n];a.push(s.text),t?e.push(this.$scopedSlots.item({item:s})):e.push(this.$createElement(r,{key:a.join("."),props:s},[s.text])),n<this.items.length-1&&e.push(this.genDivider())}return e}},render:function(e){var t=this.$slots.default||this.genItems();return e("ul",{staticClass:"v-breadcrumbs",class:this.classes},t)}})},3129:function(e,t,a){"use strict";var n=a("3835"),s=a("5530"),i=(a("ac1f"),a("1276"),a("d81d"),a("a630"),a("3ca3"),a("5319"),a("1f09"),a("c995")),o=a("24b2"),r=a("7560"),l=a("58df"),c=a("80d2");t["a"]=Object(l["a"])(i["a"],o["a"],r["a"]).extend({name:"VSkeletonLoader",props:{boilerplate:Boolean,loading:Boolean,tile:Boolean,transition:String,type:String,types:{type:Object,default:function(){return{}}}},computed:{attrs:function(){return this.isLoading?this.boilerplate?{}:Object(s["a"])({"aria-busy":!0,"aria-live":"polite",role:"alert"},this.$attrs):this.$attrs},classes:function(){return Object(s["a"])(Object(s["a"])({"v-skeleton-loader--boilerplate":this.boilerplate,"v-skeleton-loader--is-loading":this.isLoading,"v-skeleton-loader--tile":this.tile},this.themeClasses),this.elevationClasses)},isLoading:function(){return!("default"in this.$scopedSlots)||this.loading},rootTypes:function(){return Object(s["a"])({actions:"button@2",article:"heading, paragraph",avatar:"avatar",button:"button",card:"image, card-heading","card-avatar":"image, list-item-avatar","card-heading":"heading",chip:"chip","date-picker":"list-item, card-heading, divider, date-picker-options, date-picker-days, actions","date-picker-options":"text, avatar@2","date-picker-days":"avatar@28",heading:"heading",image:"image","list-item":"text","list-item-avatar":"avatar, text","list-item-two-line":"sentences","list-item-avatar-two-line":"avatar, sentences","list-item-three-line":"paragraph","list-item-avatar-three-line":"avatar, paragraph",paragraph:"text@3",sentences:"text@2",table:"table-heading, table-thead, table-tbody, table-tfoot","table-heading":"heading, text","table-thead":"heading@6","table-tbody":"table-row-divider@6","table-row-divider":"table-row, divider","table-row":"table-cell@6","table-cell":"text","table-tfoot":"text@2, avatar@2",text:"text"},this.types)}},methods:{genBone:function(e,t){return this.$createElement("div",{staticClass:"v-skeleton-loader__".concat(e," v-skeleton-loader__bone")},t)},genBones:function(e){var t=this,a=e.split("@"),s=Object(n["a"])(a,2),i=s[0],o=s[1],r=function(){return t.genStructure(i)};return Array.from({length:o}).map(r)},genStructure:function(e){var t=[];e=e||this.type||"";var a=this.rootTypes[e]||"";if(e===a);else{if(e.indexOf(",")>-1)return this.mapBones(e);if(e.indexOf("@")>-1)return this.genBones(e);a.indexOf(",")>-1?t=this.mapBones(a):a.indexOf("@")>-1?t=this.genBones(a):a&&t.push(this.genStructure(a))}return[this.genBone(e,t)]},genSkeleton:function(){var e=[];return this.isLoading?e.push(this.genStructure()):e.push(Object(c["s"])(this)),this.transition?this.$createElement("transition",{props:{name:this.transition},on:{afterEnter:this.resetStyles,beforeEnter:this.onBeforeEnter,beforeLeave:this.onBeforeLeave,leaveCancelled:this.resetStyles}},e):e},mapBones:function(e){return e.replace(/\s/g,"").split(",").map(this.genStructure)},onBeforeEnter:function(e){this.resetStyles(e),this.isLoading&&(e._initialStyle={display:e.style.display,transition:e.style.transition},e.style.setProperty("transition","none","important"))},onBeforeLeave:function(e){e.style.setProperty("display","none","important")},resetStyles:function(e){e._initialStyle&&(e.style.display=e._initialStyle.display||"",e.style.transition=e._initialStyle.transition,delete e._initialStyle)}},render:function(e){return e("div",{staticClass:"v-skeleton-loader",attrs:this.attrs,on:this.$listeners,class:this.classes,style:this.isLoading?this.measurableStyles:void 0},[this.genSkeleton()])}})},3860:function(e,t,a){"use strict";var n=a("604c");t["a"]=n["a"].extend({name:"button-group",provide:function(){return{btnToggle:this}},computed:{classes:function(){return n["a"].options.computed.classes.call(this)}},methods:{genData:n["a"].options.methods.genData}})},"3b5c":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[e.bottomSheet?a("vue-card-title",{attrs:{title:"Select Question Set  For Exit Interview For "+e.employmentDetails.employee.full_name,subtitle:"Select question set for exit interview for "+e.employmentDetails.employee.full_name,icon:"mdi-file-document-outline",dark:"",closable:""},on:{close:function(t){return e.$emit("cancel")}}}):a("vue-card-title",{attrs:{title:"Set Question For Exit Interview",subtitle:"Set Question For Exit Interview",icon:"mdi-file-document-outline"}}),a("v-divider"),a("v-card-text",[a("v-row",{directives:[{name:"show",rawName:"v-show",value:!e.loading&&e.showForm,expression:"!loading && showForm"}],attrs:{"no-gutters":""}},[e.nonFieldErrors.length>0?a("v-col",{attrs:{cols:"12"}},[a("non-field-form-errors",{attrs:{"non-field-errors":e.nonFieldErrors}})],1):e._e(),a("v-col",{staticClass:"my-0 py-0 px-2",attrs:{cols:"4"}},[a("vue-users-auto-complete",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{disabled:e.dateIsPast},model:{value:e.formValues.interviewer,callback:function(t){e.$set(e.formValues,"interviewer",t)},expression:"formValues.interviewer"}},"vue-users-auto-complete",e.veeValidate("interviewer"," Select Interviewer*"),!1))],1),a("v-col",{staticClass:"px-2",attrs:{md:"4",cols:"12"}},[a("vue-auto-complete",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{endpoint:"/hris/"+e.getOrganizationSlug+"/exit-interview/question-set/","item-text":"name","prepend-inner-icon":"mdi-file-document-outline","item-value":"id","hide-details":"",disabled:e.dateIsPast},model:{value:e.formValues.question_set,callback:function(t){e.$set(e.formValues,"question_set",t)},expression:"formValues.question_set"}},"vue-auto-complete",e.veeValidate("question_set","Select Question Set *"),!1))],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("vue-date-time-picker",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{disabled:e.dateIsPast},model:{value:e.formValues.scheduled_at,callback:function(t){e.$set(e.formValues,"scheduled_at",t)},expression:"formValues.scheduled_at"}},"vue-date-time-picker",e.veeValidate("scheduled_at","Schedule At *"),!1))],1),a("v-col",{attrs:{md:"4",cols:"12"}},[a("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required|max:255",expression:"'required|max:255'"}],attrs:{counter:"255","prepend-inner-icon":"mdi-map-marker-outline",disabled:e.dateIsPast},model:{value:e.formValues.location,callback:function(t){e.$set(e.formValues,"location",t)},expression:"formValues.location"}},"v-text-field",e.veeValidate("location","Location *"),!1))],1)],1),e.loading?a("default-svg-loader"):e._e()],1),e.bottomSheet?a("v-card-actions",[a("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.$emit("next",e.getPreviousComponent())}}},[a("v-icon",{domProps:{textContent:e._s("mdi-chevron-left")}}),e._v(" Previous ")],1),a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){return e.$emit("cancel")}}},[e._v(" Cancel ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.deleteNotification.dialog=!0}}},[e._v(" Skip ")]),a("v-btn",{attrs:{color:"primary",depressed:""},on:{click:e.postData}},[e._v(" Next "),a("v-icon",{domProps:{textContent:e._s("mdi-chevron-right")}})],1)],1):e._e(),a("vue-dialog",{attrs:{notify:e.deleteNotification},on:{close:function(t){e.deleteNotification.dialog=!1},agree:e.skipPreTask}})],1)},s=[],i=a("1da1"),o=(a("96cf"),a("c197")),r=a("afa9"),l=a("d567"),c=a("c44a"),u=a("ef8c"),d=a("5660"),p=a("8b61"),m=a("cfa3"),h=a("a09e"),f=a("0a8c"),v=a("ab8a"),g={name:"ExitInterview",components:{DefaultSvgLoader:o["default"],VueDateTimePicker:l["a"],VueUsersAutoComplete:u["default"],VueAutoComplete:d["default"],NonFieldFormErrors:v["default"]},mixins:[c["a"],p["a"],m["a"],h["a"]],props:{employmentDetails:{type:Object,required:!0},bottomSheet:{type:Boolean,default:!1}},data:function(){return{formDataCopy:{},deleteNotification:{dialog:!1,heading:"Confirm Your Action",subheading:"You are about to skip exit interview.",text:"Are you sure you want to skip exit interview?"},loading:!1,showForm:!0,formValues:{separation:this.employmentDetails.id,interviewer:{},question_set:null,location:"",scheduled_at:""},dateIsPast:!1}},mounted:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.crud.endpoint.post=r["a"].exitInterviewPost(e.getOrganizationSlug)+"?as=hr",e.crud.endpoint.get=r["a"].getIndividualSeparation(e.getOrganizationSlug,e.employmentDetails.id),t.next=4,e.getData();case 4:if(e.employmentDetails.exit_interview=e.response.exit_interview,!e.employmentDetails.exit_interview){t.next=11;break}return e.crud.endpoint.get=f["a"].getPostExitInterviewSeparation(e.getOrganizationSlug,e.employmentDetails.id)+"?as=hr",t.next=9,e.getData();case 9:e.response&&(e.formValues.separation=e.response.separation.id,e.formValues.interviewer=e.response.interviewer,e.formValues.question_set=e.response.question_set,e.formValues.location=e.response.location,e.formValues.scheduled_at=e.response.scheduled_at),e.scheduledDateIsPast();case 11:case"end":return t.stop()}}),t)})))()},methods:{skipPreTask:function(){var e=this;this.formValues.status="exit-interview-reviewed",this.$http.patch(r["a"].updateSeparationDetails(this.getOrganizationSlug,this.employmentDetails.id),this.formValues).then((function(){e.$emit("next","task-form","","postTask")}))},getPreviousComponent:function(){var e=this.employmentDetails.separation_type;return e.display_payroll?"payroll-details":e.display_pending_tasks?"pending-tasks":e.display_attendance_details?"attendance-details":e.display_leave?"leave-details":"letter-template"},postData:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.validateAllFields();case 2:if(!t.sent){t.next=4;break}e.dateIsPast?e.$emit("next","exit-interview-details"):(e.crud.message="Exit Interview Saved",e.formDataCopy=e.deepCopy(e.formValues),e.insertData(),0===!e.errors.count()&&(e.showForm=!1));case 4:case"end":return t.stop()}}),t)})))()},processAfterCreateSuccess:function(){"payroll-reviewed"===this.employmentDetails.status||"exit-interview-created"===this.employmentDetails.status?(this.crud.endpoint.patch=r["a"].updateSeparationDetails(this.getOrganizationSlug,this.employmentDetails.id),this.loading=!1,this.formValues=this.deepCopy(this.formDataCopy),this.formValues.status="exit-interview-created",this.updateData()):this.$emit("next","exit-interview-details")},processAfterUpdateSuccess:function(){this.$emit("next","exit-interview-details")},processAfterInsert:function(){this.showForm=!0},scheduledDateIsPast:function(){var e=new Date,t=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate(),a=e.getHours()+":"+e.getMinutes()+":"+e.getSeconds(),n=t+" "+a;this.dateIsPast=!!(Date.parse(this.formValues.scheduled_at)<Date.parse(n)&&this.employmentDetails.exit_interview)}}},y=g,b=a("2877"),k=a("6544"),_=a.n(k),x=a("8336"),T=a("b0af"),D=a("99d9"),w=a("62ad"),C=a("ce7e"),S=a("132d"),P=a("0fd9b"),L=a("2fa4"),V=a("8654"),O=Object(b["a"])(y,n,s,!1,null,null,null);t["a"]=O.exports;_()(O,{VBtn:x["a"],VCard:T["a"],VCardActions:D["a"],VCardText:D["c"],VCol:w["a"],VDivider:C["a"],VIcon:S["a"],VRow:P["a"],VSpacer:L["a"],VTextField:V["a"]})},"50e3":function(e,t,a){"use strict";a("99af");t["a"]={getLetterTemplate:function(e){return"/hris/".concat(e,"/employment/letter-template/")},postLetterTemplate:function(e){return"/hris/".concat(e,"/employment/letter-template/")},updateLetterTemplate:function(e,t){return"/hris/".concat(e,"/employment/letter-template/").concat(t,"/")},deleteLetterTemplate:function(e,t){return"/hris/".concat(e,"/employment/letter-template/").concat(t,"/")},downloadLetter:function(e,t){return"/hris/".concat(e,"/employment/letters/").concat(t,"/download/")},getLetter:function(e){return"/hris/".concat(e,"/employment/letters/")},postLetter:function(e){return"/hris/".concat(e,"/employment/letters/")},putLetter:function(e,t){return"/hris/".concat(e,"/employment/letters/").concat(t,"/")},deleteLetter:function(e,t){return"/hris/".concat(e,"/employment/letters/").concat(t,"/")},sendLetter:function(e,t){return"/hris/".concat(e,"/employment/letters/").concat(t,"/send/")},saveLetter:function(e,t){return"/hris/".concat(e,"/employment/letters/").concat(t,"/save/")},getHints:function(e){return"/hris/".concat(e,"/employment/letter-template/hints/")}}},"553a":function(e,t,a){"use strict";var n=a("5530"),s=(a("a9e3"),a("c7cd"),a("b5b6"),a("8dd9")),i=a("3a66"),o=a("d10f"),r=a("58df"),l=a("80d2");t["a"]=Object(r["a"])(s["a"],Object(i["a"])("footer",["height","inset"]),o["a"]).extend({name:"v-footer",props:{height:{default:"auto",type:[Number,String]},inset:Boolean,padless:Boolean,tag:{type:String,default:"footer"}},computed:{applicationProperty:function(){return this.inset?"insetFooter":"footer"},classes:function(){return Object(n["a"])(Object(n["a"])({},s["a"].options.computed.classes.call(this)),{},{"v-footer--absolute":this.absolute,"v-footer--fixed":!this.absolute&&(this.app||this.fixed),"v-footer--padless":this.padless,"v-footer--inset":this.inset})},computedBottom:function(){if(this.isPositioned)return this.app?this.$vuetify.application.bottom:0},computedLeft:function(){if(this.isPositioned)return this.app&&this.inset?this.$vuetify.application.left:0},computedRight:function(){if(this.isPositioned)return this.app&&this.inset?this.$vuetify.application.right:0},isPositioned:function(){return Boolean(this.absolute||this.fixed||this.app)},styles:function(){var e=parseInt(this.height);return Object(n["a"])(Object(n["a"])({},s["a"].options.computed.styles.call(this)),{},{height:isNaN(e)?e:Object(l["g"])(e),left:Object(l["g"])(this.computedLeft),right:Object(l["g"])(this.computedRight),bottom:Object(l["g"])(this.computedBottom)})}},methods:{updateApplication:function(){var e=parseInt(this.height);return isNaN(e)?this.$el?this.$el.clientHeight:0:e}},render:function(e){var t=this.setBackgroundColor(this.color,{staticClass:"v-footer",class:this.classes,style:this.styles});return e(this.tag,t,this.$slots.default)}})},5615:function(e,t,a){"use strict";a("99af");t["a"]={getPreEmployment:function(e){return"/hris/".concat(e,"/employment/pre-employment/")},postPreEmployment:function(e){return"/hris/".concat(e,"/employment/pre-employment/")},updatePreEmployment:function(e,t){return"/hris/".concat(e,"/employment/pre-employment/").concat(t,"/")},deletePreEmployment:function(e,t){return"/hris/".concat(e,"/employment/pre-employment/").concat(t,"/")},getPreEmploymentDetail:function(e,t){return"/hris/".concat(e,"/employment/pre-employment/").concat(t,"/")},generateOfferLetter:function(e,t){return"/hris/".concat(e,"/employment/pre-employment/").concat(t,"/generate/")},sendOfferLetter:function(e,t){return"/hris/".concat(e,"/employment/pre-employment/").concat(t,"/send-offer/")},downloadOfferLetter:function(e,t){return"/hris/".concat(e,"/employment/pre-employment/").concat(t,"/download/")},getEmailDetail:function(e,t){return"/hris/".concat(e,"/employment/pre-employment/offer-letter/perform/").concat(t,"/")},postEmailDetail:function(e,t){return"/hris/".concat(e,"/employment/pre-employment/offer-letter/perform/").concat(t,"/")},getOfferLetter:function(e){return"/hris/offer-letter/".concat(e,"/")},acceptOfferLetter:function(e,t){return"/hris/".concat(e,"/employment/pre-employment/").concat(t,"/letter/accept/")},declineOfferLetter:function(e,t){return"/hris/".concat(e,"/employment/pre-employment/").concat(t,"/letter/decline/")},reGenerateLetter:function(e,t){return"/hris/".concat(e,"/employment/letters/").concat(t,"/regenerate/")},downloadLetterId:function(e,t){return"/hris/".concat(e,"/employment/letters/").concat(t,"/download/")},getPreTasks:function(e,t){return"/hris/".concat(e,"/employment/pre-employment/").concat(t,"/pre-tasks/")},postPreTasksMultiAssign:function(e,t){return"/hris/".concat(e,"/employment/pre-employment/").concat(t,"/pre-tasks/multi-assign/")},getPostTasks:function(e,t){return"/hris/".concat(e,"/employment/pre-employment/").concat(t,"/post-tasks/")},postPostTasksMultiAssign:function(e,t){return"/hris/".concat(e,"/employment/pre-employment/").concat(t,"/post-tasks/multi-assign/")},letterTemplate:function(e,t){return"/hris/".concat(e,"/employment/pre-employment/").concat(t,"/letters/")}}},5660:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"d-flex space-between"},[a("v-autocomplete",{key:e.componentKey,ref:"autoComplete",class:e.appliedClass,attrs:{id:e.id,items:e.itemsSorted,"search-input":e.search,loading:e.isLoading,multiple:e.multiple,label:e.label,error:e.errorMessages.length>0,"error-messages":e.errorMessages,disabled:e.disabled,readonly:e.readonly,"data-cy":"autocomplete-"+e.dataCyVariable,"prepend-inner-icon":e.prependInnerIcon,clearable:e.clearable&&!e.readonly,"hide-details":e.hideDetails,"item-text":e.itemText,"item-value":e.itemValue,"small-chips":e.multiple||e.chips,"deletable-chips":e.multiple,hint:e.hint,"persistent-hint":e.persistentHint,chips:e.chips,solo:e.solo,flat:e.flat,"cache-items":e.cacheItems,placeholder:e.placeholder,dense:e.dense,"hide-selected":"","hide-no-data":""},on:{"update:searchInput":function(t){e.search=t},"update:search-input":function(t){e.search=t},focus:e.populateOnFocus,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.searchText())},change:e.updateState,blur:function(t){return e.$emit("blur")}},scopedSlots:e._u([{key:"selection",fn:function(t){return[e._t("selection",(function(){return[e.itemText&&t.item?a("div",[e.multiple||e.chips?a("v-chip",{attrs:{close:(e.clearable||!e.clearable&&!e.multiple)&&!e.readonly,small:""},on:{"click:close":function(a){return e.remove(t.item)}}},[t.item[e.itemText]?a("div",[t.item[e.itemText].length>40?a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(n){var s=n.on;return[a("span",e._g({},s),[e._v(" "+e._s(e._f("truncate")(t.item[e.itemText],40)))])]}}],null,!0)},[a("span",[e._v(e._s(t.item[e.itemText]))])]):a("span",[e._v(e._s(t.item[e.itemText]))])],1):a("div",[a("span",[e._v(e._s(t.item))])])]):a("div",[t.item[e.itemText]?a("div",[t.item[e.itemText].length>40?a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(n){var s=n.on;return[a("span",e._g({},s),[e._v(" "+e._s(e._f("truncate")(t.item[e.itemText],40)))])]}}],null,!0)},[a("span",[e._v(e._s(t.item[e.itemText]))])]):a("span",[e._v(e._s(t.item[e.itemText]))])],1):a("div",[a("span",[e._v(e._s(t.item))])])])],1):e._e()]}),{props:t})]}},{key:"item",fn:function(t){return[a("v-list-item-content",[a("v-list-item-title",[e._t("item",(function(){return[e.itemText&&t.item?a("div",[t.item[e.itemText]?a("div",[t.item[e.itemText].length>40?a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(n){var s=n.on;return[a("span",e._g({},s),[e._v(" "+e._s(e._f("truncate")(t.item[e.itemText],40)))])]}}],null,!0)},[a("span",[e._v(e._s(t.item[e.itemText]))])]):a("span",[e._v(e._s(t.item[e.itemText]))])],1):a("div",[a("span",[e._v(e._s(t.item))])])]):e._e()]}),{props:t})],2)],1)]}},{key:"append-item",fn:function(){return[!e.fullyLoaded&&e.showMoreIcon?a("div",[a("v-list-item-content",{staticClass:"px-4 pointer primary--text font-weight-bold"},[a("v-list-item-title",{on:{click:function(t){return e.fetchData()}}},[e._v(" Load More Items ... ")])],1)],1):e._e()]},proxy:!0}],null,!0),model:{value:e.selectedData,callback:function(t){e.selectedData=t},expression:"selectedData"}}),e._t("default")],2)},s=[],i=a("2909"),o=a("5530"),r=a("53ca"),l=a("1da1"),c=(a("96cf"),a("a9e3"),a("ac1f"),a("841c"),a("7db0"),a("d81d"),a("159b"),a("4de4"),a("4e827"),a("2ca0"),a("d3b7"),a("c740"),a("a434"),a("3ca3"),a("ddb0"),a("2b3d"),a("caad"),a("2532"),a("63ea")),u=a.n(c),d={props:{value:{type:[Number,String,Array,Object],default:void 0},id:{type:String,default:""},dataCyVariable:{type:String,default:""},endpoint:{type:String,default:""},itemText:{type:String,required:!0},itemValue:{type:String,required:!0},params:{type:Object,required:!1,default:function(){return{}}},itemsToExclude:{type:[Array,Number],default:null},forceFetch:{type:Boolean,default:!1},staticItems:{type:Array,default:function(){return[]}},errorMessages:{type:[String,Array],default:function(){return[]}},label:{type:String,default:""},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},hint:{type:String,default:void 0},persistentHint:{type:Boolean,required:!1,default:!1},multiple:{type:Boolean,required:!1,default:!1},clearable:{type:Boolean,default:!0},hideDetails:{type:Boolean,default:!1},solo:{type:Boolean,default:!1},flat:{type:Boolean,default:!1},chips:{type:Boolean,default:!1},prependInnerIcon:{type:String,default:void 0},cacheItems:{type:Boolean,default:!1},appliedClass:{type:String,default:""},placeholder:{type:String,default:""},dense:{type:Boolean,default:!1}},data:function(){return{componentKey:0,items:[],selectedData:null,search:null,initialFetchStarted:!1,nextLimit:null,nextOffset:null,showMoreIcon:!1,fullyLoaded:!1,isLoading:!1}},computed:{itemsSorted:function(){return this.sortBySearch(this.items,this.search?this.search.toLowerCase():"")}},watch:{value:{handler:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var a,n,s,i,o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=10;break}if(!this.forceFetch||this.initialFetchStarted){e.next=6;break}return this.initialFetchStarted=!0,e.next=5,this.fetchData();case 5:this.removeDuplicateItem();case 6:Array.isArray(t)?(s=[],"object"===Object(r["a"])(t[0])?(this.selectedData=t.map((function(e){return e[o.itemValue]})),t.forEach((function(e){var t=o.items.find((function(t){return t===e}));t||s.push(e)}))):(t.forEach((function(e){var t=o.items.find((function(t){return t[o.itemValue]===e}));t||s.push(e)})),this.selectedData=t),s.length>0&&(i=this.items).push.apply(i,s)):"object"===Object(r["a"])(t)?(this.selectedData=t[this.itemValue],a=this.items.find((function(e){return e[o.itemValue]===t})),a||this.items.push(t)):(this.selectedData=t,n=this.items.find((function(e){return e===t})),n||this.items.push(t)),this.updateData(this.selectedData),e.next=11;break;case 10:t||(this.selectedData=null);case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),immediate:!0},selectedData:function(e){this.updateData(e)},params:{handler:function(e,t){u()(e,t)||(this.fullyLoaded=!1,this.initialFetchStarted=!1,this.items=[],this.componentKey+=1)},deep:!0}},methods:{sortBySearch:function(e,t){var a=this.itemText,n=e.filter((function(e){return"object"===Object(r["a"])(e)}));return n.sort((function(e,n){return e[a].toLowerCase().startsWith(t)&&n[a].toLowerCase().startsWith(t)?e[a].toLowerCase().localeCompare(n[a].toLowerCase()):e[a].toLowerCase().startsWith(t)?-1:n[a].toLowerCase().startsWith(t)?1:e[a].toLowerCase().localeCompare(n[a].toLowerCase())}))},populateOnFocus:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.initialFetchStarted){t.next=2;break}return t.abrupt("return");case 2:return e.initialFetchStarted=!0,t.next=5,e.fetchData();case 5:e.removeDuplicateItem();case 6:case"end":return t.stop()}}),t)})))()},fetchData:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.staticItems.length>0)){t.next=3;break}return e.items=e.staticItems,t.abrupt("return");case 3:return a=e.nextLimit,n=e.nextOffset,e.search&&(a=null,n=null),e.isLoading=!0,t.next=9,e.$http.get(e.endpoint,{params:Object(o["a"])(Object(o["a"])({},e.params),{},{search:e.search,limit:a,offset:n})}).then((function(t){var a;t.results||(t.results=t),t.next?(e.showMoreIcon=!0,e.extractLimitOffset(t.next)):(e.showMoreIcon=!1,e.search||(e.fullyLoaded=!0)),e.itemsToExclude&&(t.results=e.excludeRecord(t.results)),(a=e.items).push.apply(a,Object(i["a"])(t.results))})).finally((function(){e.isLoading=!1}));case 9:case"end":return t.stop()}}),t)})))()},removeDuplicateItem:function(){var e=this,t=this.items.indexOf(this.selectedData);if(t>=0){var a=this.items.findIndex((function(t){return t[e.itemValue]===e.selectedData}));a>=0&&(this.items.splice(t,1),this.componentKey+=1)}},updateData:function(e){var t=this,a=[];e instanceof Array?e.forEach((function(e){a.unshift(t.items.find((function(a){return a[t.itemValue]===e})))})):a=this.items.find((function(a){return a[t.itemValue]===e})),this.$emit("input",e),this.$emit("update:selectedFullData",a)},searchText:function(){0!==this.$refs.autoComplete.filteredItems.length||this.fullyLoaded||this.fetchData()},extractLimitOffset:function(e){var t=new URL(e);this.nextLimit=t.searchParams.get("limit"),this.nextOffset=t.searchParams.get("offset")},excludeRecord:function(e){var t=this,a=[];return"number"===typeof this.itemsToExclude?a.push(this.itemsToExclude):a=this.itemsToExclude,e.filter((function(e){if(e[t.itemValue])return!a.includes(e[t.itemValue])}))},remove:function(e){if(this.selectedData instanceof Object){var t=this.selectedData.indexOf(e[this.itemValue]);t>=0&&this.selectedData.splice(t,1)}else this.selectedData=null},updateState:function(){this.search="",this.nextLimit&&(this.showMoreIcon=!0)}}},p=d,m=a("2877"),h=a("6544"),f=a.n(h),v=a("c6a6"),g=a("cc20"),y=a("5d23"),b=a("3a2f"),k=Object(m["a"])(p,n,s,!1,null,null,null);t["default"]=k.exports;f()(k,{VAutocomplete:v["a"],VChip:g["a"],VListItemContent:y["a"],VListItemTitle:y["c"],VTooltip:b["a"]})},"696f":function(e,t,a){},"6c6f":function(e,t,a){"use strict";a("d3b7");t["a"]={data:function(){return{deleteNotification:{dialog:!1,heading:"Confirm Delete",text:"Are you sure you want to delete ?"}}},methods:{deleteData:function(e,t){var a=this;return new Promise((function(n,s){!a.loading&&e&&(a.loading=!0,a.$http.delete(e,t||{}).then((function(e){a.crud.message&&setTimeout((function(){a.notifyUser(a.crud.message)}),1e3),n(e),a.loading=!1})).catch((function(e){a.pushErrors(e),a.notifyInvalidFormResponse(),s(e),a.loading=!1})).finally((function(){a.deleteNotification.dialog=!1})))}))}}}},"7e58":function(e,t,a){},8714:function(e,t,a){"use strict";var n=a("6c6f"),s=a("f70a"),i=a("8cd3");t["a"]={mixins:[s["a"],n["a"],i["a"]]}},"892c":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("vue-card-title",{attrs:{title:e.sharedData.title,subtitle:e.sharedData.subTitle,icon:"mdi-file-document-outline",dark:"",closable:""},on:{close:function(t){return e.$emit("cancel")}}}),a("v-divider"),a("v-card-text",{staticClass:"ma-0 pa-0 scrollbar"},[e.nonFieldErrors?a("non-field-form-errors",{attrs:{"non-field-errors":e.nonFieldErrors}}):e._e(),a("v-data-table",{attrs:{"show-select":"","mobile-breakpoint":0,"single-select":e.fetchedResults.length===e.fetchedResults.filter((function(e){return e.task})).length,headers:e.headers,items:e.fetchedResults,loading:e.loading,"sort-desc":e.pagination.descending,"sort-by":e.pagination.sortBy,page:e.pagination.page,"items-per-page":e.pagination.rowsPerPage,"footer-props":e.footerProps,"server-items-length":e.pagination.totalItems,"must-sort":""},on:{"update:sortDesc":function(t){return e.$set(e.pagination,"descending",t)},"update:sort-desc":function(t){return e.$set(e.pagination,"descending",t)},"update:sortBy":function(t){return e.$set(e.pagination,"sortBy",t)},"update:sort-by":function(t){return e.$set(e.pagination,"sortBy",t)},"update:page":function(t){return e.$set(e.pagination,"page",t)},"update:itemsPerPage":function(t){return e.$set(e.pagination,"rowsPerPage",t)},"update:items-per-page":function(t){return e.$set(e.pagination,"rowsPerPage",t)}},scopedSlots:e._u([{key:"item",fn:function(t){return[a("tr",[a("td",[a("v-checkbox",{staticClass:"mt-n2",attrs:{value:!t.item.task&&t.isSelected,primary:"",disabled:!!t.item.task,"hide-details":""},on:{change:function(e){return t.select(!t.isSelected)}}})],1),a("td",[t.item.template_detail?a("div",[e._v(" "+e._s(e._f("truncate")(t.item.task?t.item.task.title:t.item.template_detail.title,30))+" ")]):e._e()]),a("td",[t.item.task?a("div",[a("thumbnail-users",{attrs:{"total-users":t.item.task.responsible_persons.length,users:t.item.task.responsible_persons}})],1):t.item.template_detail&&t.item.template_detail.responsible_persons.length?a("div",[a("thumbnail-users",{attrs:{"total-users":t.item.template_detail.responsible_persons.length,users:t.item.template_detail.responsible_persons}})],1):a("div",[e._v("--")])]),a("td",[t.item.task&&t.item.task.deadline?a("div",[e._v(" "+e._s(t.item.task.deadline.substring(0,10)||"N/A")+" ")]):t.item.template_detail?a("div",[e._v(" "+e._s(t.item.template_detail.deadline_date.substring(0,10))+" ")]):a("div",[e._v("--")])]),a("td",{staticClass:"text-center"},[t.item.task?a("v-chip",{attrs:{color:e.taskStatusColor[t.item.task.status],outlined:"",small:""}},[e._v(" "+e._s(t.item.task?e.taskStatus[t.item.task.status]:"N/A")+" ")]):a("div",[e._v("--")])],1),a("td",{staticClass:"text-center"},[a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(n){var s=n.on;return[a("v-icon",e._g({class:t.item.task?"primary--text":"green--text",domProps:{textContent:e._s(t.item.task?"mdi-eye-outline":"mdi-account-plus-outline")},on:{click:function(a){t.item.task?e.openDetails(t.item.task.id):e.triggerForm(t.item)}}},s))]}}],null,!0)},[a("span",{domProps:{textContent:e._s(t.item.task?"View Details":"Assign Task")}})])],1)])]}}]),model:{value:e.selectedUsers,callback:function(t){e.selectedUsers=t},expression:"selectedUsers"}},[a("template",{slot:"no-data"},[a("data-table-no-data",{attrs:{loading:e.loading}})],1)],2),a("v-dialog",{attrs:{scrollable:"",transition:"dialog-bottom-transition",fullscreen:"",persistent:""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.dismissForm.apply(null,arguments)}},model:{value:e.assignTasks,callback:function(t){e.assignTasks=t},expression:"assignTasks"}},[e.assignTasks?a("v-card",[a("vue-card-title",{attrs:{title:"Assign New Task",subtitle:"-",icon:"mdi-file-document-outline",dark:"",closable:""},on:{close:function(t){e.assignTasks=!1}}}),a("v-divider"),a("v-card-text",[e.assignTasks?a("task-assign-form",{attrs:{"action-data":e.actionData,"pre-employment-details":e.component?e.mutableEmploymentDetails:"","pre-task":"preTask"===e.componentType,endpoint:"onBoard"===e.component?"pre-employment":"offBoard"===e.component?"separation":"changeType"===e.component||"changeType"===e.component?"employment-review":""},on:{close:e.dismissForm}}):e._e()],1)],1):e._e()],1)],1),a("v-card-actions",[a("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.$emit("next","task-form","",e.componentType)}}},[a("v-icon",{domProps:{textContent:e._s("mdi-chevron-left")}}),e._v(" Previous ")],1),a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){return e.$emit("cancel")}}},[e._v(" Cancel ")]),a("v-btn",{attrs:{disabled:0===e.selectedUsers.length,color:"primary"},domProps:{textContent:e._s("Assign Selected")},on:{click:function(t){e.confirmNotify.dialog=!0}}}),a("v-btn",{attrs:{disabled:0===e.fetchedResults.filter((function(e){return e.task})).length,color:"postTask"===e.componentType&&"changeType"===e.component?"primary":"success",depressed:""},on:{click:function(t){return e.gotoNextStep()}}},[e._v(" "+e._s("preTask"===e.componentType||"postTask"===e.componentType&&"changeType"===e.component?"Next":"Complete")+" "),"preTask"===e.componentType||"postTask"===e.componentType&&"changeType"===e.component?a("v-icon",{domProps:{textContent:e._s("mdi-chevron-right")}}):a("v-icon",{domProps:{textContent:e._s("mdi-check")}})],1)],1),a("vue-dialog",{attrs:{notify:e.confirmNotify},on:{close:function(t){e.confirmNotify.dialog=!1},agree:function(t){return e.assignSelectedTasks()}}})],1)},s=[],i=(a("99af"),a("d81d"),a("4de4"),a("d3b7"),a("983c")),o=a("8714"),r=a("cde3"),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-form",{ref:"task",on:{submit:function(t){return t.preventDefault(),e.getFormAction.apply(null,arguments)}}},[a("v-row",[a("v-col",{attrs:{md:"6",cols:"12"}},[e.nonFieldErrors?a("non-field-form-errors",{attrs:{"non-field-errors":e.nonFieldErrors}}):e._e(),a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("user-auto-complete",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{params:{user_status:"current",have_experience:!0},"items-to-exclude":e.previousResponsiblePersons.map((function(e){return e.user.id})),"user-object":e.responsiblePersonsObject,multiple:""},on:{"update:userObject":function(t){e.responsiblePersonsObject=t},"update:user-object":function(t){e.responsiblePersonsObject=t}},model:{value:e.responsiblePersons,callback:function(t){e.responsiblePersons=t},expression:"responsiblePersons"}},"user-auto-complete",e.veeValidate("responsible_persons","Assign To *"),!1))],1),a("v-col",{attrs:{cols:"6"}},[a("user-auto-complete",e._b({directives:[{name:"validate",rawName:"v-validate",value:"",expression:"''"}],attrs:{"user-object":e.observersObject,multiple:""},on:{"update:userObject":function(t){e.observersObject=t},"update:user-object":function(t){e.observersObject=t}},model:{value:e.formValues.observers,callback:function(t){e.$set(e.formValues,"observers",t)},expression:"formValues.observers"}},"user-auto-complete",e.veeValidate("observers","Observers"),!1))],1),a("v-col",{staticClass:"py-0",attrs:{cols:"6"}}),a("v-col",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"py-0",attrs:{cols:"6"}},[a("v-switch",{staticClass:"ma-0",attrs:{label:"Include Employee"},model:{value:e.formValues.include_employee,callback:function(t){e.$set(e.formValues,"include_employee",t)},expression:"formValues.include_employee"}})],1),a("v-col",{attrs:{cols:"12"}},[a("div",{domProps:{textContent:e._s("Priority: ")}}),a("v-btn-toggle",{model:{value:e.formValues.priority,callback:function(t){e.$set(e.formValues,"priority",t)},expression:"formValues.priority"}},e._l(e.priorityChoices,(function(t){return a("v-btn",{key:t.value,class:t.value===e.formValues.priority?t.color+" white--text":"black--text",attrs:{value:t.value,text:"",small:""},domProps:{textContent:e._s(t.text)}})})),1)],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],model:{value:e.formValues.title,callback:function(t){e.$set(e.formValues,"title",t)},expression:"formValues.title"}},"v-text-field",e.veeValidate("title","Title *"),!1))],1),a("v-col",[a("vue-date-time-picker",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"place-holder":"Deadline of the task"},model:{value:e.formValues.deadline,callback:function(t){e.$set(e.formValues,"deadline",t)},expression:"formValues.deadline"}},"vue-date-time-picker",e.veeValidate("deadline","Deadline *"),!1))],1),a("v-col",[a("v-switch",{attrs:{label:"Changeable Deadline"},model:{value:e.formValues.changeable_deadline,callback:function(t){e.$set(e.formValues,"changeable_deadline",t)},expression:"formValues.changeable_deadline"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"max:100",expression:"'max:100'"}],attrs:{counter:100,placeholder:"Things to do ...","append-icon":"mdi-plus"},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.addToCheckList.apply(null,arguments))},"click:append":e.addToCheckList},model:{value:e.formValues.check_list_title,callback:function(t){e.$set(e.formValues,"check_list_title",t)},expression:"formValues.check_list_title"}},"v-text-field",e.veeValidate("check_list_title","Checklists"),!1))],1),a("v-col",{attrs:{cols:"12"}},[a("vue-trumbowyg",e._b({directives:[{name:"validate",rawName:"v-validate",value:"max:10000",expression:"'max:10000'"}],attrs:{placeholder:"Write a description for this task"},model:{value:e.formValues.description,callback:function(t){e.$set(e.formValues,"description",t)},expression:"formValues.description"}},"vue-trumbowyg",e.veeValidate("description","Description"),!1))],1),a("v-col",{attrs:{cols:"12"}},[a("create-task-attachments-to-assign",{attrs:{"all-attachments":e.previousAttachments},model:{value:e.attachments,callback:function(t){e.attachments=t},expression:"attachments"}})],1)],1)],1),a("v-col",{attrs:{md:"6",cols:"12"}},[a("div",[a("h4",[e._v("Responsible Person")]),a("div",[a("v-divider"),e.actualResponsiblePersonsObject&&!e.actualResponsiblePersonsObject.length?a("p",{domProps:{textContent:e._s("Select Responsible person to view their result areas")}}):e._l(e.actualResponsiblePersonsObject,(function(t,n){return a("v-col",{key:n,attrs:{cols:"12",md:"12"}},[a("v-row",{attrs:{align:"center"}},[a("v-list-item-avatar",[a("v-img",{attrs:{src:t&&t.profile_picture}})],1),a("v-col",{staticClass:"pl-0",attrs:{cols:"3"}},[a("v-list-item-content",[a("v-list-item-title",{domProps:{textContent:e._s(t&&t.full_name)}}),a("v-list-item-subtitle",{domProps:{textContent:e._s(t&&t.division)}})],1)],1),a("v-col",{attrs:{cols:"7"}},[e.userCoreTasks[t.id]?e.userCoreTasks[t.id].length?e._l(e.userCoreTasks[t.id],(function(s){return a("div",{key:s.id},[a("v-row",{attrs:{align:"center",justify:"start",dense:""}},[a("v-col",{attrs:{sm:"12"}},[a("v-switch",{key:s.id,staticClass:"mt-0",attrs:{id:String(s.id),"hide-details":""},on:{change:function(t){return e.removeCoreTask(s,n)}},model:{value:s.showCoreTask,callback:function(t){e.$set(s,"showCoreTask",t)},expression:"resultArea.showCoreTask"}},[a("template",{slot:"label"},[a("span",[e._v(" "+e._s(s.result_area.title+"-")+" ")]),s.key_result_area?a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("span",e._g({staticClass:"font-weight-bold",domProps:{textContent:e._s(" KRA")}},n))]}}],null,!0)},[a("span",[e._v(" Key Result Area")])]):e._e()],1)],2)],1)],1),s.showCoreTask?a("span",e._l(s.core_tasks,(function(n){return a("v-row",{key:n.id,staticClass:"ml-3",attrs:{align:"center",dense:""}},[a("v-col",{attrs:{sm:"12"}},[a("v-checkbox",{staticClass:"mt-0",attrs:{id:String(n.id),value:n.id,loading:!0,"hide-details":"",multiple:"",height:"10"},model:{value:t.core_tasks,callback:function(a){e.$set(t,"core_tasks",a)},expression:"user.core_tasks"}},[a("template",{slot:"label"},[a("v-col",{domProps:{textContent:e._s(n.title)}})],1)],2)],1)],1)})),1):e._e()],1)})):a("p",{domProps:{textContent:e._s(t.full_name+" has no core task.")}}):a("p",{domProps:{textContent:e._s("Fetching...")}})],2)],1),a("v-divider")],1)}))],2),e.previousResponsiblePersons&&e.previousResponsiblePersons.length?a("div",[a("span",{domProps:{textContent:e._s("Existing Responsible Persons")}}),e._l(e.previousResponsiblePersons,(function(t,n){return a("div",{key:n},[a("v-hover",{scopedSlots:e._u([{key:"default",fn:function(s){var i=s.hover;return a("div",{},[a("v-avatar",{attrs:{size:"20"}},[a("v-img",{attrs:{src:t.user.profile_picture}})],1),e._v(" "+e._s(t.user.full_name)+" "),i?a("a",{on:{click:function(a){return e.removeResponsiblePerson(t,n)}}},[a("v-tooltip",{attrs:{right:""},scopedSlots:e._u([{key:"activator",fn:function(n){var s=n.on;return[a("v-icon",e._g({attrs:{color:t.read_only?"green":"red",small:""},domProps:{textContent:e._s(t.read_only?"mdi-chevron-down":"mdi-close")}},s))]}}],null,!0)},[a("span",{domProps:{textContent:e._s(t.read_only?"Move to observers":"Remove")}})])],1):e._e()],1)}}],null,!0)})],1)}))],2):e._e()]),a("div",[a("h4",[e._v("Observers")]),a("div",[a("v-divider"),a("task-user-involvement-view",{attrs:{"user-data":e.observersObject}}),e.previousObservers.length?a("div",[a("span",{domProps:{textContent:e._s("Existing Observers")}}),e._l(e.previousObservers,(function(t,n){return a("div",{key:n},[a("v-hover",{scopedSlots:e._u([{key:"default",fn:function(s){var i=s.hover;return a("div",{},[a("v-avatar",{attrs:{size:"20"}},[a("v-img",{attrs:{src:t.user.profile_picture}})],1),e._v(" "+e._s(t.user.full_name)+" "),i&&!t.read_only?a("a",{on:{click:function(t){return e.previousObservers.splice(n,1)}}},[a("v-icon",{attrs:{small:""},domProps:{textContent:e._s("mdi-close")}})],1):e._e()],1)}}],null,!0)})],1)}))],2):e._e()],1)]),a("h4",[e._v("Deadline")]),a("v-divider"),a("v-col",{attrs:{cols:"12"}},[e.formValues.deadline?a("div",[a("div",[e._v(" "+e._s(e._f("dayjs")(e.formValues.deadline,"YYYY-MM-DD"))+" "),a("span",[e._v(e._s(e._f("dayjs")(e.formValues.deadline,"fromNow")))])]),a("div",[e._v(" "+e._s(e._f("dayjs")(e.formValues.deadline,"h:mm a"))+" ")])]):a("span",{domProps:{textContent:e._s("Please select a deadline for this task")}})]),a("h4",[e._v(" Checklists "),e.checklists.length?a("v-btn",{attrs:{small:"",icon:""},on:{click:function(t){e.checklists=[]}}},[a("v-icon",{attrs:{size:"20"}},[e._v(" mdi-close ")])],1):e._e()],1),a("v-divider"),a("v-col",{attrs:{cols:"12"}},[0===e.checklists.length?a("p",{domProps:{textContent:e._s("Added checklists will appear here")}}):a("div",[e.sortingStarted?e._e():a("div",{attrs:{id:"checklistWrapper"}},e._l(e.checklists,(function(t,n){return a("ul",{key:n,staticClass:"sortHandle my-1"},[a("v-hover",{scopedSlots:e._u([{key:"default",fn:function(s){var i=s.hover;return a("li",{},[e.editChecklist&&n===e.editChecklistIndex?a("span",[a("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"max:100",expression:"'max:100'"}],attrs:{"append-icon":"mdi-check",counter:"100"},on:{"click:append":function(t){e.updateRecentChecklist(n),e.initializeSortableJs()}},model:{value:e.list,callback:function(t){e.list=t},expression:"list"}},"v-text-field",e.veeValidate("checklist_title","Title"),!1))],1):a("span",[e._v(" "+e._s(t)+" "),i?a("a",{on:{click:function(t){return e.checklists.splice(n,1)}}},[a("v-icon",{attrs:{small:""}},[e._v("mdi-close ")])],1):e._e(),i?a("a",[a("v-icon",{attrs:{small:""},on:{click:function(t){e.editChecklist=!0,e.editChecklistIndex=n,e.list=e.checklists[n]}}},[e._v("mdi-pencil ")])],1):e._e()])])}}],null,!0)})],1)})),0)])]),a("h4",[e._v("Attachments")]),a("v-divider"),a("v-col",{attrs:{cols:"12",md:"6"}},[e.attachments&&0===e.attachments.length?a("p",{domProps:{textContent:e._s("Added attachments will appear here")}}):a("div",e._l(e.attachments,(function(t,n){return a("ul",{key:n},[a("v-hover",{scopedSlots:e._u([{key:"default",fn:function(s){var i=s.hover;return a("li",{},[a("span",[e._v(" "+e._s(t.caption)+" "),i?a("a",{on:{click:function(t){e.attachments.splice(n,1),e.previousAttachments.splice(n,1)}}},[a("v-icon",{attrs:{small:""}},[e._v("mdi-close")])],1):e._e()])])}}],null,!0)})],1)})),0)])],1)],1),a("v-divider"),a("v-footer",{attrs:{fixed:"",height:"auto"}},[a("v-spacer"),a("v-btn",{staticClass:"mx-2",attrs:{color:"primary"},on:{click:e.createTask}},[a("span",{domProps:{textContent:e._s("Assign")}})]),a("v-btn",{staticClass:"mx-2",attrs:{outlined:"",color:"primary"},domProps:{textContent:e._s("Cancel")},on:{click:e.dismissForm}})],1),a("vue-notify",{attrs:{notify:e.notify}})],1)},c=[],u=a("b85c"),d=a("2909"),p=a("1da1"),m=a("5530"),h=(a("96cf"),a("a9e3"),a("159b"),a("caad"),a("2532"),a("a4d3"),a("e01a"),a("b0c0"),a("a434"),a("c44a")),f=a("ef8c"),v=a("ab8a"),g=a("0780"),y=a("2a18"),b=a("a019"),k=a("aa47"),_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-row",{attrs:{dense:"",align:"start"}},[a("v-col",{attrs:{md:"6",cols:"12"}},[a("file-upload",{staticClass:"pr-2",attrs:{label:"Attachment",hint:"Files with jpg, png, odt extensions are not available for preview."},model:{value:e.attachment,callback:function(t){e.attachment=t},expression:"attachment"}})],1),a("v-col",{attrs:{md:"6",cols:"12"}},[a("v-text-field",{staticClass:"pl-2",attrs:{disabled:!e.attachment,label:"Caption"},model:{value:e.caption,callback:function(t){e.caption=t},expression:"caption"}},[a("v-icon",{attrs:{slot:"append-outer",color:"primary"},on:{click:e.appendFile},slot:"append-outer"},[e._v(" mdi-plus-box-outline ")])],1)],1)],1)},x=[],T=a("f82f"),D=a("2f62"),w={components:{FileUpload:T["a"]},props:{value:{type:Array,default:function(){return[]}},allAttachments:{type:Array,default:function(){return[]}}},data:function(){return{attachment:"",caption:"",attachments:[]}},watch:{attachments:function(){this.$emit("input",this.allAttachments)}},methods:Object(m["a"])(Object(m["a"])({},Object(D["d"])({setSnackBar:"common/setSnackBar"})),{},{appendFile:function(){this.attachment&&this.caption?(this.setSnackBar({display:!1}),this.attachments.unshift({file:this.attachment,caption:this.caption}),this.allAttachments.unshift({file:this.attachment,caption:this.caption}),this.attachment=null,this.caption=""):this.setSnackBar({text:"Please add both attachment and caption",color:"red"})}})},C=w,S=a("2877"),P=a("6544"),L=a.n(P),V=a("62ad"),O=a("132d"),$=a("0fd9b"),E=a("8654"),I=Object(S["a"])(C,_,x,!1,null,null,null),j=I.exports;L()(I,{VCol:V["a"],VIcon:O["a"],VRow:$["a"],VTextField:E["a"]});var R=a("f8a4"),B=a("1467"),A={components:{UserAutoComplete:f["default"],TaskUserInvolvementView:g["a"],NonFieldFormErrors:v["default"],VueTrumbowyg:B["default"],CreateTaskAttachmentsToAssign:j},mixins:[h["a"]],props:{preEmploymentDetails:{type:Object,required:!0},actionData:{type:Object,default:function(){return{status:1}}},endpoint:{type:String,required:!0},preTask:{type:Boolean,default:!1},parentTask:{type:Number,required:!1,default:null}},data:function(){return{notify:{},responsiblePersons:[],sortingStarted:!1,previousResponsiblePersons:[],previousObservers:[],responsiblePersonsObject:[],observersObject:[],userCoreTasks:{},priorityChoices:[{text:"Minor",value:"MINOR",color:"green"},{text:"Major",value:"MAJOR",color:"purple"},{text:"Critical",value:"CRITICAL",color:"red"}],checklists:[],actualResponsiblePersonsObject:[],editChecklistIndex:"",prevList:"",previousCheckLists:[],attachments:[],previousAttachments:[],formValues:this.deepCopy(this.taskDefaultData()),editChecklistPrevIndex:"",editChecklist:!1}},computed:Object(m["a"])(Object(m["a"])({},Object(D["c"])({getAuthStateUser:"auth/getAuthStateUser",getOrganizationSlug:"organization/getOrganizationSlug",isSupervisor:"auth/isSupervisor"})),{},{observersData:function(){var e=[];return this.formValues.observers&&this.formValues.observers.forEach((function(t){e.unshift({user:t})})),e},responsiblePersonsData:function(){return this.actualResponsiblePersonsObject.map((function(e){return{user:e.id,core_tasks:e.core_tasks||[]}}))}}),watch:{responsiblePersonsObject:function(e,t){if(this.responsiblePersonsObject=e,e&&e.length){var a=t.map((function(e){return e.id})),n=e.map((function(e){return e.id}));e.length<t.length?this.actualResponsiblePersonsObject=this.actualResponsiblePersonsObject.filter((function(e){return n.includes(e.id)})):a.includes(e[0].id)||this.actualResponsiblePersonsObject.push(e[0]),this.getUserCoreTasks(e)}else this.actualResponsiblePersonsObject=e}},mounted:function(){this.initializeSortableJs(),this.getPreviousAttachments(),this.actionData&&this.actionData.template_detail&&(this.formValues=Object(m["a"])({},this.actionData.template_detail),this.previousCheckLists=this.actionData.template_detail.checklists,this.formValues.title=this.actionData.template_detail.title.concat(" ","of (".concat(this.preEmploymentDetails.employee.full_name,")")),this.formValues.description=this.actionData.template_detail.description,this.formValues.deadline=this.actionData.template_detail.deadline_date,this.previousResponsiblePersons=this.formValues.responsible_persons,this.formValues.observers=this.actionData.template_detail.observers.map((function(e){return e.id})),this.preEmploymentDetails.employee&&this.actionData.template_detail.include_employee&&this.formValues.observers.push(this.preEmploymentDetails.employee.id),this.checklists=this.actionData.template_detail.checklists.map((function(e){return e.title})))},methods:{getPreviousAttachments:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("/hris/".concat(e.getOrganizationSlug,"/employment/template-detail/").concat(e.actionData.template_detail.id,"/attachments/")).then((function(t){var a;e.previousAttachments=t.results,(a=e.attachments).push.apply(a,Object(d["a"])(t.results))}));case 2:case"end":return t.stop()}}),t)})))()},createAttachment:function(e,t){var a=this;return Object(p["a"])(regeneratorRuntime.mark((function n(){var s,i,o,r,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:s=0,i=Object(u["a"])(a.attachments),n.prev=2,i.s();case 4:if((o=i.n()).done){n.next=14;break}return r=o.value,l=new FormData,l.append("attachment",r.file,r.file.name),l.append("caption",r.caption),l.append("task",e),n.next=12,a.$http.post(R["a"].postAttachment(e),l).catch((function(){s+=1}));case 12:n.next=4;break;case 14:n.next=19;break;case 16:n.prev=16,n.t0=n["catch"](2),i.e(n.t0);case 19:return n.prev=19,i.f(),n.finish(19);case 22:s?a.notifyUser("Successfully ".concat(t," task but some attachments failed"),"warning"):a.notifyUser("Successfully ".concat(t," task"),"green"),a.$emit("dismissForm");case 24:case"end":return n.stop()}}),n,null,[[2,16,19,22]])})))()},getUserCoreTasks:function(e){var t=this,a=e[0];this.userCoreTasks[a.id]||this.$http.get(b["a"].getUserResultAreas(a.organization_slug,a.id)).then((function(e){var n=e.experiences.filter((function(e){return e.is_current}));if(n.length&&n[0].result_areas.length){var s=n[0].result_areas;t.$set(t.userCoreTasks,a.id,s)}else t.userCoreTasks[a.id]=[]}))},initializeSortableJs:function(){if(0!==this.checklists.length){var e=document.getElementById("checklistWrapper");this.sortable=k["a"].create(e,{selectedClass:"sortHandle",draggable:".sortHandle",handle:".sortHandle",onEnd:this.reArrangeChecklist})}},reArrangeChecklist:function(e){var t=this;this.sortingStarted=!0,this.checklists.splice(e.newIndex,0,this.checklists.splice(e.oldIndex,1)[0]),this.$nextTick((function(){t.sortingStarted=!1,t.$nextTick((function(){t.initializeSortableJs()}))}))},addToCheckList:function(){this.formValues.check_list_title?this.formValues.check_list_title.length>100?this.notifyUser("The Checklists field may not be greater than 100 characters","red"):(this.checklists.push(this.formValues.check_list_title),this.formValues.check_list_title="",this.editChecklistIndex="",this.editChecklistPrevIndex=""):this.notifyUser("Please write something on your checklist.","red")},viewAttachment:function(e){var t="https://docs.google.com/viewerng/viewer?url=".concat(e);window.open(t,"_blank")},createTask:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){var a,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a={task:e.constructFormData(),template_files:e.attachments.filter((function(e){return e.id})).map((function(e){return e.id}))||[]},n="",n=e.preTask?"pre-tasks":"post-tasks",s="/hris/".concat(e.getOrganizationSlug,"/employment/").concat(e.endpoint,"/").concat(e.preEmploymentDetails.id,"/").concat(n,"/").concat(e.actionData.id,"/"),e.validateAllFields()&&e.$http.put(s,a).then((function(t){e.notifyUser("Successfully assigned task!","green"),e.dismissForm(),e.attachments.length&&e.createAttachment(t.task.id,"created")})).catch((function(t){e.pushErrors(t)}));case 5:case"end":return t.stop()}}),t)})))()},dismissForm:function(){this.formValues.description="",this.checklists=[],this.formValues={},this.$emit("close")},addCheckList:function(e){this.$http.post(y["a"].postCheckList(this.formValues.id),{check_list_title:e})},updateRecentChecklist:function(e,t){this.list?this.list.length>100?(this.notifyUser("The Checklists field may not be greater than 100 characters","red"),this.editChecklist=!1,this.editChecklistPrevIndex=""):(this.checklists.splice(t,1,this.list),this.editChecklist=!1):(this.notifyUser("Please write something on your checklist.","red"),this.editChecklist=!1)},updateChecklist:function(e,t){var a=this;this.prevList?this.prevList.length>100?this.notifyUser("The Checklists field may not be greater than 100 characters","red"):this.$http.put(y["a"].putCheckList(this.formValues.id,e),{check_list_title:this.prevList}).then((function(e){a.previousCheckLists[t].check_list_title=e.check_list_title})).catch((function(e){a.notifyInvalidFormResponse(),a.pushErrors(e)})):this.notifyUser("Please write something on your checklist.","red")},deleteCheckList:function(e,t){var a=this;this.$http.delete(y["a"].deleteCheckList(this.actionData.id,e)).then((function(){a.notifyUser("Successfully deleted Checklist","green"),a.previousCheckLists.splice(t,1)})).catch((function(){a.notifyUser("Only pending Checklist can be deleted","red")}))},constructFormData:function(){var e=this.previousObservers.map((function(e){return{user:e.user.id,read_only:e.read_only}})),t=this.previousResponsiblePersons.map((function(e){return{user:e.user.id,core_tasks:e.core_tasks.map((function(e){return e.id})),read_only:e.read_only}}));return{id:this.formValues.id||null,include_employee:this.formValues.include_employee,observers:e.concat(this.observersData),responsible_persons:t.concat(this.responsiblePersonsData),priority:this.formValues.priority,check_lists:this.checklists,title:this.formValues.title,changeable_deadline:this.formValues.changeable_deadline,deadline:this.formValues.deadline||this.$dayjs().add(7,"days").format("YYYY-MM-DD")+"T17:30",description:this.formValues.description,parent:this.parentTask||null}},taskDefaultData:function(){return{title:"",status:1,description:"",priority:"MINOR",checklist:"",changeable_deadline:!1,skip_offday:!1,approve_required:!1,working_day:!1,include_employee:!1,auto_complete:!1,deadline:this.$dayjs().add(7,"days").format("YYYY-MM-DD")+"T17:30"}},removeResponsiblePerson:function(e,t){e.read_only&&this.previousObservers.unshift(e),this.previousResponsiblePersons.splice(t,1)},removeCoreTask:function(e,t){var a=this.deepCopy(this.responsiblePersonsObject[t]),n=this.deepCopy(e).core_tasks.map((function(e){return e.id}));a.core_tasks||(a.core_tasks=[]),a.core_tasks=a.core_tasks.filter((function(e){return!n.includes(e)})),this.$set(this.responsiblePersonsObject,t,a)}}},F=A,N=a("8212"),z=a("8336"),U=a("a609"),q=a("ac7c"),M=a("ce7e"),H=a("553a"),Y=a("4bd4"),G=a("ce87"),W=a("adda"),J=a("8270"),K=a("5d23"),Q=a("2fa4"),X=a("b73d"),Z=a("3a2f"),ee=Object(S["a"])(F,l,c,!1,null,null,null),te=ee.exports;L()(ee,{VAvatar:N["a"],VBtn:z["a"],VBtnToggle:U["a"],VCheckbox:q["a"],VCol:V["a"],VDivider:M["a"],VFooter:H["a"],VForm:Y["a"],VHover:G["a"],VIcon:O["a"],VImg:W["a"],VListItemAvatar:J["a"],VListItemContent:K["a"],VListItemSubtitle:K["b"],VListItemTitle:K["c"],VRow:$["a"],VSpacer:Q["a"],VSwitch:X["a"],VTextField:E["a"],VTooltip:Z["a"]});var ae=a("a51f"),ne=a("5615"),se=a("afa9"),ie=a("99d6"),oe={name:"TaskList",components:{DataTableNoData:ae["default"],TaskAssignForm:te,ThumbnailUsers:r["default"]},mixins:[o["a"],i["a"]],props:{employmentDetails:{type:Object,default:function(){return{}}},component:{type:String,required:!0},componentType:{type:String,required:!0}},data:function(){return{mutableEmploymentDetails:this.deepCopy(this.employmentDetails),sharedData:{},endPoints:{},orgSlug:this.$route.params.slug,cardHeading:"",assignTasks:!1,rowsPerPageItems:[10,20,30,40,50],deleteSlug:"",selectedUsers:[],confirmNotify:{dialog:!1,heading:"Confirm Action",subheading:"You are about to assign the selected tasks. Confirm your action.",text:"Are you sure you want to assign the selected tasks?"},actionData:{},taskStatus:{1:"Pending",2:"In Progress",3:"On Hold",4:"Completed",5:"Closed"},taskStatusColor:{1:"orange",2:"blue",3:"grey",4:"green",5:"blue"},formValues:{name:"",template_type:""},headers:[{text:"Title",value:"title",align:"left",sortable:!0},{text:"Assigned To",value:"template_type",sortable:!1},{text:"Deadline",value:"deadline",sortable:!0},{text:"Status",value:"modified_at",align:"center",sortable:!1},{text:"Actions",value:"name",align:"center",sortable:!1}],loading:!1}},created:function(){this.initializeUrl(),this.dataTableEndpoint=this.endPoints.fetchDataTable},methods:{initializeUrl:function(){"onBoard"===this.component?(this.sharedData.title="Create ".concat("postTask"===this.componentType?"Post-Task":"Pre-Task"," to onboard ").concat(this.mutableEmploymentDetails.full_name),this.sharedData.subTitle="Create ".concat("postTask"===this.componentType?"Post Task":"Pre Task","."),this.endPoints.updatePreEmploymentSeparationDetails=ne["a"].updatePreEmployment(this.getOrganizationSlug,this.mutableEmploymentDetails.id),"postTask"===this.componentType?(this.endPoints.fetchDataTable=ne["a"].getPostTasks(this.getOrganizationSlug,this.mutableEmploymentDetails.id),this.endPoints.assignSelectedTask=ne["a"].postPostTasksMultiAssign(this.getOrganizationSlug,this.mutableEmploymentDetails.id),this.endPoints.fetchPreEmploymentDetail=ne["a"].getPreEmploymentDetail(this.getOrganizationSlug,this.mutableEmploymentDetails.id)):"preTask"===this.componentType&&(this.endPoints.fetchDataTable=ne["a"].getPreTasks(this.getOrganizationSlug,this.mutableEmploymentDetails.id),this.endPoints.assignSelectedTask=ne["a"].postPreTasksMultiAssign(this.getOrganizationSlug,this.mutableEmploymentDetails.id),this.endPoints.updatePreEmploymentSeparationDetails=ne["a"].updatePreEmployment(this.getOrganizationSlug,this.mutableEmploymentDetails.id))):"offBoard"===this.component?(this.sharedData.title="List of ".concat("postTask"===this.componentType?"Post-Task":"Pre-Task"," to offboard ").concat(this.mutableEmploymentDetails.employee.full_name),this.sharedData.subTitle="List of ".concat("postTask"===this.componentType?"Post-Task":"Pre-Task"," to offboard."),"postTask"===this.componentType?this.endPoints.fetchDataTable=se["a"].getPostTasks(this.getOrganizationSlug,this.mutableEmploymentDetails.id):"preTask"===this.componentType&&(this.endPoints.fetchDataTable=se["a"].getPreTasks(this.getOrganizationSlug,this.mutableEmploymentDetails.id)),this.endPoints.updatePreEmploymentSeparationDetails=se["a"].updateSeparationDetails(this.getOrganizationSlug,this.mutableEmploymentDetails.id),this.endPoints.assignSelectedTask=se["a"].postPostTasksMultiAssign(this.getOrganizationSlug,this.mutableEmploymentDetails.id),this.endPoints.fetchPreEmploymentDetail=se["a"].getIndividualSeparation(this.getOrganizationSlug,this.mutableEmploymentDetails.id)):"changeType"===this.component&&(this.sharedData.title="List of ".concat("postTask"===this.componentType?"Post-Task":"Pre-Task"," of ").concat(this.mutableEmploymentDetails.employee.full_name),this.sharedData.subTitle="List of ".concat("postTask"===this.componentType?"Post-Task":"Pre-Task"," "),this.endPoints.updatePreEmploymentSeparationDetails=ie["a"].getChangeTypeDetails(this.getOrganizationSlug,this.mutableEmploymentDetails.id),"preTask"===this.componentType?(this.endPoints.fetchDataTable=ie["a"].getIndividualEmployementReviewPreTask(this.getOrganizationSlug,this.employmentDetails.id),this.endPoints.assignSelectedTask=ie["a"].preTasksMultiAssign(this.getOrganizationSlug,this.mutableEmploymentDetails.id)):"postTask"===this.componentType&&(this.endPoints.fetchDataTable=ie["a"].getIndividualEmployementReviewPostTask(this.getOrganizationSlug,this.employmentDetails.id),this.endPoints.assignSelectedTask=ie["a"].postTasksMultiAssign(this.getOrganizationSlug,this.mutableEmploymentDetails.id)))},assignSelectedTasks:function(){var e=this,t=this.selectedUsers.filter((function(e){return!e.task})).map((function(e){return e.id}));this.crud.message="Successfully assigned tasks.",this.loading=!1,this.insertData(this.endPoints.assignSelectedTask,{template_mapping:t}).then((function(){e.fetchDataTable(),e.selectedUsers=[]})).finally((function(){e.confirmNotify.dialog=!1}))},gotoNextStep:function(){var e=this,t={};"preTask"===this.componentType?"active"!==this.mutableEmploymentDetails.status&&"pre-active"!==this.mutableEmploymentDetails.status&&"pre-completed"!==this.mutableEmploymentDetails.status&&this.mutableEmploymentDetails.employee?this.$emit("next","onBoard"===this.component?"assign-supervisor-form":"offBoard"===this.component?"letter-template":"changeType"===this.component?"experience-list":"","",this.componentType):(t={status:"pre-completed"},this.patchData(this.endPoints.updatePreEmploymentSeparationDetails,t).then((function(t){e.$emit("next","onBoard"===e.component?"add-employee-form":"offBoard"===e.component?"letter-template":"changeType"===e.component?"experience-list":"","onBoard"===e.component?"pre-completed":"offBoard"===e.component?t.status:"",e.componentType)}))):"postTask"===this.componentType&&(t="changeType"===this.component?{status:"post-completed"}:{status:"completed"},this.patchData(this.endPoints.updatePreEmploymentSeparationDetails,t).then((function(){e.$emit("cancel")})))},clear:function(){this.formValues={},this.clearNonFieldErrors(),this.$validator.errors.clear()},triggerForm:function(e){this.assignTasks=!0,this.actionData=e},dismissForm:function(){this.assignTasks=!1,this.fetchDataTable(),"postTask"===this.componentType&&this.fetchPreEmploymentDetail()},fetchPreEmploymentDetail:function(){var e=this;this.getData(this.endPoints.fetchPreEmploymentDetail).then((function(t){"onBoard"!==e.component&&"offBoard"!==e.component||(e.mutableEmploymentDetails=t)}))},openDetails:function(e){var t=this.$route.params.slug;this.$router.push({name:"admin-slug-task-id-detail",params:{id:e,slug:t}})}}},re=oe,le=a("b0af"),ce=a("99d9"),ue=a("cc20"),de=a("8fea"),pe=a("169a"),me=Object(S["a"])(re,n,s,!1,null,null,null);t["a"]=me.exports;L()(me,{VBtn:z["a"],VCard:le["a"],VCardActions:ce["a"],VCardText:ce["c"],VCheckbox:q["a"],VChip:ue["a"],VDataTable:de["a"],VDialog:pe["a"],VDivider:M["a"],VIcon:O["a"],VSpacer:Q["a"],VTooltip:Z["a"]})},"8c7d":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[e.bottomSheet?a("vue-card-title",{attrs:{title:"Payroll Details of "+e.employmentDetails.employee.full_name,subtitle:"Payroll Details of "+e.employmentDetails.employee.full_name,icon:"mdi-file-document-outline",dark:"",closable:""},on:{close:function(t){return e.$emit("cancel")}}}):a("vue-card-title",{attrs:{title:"Payroll Details",subtitle:"This is Payroll Details Information",icon:"mdi-file-document-outline"}}),a("v-divider"),null!==e.fetchedResults?a("div",[a("v-simple-table",{attrs:{"fixed-header":"true",height:"300"},scopedSlots:e._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[e._v("Heading")]),a("th",{staticClass:"text-left"},[e._v("Details")])])]),a("tbody",e._l(e.fetchedResults,(function(t,n){return a("tr",{key:t.name},[a("td",[e._v(e._s(n))]),a("td",[e._v(e._s(t))])])})),0)]},proxy:!0}],null,!1,3653465082)})],1):a("div",[a("vue-no-data",{attrs:{text:"No Payroll Details"}})],1),e.bottomSheet?a("v-card-actions",[a("v-btn",{attrs:{color:"primary",depressed:""},on:{click:function(t){e.$emit("next",e.getPreviousComponent())}}},[a("v-icon",{domProps:{textContent:e._s("mdi-chevron-left")}}),e._v(" Previous ")],1),a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){return e.$emit("cancel")}}},[e._v(" Cancel ")]),a("v-btn",{attrs:{color:"primary",depressed:""},on:{click:function(t){return e.gotoNextStep()}}},[e._v(" Next "),a("v-icon",{domProps:{textContent:e._s("mdi-chevron-right")}})],1)],1):e._e()],1)},s=[],i=a("afa9"),o=a("e585"),r=a("f12b"),l=a("13ea"),c=a.n(l),u={name:"PayrollDetails",components:{VueNoData:o["default"]},mixins:[r["a"]],props:{employmentDetails:{type:Object,required:!0},bottomSheet:{type:Boolean,default:!1}},data:function(){return{headers:[{text:"Tax Paid Upto",value:"",sortable:!1},{text:"Tax to Paid",value:"name",sortable:!1},{text:"Payroll in Advance",value:"name",sortable:!1}],fetchedResults:null}},created:function(){this.fetchPayrollDetails()},methods:{fetchPayrollDetails:function(){var e=this;this.getData(i["a"].getSeparationDetail(this.getOrganizationSlug,this.employmentDetails.id)).then((function(t){c()(t.payroll_details)||(e.fetchedResults=t.payroll_details)}))},gotoNextStep:function(){var e=this;if("tasks-reviewed"===this.employmentDetails.status||"attendance-reviewed"===this.employmentDetails.status||"leave-reviewed"===this.employmentDetails.status||"letters-generated"===this.employmentDetails.status||"payroll-reviewed"===this.employmentDetails.status||"experience-added"===this.employmentDetails.status){var t={status:"payroll-reviewed"};this.patchData(i["a"].updateSeparationDetails(this.getOrganizationSlug,this.employmentDetails.id),t).then((function(t){e.$emit("next","exit-interview",t.status)}))}else this.$emit("next","exit-interview")},getPreviousComponent:function(){var e=this.employmentDetails.separation_type;return e.display_pending_tasks?"pending-tasks":e.display_attendance_details?"attendance-details":e.display_leave?"leave-details":"letter-template"}}},d=u,p=a("2877"),m=a("6544"),h=a.n(m),f=a("8336"),v=a("b0af"),g=a("99d9"),y=a("ce7e"),b=a("132d"),k=a("1f4f"),_=a("2fa4"),x=Object(p["a"])(d,n,s,!1,null,null,null);t["a"]=x.exports;h()(x,{VBtn:f["a"],VCard:v["a"],VCardActions:g["a"],VDivider:y["a"],VIcon:b["a"],VSimpleTable:k["a"],VSpacer:_["a"]})},"8cd3":function(e,t,a){"use strict";var n=a("5530"),s=(a("d3b7"),a("f0d5"));t["a"]={mixins:[s["a"]],data:function(){return{dataTableEndpoint:"",fetchedResults:[],response:null,footerProps:{itemsPerPageOptions:[10,20,30,40,50,100]},pagination:{sortBy:["modified_at"],descending:!1,totalItems:0,page:1,rowsPerPage:10,pageCount:0},loadTableOnInit:!0}},computed:{filterParams:function(){var e=Object(n["a"])(Object(n["a"])({},this.dataTableFilter),{},{offset:(this.pagination.page-1)*this.pagination.rowsPerPage,limit:this.pagination.rowsPerPage,ordering:this.pagination.descending?this.pagination.sortBy:"-"+this.pagination.sortBy});return this.convertToURLSearchParams(e,!1)}},watch:{filterParams:function(){var e=this;this.$nextTick((function(){e.fetchDataTable()}))},dataTableFilter:function(){this.pagination.page=1}},created:function(){var e=this;setTimeout((function(){e.loadTableOnInit&&e.fetchDataTable()}),0)},methods:{fetchDataTable:function(e,t){var a=this;return new Promise((function(n,s){!e&&!a.dataTableEndpoint||a.loading||(a.loadTableOnInit=!1,a.loading=!0,a.fetchedResults=[],a.$http.get(e||a.dataTableEndpoint,t||{params:a.filterParams}).then((function(e){a.response=e,a.fetchedResults=e.results,a.pagination.totalItems=e.count,a.processAfterTableLoad(e),n(e),a.loading=!1})).catch((function(e){a.pushErrors(e),a.notifyInvalidFormResponse(),s(e),a.loading=!1})))}))},processAfterTableLoad:function(){}}}},"983c":function(e,t,a){"use strict";a("d3b7");t["a"]={methods:{getData:function(e,t,a){var n=this,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Promise((function(i,o){!n.loading&&e&&(n.clearNonFieldErrors(),n.$validator.errors.clear(),n.loading=s,n.$http.get(e,a||{params:t||{}}).then((function(e){i(e),n.loading=!1})).catch((function(e){n.pushErrors(e),n.notifyInvalidFormResponse(),o(e),n.loading=!1})))}))},getBlockingData:function(e,t,a){var n=this;return new Promise((function(s,i){n.getData(e,t,a,!0).then((function(e){s(e)})).catch((function(e){i(e)}))}))}}}},"99d6":function(e,t,a){"use strict";a("99af");t["a"]={getChangeType:function(e){return"/hris/".concat(e,"/employment/change-type/")},postChangeType:function(e){return"/hris/".concat(e,"/employment/change-type/")},updateChangeType:function(e,t){return"/hris/".concat(e,"/employment/change-type/").concat(t,"/")},getChangeTypeDetails:function(e,t){return"/hris/".concat(e,"/employment/employment-review/").concat(t,"/")},deleteChangeType:function(e,t){return"/hris/".concat(e,"/employment/change-type/").concat(t,"/")},getLetters:function(e,t){return"/hris/".concat(e,"/employment/employment-review/").concat(t,"/letters/")},getIndividualEmployementReviewPreTask:function(e,t){return"/hris/".concat(e,"/employment/employment-review/").concat(t,"/pre-tasks/")},getIndividualEmployementReviewPostTask:function(e,t){return"/hris/".concat(e,"/employment/employment-review/").concat(t,"/post-tasks/")},getEmployementReviewDetail:function(e,t){return"/hris/".concat(e,"/employment/employment-review/").concat(t,"/detail/")},assignCoreTask:function(e,t){return"/hris/".concat(e,"/employment/employment-review/").concat(t,"/assign-core-task/")},copyCoreTask:function(e,t){return"/hris/".concat(e,"/employment/employment-review/").concat(t,"/copy-core-tasks/")},getleaveDetails:function(e,t){return"/hris/".concat(e,"/employment/employment-review/").concat(t,"/leaves/")},updateLeaveDetails:function(e,t,a){return"/hris/".concat(e,"/employment/employment-review/").concat(t,"/leaves/").concat(a,"/")},preTasksMultiAssign:function(e,t){return"/hris/".concat(e,"/employment/employment-review/").concat(t,"/pre-tasks/multi-assign/")},postTasksMultiAssign:function(e,t){return"/hris/".concat(e,"/employment/employment-review/").concat(t,"/post-tasks/multi-assign/")}}},"9d01":function(e,t,a){},"9d1c":function(e,t,a){},"9ec7":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[e.bottomSheet?a("vue-card-title",{attrs:{title:"Leave Details of "+e.employmentDetails.employee.full_name,subtitle:"Leave Details of "+e.employmentDetails.employee.full_name,icon:"mdi-file-document-outline",dark:"",closable:""},on:{close:function(t){return e.$emit("cancel")}}}):a("vue-card-title",{attrs:{title:"Leave Details",subtitle:"Leave Information",icon:"mdi-file-document-outline"}}),a("v-divider"),e.nonFieldErrors?a("non-field-form-errors",{attrs:{"non-field-errors":e.nonFieldErrors}}):e._e(),a("v-data-table",{staticClass:"scrollbar-sm",attrs:{headers:e.headers,items:e.leaveBalanceTableData,"sort-desc":e.pagination.descending,"sort-by":e.pagination.sortBy,page:e.pagination.page,"items-per-page":e.pagination.rowsPerPage,"footer-props":{itemsPerPageOptions:[10]},"server-items-length":e.pagination.totalItems,"mobile-breakpoint":0,"must-sort":"","single-expand":""},on:{"update:sortDesc":function(t){return e.$set(e.pagination,"descending",t)},"update:sort-desc":function(t){return e.$set(e.pagination,"descending",t)},"update:sortBy":function(t){return e.$set(e.pagination,"sortBy",t)},"update:sort-by":function(t){return e.$set(e.pagination,"sortBy",t)},"update:page":function(t){return e.$set(e.pagination,"page",t)},"update:itemsPerPage":function(t){return e.$set(e.pagination,"rowsPerPage",t)},"update:items-per-page":function(t){return e.$set(e.pagination,"rowsPerPage",t)}},scopedSlots:e._u([{key:"item",fn:function(t){return[a("tr",[a("td",[e._v(e._s(t.item.leave_type.name))]),a("td",{staticClass:"text-center"},[e._v(" "+e._s(t.item.renew_balance||"---")+" ")]),a("td",{staticClass:"text-center"},[e._v(" "+e._s(t.item.proportionate||"---")+" ")]),a("td",{staticClass:"text-center"},[e._v(" "+e._s(t.item.balance||"---")+" ")]),a("td",{staticClass:"text-center"},[e._v(" "+e._s(t.item.used_balance||"---")+" ")]),a("td",{staticClass:"text-center"},[e._v(" "+e._s(t.item.carry_forward||"---")+" ")]),a("td",{staticClass:"text-center"},[e._v(" "+e._s(t.item.encashed_balance||"---")+" ")]),a("td",[a("vue-context-menu",{attrs:{"context-list":[{name:"Edit Encashed Balance",icon:"mdi-pencil-outline",color:"blue"},{name:"View History",icon:"mdi-eye-outline",color:"blue"}]},on:{click0:function(a){return e.expandRow(t)},click1:function(a){return e.leavesHistory(t.item)}}})],1)])]}},{key:"expanded-item",fn:function(t){var n=t.item,s=t.headers;return[a("td",{attrs:{colspan:s.length}},[a("v-row",{staticClass:"pl-4",attrs:{align:"center"}},[n.time?[a("v-col",{attrs:{sm:"2"}},[a("v-text-field",{attrs:{"data-cy":"input-balance",label:"HH",type:"number","persistent-hint":""},model:{value:n.time[0],callback:function(t){e.$set(n.time,0,e._n(t))},expression:"item.time[0]"}})],1),a("v-col",{attrs:{sm:"2"}},[a("v-text-field",{attrs:{"data-cy":"input-balance",type:"number",label:"MM","persistent-hint":""},model:{value:n.time[1],callback:function(t){e.$set(n.time,1,t)},expression:"item.time[1]"}})],1)]:a("v-col",[a("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"data-cy":"input-balance",type:"number",label:"Encashed Leave Balance *","persistent-hint":""},model:{value:n.encashed_balance,callback:function(t){e.$set(n,"encashed_balance",e._n(t))},expression:"item.encashed_balance"}},"v-text-field",e.veeValidate("encashed_balance","Encashed Balance"),!1))],1),a("v-col",{attrs:{sm:"6"}},[a("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required|max:255",expression:"'required|max:255'"}],attrs:{"data-cy":"input-remarks",counter:"255"},model:{value:e.remarks,callback:function(t){e.remarks=t},expression:"remarks"}},"v-text-field",e.veeValidate("remarks","Remark *"),!1))],1),a("v-col",{attrs:{sm:"2"}},[a("v-btn",{attrs:{disabled:""===e.remarks,"data-cy":"btn-save",small:"",depressed:"",color:"primary"},on:{click:function(t){return e.updateProportionateBalance(n.id,n.time||n.encashed_balance,n.leave_type.category)}}},[e._v(" Save ")])],1)],2)],1)]}}])},[a("template",{slot:"no-data"},[a("data-table-no-data",{attrs:{loading:e.loading}})],1)],2),e.bottomSheet?a("v-card-actions",[a("v-btn",{attrs:{color:"primary",depressed:""},on:{click:function(t){return e.$emit("next","letter-template","","preTask")}}},[a("v-icon",{domProps:{textContent:e._s("mdi-chevron-left")}}),e._v(" Previous ")],1),a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){return e.$emit("cancel")}}},[e._v(" Cancel ")]),a("v-btn",{attrs:{color:"primary",depressed:""},on:{click:function(t){return e.gotoAttendanceDetails()}}},[e._v(" Next "),a("v-icon",{domProps:{textContent:e._s("mdi-chevron-right")}})],1)],1):e._e(),e.showLeaveHistory?a("v-dialog",{attrs:{scrollable:"","max-width":"960px"},model:{value:e.showLeaveHistory,callback:function(t){e.showLeaveHistory=t},expression:"showLeaveHistory"}},[a("leave-balance-history",{attrs:{"leave-data":e.leaveData},on:{close:e.close}})],1):e._e()],1)},s=[],i=a("1da1"),o=(a("96cf"),a("159b"),a("d81d"),a("ac1f"),a("1276"),a("a9e3"),a("8cd3")),r=a("a51f"),l=a("afa9"),c=a("f12b"),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("vue-card-title",{attrs:{title:"Leave Balance History",subtitle:"Leave Balance History",icon:"mdi-file-document-outline",closable:"",dark:""},on:{close:function(t){return e.$emit("close")}}}),a("div",{staticClass:"scrollbar-md"},[a("v-data-table",{attrs:{headers:e.headers,items:e.fetchedResults,loading:e.loading,"sort-desc":e.pagination.descending,"sort-by":e.pagination.sortBy,page:e.pagination.page,"items-per-page":e.pagination.rowsPerPage,"footer-props":e.footerProps,"server-items-length":e.pagination.totalItems,"mobile-breakpoint":0,"must-sort":"","single-expand":""},on:{"update:sortDesc":function(t){return e.$set(e.pagination,"descending",t)},"update:sort-desc":function(t){return e.$set(e.pagination,"descending",t)},"update:sortBy":function(t){return e.$set(e.pagination,"sortBy",t)},"update:sort-by":function(t){return e.$set(e.pagination,"sortBy",t)},"update:page":function(t){return e.$set(e.pagination,"page",t)},"update:itemsPerPage":function(t){return e.$set(e.pagination,"rowsPerPage",t)},"update:items-per-page":function(t){return e.$set(e.pagination,"rowsPerPage",t)}}},[a("template",{slot:"no-data"},[a("data-table-no-data",{attrs:{loading:e.loading}})],1)],2)],1)],1)},d=[],p={name:"LeaveBalanceHistory",components:{DataTableNoData:r["default"]},mixins:[o["a"]],props:{leaveData:{type:Object,default:function(){return{}}}},data:function(){return{loading:!1,leaveHistoryData:[],headers:[{text:"Previous Balance",align:"center",value:"previous_balance",sortable:!1,width:"20%"},{text:"New Balance",align:"center",value:"new_balance",sortable:!1,width:"15%"},{text:"Remarks",align:"center",value:"remarks",sortable:!1}]}},created:function(){this.dataTableEndpoint=l["a"].historyEmploymeeLeaves(this.getOrganizationSlug,this.leaveData.employeeId,this.leaveData.id)}},m=p,h=a("2877"),f=a("6544"),v=a.n(f),g=a("b0af"),y=a("8fea"),b=Object(h["a"])(m,u,d,!1,null,"40077d0b",null),k=b.exports;v()(b,{VCard:g["a"],VDataTable:y["a"]});var _=a("e4bf"),x={components:{DataTableNoData:r["default"],LeaveBalanceHistory:k,VueContextMenu:_["default"]},mixins:[o["a"],c["a"]],props:{employmentDetails:{type:Object,required:!0},bottomSheet:{type:Boolean,default:!1}},data:function(){return{showLeaveHistory:!1,remarks:"",loading:!1,headers:[{text:"Leave Type",value:"",sortable:!1},{text:"Renew Balance",align:"center",value:"name",sortable:!1},{text:"Proportionate Leave Balance",align:"center",value:"name",sortable:!1},{text:"Current Balance",align:"center",value:"name",sortable:!1},{text:"Used Balance",align:"center",value:"name",sortable:!1},{text:"Carry Forward",align:"center",value:"name",sortable:!1},{text:"Encashed Balance",align:"center",value:"name",sortable:!1},{text:"Action",align:"center",value:"name",sortable:!1}],rowCollapseProps:{},leaveData:[]}},computed:{leaveBalanceTableData:function(){var e=this.deepCopy(this.fetchedResults);return e.forEach((function(e){if("Credit Hour"===e.leave_type.category||"Time Off"===e.leave_type.category){var t=e.encashed_balance.split(":").map(Number);e.time=t}})),e}},created:function(){this.dataTableEndpoint=l["a"].getEmploymeeLeaves(this.getOrganizationSlug,this.employmentDetails.id)},methods:{gotoAttendanceDetails:function(){var e=this;if("letters-generated"===this.employmentDetails.status||"leave-reviewed"===this.employmentDetails.status){var t={status:"leave-reviewed"};this.patchData(l["a"].updateSeparationDetails(this.getOrganizationSlug,this.employmentDetails.id),t).then((function(t){e.$emit("next",e.getNextComponent(),t.status,"postTask")})).catch((function(t){e.notifyInvalidFormResponse(),e.pushErrors(t)}))}else this.$emit("next",this.getNextComponent())},getNextStatus:function(){var e=this.employmentDetails.separation_type;return e.display_attendance_details?"leave-reviewed":e.display_pending_tasks?"attendance-reviewed":e.display_payroll?"tasks-reviewed":"payroll-reviewed"},getNextComponent:function(){var e=this.employmentDetails.separation_type;return e.display_attendance_details?"attendance-details":e.display_pending_tasks?"pending-tasks":e.display_payroll?"payroll-details":"task-form"},expandRow:function(e){e.expand(!e.isExpanded),this.rowCollapseProps=e},updateProportionateBalance:function(e,t,a){var n=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,n.validateAllFields();case 2:if(!s.sent){s.next=6;break}"Credit Hour"!==a&&"Time Off"!==a||(t=60*parseInt(t[0])+parseInt(t[1])),n.crud.message="Successfully updated leave Encashment Balance",n.putData(l["a"].updateEmploymeeLeaves(n.getOrganizationSlug,n.employmentDetails.id,e),{encashed_balance:t,remarks:n.remarks}).then((function(){n.remarks="",n.rowCollapseProps.expand(!1),n.fetchDataTable()}));case 6:case"end":return s.stop()}}),s)})))()},leavesHistory:function(e){this.leaveData=e,this.leaveData.employeeId=this.employmentDetails.id,this.showLeaveHistory=!0},close:function(){this.showLeaveHistory=!1}}},T=x,D=a("8336"),w=a("99d9"),C=a("62ad"),S=a("169a"),P=a("ce7e"),L=a("132d"),V=a("0fd9b"),O=a("2fa4"),$=a("8654"),E=Object(h["a"])(T,n,s,!1,null,null,null);t["a"]=E.exports;v()(E,{VBtn:D["a"],VCard:g["a"],VCardActions:w["a"],VCol:C["a"],VDataTable:y["a"],VDialog:S["a"],VDivider:P["a"],VIcon:L["a"],VRow:V["a"],VSpacer:O["a"],VTextField:$["a"]})},a019:function(e,t,a){"use strict";a("99af");t["a"]={getUserResultAreas:function(e,t){return"/hris/".concat(e,"/user-result-areas/").concat(t,"/")}}},a51f:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.search.length>0?a("span",[e._v(' Your search for "'+e._s(e.search)+'" found no results. ')]):e.loading?a("v-skeleton-loader",{attrs:{type:"table",height:e.skeletonLoaderHeight}}):a("no-data-found",{attrs:{text:e.text,height:e.height}},[e._t("default")],2)],1)},s=[],i=(a("a9e3"),a("e585")),o={components:{NoDataFound:i["default"]},props:{search:{type:String,default:""},loading:{type:Boolean,required:!0},text:{type:String,default:"No data available at the moment"},height:{type:[String,Number],default:200},skeletonLoaderHeight:{type:[String,Number],default:void 0}}},r=o,l=a("2877"),c=a("6544"),u=a.n(c),d=a("3129"),p=Object(l["a"])(r,n,s,!1,null,null,null);t["default"]=p.exports;u()(p,{VSkeletonLoader:d["a"]})},a609:function(e,t,a){"use strict";var n=a("5530"),s=(a("7e58"),a("3860")),i=a("a9ad"),o=a("58df");t["a"]=Object(o["a"])(s["a"],i["a"]).extend({name:"v-btn-toggle",props:{backgroundColor:String,borderless:Boolean,dense:Boolean,group:Boolean,rounded:Boolean,shaped:Boolean,tile:Boolean},computed:{classes:function(){return Object(n["a"])(Object(n["a"])({},s["a"].options.computed.classes.call(this)),{},{"v-btn-toggle":!0,"v-btn-toggle--borderless":this.borderless,"v-btn-toggle--dense":this.dense,"v-btn-toggle--group":this.group,"v-btn-toggle--rounded":this.rounded,"v-btn-toggle--shaped":this.shaped,"v-btn-toggle--tile":this.tile},this.themeClasses)}},methods:{genData:function(){var e=this.setTextColor(this.color,Object(n["a"])({},s["a"].options.methods.genData.call(this)));return this.group?e:this.setBackgroundColor(this.backgroundColor,e)}}})},aad4:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("vue-page-wrapper",{attrs:{title:e.htmlTitle,"bread-crumbs":e.breadCrumbItems}},[a("v-data-table",{attrs:{"mobile-breakpoint":"0",headers:e.headers,"hide-default-footer":"",items:[e.separations]}},[a("template",{slot:"item"},[a("tr",{staticClass:"blue lighten-5"},[a("td",[a("vue-user",{attrs:{user:e.separationDetails.employee}})],1),a("td",[e._v(" "+e._s(e.separationDetails.separation_type&&e.separationDetails.separation_type.title)+" ")]),a("td",[e._v(e._s(e.separationDetails.effective_date||"N/A"))]),a("td",[e._v(e._s(e.separationDetails.release_date||"N/A"))]),e.currentStatus.slug?a("td",[e._v(" "+e._s(e.currentStatus.slug&&e.statusMap[e.currentStatus.slug].text)+" ")]):e.separationDetails.steps&&"pending"===e.separationDetails.steps[0].status?a("td",[e._v(" Pending ")]):a("td",[e._v("Completed")])])])],2),a("v-card",[a("v-card-text",[a("v-row",[a("v-col",{staticClass:"name-table-header text-center",attrs:{cols:"3"}},[e._v("Step")]),a("v-col",{staticClass:"name-table-header text-center",attrs:{cols:"6"}},[e._v("Status")]),a("v-col",{staticClass:"name-table-header text-center",attrs:{cols:"3"}},[e._v("Action")])],1),a("v-divider"),e._l(e.separationDetails.steps,(function(t,n){return[a("v-row",{key:n},[a("v-col",{staticClass:"text-center",attrs:{cols:"3"}},[e._v(" "+e._s(e.statusMap[t.slug].text)+" ")]),a("v-col",{staticClass:"text-center"},[a("v-chip",{attrs:{color:e.taskStatusColor[t.status],outlined:"",small:""}},[e._v(" "+e._s(t.status)+" ")])],1),a("v-col",{staticClass:"text-center",attrs:{cols:"3"}},[a("v-icon",{attrs:{disabled:!("completed"===t.status||"in-progress"===t.status),color:"completed"===t.status||"in-progress"===t.status?"green":""},domProps:{textContent:e._s("mdi-eye-outline")},on:{click:function(a){return e.showForm(t.slug)}}})],1)],1),e.separationDetails.steps.length!=n+1?a("v-divider",{key:"divider-"+n}):e._e()]}))],2)],1),a("v-bottom-sheet",{model:{value:e.employeeSeparationForm.display,callback:function(t){e.$set(e.employeeSeparationForm,"display",t)},expression:"employeeSeparationForm.display"}},[e.employeeSeparationForm.display?a(e.employeeSeparationForm.currentComponent,e._g(e._b({tag:"component",attrs:{"bottom-sheet":""},on:{next:e.gotoNext}},"component",e.dynamicProps,!1),e.eventToListen)):e._e()],1),a("vue-dialog",{attrs:{notify:e.deleteNotification},on:{close:function(t){e.deleteNotification.dialog=!1},agree:function(t){return e.deleteSeparationDetail()}}}),a("vue-dialog",{attrs:{notify:e.holdNotification},on:{close:function(t){e.holdNotification.dialog=!1,e.remarks=""},agree:e.holdPreEmployment}},[e.holdNotification.dialog?a("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required|max:600",expression:"'required|max:600'"}],attrs:{counter:600},model:{value:e.remarks,callback:function(t){e.remarks=t},expression:"remarks"}},"v-text-field",e.veeValidate("status_remark","Remarks"),!1)):e._e()],1),a("vue-dialog",{attrs:{notify:e.resumeNotification},on:{close:function(t){e.resumeNotification.dialog=!1,e.remarks=""},agree:e.resumePreEmployment}},[e.resumeNotification.dialog?a("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required|max:600",expression:"'required|max:600'"}],attrs:{counter:600},model:{value:e.remarks,callback:function(t){e.remarks=t},expression:"remarks"}},"v-text-field",e.veeValidate("status_remark","Remarks"),!1)):e._e()],1),a("vue-dialog",{attrs:{notify:e.stopNotification},on:{close:function(t){e.stopNotification.dialog=!1,e.remarks=""},agree:e.stopPreEmployment}},[e.stopNotification.dialog?a("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required|max:600",expression:"'required|max:600'"}],attrs:{counter:600},model:{value:e.remarks,callback:function(t){e.remarks=t},expression:"remarks"}},"v-text-field",e.veeValidate("status_remark","Remarks"),!1)):e._e()],1)],1)},s=[],i=a("1da1"),o=(a("96cf"),a("7db0"),a("d81d"),a("d3b7"),a("ddb0"),a("b0c0"),a("fb6a"),a("99af"),a("3ca3"),a("2b3d"),a("0549")),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("vue-card-title",{attrs:{title:"Post Tasks",subtitle:"Select post task template to create task.",icon:"mdi-file-document-outline"}}),a("v-divider"),a("v-card-text",[a("v-row",[a("v-col",[a("v-autocomplete",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{items:e.items,loading:e.isLoading,"search-input":e.search,disabled:"on-boarding-started"===e.status,xs4:"","cache-items":"",height:"35px","auto-focus":"","hide-no-data":"","hide-selected":"","item-text":"name","item-value":"slug",placeholder:"Start typing to Search","return-object":""},on:{"update:searchInput":function(t){e.search=t},"update:search-input":function(t){e.search=t}},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},"v-autocomplete",e.veeValidate("post_task","Post Task"),!1)),!e.loading&&e.postTask&&e.taskDetails.length<1?a("div",[e._v(" There is no Task inside this Template. Please Remove and Assign New. ")]):e._e(),!e.loading&&e.postTask&&e.taskDetails.length<1?a("span",{on:{click:e.removeTask}},[e._v(" Remove ")]):e._e(),e.taskDetails.length<1?a("v-btn",{attrs:{text:"",small:"",color:"primary",depressed:""},on:{click:e.createTaskStatus}},[e._v(" Create Task ")]):e._e(),a("v-row",[a("v-col",[a("div",[e.taskDetails.length>0?a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.openTaskDetails()}}},[e._v(" Link to task Template ")]):e._e(),e.taskDetails.length>0&&"Pending"===e.postTaskStatus?a("span",{on:{click:e.removeTask}},[e._v(" Remove ")]):e._e()],1)]),e.taskDetails.length>0?a("v-col",[a("v-chip",{attrs:{color:e.statusColor[e.postTaskStatus],outlined:"",small:""}},[e._v(" "+e._s(e.postTaskStatus)+" ")])],1):e._e()],1)],1),a("v-col",[e.nonFieldErrors?a("non-field-form-errors",{attrs:{"non-field-errors":e.nonFieldErrors}}):e._e()],1)],1)],1)],1)},l=[],c=a("0116"),u=a("c44a"),d=a("ab8a"),p={components:{NonFieldFormErrors:d["default"]},mixins:[u["a"]],props:{title:{type:String,default:""},subTitle:{type:String,default:""},status:{type:String,default:""},preTask:{type:String,default:""},endpoint:{type:String,required:!0},postTask:{type:String,default:""},postTaskStatus:{type:String,default:""},isPostTask:{type:Boolean,default:!1}},data:function(){return{orgSlug:this.$route.params.slug,taskDetails:[],isLoading:!1,descriptionLimit:40,entries:[],model:"",loading:!1,statusColor:{Pending:"orange","In Progress":"blue",Completed:"green"},template:"",search:"",taskCount:""}},computed:{items:function(){var e=this;return this.entries.map((function(t){var a=t.name.length>e.descriptionLimit?t.name.slice(0,e.descriptionLimit)+"...":t.name;return Object.assign({},t,{query:a})}))}},watch:{search:function(){var e=this;if(!(this.items.length>0)&&!this.isLoading){this.isLoading=!0;var t="separation"===this.endpoint?"off":"change";this.$http.get(c["a"].getTaskTemplate(this.orgSlug)+"?type=".concat(t)).then((function(t){e.entries=t.results})),this.isLoading=!1}},postTask:function(){this.postTask&&(this.model={slug:this.postTask},this.checkTask(this.postTask))}},created:function(){this.postTask&&this.checkTask(this.postTask)},methods:{checkTask:function(e){var t=this;if(!this.loading){this.loading=!0;var a="/hris/".concat(this.orgSlug,"/employment/").concat(this.endpoint,"/").concat(this.$route.query.id,"/post-tasks/");this.templateSlug=e,this.model.slug&&this.$http.get(a).then((function(e){t.$emit("refresh"),t.taskDetails=e.results,t.taskCount=e.count,t.clearNonFieldErrors()})).catch((function(e){t.notifyInvalidFormResponse(e.response.data[0]),t.pushErrors(e)})).finally((function(){t.loading=!1}))}},createTaskStatus:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.validateAllFields();case 2:if(!t.sent){t.next=5;break}e.clearNonFieldErrors(),e.$http.patch("/hris/".concat(e.orgSlug,"/employment/").concat(e.endpoint,"/").concat(e.$route.query.id,"/"),{post_task:e.model.slug}).then((function(){e.$emit("refresh"),e.checkTask()})).catch((function(t){e.notifyInvalidFormResponse(t.response.data[0]),e.pushErrors(t)}));case 5:case"end":return t.stop()}}),t)})))()},removeTask:function(){var e=this,t="";t={post_task:""},this.$http.patch("/hris/".concat(this.orgSlug,"/employment/").concat(this.endpoint,"/").concat(this.$route.query.id,"/"),t).then((function(){e.postTask="",e.model={},e.$emit("refresh"),e.taskDetails=[]})).catch((function(t){e.pushErrors(t)}))},openTaskDetails:function(){var e="";e="separation"===this.endpoint?"admin-slug-hris-employees-employee-separation-task-details":"admin-slug-hris-employees-employment-review-task-details",this.$router.push({name:e,params:{slug:this.orgSlug},query:{preId:this.$route.query.id,type:"post"}})}}},m=p,h=a("2877"),f=a("6544"),v=a.n(f),g=a("c6a6"),y=a("8336"),b=a("b0af"),k=a("99d9"),_=a("cc20"),x=a("62ad"),T=a("ce7e"),D=a("0fd9b"),w=Object(h["a"])(m,r,l,!1,null,null,null),C=w.exports;v()(w,{VAutocomplete:g["a"],VBtn:y["a"],VCard:b["a"],VCardText:k["c"],VChip:_["a"],VCol:x["a"],VDivider:T["a"],VRow:D["a"]});var S=a("fd57"),P=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-card-text",[a("v-row",[a("v-col",{attrs:{md:"6",cols:"12"}},[a("div",[e._v("Select Pre-Task Template")]),a("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"",expression:"''"}],attrs:{items:e.items,loading:e.isLoading,"search-input":e.search,xs4:"","cache-items":"",height:"35px","auto-focus":"","hide-no-data":"","hide-selected":"","item-text":"name","item-value":"slug",placeholder:"Start typing to Search","return-object":""},on:{"update:searchInput":function(t){e.search=t},"update:search-input":function(t){e.search=t}},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}}),e.preTask&&e.taskDetails.length<1?a("div",[e._v(" There is no Task inside this Template. Please Remove and Assign New. ")]):e._e(),e.preTask&&e.taskDetails.length<1?a("span",[a("v-btn",{attrs:{small:"",text:"",color:"danger--text"},on:{click:e.removeTask}},[a("v-icon",{attrs:{size:"14"},domProps:{textContent:e._s("mdi-close")}}),e._v(" Remove ")],1)],1):e._e(),e.taskDetails.length<1?a("v-btn",{attrs:{text:"",small:"",color:"primary",depressed:""},on:{click:e.createTaskStatus}},[e._v(" Create Task ")]):a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("div",[a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.openTaskDetails()}}},[e._v(" Link to task Template ")]),"Pending"===e.preTaskStatus?a("span",[a("v-btn",{attrs:{small:"",text:"",color:"danger--text"},on:{click:e.removeTask}},[a("v-icon",{attrs:{size:"14"},domProps:{textContent:e._s("mdi-close")}}),e._v(" Remove ")],1)],1):e._e()],1)]),e.taskDetails.length>0?a("v-col",[a("v-chip",{attrs:{color:e.statusColor[e.preTaskStatus],outlined:"",small:""}},[e._v(" "+e._s(e.preTaskStatus)+" ")])],1):e._e()],1)],1),a("v-col",{attrs:{md:"6",cols:"12"}},[a("div",[e._v("Select Letter Template")]),a("v-row",{attrs:{align:"end"}},[a("v-col",{attrs:{cols:"8"}},[a("vue-auto-complete",e._b({directives:[{name:"validate",rawName:"v-validate",value:"",expression:"''"}],attrs:{endpoint:e.templateEndpoint,params:{type:"off"},"item-text":"title","item-value":"slug"},model:{value:e.template,callback:function(t){e.template=t},expression:"template"}},"vue-auto-complete",e.veeValidate("letter_template","Letter Template"),!1))],1),a("v-col",{attrs:{cols:"4"}},[a("v-btn",{attrs:{color:"primary",outlined:""},on:{click:e.generateLetter}},[e._v(" Generate ")])],1)],1),e._l(e.generateDetail,(function(t,n){return a("v-row",{key:n,staticClass:"py-1"},[a("a",{staticClass:"pl-4",on:{click:function(t){return e.viewLetter(e.generateDetail[n])}}},[e._v(" "+e._s(t.title)+" ")]),a("span",{staticClass:"pl-2"},[a("v-chip",{attrs:{color:e.statusColors[t.status],small:"",outlined:""}},[e._v(" "+e._s(t.status)+" ")])],1)])}))],2)],1)],1),a("v-dialog",{attrs:{height:"900",width:"800","hide-overlay":"","max-width":"800px"},on:{keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;e.offerLetter=!1}},model:{value:e.offerLetter,callback:function(t){e.offerLetter=t},expression:"offerLetter"}},[a("v-card",[a("vue-card-title",{attrs:{title:"Generated Letter",subtitle:"-",icon:"mdi-file-document-outline",dark:""}}),a("v-divider"),a("v-card-text",[a("v-card",{ref:"print",attrs:{border:"1",flat:""}},[e.individualLetter?a("v-card-text",{domProps:{innerHTML:e._s(e.$sanitize(e.individualLetter.message))}}):e._e()],1)],1),a("v-divider"),a("v-card-actions",[a("v-col",[a("v-btn",{attrs:{depressed:"",small:"",color:"primary",right:""},on:{click:e.sendOfferLetter}},[e._v(" Send ")]),a("v-btn",{attrs:{small:"",depressed:"",color:"primary"},on:{click:e.saveOfferLetter}},[e._v(" Save ")]),a("v-btn",{attrs:{text:""},on:{click:function(t){return e.downloadPdf(e.$refs.print,"l","letter-template.pdf")}}},[e._v(" Print ")]),a("v-btn",{attrs:{text:""},on:{click:function(t){e.offerLetter=!1}}},[e._v(" Cancel ")])],1)],1)],1)],1)],1)},L=[],V=a("50e3"),O=a("5660"),$=a("d242"),E={components:{VueAutoComplete:O["default"]},mixins:[u["a"],$["a"]],props:{preTaskStatus:{type:String,default:""},preTask:{type:String,default:""}},data:function(){return{orgSlug:this.$route.params.slug,reviewDetails:"",taskDetails:[],isLoading:!1,descriptionLimit:40,entries:[],model:"",search:"",taskCount:"",statusColors:{"Not Sent":"red",Sent:"green"},template:"",statusColor:{Pending:"orange","In Progress":"blue",Completed:"green"},letterId:"",individualLetter:"",employee:"",templateEndpoint:V["a"].getLetterTemplate(this.$route.params.slug),generateDetail:{},offerLetter:!1}},computed:{items:function(){var e=this;return this.entries.map((function(t){var a=t.name.length>e.descriptionLimit?t.name.slice(0,e.descriptionLimit)+"...":t.name;return Object.assign({},t,{query:a})}))}},watch:{search:function(){var e=this;this.items.length>0||this.isLoading||(this.isLoading=!0,this.$http.get(c["a"].getTaskTemplate(this.orgSlug)+"?type=off").then((function(t){e.entries=t.results})),this.isLoading=!1)},preTask:function(){this.preTask&&(this.model={slug:this.preTask},this.checkTask(this.preTask))}},created:function(){this.getLetters(),this.preTask&&this.checkTask(this.preTask)},methods:{checkTask:function(e){var t=this,a="/hris/".concat(this.orgSlug,"/employment/separation/").concat(this.$route.query.id,"/pre-tasks/");this.templateSlug=e,this.$http.get(a).then((function(e){t.taskDetails=e.results,t.$emit("refresh")})).catch((function(e){t.notifyInvalidFormResponse(e.response.data[0]),t.pushErrors(e)}))},createTaskStatus:function(){var e=this;this.model.slug?this.$http.patch("/hris/".concat(this.orgSlug,"/employment/separation/").concat(this.$route.query.id,"/"),{pre_task:this.model.slug}).then((function(){e.checkTask()})):this.notifyUser("Please Assign Pre Task Template.","red")},sendOfferLetter:function(){var e=this;this.$http.post(V["a"].sendLetter(this.orgSlug,this.letterId)).then((function(t){e.notifyUser(t),e.getLetters(),e.offerLetter=!1}))},saveOfferLetter:function(){var e=this;this.$http.post(V["a"].saveLetter(this.orgSlug,this.letterId)).then((function(){e.notifyUser("This letter is successfully saved in user documents.")}))},print:function(){},downloadOfferLetter:function(){var e=this;this.$http({url:V["a"].downloadLetter(this.orgSlug,this.letterId),method:"GET",responseType:"blob"}).then((function(t){e.notifyUser("Your file is being Downloaded","green");var a=window.URL.createObjectURL(new Blob([t])),n=document.createElement("a");n.href=a,n.setAttribute("download","Offer Letter.pdf"),document.body.appendChild(n),n.click()}))},generateLetter:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:""!==e.template?e.$http.post("/hris/".concat(e.orgSlug,"/employment/separation/").concat(e.$route.query.id,"/letters/"),{letter_template:e.template}).then((function(){e.notifyUser("Successfully Generated Template."),e.getLetters()})).catch((function(t){e.getLetters(),e.pushErrors(t),e.notifyInvalidFormResponse(t.response.data.non_field_errors[0])})):e.notifyUser("Please select Letter Template first.","red");case 1:case"end":return t.stop()}}),t)})))()},getLetters:function(){var e=this;this.$http.get("/hris/".concat(this.orgSlug,"/employment/separation/").concat(this.$route.query.id,"/letters/")).then((function(t){e.generateDetail=t.results})).catch((function(t){e.notifyInvalidFormResponse("There is an error to generate message."),e.pushErrors(t)}))},viewLetter:function(e){this.individualLetter=e,this.letterId=e.id,this.offerLetter=!0},removeTask:function(){var e=this,t="";t={pre_task:""},this.$http.patch("/hris/".concat(this.orgSlug,"/employment/separation/").concat(this.$route.query.id,"/"),t).then((function(){e.checkTask(),e.$emit("refresh"),e.taskDetails=[],e.model={}})).catch((function(t){e.notifyInvalidFormResponse(),e.pushErrors(t)}))},openTaskDetails:function(e){var t="pre";this.$router.push({name:"admin-slug-hris-employees-employee-separation-task-details",params:{slug:this.orgSlug},query:{id:e,preId:this.$route.query.id,type:t}})}}},I=E,j=a("169a"),R=a("132d"),B=Object(h["a"])(I,P,L,!1,null,null,null),A=B.exports;v()(B,{VAutocomplete:g["a"],VBtn:y["a"],VCard:b["a"],VCardActions:k["a"],VCardText:k["c"],VChip:_["a"],VCol:x["a"],VDialog:j["a"],VDivider:T["a"],VIcon:R["a"],VRow:D["a"]});var F=a("c774"),N=a("8c7d"),z=a("9ec7"),U=a("02cb"),q=a("afa9"),M=a("e4bf"),H=a("3b5c"),Y=a("cab9"),G=a("2326"),W=a("892c"),J=a("c715"),K={components:{TaskForm:J["a"],TaskList:W["a"],LetterTemplate:G["a"],ExitInterviewDetails:Y["a"],ExitInterview:H["a"],VueContextMenu:M["default"],VuePageWrapper:o["default"],AttendanceDetails:S["a"],VueUser:U["default"],PayrollDetails:N["a"],PendingTasks:F["a"],LeaveDetails:z["a"],EmployeeSeparationTemplate:A,ChangeTypeTask:C},mixins:[u["a"]],data:function(){return{dynamicProps:{},bottomSheet:{display:!1,currentComponent:"attendance-details"},headers:[{text:"Name",value:"name",width:"25%",sortable:!1},{text:"Separation Type",value:"separation_type",width:"",sortable:!1},{text:"Approved Date",value:"approved_date",sortable:!1},{text:"Last Working Date",value:"last_working_date",width:"15%",sortable:!1},{text:"Status",value:"status",sortable:!1}],holdNotification:{dialog:!1,heading:"Confirm Hold",subheading:"You are about to hold this Employee Separation process",text:"You can resume this Employee Separation Process later from exactly where you left. Are you sure you want to hold this Employee Separation?"},resumeNotification:{dialog:!1,heading:"Confirm Resume",subheading:"You are about to resume this Employee Separation process",text:"Are you sure you want to resume this Employee Separation?"},stopNotification:{dialog:!1,heading:"Confirm Stop",subheading:"You are about to stop this Employee Separation process",text:"Employee Separation cannot be resumed once it is stopped. Are you sure you want to stop this Employee Separation?"},deleteNotification:{dialog:!1,heading:"Confirm Delete",text:"Are you sure you want to delete this Separation Details?"},htmlTitle:"Separation Details | Employment Review",orgSlug:this.$route.params.slug,breadCrumbItems:[{text:"HRIS",disabled:!1,to:{name:"admin-slug-hris-overview",params:{slug:this.$route.params.slug}}},{text:"Employees",disabled:!1,to:{name:"admin-slug-hris-employees",params:{slug:this.$route.params.slug}}},{text:"Employees Separation",disabled:!1,to:{name:"admin-slug-hris-employees-employee-separation",params:{slug:this.$route.params.slug}}},{text:"Offboarding",disabled:!1,to:{name:"admin-slug-hris-employees-employee-separation-offboarding",params:{slug:this.$route.params.slug}}},{text:"Details",disabled:!0}],reviewDetails:"",taskDetails:[],statusColor:{active:"green",hold:"orange",stopped:"danger",completed:"success","letters-generated":"indigo darken-2","pre-active":"lime darken-2","pre-completed":"purple darken-2","leave-reviewed":"blue darken-2","attendance-reviewed":"brown darken-1","payroll-reviewed":"deep-purple accent-2","task-reviewed":"cyan darken-2","post-active":"deep-orange darken-2","post-completed":"teal accent-3","exit-interview-created":"green darken-3","exit-interview-reviewed":"blue darken-3"},isLoading:!1,descriptionLimit:40,entries:[],model:"",search:"",taskCount:"",template:"",letterId:"",individualLetter:"",separationDetails:{display:!1},employeeSeparationForm:{display:!1},employee:"",templateEndpoint:V["a"].getLetterTemplate(this.$route.params.slug),generateDetail:{},offerLetter:!1,statusMap:{"pre-active":{component:"task-form",text:"Create Pre Task",type:"button"},"pre-completed":{component:"task-list",text:"View Pre Task",type:"button",taskStatus:this.taskCompletionText},"letters-generated":{component:"letter-template",text:"Select & Generate Letter Template",type:"button"},"leave-reviewed":{component:"leave-details",text:"View Leave Details",type:"button"},"attendance-reviewed":{component:"attendance-details",text:"View Attendance Details",type:"button"},"tasks-reviewed":{component:"pending-tasks",text:"View Pending Tasks",type:"button"},"payroll-reviewed":{component:"payroll-details",text:"View Payroll",type:"button"},"exit-interview-created":{component:"exit-interview",text:"Exit Interview",type:"button"},"exit-interview-reviewed":{component:"exit-interview-details",text:"Exit Interview Details",type:"button"},"post-active":{component:"task-form",text:"Create Post Task",type:"button"},"post-completed":{component:"task-list",text:"View Post Task",type:"button",taskStatus:this.taskCompletionText}},eventToListen:{},taskStatus:{1:"Pending",2:"In Progress",3:"On Hold",4:"Completed",5:"Closed"},taskStatusColor:{pending:"orange","in-progress":"blue",hold:"grey",completed:"green",stopped:"blue"},separations:[]}},computed:{currentStatus:function(){var e=[];return this.separationDetails.steps&&(e=this.separationDetails.steps.find((function(e){return"in-progress"===e.status}))),e||[]},items:function(){var e=this;return this.entries.map((function(t){var a=t.name.length>e.descriptionLimit?t.name.slice(0,e.descriptionLimit)+"...":t.name;return Object.assign({},t,{query:a})}))}},watch:{search:function(){var e=this;this.items.length>0||this.isLoading||(this.isLoading=!0,this.$http.get(c["a"].getTaskTemplate(this.orgSlug)).then((function(t){e.entries=t.results})),this.isLoading=!1)},model:function(){this.checkTask(this.model.slug)}},created:function(){this.fetchDetails()},methods:{closeForm:function(){this.employeeSeparationForm.display=!1,this.fetchDetails()},showForm:function(e){this.employeeSeparationForm={display:!0,currentComponent:this.statusMap[e].component,actionData:this.separationDetails},this.dynamicProps={"attendance-details":this.separationDetails.attendance_details,"employment-separation-details":this.separationDetails},"post-active"===e||"post-completed"===e||"exit-interview-reviewed"===e||"exit-interview-created"===e||"payroll-reviewed"===e?"task-list"===this.employeeSeparationForm.currentComponent?this.setTaskListFormData(this.separationDetails,"postTask"):this.setCommonComponentData(this.separationDetails,"postTask"):("active"===e||"pre-active"===e||"pre-completed"===e)&&"task-list"===this.employeeSeparationForm.currentComponent?this.setTaskListFormData(this.separationDetails,"preTask"):this.setCommonComponentData(this.separationDetails,"preTask")},fetchDetails:function(){var e=this;this.$http.get(q["a"].separationDetails(this.orgSlug,this.$route.query.id)).then((function(t){e.separationDetails=t}))},checkTask:function(e){var t=this,a="/hris/".concat(this.orgSlug,"/employment/separation/").concat(this.$route.query.id,"/pre-tasks/");this.templateSlug=e,this.$http.get(a).then((function(e){t.taskDetails=e.results})).catch((function(e){t.notifyInvalidFormResponse(e.response.data[0]),t.getLetters(),t.pushErrors(e)}))},createTaskStatus:function(){var e=this;this.$http.patch("/hris/".concat(this.orgSlug,"/employment/separation/").concat(this.$route.query.id,"/"),{pre_task:this.template}).then((function(){e.checkTask()})).catch((function(t){e.notifyInvalidFormResponse(t.response.data[0]),e.getLetters(),e.pushErrors(t)}))},sendOfferLetter:function(){var e=this;this.$http.post(V["a"].sendLetter(this.orgSlug,this.letterId)).then((function(t){e.notifyUser(t),e.fetchDetails(),e.offerLetter=!1}))},downloadOfferLetter:function(){var e=this;this.$http({url:V["a"].downloadLetter(this.orgSlug,this.letterId),method:"GET",responseType:"blob"}).then((function(t){e.notifyUser("Your file is being Downloaded","green");var a=window.URL.createObjectURL(new Blob([t])),n=document.createElement("a");n.href=a,n.setAttribute("download","Offer Letter.pdf"),document.body.appendChild(n),n.click()}))},generateLetter:function(){var e=this;this.$http.post("/hris/".concat(this.orgSlug,"/employment/separation/").concat(this.$route.query.id,"/letters/"),{letter_template:this.template}).then((function(){e.notifyUser("Successfully Generated Template."),e.getLetters()})).catch((function(t){e.notifyUser("Template is already generated for this User."),e.getLetters(),e.pushErrors(t)}))},getLetters:function(){var e=this;this.$http.get("/hris/".concat(this.orgSlug,"/employment/separation/").concat(this.$route.query.id,"/letters/")).then((function(t){e.generateDetail=t.results})).catch((function(t){e.notifyInvalidFormResponse("There is an error to generate message."),e.pushErrors(t)}))},viewLetter:function(e){this.individualLetter=e,this.letterId=e.id,this.offerLetter=!0},openTaskDetails:function(e){var t=this.isPostTask?"post":"pre";this.$router.push({name:"admin-slug-hris-employees-employee-separation-task-details",params:{slug:this.orgSlug},query:{id:e,preId:this.$route.query.id,type:t}})},deleteSeparationDetail:function(){var e=this;this.$http.delete(q["a"].deleteSeparationDetails(this.orgSlug,this.employeeSeparationId)).then((function(){e.notifyUser("Successfully Deleted Separation Details."),e.dismissForm()})).catch((function(t){e.pushErrors(t),e.notifyInvalidFormResponse()}))},holdPreEmployment:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.validateAllFields();case 2:if(!t.sent){t.next=5;break}a={status:"hold",status_remark:e.remarks},e.$http.patch(q["a"].updateSeparationDetails(e.orgSlug,e.employeeSeparationForm.selectedId),a).then((function(){e.remarks="",e.notifyUser("Successfully Hold Pre Employment Template."),e.dismissForm()}));case 5:case"end":return t.stop()}}),t)})))()},resumePreEmployment:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.validateAllFields();case 2:if(!t.sent){t.next=5;break}a={remarks:e.remarks},e.$http.post(q["a"].updateSeparationDetails(e.orgSlug,e.employeeSeparationForm.selectedId)+"resume/",a).then((function(){e.remarks="",e.notifyUser("Successfully Resumed Pre Employment Template."),e.dismissForm()}));case 5:case"end":return t.stop()}}),t)})))()},stopPreEmployment:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.validateAllFields();case 2:if(!t.sent){t.next=5;break}a={status:"stopped",status_remark:e.remarks},e.$http.patch(q["a"].updateSeparationDetails(e.orgSlug,e.employeeSeparationForm.selectedId),a).then((function(){e.remarks="",e.notifyUser("Successfully Stopped Pre Employment Template."),e.dismissForm()}));case 5:case"end":return t.stop()}}),t)})))()},gotoNext:function(e,t,a){t&&(this.employeeSeparationForm.actionData.status=t),this.employeeSeparationForm.currentComponent=e,this.fetchDetails(),"task-list"===e?this.setTaskListFormData(this.employeeSeparationForm.actionData,a):this.setCommonComponentData(this.employeeSeparationForm.actionData,a)},setTaskListFormData:function(e,t){var a=this;this.dynamicProps={employmentDetails:e,component:"offBoard",componentType:t},this.eventToListen={cancel:function(){return a.dismissForm()},next:function(e,t,n){return a.gotoNext(e,t,n)},"pre-task-added":function(e){return a.employeeSeparationForm.actionData.pre_task=e},"post-task-added":function(e){return a.employeeSeparationForm.actionData.post_task=e}}},setCommonComponentData:function(e,t){var a=this;this.dynamicProps={employmentDetails:e,component:"offBoard",componentType:t},this.eventToListen={next:function(e,t,n){return a.gotoNext(e,t,n)},cancel:function(){return a.dismissForm()}}},dismissForm:function(){this.employeeSeparationForm.display=!1,this.deleteNotification.dialog=!1,this.holdNotification.dialog=!1,this.stopNotification.dialog=!1,this.resumeNotification.dialog=!1,this.fetchDetails()}}},Q=K,X=(a("bbee"),a("288c")),Z=a("8fea"),ee=a("8654"),te=Object(h["a"])(Q,n,s,!1,null,"2eb4890e",null);t["default"]=te.exports;v()(te,{VBottomSheet:X["a"],VCard:b["a"],VCardText:k["c"],VChip:_["a"],VCol:x["a"],VDataTable:Z["a"],VDivider:T["a"],VIcon:R["a"],VRow:D["a"],VTextField:ee["a"]})},ab8a:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.changeType&&0!==e.nonFieldErrors.length?a("div",e._l(e.nonFieldErrors,(function(t,n){return a("v-col",{key:n},e._l(t,(function(t,n){return a("div",{key:n},[a("span",{domProps:{textContent:e._s(e.key)}}),a("span",{domProps:{textContent:e._s(t.toString())}})])})),0)})),1):e._e(),e.changeType||0===e.nonFieldErrors.length?e._e():a("v-alert",{staticClass:"ma-3",attrs:{outlined:"",dense:"",tile:"",dismissible:"",color:"danger"}},[a("span",{domProps:{textContent:e._s("There are some errors")}}),e._l(e.nonFieldErrors,(function(t,n){return a("div",{key:n},e._l(t,(function(t,n){return a("div",{key:n},[a("ul",[a("li",[a("span",{domProps:{textContent:e._s(e.key)}}),a("span",{domProps:{textContent:e._s(t.toString())}})])])])})),0)}))],2)],1)},s=[],i={props:{nonFieldErrors:{type:Array,required:!0},changeType:{type:Boolean,default:!1}},data:function(){return{key:""}}},o=i,r=a("2877"),l=a("6544"),c=a.n(l),u=a("0798"),d=a("62ad"),p=Object(r["a"])(o,n,s,!1,null,null,null);t["default"]=p.exports;c()(p,{VAlert:u["a"],VCol:d["a"]})},abd3:function(e,t,a){},afa9:function(e,t,a){"use strict";a("99af");t["a"]={getSeparationDetails:function(e){return"/hris/".concat(e,"/employment/separation/")},getIndividualSeparation:function(e,t){return"/hris/".concat(e,"/employment/separation/").concat(t,"/")},postSeparationDetails:function(e){return"/hris/".concat(e,"/employment/separation/")},getSeparationDetail:function(e,t){return"/hris/".concat(e,"/employment/separation/").concat(t,"/")},updateSeparationDetails:function(e,t){return"/hris/".concat(e,"/employment/separation/").concat(t,"/")},updateEmployeeSeparation:function(e,t){return"/hris/".concat(e,"/employment/separation/").concat(t,"/edit/")},deleteSeparationDetails:function(e,t){return"/hris/".concat(e,"/employment/separation/").concat(t,"/")},getPreTasks:function(e,t){return"/hris/".concat(e,"/employment/separation/").concat(t,"/pre-tasks/")},getPostTasks:function(e,t){return"/hris/".concat(e,"/employment/separation/").concat(t,"/post-tasks/")},exitInterviewPost:function(e){return"/hris/".concat(e,"/exit-interview/")},postPreTasksMultiAssign:function(e,t){return"/hris/".concat(e,"/employment/separation/").concat(t,"/pre-tasks/multi-assign/")},postPostTasksMultiAssign:function(e,t){return"/hris/".concat(e,"/employment/separation/").concat(t,"/post-tasks/multi-assign/")},letterTemplate:function(e,t){return"/hris/".concat(e,"/employment/separation/").concat(t,"/letters/")},separationDetails:function(e,t){return"/hris/".concat(e,"/employment/separation/").concat(t,"/?format=json")},getEmploymeeLeaves:function(e,t){return"/hris/".concat(e,"/employment/separation/").concat(t,"/leaves/")},updateEmploymeeLeaves:function(e,t,a){return"/hris/".concat(e,"/employment/separation/").concat(t,"/leaves/").concat(a)},historyEmploymeeLeaves:function(e,t,a){return"/hris/".concat(e,"/employment/separation/").concat(t,"/leaves/").concat(a,"/history")}}},b5b6:function(e,t,a){},b73d:function(e,t,a){"use strict";var n=a("5530"),s=(a("0481"),a("ec29"),a("9d01"),a("fe09")),i=a("c37a"),o=a("c3f0"),r=a("0789"),l=a("490a"),c=a("80d2");t["a"]=s["a"].extend({name:"v-switch",directives:{Touch:o["a"]},props:{inset:Boolean,loading:{type:[Boolean,String],default:!1},flat:{type:Boolean,default:!1}},computed:{classes:function(){return Object(n["a"])(Object(n["a"])({},i["a"].options.computed.classes.call(this)),{},{"v-input--selection-controls v-input--switch":!0,"v-input--switch--flat":this.flat,"v-input--switch--inset":this.inset})},attrs:function(){return{"aria-checked":String(this.isActive),"aria-disabled":String(this.isDisabled),role:"switch"}},validationState:function(){return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0},switchData:function(){return this.setTextColor(this.loading?void 0:this.validationState,{class:this.themeClasses})}},methods:{genDefaultSlot:function(){return[this.genSwitch(),this.genLabel()]},genSwitch:function(){return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.genInput("checkbox",Object(n["a"])(Object(n["a"])({},this.attrs),this.attrs$)),this.genRipple(this.setTextColor(this.validationState,{directives:[{name:"touch",value:{left:this.onSwipeLeft,right:this.onSwipeRight}}]})),this.$createElement("div",Object(n["a"])({staticClass:"v-input--switch__track"},this.switchData)),this.$createElement("div",Object(n["a"])({staticClass:"v-input--switch__thumb"},this.switchData),[this.genProgress()])])},genProgress:function(){return this.$createElement(r["c"],{},[!1===this.loading?null:this.$slots.progress||this.$createElement(l["a"],{props:{color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,size:16,width:2,indeterminate:!0}})])},onSwipeLeft:function(){this.isActive&&this.onChange()},onSwipeRight:function(){this.isActive||this.onChange()},onKeydown:function(e){(e.keyCode===c["y"].left&&this.isActive||e.keyCode===c["y"].right&&!this.isActive)&&this.onChange()}}})},bbee:function(e,t,a){"use strict";a("014d")},c197:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.divClass},[a("v-img",{class:e.imgClass,attrs:{src:"/svg/three-dots.svg",height:e.height,contain:""}}),a("h3",{staticClass:"text-center grey--text",domProps:{textContent:e._s(e.message)}})],1)},s=[],i={props:{message:{type:String,default:"Please wait. Fetching data just for you ..."},divClass:{type:String,default:"pa-12"},imgClass:{type:String,default:"my-6"},height:{type:String,default:"20"}},data:function(){return{}}},o=i,r=a("2877"),l=a("6544"),c=a.n(l),u=a("adda"),d=Object(r["a"])(o,n,s,!1,null,null,null);t["default"]=d.exports;c()(d,{VImg:u["a"]})},c715:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("vue-card-title",{attrs:{title:e.sharedData.title,subtitle:e.sharedData.subTitle,icon:"mdi-file-document-outline",dark:"",closable:""},on:{close:function(t){return e.$emit("cancel")}}}),a("v-divider"),a("v-card-text",[e.loading?a("div",[a("default-svg-loader")],1):a("div",[a("v-row",[e.showform?a("v-col",{attrs:{cols:"4"}},[a("vue-auto-complete",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{endpoint:e.endPoints.postTaskEndpoint,disabled:e.taskTemplateSelected,clearable:!1,"force-fetch":"","item-value":"slug","item-text":"name","hide-details":""},model:{value:e.postTask,callback:function(t){e.postTask=t},expression:"postTask"}},"vue-auto-complete",e.veeValidate("post_task","Select "+("postTask"===e.componentType?"Post":"Pre")+" Task"),!1))],1):e._e(),a("v-col",{staticClass:"mt-2",attrs:{cols:"6",offset:"1"}},[e.nonFieldErrors?a("non-field-form-errors",{attrs:{"non-field-errors":e.nonFieldErrors}}):e._e(),("postTask"===e.componentType&&e.taskInfo.post_task||"preTask"===e.componentType&&e.taskInfo.pre_task)&&e.taskDetails.length<1?a("div",[a("div",[e._v(" There is no Task inside this Template. Please Remove and Assign New. ")]),a("v-btn",{staticClass:"danger--text",attrs:{small:"",text:"",outlined:""},on:{click:e.removeTask}},[a("v-icon",{staticClass:"danger--text",attrs:{size:"14"},domProps:{textContent:e._s("mdi-close")}}),e._v(" Remove and Add Another ")],1)],1):e._e(),e.taskDetails.length?a("div",[a("div",{staticClass:"success--text pb-1",domProps:{textContent:e._s(("postTask"===e.componentType?"Post":"Pre")+" task successfully added Please click next to view task details.")}}),("postTask"===e.componentType&&e.taskInfo.post_task||"preTask"===e.componentType&&e.taskInfo.pre_task)&&e.taskDetails.length>0&&"postTask"===e.componentType&&"Pending"===e.taskInfo.post_task_status||"preTask"===e.componentType&&"Pending"===e.taskInfo.pre_task_status?a("v-btn",{staticClass:"danger--text",attrs:{small:"",text:"",outlined:""},on:{click:e.removeTask}},[a("v-icon",{staticClass:"danger--text",attrs:{size:"14"},domProps:{textContent:e._s("mdi-close")}}),e._v(" Remove and Add Another ")],1):e._e()],1):e._e()],1)],1),!("postTask"===e.componentType&&e.taskInfo.post_task||"preTask"===e.componentType&&e.taskInfo.pre_task)&&e.taskDetails.length<1?a("v-btn",{attrs:{text:"",small:"",depressed:"",color:"primary"},domProps:{textContent:e._s("Create Tasks")},on:{click:e.createTaskStatus}}):e._e()],1)]),a("v-divider"),a("v-card-actions",["postTask"===e.componentType?a("v-btn",{attrs:{color:"primary",depressed:""},on:{click:function(t){e.$emit("next","onBoard"===e.component?"assign-equipment":"offBoard"===e.component?e.getPreviousComponent():"changeType"===e.component?"letter-template":"","",e.componentType)}}},[a("v-icon",{domProps:{textContent:e._s("mdi-chevron-left")}}),e._v(" Previous ")],1):e._e(),a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){return e.$emit("cancel")}}},[e._v(" Cancel ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.deleteNotification.dialog=!0}}},[e._v(" Skip ")]),a("v-btn",{attrs:{disabled:!e.taskDetails.length,depressed:"",color:"primary"},on:{click:function(t){return e.$emit("next","task-list","onBoard"===e.component?"":"offBoard"===e.component?"pre-active":"",e.componentType)}}},[e._v(" Next "),a("v-icon",{domProps:{textContent:e._s("mdi-chevron-right")}})],1)],1),a("vue-dialog",{attrs:{notify:e.deleteNotification},on:{close:function(t){e.deleteNotification.dialog=!1},agree:e.skipPostTask}})],1)},s=[],i=a("1da1"),o=(a("96cf"),a("99af"),a("d3b7"),a("caad"),a("5660")),r=a("f12b"),l=a("0116"),c=a("5615"),u=a("c197"),d=a("afa9"),p=a("99d6"),m={name:"TaskForm",components:{VueAutoComplete:o["default"],DefaultSvgLoader:u["default"]},mixins:[r["a"]],props:{employmentDetails:{type:Object,default:function(){return{}}},component:{type:String,required:!0},componentType:{type:String,required:!0}},data:function(){return{sharedData:{},endPoints:{},deleteNotification:{dialog:!1,heading:"Confirm Your Action",subheading:"You are about to skip ".concat("postTask"===this.componentType?"Post":"Pre"," task."),text:"Are you sure you want to skip ".concat("postTask"===this.componentType?"Post":"Pre"," Task?")},postTask:"",taskInfo:{postTask:""},taskDetails:[],loading:!1,taskTemplateSelected:!1,showform:!0}},watch:{"deleteNotification.dialog":function(e){this.showform=!e}},created:function(){this.initializeUrl(),this.fetchTaskInfo(),("postTask"===this.componentType&&null!=this.employmentDetails.post_task||"preTask"===this.componentType&&null!=this.employmentDetails.pre_task)&&this.checkTask()},methods:{initializeUrl:function(){"onBoard"===this.component?(this.sharedData.title="List of ".concat("postTask"===this.componentType?"Post-Task":"Pre-Task"," to onboard ").concat(this.employmentDetails.full_name),this.sharedData.subTitle="List of ".concat("postTask"===this.componentType?"Post-Task":"Pre-Task"," ."),"postTask"===this.componentType?this.endPoints.checkTaskEndPoint=c["a"].getPostTasks(this.getOrganizationSlug,this.employmentDetails.id):"preTask"===this.componentType&&(this.endPoints.checkTaskEndPoint=c["a"].getPreTasks(this.getOrganizationSlug,this.employmentDetails.id)),this.endPoints.postTaskEndpoint=l["a"].getTaskTemplate(this.getOrganizationSlug)+"?type=on",this.endPoints.fetchTaskEndPoint=c["a"].getPreEmploymentDetail(this.getOrganizationSlug,this.employmentDetails.id),this.endPoints.skipRemoveCreatePreTaskEndPoint=c["a"].updatePreEmployment(this.getOrganizationSlug,this.employmentDetails.id)):"offBoard"===this.component?(this.sharedData.title="List of ".concat("postTask"===this.componentType?"Post-Task":"Pre-Task"," to offboard ").concat(this.employmentDetails.employee.full_name),this.sharedData.subTitle="List of ".concat("postTask"===this.componentType?"Post-Task":"Pre-Task"," to offboard."),this.endPoints.postTaskEndpoint=l["a"].getTaskTemplate(this.getOrganizationSlug)+"?type=off","postTask"===this.componentType?this.endPoints.checkTaskEndPoint=d["a"].getPostTasks(this.getOrganizationSlug,this.employmentDetails.id):this.endPoints.checkTaskEndPoint=d["a"].getPreTasks(this.getOrganizationSlug,this.employmentDetails.id),this.endPoints.fetchTaskEndPoint=d["a"].getIndividualSeparation(this.getOrganizationSlug,this.employmentDetails.id),this.endPoints.skipRemoveCreatePreTaskEndPoint=d["a"].updateSeparationDetails(this.getOrganizationSlug,this.employmentDetails.id)):"changeType"===this.component&&(this.sharedData.title="List of ".concat("postTask"===this.componentType?"Post-Task":"Pre-Task"," to change type ").concat(this.employmentDetails.employee.full_name),this.sharedData.subTitle="List of ".concat("postTask"===this.componentType?"Post-Task":"Pre-Task"," to change type."),this.endPoints.postTaskEndpoint=l["a"].getTaskTemplate(this.getOrganizationSlug)+"?type=change","preTask"===this.componentType?this.endPoints.checkTaskEndPoint=p["a"].getIndividualEmployementReviewPreTask(this.getOrganizationSlug,this.employmentDetails.id):this.endPoints.checkTaskEndPoint=p["a"].getIndividualEmployementReviewPostTask(this.getOrganizationSlug,this.employmentDetails.id),this.endPoints.fetchTaskEndPoint=p["a"].getChangeTypeDetails(this.getOrganizationSlug,this.employmentDetails.id),this.endPoints.skipRemoveCreatePreTaskEndPoint=p["a"].getChangeTypeDetails(this.getOrganizationSlug,this.employmentDetails.id))},fetchTaskInfo:function(){var e=this;this.taskInfo={},this.getData(this.endPoints.fetchTaskEndPoint).then((function(t){e.taskInfo=t,"postTask"===e.componentType?e.postTask=t.post_task||"":e.postTask=t.pre_task||"",e.postTask&&(e.taskTemplateSelected=!0)}))},checkTask:function(){var e=this;this.getData(this.endPoints.checkTaskEndPoint).then((function(t){e.taskDetails=t.results||[]}))},createTaskStatus:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a={},"postTask"===e.componentType?(a.post_task=e.postTask,a.status="post-active"):"preTask"===e.componentType&&(a.pre_task=e.postTask),"preTask"!==e.componentType&&"active"!==e.employmentDetails.status&&"accepted"!==e.employmentDetails.status&&"pre-active"!==e.employmentDetails.status||(a.status="pre-active"),t.t0=e.postTask,!t.t0){t.next=8;break}return t.next=7,e.validateAllFields();case 7:t.t0=t.sent;case 8:if(!t.t0){t.next=13;break}e.clearNonFieldErrors(),e.patchData(e.endPoints.skipRemoveCreatePreTaskEndPoint,a).then((function(t){"postTask"===e.componentType&&t.post_task||"preTask"===e.componentType&&t.pre_task?(e.$emit("postTask"===e.componentType?"post-task-added":"pre-task-added","postTask"===e.componentType?t.post_task:t.pre_task,"offBoard"===e.component?"":"onBoard"===e.component?"postTask"===e.componentType?"post-active":"pre-active":""),e.taskTemplateSelected=!0):e.notifyInvalidFormResponse(),e.fetchTaskInfo(),e.checkTask()})),t.next=14;break;case 13:e.notifyUser("Please select ".concat("postTask"===e.componentType?"Post":"Pre"," Task Template."),"red");case 14:case"end":return t.stop()}}),t)})))()},removeTask:function(){var e=this,t={};"postTask"===this.componentType?t="onBoard"===this.component?{post_task:"",status:"letters-generated"}:"offBoard"===this.component?{status:"payroll-reviewed",post_task:""}:{post_task:""}:"preTask"===this.componentType&&(t.pre_task="",t.status="active"),this.patchData(this.endPoints.skipRemoveCreatePreTaskEndPoint,t).then((function(){e.$emit("postTask"===e.componentType?"post-task-added":"pre-task-added",null),e.taskTemplateSelected=!1,e.taskDetails=[],e.postTask="",e.fetchTaskInfo()}))},skipPostTask:function(){var e=this;if("postTask"===this.componentType){var t={post_task:"",status:"completed"};"changeType"===this.component&&(t.status="post-completed"),this.patchData(this.endPoints.skipRemoveCreatePreTaskEndPoint,t).then((function(){e.fetchTaskInfo(),e.$emit("cancel")})).finally((function(){e.deleteNotification.dialog=!1}))}else if("preTask"===this.componentType)if(["pre-completed","active","accepted","pre-active"].includes(this.employmentDetails.status)){var a={pre_task:"",status:"pre-completed"};this.patchData(this.endPoints.skipRemoveCreatePreTaskEndPoint,a).then((function(t){e.fetchTaskInfo(),e.deleteNotification.dialog=!1,e.employmentDetails&&!e.employmentDetails.employee?e.$emit("next","add-employee-form","pre-completed",e.componentType):e.$emit("next","changeType"===e.component?"experience-list":"letter-template",t.status,"",e.componentType)}))}else this.$emit("next","onBoard"===this.component?"assign-supervisor-form":"offBoard"===this.component?"letter-template":"changeType"===this.component?"experience-list":"","",this.componentType)},getPreviousComponent:function(){return this.employmentDetails.exit_interview?"exit-interview-details":"exit-interview"}}},h=m,f=a("2877"),v=a("6544"),g=a.n(v),y=a("8336"),b=a("b0af"),k=a("99d9"),_=a("62ad"),x=a("ce7e"),T=a("132d"),D=a("0fd9b"),w=a("2fa4"),C=Object(f["a"])(h,n,s,!1,null,null,null);t["a"]=C.exports;g()(C,{VBtn:y["a"],VCard:b["a"],VCardActions:k["a"],VCardText:k["c"],VCol:_["a"],VDivider:x["a"],VIcon:T["a"],VRow:D["a"],VSpacer:w["a"]})},c774:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[e.bottomSheet?a("vue-card-title",{attrs:{title:"Pending Tasks of "+e.employmentDetails.employee.full_name,subtitle:"Pending Tasks of "+e.employmentDetails.employee.full_name,icon:"mdi-file-document-outline",dark:"",closable:""},on:{close:function(t){return e.$emit("cancel")}}}):a("vue-card-title",{attrs:{title:"Pending Tasks",subtitle:"Pending task information.",icon:"mdi-file-document-outline"}}),a("v-divider"),a("v-data-table",{staticClass:"scrollbar-sm",attrs:{headers:e.headers,items:e.fetchedResults,"sort-desc":e.pagination.descending,"sort-by":e.pagination.sortBy,page:e.pagination.page,"items-per-page":e.pagination.rowsPerPage,"footer-props":{itemsPerPageOptions:[10]},"server-items-length":e.pagination.totalItems,"mobile-breakpoint":0,"must-sort":""},on:{"update:sortDesc":function(t){return e.$set(e.pagination,"descending",t)},"update:sort-desc":function(t){return e.$set(e.pagination,"descending",t)},"update:sortBy":function(t){return e.$set(e.pagination,"sortBy",t)},"update:sort-by":function(t){return e.$set(e.pagination,"sortBy",t)},"update:page":function(t){return e.$set(e.pagination,"page",t)},"update:itemsPerPage":function(t){return e.$set(e.pagination,"rowsPerPage",t)},"update:items-per-page":function(t){return e.$set(e.pagination,"rowsPerPage",t)}},scopedSlots:e._u([{key:"item",fn:function(t){return[a("tr",[a("td",[a("div",{staticClass:"pointer primary--text",on:{click:function(a){return e.openDetails(t.item.id)}}},[a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(n){var s=n.on;return[a("div",e._g({},s),[e._v(" "+e._s(e._f("truncate")(t.item.title,44))+" ")])]}}],null,!0)},[a("span",{domProps:{textContent:e._s(t.item.title)}})])],1),a("span",{class:{"red--text":"CRITICAL"===t.item.priority},domProps:{textContent:e._s(t.item.priority)}}),t.item.attachments_count?a("span",{domProps:{textContent:e._s(t.item.attachments_count+" Attachment")}}):e._e()]),a("td",[a("div",[e._v(" "+e._s(e._f("dayjs")(t.item.deadline,"YYYY DD YYYY"))+" ")]),a("div",[e._v(" "+e._s(e._f("dayjs")(t.item.deadline,"h:mm a"))+" ")])]),a("td",{staticClass:"text-center"},[a("v-chip",{attrs:{color:t.item.is_delayed?"red":e.taskStatus(t.item.status-1).color,outlined:"",small:""}},[e._v(" "+e._s(e.taskStatus(t.item.status-1).text)+" ")])],1),a("td",[a("vue-user",{attrs:{user:t.item.created_by}})],1)])]}}])},[a("template",{slot:"no-data"},[a("no-data-found",{attrs:{loading:e.loading}})],1)],2),e.bottomSheet?a("v-card-actions",[a("v-btn",{attrs:{color:"primary",depressed:""},on:{click:function(t){e.$emit("next",e.getPreviousComponent())}}},[a("v-icon",{domProps:{textContent:e._s("mdi-chevron-left")}}),e._v(" Previous ")],1),a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){return e.$emit("cancel")}}},[e._v(" Cancel ")]),a("v-btn",{attrs:{color:"primary",depressed:""},on:{click:function(t){return e.gotoPayrollDetails()}}},[e._v(" Next "),a("v-icon",{domProps:{textContent:e._s("mdi-chevron-right")}})],1)],1):e._e()],1)},s=[],i=(a("99af"),a("02cb")),o=a("a51f"),r=a("17cc"),l=a("afa9"),c={components:{NoDataFound:o["default"],VueUser:i["default"]},mixins:[r["a"]],props:{employmentDetails:{type:Object,required:!0},bottomSheet:{type:Boolean,default:!1}},data:function(){return{headers:[{text:"Title",value:"task__title",sortable:!1},{text:"Deadline",value:"task__deadline",sortable:!1},{text:"Status",align:"center",sortable:!1},{text:"Assigned By",sortable:!1}],loading:!1,statusMap:{pending:"Pending",in_progress:"In Progress",completed:"Completed",on_hold:"On Hold",closed:"Closed",all:"All"}}},created:function(){this.loadDataTableChange()},methods:{taskStatus:function(e){var t=[{text:"Pending",color:"amber darken-4"},{text:"In Progress",color:"blue darken-4"},{text:"On Hold",color:"pink accent-4"},{text:"Completed",color:"green darken-4"},{text:"Closed",color:"purple darken-4"}];return t[e]},fetchDataTable:function(){var e=this;this.loading=!0,this.$http.get("/hris/".concat(this.getOrganizationSlug,"/employment/separation/").concat(this.employmentDetails.id,"/tasks/"),{params:this.fullParams}).then((function(t){e.loadDataTable(t),e.loading=!1}))},openDetails:function(e){this.$router.push({name:"admin-slug-task-id-detail",params:{id:e}})},gotoPayrollDetails:function(){var e=this;if("attendance-reviewed"===this.employmentDetails.status||"leave-reviewed"===this.employmentDetails.status||"letters-generated"===this.employmentDetails.status||"tasks-reviewed"===this.employmentDetails.status){var t={status:"tasks-reviewed"};this.$http.patch(l["a"].updateSeparationDetails(this.getOrganizationSlug,this.employmentDetails.id),t).then((function(t){e.$emit("next",e.getNextComponent(),t.status)})).catch((function(t){e.notifyInvalidFormResponse(),e.pushErrors(t)}))}else this.$emit("next",this.getNextComponent())},getNextStatus:function(){var e=this.employmentDetails.separation_type;return e.display_payroll?"tasks-reviewed":"payroll-reviewed"},getNextComponent:function(){var e=this.employmentDetails.separation_type;return e.display_payroll?"payroll-details":"post-task-form"},getPreviousComponent:function(){var e=this.employmentDetails.separation_type;return e.display_attendance_details?"attendance-details":e.display_leave?"leave-details":"letter-template"}}},u=c,d=a("2877"),p=a("6544"),m=a.n(p),h=a("8336"),f=a("b0af"),v=a("99d9"),g=a("cc20"),y=a("8fea"),b=a("ce7e"),k=a("132d"),_=a("2fa4"),x=a("3a2f"),T=Object(d["a"])(u,n,s,!1,null,null,null);t["a"]=T.exports;m()(T,{VBtn:h["a"],VCard:f["a"],VCardActions:v["a"],VChip:g["a"],VDataTable:y["a"],VDivider:b["a"],VIcon:k["a"],VSpacer:_["a"],VTooltip:x["a"]})},cab9:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[e.bottomSheet?a("vue-card-title",{attrs:{title:"View Details of Exit Interview For "+e.employmentDetails.employee.full_name,subtitle:"View Details of Exit Interview For "+e.employmentDetails.employee.full_name,icon:"mdi-eye-outline",dark:"",closable:""},on:{close:function(t){return e.$emit("cancel")}}}):a("vue-card-title",{attrs:{title:"View Details of Exit Interview",subtitle:"View Details of Exit Interview",icon:"mdi-eye-outline"}}),a("v-divider"),e.interviewDetails&&!e.loading?a("v-card-text",[a("v-row",[a("v-col",{attrs:{md:"3",cols:"12"}},[a("div",[a("div",[a("v-icon",{domProps:{textContent:e._s("mdi-account-box-outline")}}),e._v(" Interviewer : ")],1),a("vue-user",{staticClass:"ml-5 pt-2",attrs:{user:e.interviewDetails.interviewer}})],1)]),a("v-col",{attrs:{md:"4",cols:"12"}},[a("div",[a("div",[a("v-icon",{domProps:{textContent:e._s("mdi-file-document-outline")}}),e._v(" Question Set: ")],1),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("span",e._g({staticClass:"font-weight-bold ml-7 pt-6"},n),[e._v(e._s(e._f("truncate")(e.get(e.interviewDetails.question_set,"name"),30)))])]}}],null,!1,2501775987)},[a("span",[e._v(" "+e._s(e.get(e.interviewDetails.question_set,"name"))+" ")])])],1)]),a("v-col",{attrs:{md:"3",cols:"12"}},[a("div",[a("div",[a("v-icon",{domProps:{textContent:e._s("mdi-map-marker-outline")}}),e._v(" Location: ")],1),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("span",e._g({staticClass:"font-weight-bold ml-7 pt-6"},n),[e._v(e._s(e._f("truncate")(e.get(e.interviewDetails,"location"),22)))])]}}],null,!1,2006378295)},[a("span",[e._v(" "+e._s(e.get(e.interviewDetails,"location"))+" ")])])],1)]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("div",[a("div",[a("v-icon",{domProps:{textContent:e._s("mdi-clock-outline")}}),e._v(" Scheduled At: ")],1),a("div",{staticClass:"font-weight-bold ml-7"},[e._v(" "+e._s(e.humanizeDate(e.interviewDetails.scheduled_at))+" ")]),a("div",{staticClass:"ml-7"},[e._v(" "+e._s(e.humanizeTime(e.interviewDetails.scheduled_at))+" ")])])]),e.interviewDetails.data?a("v-col",{staticClass:"py-0 text-subtitle-1 font-weight-bold blueGrey--text",attrs:{cols:"12"}},[e._v(" "+e._s("Exit Interview Question List ("+(e.interviewDetails.data.questions.length?e.interviewDetails.data.questions.length:"0")+") ")+" ")]):e._e()],1),a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"12"}},[a("v-card",{staticClass:"blue lighten-5",attrs:{outlined:""}},[a("v-card-title",{staticClass:"pb-2"},[a("v-text-field",{staticClass:"white",attrs:{label:"Search",dense:"","hide-details":"",outlined:"","prepend-inner-icon":"mdi-magnify"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-card-text",{staticClass:"blue lighten-5 scrollbar-thin mb-0",staticStyle:{height:"180px"}},[e.loading?e._e():a("v-list",{staticClass:"blue lighten-5",attrs:{dense:"",flat:""}},[a("v-list-item-group",[e._l(e.searchItemList,(function(t,n){return[a("v-list-item",{key:t.title+n,attrs:{disabled:"",dense:"",color:"black"}},[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{staticClass:"pl-1 ml-0 pr-0",attrs:{cols:"auto"}},[a("span",{domProps:{textContent:e._s(n+1+" . ")}})]),a("v-col",{staticClass:"text-subtitle-1 ma-0 pl-1 py-0",attrs:{cols:"11"}},[a("span",{staticClass:"pt-0 mt-0",domProps:{innerHTML:e._s(e.$sanitize(t.title))}})]),"completed"===e.interviewDetails.data.status&&t.answers&&t.answers.length?[a("v-col",{staticClass:"pl-4 py-0 blue-grey--text",attrs:{cols:"12"}},[e._v("Answer:")]),"rating-scale"===t.answer_choices?a("div",[a("v-rating",{staticClass:"py-0",attrs:{readonly:"Completed"===e.interviewDetails.data.status},on:{change:function(e){t.answers[0]=e}},model:{value:t.answers[0],callback:function(a){e.$set(t.answers,0,a)},expression:"question.answers[0]"}})],1):e._e(),"single-mcq"===t.answer_choices?a("div",{staticClass:"mb-3"},e._l(t.answers,(function(n,s){return a("v-btn",{key:s,class:n.is_correct?"white--text":"",attrs:{small:"",depressed:"",color:n.is_correct?"indigo":""},domProps:{textContent:e._s(n.title)},on:{click:function(a){"Completed"===e.interviewDetails.data?n.is_correct=n.is_correct:t.answers.forEach((function(e){return e.is_correct=!1})),n.is_correct=!0}}})})),1):e._e(),"multiple-mcq"===t.answer_choices?a("div",{staticClass:"mx-4"},e._l(t.answers,(function(t,n){return a("v-checkbox",{key:n,staticClass:"py-0 my-0",attrs:{readonly:"Completed"===e.interviewDetails.data.status,label:t.title},model:{value:t.is_correct,callback:function(a){e.$set(t,"is_correct",a)},expression:"item.is_correct"}})})),1):e._e(),"short-text"===t.answer_choices?a("v-col",{staticClass:"pl-4 pt-0",attrs:{cols:"12"},domProps:{textContent:e._s(t.answers[0])}}):e._e()]:e._e()],2)],1),n!==e.searchItemList.length-1?a("v-divider",{key:"D-"+n,staticClass:"py-1"}):e._e()]}))],2)],1)],1)],1)],1)],1)],1):e._e(),e.loading?a("default-svg-loader"):e._e(),e.bottomSheet?a("v-card-actions",[a("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.$emit("next",e.getPreviousComponent(),"","postTask")}}},[a("v-icon",{domProps:{textContent:e._s("mdi-chevron-left")}}),e._v(" Previous ")],1),a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){return e.$emit("cancel")}}},[e._v(" Cancel ")]),a("v-btn",{attrs:{disabled:!1,color:"primary",depressed:""},on:{click:e.gotoNextStep}},[e._v(" Next "),a("v-icon",{domProps:{textContent:e._s("mdi-chevron-right")}})],1)],1):e._e()],1)},s=[],i=a("5530"),o=a("1da1"),r=(a("96cf"),a("4de4"),a("caad"),a("2532"),a("ac1f"),a("841c"),a("afa9")),l=a("0a8c"),c=a("c197"),u=a("02cb"),d=a("8b61"),p=a("cfa3"),m=a("a09e"),h={components:{VueUser:u["default"],DefaultSvgLoader:c["default"]},mixins:[d["a"],p["a"],m["a"]],props:{employmentDetails:{type:Object,required:!0},bottomSheet:{type:Boolean,default:!1}},data:function(){return{search:"",loading:!1,interviewDetails:{},formValues:{}}},computed:{searchItemList:function(){var e=this;return this.interviewDetails.data?this.interviewDetails.data.questions.filter((function(t){return t.title.toLowerCase().includes(e.search.toLowerCase())})):[]}},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.crud.endpoint.get=l["a"].getPostExitInterviewSeparation(e.getOrganizationSlug,e.employmentDetails.id)+"?as=hr",t.next=3,e.getData();case 3:e.interviewDetails=Object(i["a"])({},e.response);case 4:case"end":return t.stop()}}),t)})))()},methods:{gotoNextStep:function(){"exit-interview-created"===this.employmentDetails.status||"tasks-reviewed"===this.employmentDetails.status||"attendance-reviewed"===this.employmentDetails.status||"leave-reviewed"===this.employmentDetails.status||"letters-generated"===this.employmentDetails.status||"exit-interview-reviewed"===this.employmentDetails.status?(this.formValues.status="exit-interview-reviewed",this.crud.endpoint.patch=r["a"].updateSeparationDetails(this.getOrganizationSlug,this.employmentDetails.id),this.crud.message="",this.updateData()):this.$emit("next","task-form","","postTask")},processAfterUpdateSuccess:function(){this.$emit("next","task-form","","postTask")},getPreviousComponent:function(){return"exit-interview"},humanizeDate:function(e){return this.$dayjs(e).format("YYYY-MM-DD")},humanizeTime:function(e){var t=this.$dayjs(e).format("h:mm:ss a");return"Invalid date"===t?"N/A":t}}},f=h,v=a("2877"),g=a("6544"),y=a.n(g),b=a("8336"),k=a("b0af"),_=a("99d9"),x=a("ac7c"),T=a("62ad"),D=a("ce7e"),w=a("132d"),C=a("8860"),S=a("da13"),P=a("1baa"),L=a("1d4d"),V=a("0fd9b"),O=a("2fa4"),$=a("8654"),E=a("3a2f"),I=Object(v["a"])(f,n,s,!1,null,null,null);t["a"]=I.exports;y()(I,{VBtn:b["a"],VCard:k["a"],VCardActions:_["a"],VCardText:_["c"],VCardTitle:_["d"],VCheckbox:x["a"],VCol:T["a"],VDivider:D["a"],VIcon:w["a"],VList:C["a"],VListItem:S["a"],VListItemGroup:P["a"],VRating:L["a"],VRow:V["a"],VSpacer:O["a"],VTextField:$["a"],VTooltip:E["a"]})},cde3:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"download-only"},e._l(e.users,(function(t,n){return a("v-chip",{key:n,staticClass:"ma-1",attrs:{small:"",label:""}},[e._v(" "+e._s(t.full_name)+" ")])})),1),a("v-row",{staticClass:"download-hidden",attrs:{"no-gutters":""}},[e.users&&!e.users.length?a("div",[a("v-col",{staticClass:"ma-0 pa-0"},[a("v-avatar",{staticClass:"mr-1",attrs:{size:"20"}},[a("v-img",{attrs:{src:"/images/info/user-default.png"}})],1),a("span",{staticClass:"grey--text text-caption"},[e._v("No Employee")])],1)],1):e._l(e.users.slice(0,3),(function(t,n){return a("div",{key:n,staticClass:"text-left"},[a("v-badge",{attrs:{dot:"",right:"",bottom:"",overlap:"","offset-y":"5",color:t.user&&t.user.is_online?"green":"transparent"}},[a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(n){var s=n.on;return[a("a",[a("v-avatar",e._g({staticClass:"mr-n1",attrs:{size:e.imgSize}},s),[a("v-img",{attrs:{height:e.imgSize,width:e.imgSize,src:t.profile_picture||t.user.profile_picture},on:{click:e.showMore}})],1)],1)]}}],null,!0)},[a("span",{domProps:{textContent:e._s(t.full_name||t.user.full_name)}}),t[e.type]?a("span",[e._v(" : "),a("span",{domProps:{textContent:e._s(t[e.type])}})]):e._e()])],1)],1)})),e.users&&e.users.length&&e.totalUsers>3?a("div",[a("v-col",{staticClass:"pl-2 py-0 text-subtitle-1"},[a("a",{on:{click:e.showMore}},[e._v(" +"+e._s(parseInt(e.totalUsers)-3)+" ")])])],1):e._e()],2)],1)},s=[],i=(a("a9e3"),{name:"ThumbnailUsers",props:{users:{type:Array,default:function(){return[]}},totalUsers:{type:Number,required:!0},type:{type:String,default:""},imgSize:{type:[String,Number],default:22}},watch:{users:function(e){this.users=e}},methods:{showMore:function(){this.users&&0===this.users.length||this.$emit("showMore")}}}),o=i,r=(a("2ab5"),a("2877")),l=a("6544"),c=a.n(l),u=a("8212"),d=a("4ca6"),p=a("cc20"),m=a("62ad"),h=a("adda"),f=a("0fd9b"),v=a("3a2f"),g=Object(r["a"])(o,n,s,!1,null,"51021d54",null);t["default"]=g.exports;c()(g,{VAvatar:u["a"],VBadge:d["a"],VChip:p["a"],VCol:m["a"],VImg:h["a"],VRow:f["a"],VTooltip:v["a"]})},ce87:function(e,t,a){"use strict";var n=a("16b7"),s=a("f2e7"),i=a("58df"),o=a("d9bd");t["a"]=Object(i["a"])(n["a"],s["a"]).extend({name:"v-hover",props:{disabled:{type:Boolean,default:!1},value:{type:Boolean,default:void 0}},methods:{onMouseEnter:function(){this.runDelay("open")},onMouseLeave:function(){this.runDelay("close")}},render:function(){return this.$scopedSlots.default||void 0!==this.value?(this.$scopedSlots.default&&(e=this.$scopedSlots.default({hover:this.isActive})),Array.isArray(e)&&1===e.length&&(e=e[0]),e&&!Array.isArray(e)&&e.tag?(this.disabled||(e.data=e.data||{},this._g(e.data,{mouseenter:this.onMouseEnter,mouseleave:this.onMouseLeave})),e):(Object(o["c"])("v-hover should only contain a single element",this),e)):(Object(o["c"])("v-hover is missing a default scopedSlot or bound value",this),null);var e}})},d242:function(e,t,a){"use strict";var n=a("1da1"),s=a("5530"),i=(a("96cf"),a("d3b7"),a("3ca3"),a("ddb0"),a("caad"),a("159b"),a("99af"),a("b0c0"),a("7db0"),a("fb6a"),a("2f62")),o=a("f1d0"),r=a("1f04"),l=a("cf45");t["a"]={data:function(){return{orgInfo:null,serverTime:null,downloading:!1}},methods:Object(s["a"])(Object(s["a"])({},Object(i["d"])({setSnackBar:"common/setSnackBar"})),{},{downloadPdf:function(e){var t=arguments,s=this;return Object(n["a"])(regeneratorRuntime.mark((function i(){var o,c,u,d,p,m,h;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(o=t.length>1&&void 0!==t[1]?t[1]:"p",c=t.length>2?t[2]:void 0,u=t.length>3&&void 0!==t[3]?t[3]:35,d=t.length>4&&void 0!==t[4]?t[4]:1245,p=t.length>5&&void 0!==t[5]?t[5]:1475,e.$el&&(e=e.$el),!s.loading){i.next=8;break}return i.abrupt("return");case 8:return scroll(0,0),i.prev=9,s.loading=!0,s.downloading=!0,s.setSnackBar({text:"File Downloading. Please wait...",color:"info",persist:!0}),i.next=15,s.loadOrganizationInfo();case 15:m=0,h=0,"l"===o&&(m=805,h=86),setTimeout(Object(n["a"])(regeneratorRuntime.mark((function t(){var i,f,v,g,y,b;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.getBoundingClientRect().top,f=e.getBoundingClientRect().left,v=e.offsetHeight+parseInt(getComputedStyle(e).marginTop),g=[],y=document.getElementsByClassName("download-only"),b=document.getElementsByClassName("download-hidden"),t.next=8,a.e("chunk-2d216257").then(a.t.bind(null,"c0e9",7)).then(function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(a){var s,o,r,l,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:s=a.default;case 1:if(!(v>=40)){t.next=8;break}for(o=0;o<y.length;o++)y[o].style.display="block";for(r=0;r<b.length;r++)b[r].style.display="none";return t.next=6,s(e,{x:f-u,y:i,width:d,height:p-m,type:"dataURL",scale:2,useCORS:!0,windowWidth:1300}).then(function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:g.push(t.toDataURL("image/png")),v-=p-m,i+=p-m;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:t.next=1;break;case 8:for(l=0;l<y.length;l++)y[l].style.display="none";for(c=0;c<b.length;c++)b[c].style.display="";case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 8:a.e("chunk-e0378ed4").then(a.bind(null,"8baf")).then(function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var a,n,i,u,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.default,n=new a(o,"mm"),!["manualtesting","development"].includes(Object(l["f"])("VUE_APP_ENV"))){e.next=8;break}return e.next=5,Object(r["b"])("https://i.imgur.com/fHyEMsl.jpg");case 5:i=e.sent,e.next=11;break;case 8:return e.next=10,Object(r["b"])(s.orgInfo.logo);case 10:i=e.sent;case 11:u=210+h,d=32,g.forEach((function(e,t){t>0&&n.addPage(),n.addImage(e,"PNG",0,d,u,0,void 0,"FAST"),s.setHeaderAndFooter(t,n,i,g.length,o)})),n.save(c||"file.pdf"),s.loading=!1,s.setSnackBar({text:"",color:"",display:!1,error:!1});case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 9:case"end":return t.stop()}}),t)}))),500),i.next=27;break;case 21:i.prev=21,i.t0=i["catch"](9),console.error("Error while downloading pdf",i.t0),s.setSnackBar({text:"Your request was not successful.",color:"red"}),s.loading=!1,s.downloading=!1;case 27:case"end":return i.stop()}}),i,null,[[9,21]])})))()},setHeaderAndFooter:function(e,t,a,n,s){var i=0,o=0;"l"===s&&(i=2.5,o=84);var r=e+1,l=t.internal.pageSize.getWidth(),c=t.internal.pageSize.getHeight(),u=this.serverTime,d="Page ".concat(r," of ").concat(n);t.setPage(r),t.setFont("Helvetica","normal"),t.setLineWidth(.2),t.setDrawColor(150),t.line(7.5+i,27,203+o,27),t.line(7.5+i,c-12,203+o,c-12),t.setTextColor(150),t.setFontSize(8),t.text(d,7.5+i,c-7),t.text(u,l-8-i,c-7,{align:"right"});var p=this.orgInfo.address?this.orgInfo.address+",":"",m=this.orgInfo.phone_no?"Tel: ".concat(this.orgInfo.phone_no):"";t.text("".concat(p," ").concat(m),l-8-i,17,{align:"right"});var h=this.orgInfo.email?this.orgInfo.email+",":"",f=this.orgInfo.website||"";t.text("".concat(h," ").concat(f),l-8-i,21,{align:"right"}),t.setTextColor(100),t.setFontSize(14),t.setFont("Helvetica","bold"),t.text("".concat(this.orgInfo.name),l-8-i,13,{align:"right"}),t.addImage(a,"JPEG",7.5+i,7,18,18,void 0,"FAST")},loadOrganizationInfo:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.getOrganizationSlug,n=JSON.parse(localStorage.getItem("org-info"))||[],!(n.length>0&&n.some((function(e){return e.slug===a})))){t.next=6;break}e.orgInfo=n.find((function(e){return e.slug===a})),t.next=8;break;case 6:return t.next=8,e.$http.get(o["a"].getOrganization(a)).then((function(t){var a=t.name,s=t.slug,i=t.appearance.logo,o=t.address?t.address.address:"",r=t.email,l=t.contacts.Phone,c=t.website,u={name:a,slug:s,logo:i,address:o,email:r,phone_no:l,website:c};n.push(u),localStorage.setItem("org-info",JSON.stringify(n)),e.orgInfo=u}));case 8:return t.next=10,e.$http.get("server-info/?fields=server_time").then((function(t){var a=t.server_time;a=a.slice(0,-6),e.serverTime=e.$dayjs(a).format("YYYY-MM-DD HH:mm:ss A")}));case 10:case"end":return t.stop()}}),t)})))()}})}},e4bf:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.contextList.filter((function(e){return!e.hide})).length<3&&!e.hideIcons||e.showIcons?a("div",e._l(e.contextList,(function(t,n){return a("span",{key:n},[t.hide?e._e():a("v-tooltip",{attrs:{disabled:e.$vuetify.breakpoint.xs,top:""},scopedSlots:e._u([{key:"activator",fn:function(s){var i=s.on;return[a("v-btn",e._g({staticClass:"mx-0",attrs:{text:"",width:e.small?"18":"22",depressed:"",icon:""}},i),[a("v-icon",{attrs:{disabled:t.disabled,color:t.color,"data-cy":e.dataCyVariable+"btn-dropdown-menu-item-"+(n+1),dark:!t.disabled,small:e.small,size:"20",dense:""},domProps:{textContent:e._s(t.icon)},on:{click:function(t){return e.$emit("click"+n)}}})],1)]}}],null,!0)},[a("span",{domProps:{textContent:e._s(t.disabled&&t.disable_message||t.name)}})])],1)})),0):a("v-menu",{attrs:{"offset-y":"",left:"",transition:"slide-y-transition"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-btn",e._g({attrs:{small:"",text:"",icon:""}},n),[a("v-icon",{attrs:{"data-cy":"btn-dropdown-menu"},domProps:{textContent:e._s("mdi-dots-vertical")}})],1)]}}])},e._l(e.contextList,(function(t,n){return a("v-list",{key:n,staticClass:"pa-0",attrs:{dense:""}},[t.hide?e._e():a("div",[t.disabled?a("v-list-item",{attrs:{"data-cy":"btn-dropdown-menu-item"}},[a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(n){var s=n.on;return[a("v-list-item-title",e._g({},s),[a("v-icon",{attrs:{disabled:"",small:"",color:t.color},domProps:{textContent:e._s(t.icon)}}),a("span",{staticClass:"ml-1 grey--text",domProps:{textContent:e._s(t.name)}})],1)]}}],null,!0)},[a("span",{domProps:{textContent:e._s(t.disabled&&t.disable_message||t.name)}})])],1):a("v-list-item",{attrs:{"data-cy":"btn-dropdown-menu-item"},on:{click:function(t){return e.$emit("click"+n)}}},[a("v-list-item-title",[a("v-icon",{attrs:{color:t.color,small:"",dense:""},domProps:{textContent:e._s(t.icon)}}),a("span",{staticClass:"ml-1",class:t.text_color,domProps:{textContent:e._s(t.name)}})],1)],1)],1)])})),1)],1)},s=[],i={name:"VueContextMenu",props:{contextList:{type:Array,default:function(){return[]}},dataCyVariable:{type:String,default:""},showIcons:{type:Boolean,default:!1},hideIcons:{type:Boolean,default:!1},small:{type:Boolean,default:!1}}},o=i,r=a("2877"),l=a("6544"),c=a.n(l),u=a("8336"),d=a("132d"),p=a("8860"),m=a("da13"),h=a("5d23"),f=a("e449"),v=a("3a2f"),g=Object(r["a"])(o,n,s,!1,null,"71ee785c",null);t["default"]=g.exports;c()(g,{VBtn:u["a"],VIcon:d["a"],VList:p["a"],VListItem:m["a"],VListItemTitle:h["c"],VMenu:f["a"],VTooltip:v["a"]})},ef8c:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-autocomplete",{class:e.appliedClass,attrs:{items:e.itemsSorted,loading:e.isLoading,"search-input":e.search,multiple:e.multiple,label:e.label,error:e.errorMessages.length>0,"error-messages":e.errorMessages,disabled:e.disabled,"prepend-inner-icon":e.prependInnerIcon,clearable:e.clearable&&!e.readonly,readonly:!!e.readonly,"hide-details":e.hideDetails,"data-cy":"input-user-autocomplete-"+e.dataCyVariable,placeholder:e.placeholder,"hide-selected":"","hide-no-data":"","item-text":"full_name","item-value":"id"},on:{"update:searchInput":function(t){e.search=t},"update:search-input":function(t){e.search=t},blur:function(t){return e.$emit("blur")}},scopedSlots:e._u([{key:"selection",fn:function(t){return[a("v-chip",{attrs:{"input-value":t.selected,close:(e.clearable||!e.clearable&&!e.multiple)&&!e.readonly,small:""},on:{"click:close":function(a){return e.remove(t.item)}}},[a("v-avatar",{attrs:{left:""}},[a("v-img",{attrs:{src:t.item.profile_picture,cover:""}})],1),e._v(" "+e._s(e._f("truncate")(t.item.full_name,e.truncate))+" ")],1)]}},{key:"item",fn:function(t){var n=t.item;return[a("v-list-item-avatar",[a("v-avatar",{attrs:{size:"30"}},[a("v-img",{attrs:{src:n.profile_picture,cover:""}})],1)],1),a("v-list-item-content",[a("v-list-item-title",[e._v(" "+e._s(e._f("truncate")(n.full_name,20))+" "),n.employee_code?a("span",[e._v("("+e._s(n.employee_code)+")")]):e._e()]),n.division?a("v-list-item-subtitle",{domProps:{textContent:e._s(n.division)}}):e._e()],1)]}}]),model:{value:e.selectedData,callback:function(t){e.selectedData=t},expression:"selectedData"}})],1)},s=[],i=a("53ca"),o=(a("a9e3"),a("ac1f"),a("841c"),a("4e827"),a("2ca0"),a("d81d"),a("a434"),a("d3b7"),a("159b"),a("7db0"),a("4de4"),a("caad"),a("2532"),a("fab2")),r=a("63ea"),l=a.n(r),c={props:{value:{type:[Number,String,Array,Object],required:!1,default:function(){return null}},dataCyVariable:{type:String,default:""},userObject:{type:[Object,Array],required:!1,default:function(){return{}}},params:{type:[Object,Array],required:!1,default:function(){return{}}},multiple:{type:Boolean,required:!1,default:!1},disabled:{type:Boolean,required:!1,default:!1},errorMessages:{type:[String,Array],default:function(){return[]}},label:{type:String,default:"Select Employee"},prependInnerIcon:{type:String,default:"mdi-account-plus-outline"},itemsToExclude:{type:[Array,Number],default:null},itemsToInclude:{type:[Array,Number],default:null},clearable:{type:Boolean,default:!0},readonly:{type:Boolean,default:!1},hideDetails:{type:Boolean,default:!1},appliedClass:{type:String,default:""},truncate:{type:Number,default:10},placeholder:{type:String,default:""}},data:function(){return{isLoading:!1,items:[],allUsers:[],selectedData:null,search:null}},computed:{itemsSorted:function(){return this.sortBySearch(this.items,this.search?this.search.toLowerCase():"")}},watch:{value:{handler:function(e,t){!e&&t&&(this.selectedData="",this.populateInitialUsers()),!t&&e&&this.populateInitialUsers()},immediate:!0},search:function(e){!e||this.items.length>0||this.fetchUsers()},selectedData:function(e){this.search="",this.syncUserData(e),this.$emit("input",e)},itemsToExclude:function(){this.items=this.excludeRecord(this.allUsers)},itemsToInclude:function(){this.items=this.includeRecord(this.allUsers)},params:{handler:function(e,t){l()(e,t)||this.fetchUsers()},deep:!0}},methods:{sortBySearch:function(e,t){return e.sort((function(e,a){return e.full_name.toLowerCase().startsWith(t)&&a.full_name.toLowerCase().startsWith(t)?e.full_name.toLowerCase().localeCompare(a.full_name.toLowerCase()):e.full_name.toLowerCase().startsWith(t)?-1:a.full_name.toLowerCase().startsWith(t)?1:e.full_name.toLowerCase().localeCompare(a.full_name.toLowerCase())}))},populateInitialUsers:function(){this.fetchUsers(this.value),Array.isArray(this.value)?"object"===Object(i["a"])(this.value[0])?this.selectedData=this.value.map((function(e){return e.user.id})):this.selectedData=this.value:null===this.value?this.selectedData="":"object"===Object(i["a"])(this.value)?this.selectedData=this.value.id:this.selectedData=this.value,this.$emit("input",this.selectedData)},remove:function(e){if(this.selectedData instanceof Object){var t=this.selectedData.indexOf(e.id);t>=0&&this.selectedData.splice(t,1),this.$emit("remove",e)}else this.selectedData=""},fetchUsers:function(e){var t=this;this.isLoading||(this.isLoading=!0,this.$http.get(o["a"].autocomplete,{params:this.params}).then((function(a){t.allUsers=a,t.itemsToExclude&&(a=t.excludeRecord(a)),t.itemsToInclude&&(a=t.includeRecord(a)),t.items=a,e&&t.syncUserData(e)})).finally((function(){return t.isLoading=!1})))},syncUserData:function(e){var t=this;if(e instanceof Array){var a=[];e.forEach((function(e){a.unshift(t.items.find((function(t){return t.id===e})))})),this.$emit("update:userObject",a)}else{var n=this.items.find((function(t){return t.id===e}));this.$emit("update:userObject",n)}},excludeRecord:function(e){var t=[];return"number"===typeof this.itemsToExclude?t.push(this.itemsToExclude):t=this.itemsToExclude,e.filter((function(e){return!t.includes(e.id)}))},includeRecord:function(e){var t=this;return e.filter((function(e){return t.itemsToInclude.includes(e.id)}))}}},u=c,d=a("2877"),p=a("6544"),m=a.n(p),h=a("c6a6"),f=a("8212"),v=a("cc20"),g=a("adda"),y=a("8270"),b=a("5d23"),k=Object(d["a"])(u,n,s,!1,null,null,null);t["default"]=k.exports;m()(k,{VAutocomplete:h["a"],VAvatar:f["a"],VChip:v["a"],VImg:g["a"],VListItemAvatar:y["a"],VListItemContent:b["a"],VListItemSubtitle:b["b"],VListItemTitle:b["c"]})},f0d5:function(e,t,a){"use strict";a("d3b7"),a("3ca3"),a("ddb0");var n=a("c44a");t["a"]={components:{NonFieldFormErrors:function(){return a.e("chunk-6441e173").then(a.bind(null,"ab8a"))}},mixins:[n["a"]],data:function(){return{crud:{name:"record",message:"",addAnother:!1},formValues:{},loading:!1}}}},f12b:function(e,t,a){"use strict";var n=a("f0d5"),s=a("983c"),i=a("f70a"),o=a("6c6f");t["a"]={mixins:[n["a"],s["a"],i["a"],o["a"]]}},f1d0:function(e,t,a){"use strict";t["a"]={getOrganizationList:"/org/",getOrganization:function(e){return"/org/".concat(e,"/")},updateOrganization:function(e){return"/org/".concat(e,"/")},getOrgEmployeeData:function(e){return"/org/".concat(e,"/employee-data/")}}},f70a:function(e,t,a){"use strict";a("d3b7"),a("caad");t["a"]={methods:{insertData:function(e,t){var a=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=n.validate,i=void 0===s||s,o=n.clearForm,r=void 0===o||o,l=arguments.length>3?arguments[3]:void 0;return new Promise((function(n,s){!a.loading&&e&&(a.clearErrors(),a.$validator.validateAll().then((function(o){i||(o=!0),o&&(a.loading=!0,a.$http.post(e,t,l||{}).then((function(e){a.clearErrors(),r&&(a.formValues={}),a.crud.addAnother||a.$emit("create"),a.crud.message&&setTimeout((function(){a.notifyUser(a.crud.message)}),1e3),n(e),a.loading=!1})).catch((function(e){a.pushErrors(e),a.notifyInvalidFormResponse(),s(e),a.loading=!1})))})))}))},patchData:function(e,t){var a=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=n.validate,i=void 0===s||s,o=n.clearForm,r=void 0===o||o,l=arguments.length>3?arguments[3]:void 0;return new Promise((function(n,s){a.updateData(e,t,{validate:i,clearForm:r},"patch",l).then((function(e){n(e)})).catch((function(e){s(e)}))}))},putData:function(e,t){var a=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=n.validate,i=void 0===s||s,o=n.clearForm,r=void 0===o||o,l=arguments.length>3?arguments[3]:void 0;return new Promise((function(n,s){a.updateData(e,t,{validate:i,clearForm:r},"put",l).then((function(e){n(e)})).catch((function(e){s(e)}))}))},updateData:function(e,t){var a=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=n.validate,i=void 0===s||s,o=n.clearForm,r=void 0===o||o,l=arguments.length>3?arguments[3]:void 0,c=arguments.length>4?arguments[4]:void 0;return new Promise((function(n,s){!a.loading&&e&&["put","patch"].includes(l)&&(a.clearErrors(),a.$validator.validateAll().then((function(o){i||(o=!0),o&&(a.loading=!0,a.$http[l](e,t,c||{}).then((function(e){a.$emit("update"),a.clearErrors(),r&&(a.formValues={}),a.crud.message&&setTimeout((function(){a.notifyUser(a.crud.message)}),1e3),n(e),a.loading=!1})).catch((function(e){a.pushErrors(e),a.notifyInvalidFormResponse(),s(e),a.loading=!1})))})))}))},clearErrors:function(){this.clearNonFieldErrors(),this.$validator.errors.clear()}}}},f82f:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-text-field",{class:e.appliedClass,attrs:{id:e.id,label:e.label,"data-cy":"input-file-upload",error:e.errorMessages.length>0,"error-messages":e.errorMessages,"hide-details":e.hideDetails,hint:e.hint,"persistent-hint":!!e.hint,disabled:e.disabled,readonly:"","prepend-inner-icon":"mdi-attachment","append-icon":"mdi-close"},on:{"click:prepend":e.pickFile,"click:append":function(t){return e.clear()},click:e.pickFile,blur:function(t){return e.$emit("blur")}},model:{value:e.fileName,callback:function(t){e.fileName=t},expression:"fileName"}}),a("input",{ref:"upload",staticClass:"d-none",attrs:{id:"fileUpload",type:"file",multiple:"multiple"},on:{change:e.upload}})],1)},s=[],i=a("1da1"),o=a("5530"),r=(a("96cf"),a("a9e3"),a("ac1f"),a("1276"),a("b0c0"),a("2f62")),l={props:{value:{type:[String,File,Object],default:void 0},default:{type:[String,File],default:void 0},text:{type:String,default:void 0},id:{type:String,default:""},label:{type:String,default:"Browse file from here"},hint:{type:String,default:void 0},errorMessages:{type:[String,Array],default:function(){return[]}},hideDetails:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},appliedClass:{type:String,default:""},returnObject:{type:Boolean,default:!1},maxSize:{type:Number,default:5}},data:function(){return{fileName:null}},watch:{default:{handler:function(e){!e||e instanceof File||(this.fileName=e)},immediate:!0},value:function(e){e||(this.fileName=""),document.getElementById("fileUpload").value=null}},methods:Object(o["a"])(Object(o["a"])({},Object(r["d"])({setSnackBar:"common/setSnackBar"})),{},{pickFile:function(){this.$refs.upload.click()},upload:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var n,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:n=new FileReader,n.readAsDataURL(e.target.files[0]),s="",1===e.target.files[0].name.split(".").length?s="Please upload known file type.":e.target.files[0].size>1024*t.maxSize*1024?s="File size cannot be greater than ".concat(t.maxSize,"MB."):"svg"===e.target.files[0].name.split(".").pop()&&(s="SVG image not allowed here."),s?t.setSnackBar({text:s,color:"red"}):n.onload=function(){t.returnObject?t.$emit("input",{file_name:e.target.files[0].name,file_content:e.target.files[0]}):t.$emit("input",e.target.files[0]),t.$emit("blur"),t.$emit("update",n.result),t.fileName=e.target.files[0].name};case 5:case"end":return a.stop()}}),a)})))()},clear:function(){this.fileName=null,this.returnObject?this.$emit("input",{file_name:"",file_content:""}):this.$emit("input",this.fileName)}})},c=l,u=a("2877"),d=a("6544"),p=a.n(d),m=a("8654"),h=Object(u["a"])(c,n,s,!1,null,null,null);t["a"]=h.exports;p()(h,{VTextField:m["a"]})},fab2:function(e,t,a){"use strict";t["a"]={getUserList:"/users/",postUser:"/users/",autocomplete:"/users/autocomplete/",postImportUser:"/users/import/",downloadUserImportSample:function(e){return"/users/import/sample/?organization=".concat(e)},getUserDetail:function(e){return"/users/".concat(e,"/")},getInternalUserDetail:function(e){return"/users/".concat(e,"/internal-detail")},deleteUser:function(e){return"/users/".concat(e,"/")},updateUser:function(e){return"/users/".concat(e,"/")},changePassword:function(e){return"/users/".concat(e,"/change-password/")},getUserCV:function(e){return"/users/".concat(e,"/cv/")},getProfileCompleteness:function(e){return"users/".concat(e,"/profile-completeness/")}}},fd57:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[e.bottomSheet?a("vue-card-title",{attrs:{title:"Attendance Details of "+e.employmentDetails.employee.full_name,subtitle:"Attendance Details of "+e.employmentDetails.employee.full_name,icon:"mdi-file-document-outline",dark:"",closable:""},on:{close:function(t){return e.$emit("cancel")}}}):a("vue-card-title",{attrs:{title:"Attendance Detail",subtitle:"Attendance details information.",icon:"mdi-file-document-outline"}}),a("v-divider"),a("v-data-table",{staticClass:"scrollbar-sm",attrs:{headers:e.headers,items:e.fetchedResults,"hide-default-footer":"","mobile-breakpoint":0,"must-sort":""},scopedSlots:e._u([{key:"item",fn:function(t){return[a("tr",[a("td",[e._v(" "+e._s(t.item.month)+" ")]),a("td",{staticClass:"text-center"},[e._v(" "+e._s(t.item.working_days)+" ")]),a("td",{staticClass:"text-center"},[e._v(" "+e._s(t.item.present)+" ")]),a("td",{staticClass:"text-center"},[e._v(" "+e._s(t.item.absent)+" ")])])]}}])},[a("template",{slot:"no-data"},[a("data-table-no-data",{attrs:{loading:e.loading}})],1)],2),e.bottomSheet?a("v-card-actions",[a("v-btn",{attrs:{color:"primary",depressed:""},on:{click:function(t){e.$emit("next",e.getPreviousComponent())}}},[a("v-icon",{domProps:{textContent:e._s("mdi-chevron-left")}}),e._v(" Previous ")],1),a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){return e.$emit("cancel")}}},[e._v(" Cancel ")]),a("v-btn",{attrs:{color:"primary",depressed:""},on:{click:function(t){return e.gotoNextStep()}}},[e._v(" Next "),a("v-icon",{domProps:{textContent:e._s("mdi-chevron-right")}})],1)],1):e._e()],1)},s=[],i=(a("d3b7"),a("99af"),a("a51f")),o=a("afa9"),r={components:{DataTableNoData:i["default"]},props:{employmentDetails:{type:Object,required:!0},bottomSheet:{type:Boolean,default:!1}},data:function(){return{loading:!1,headers:[{text:"Month",value:"",sortable:!1},{text:"Working Days",align:"center",value:"name",sortable:!1},{text:"Present",align:"center",value:"name",sortable:!1},{text:"Absent",align:"center",value:"name",sortable:!1}],fetchedResults:[]}},created:function(){this.fetchAttendanceDetails()},methods:{fetchAttendanceDetails:function(){var e=this;this.bottomSheet&&(this.loading=!0,this.$http.get("/hris/".concat(this.getOrganizationSlug,"/employment/separation/").concat(this.employmentDetails.id,"/")).then((function(t){e.fetchedResults=t.attendance_details})).finally((function(){e.loading=!1})))},gotoNextStep:function(){var e=this;if("leave-reviewed"===this.employmentDetails.status||"letters-generated"===this.employmentDetails.status||"attendance-reviewed"===this.employmentDetails.status){var t={status:"attendance-reviewed"};this.$http.patch(o["a"].updateSeparationDetails(this.getOrganizationSlug,this.employmentDetails.id),t).then((function(t){e.$emit("next",e.getNextComponent(),t.status)})).catch((function(t){e.notifyInvalidFormResponse(),e.pushErrors(t)}))}else this.$emit("next",this.getNextComponent())},getNextStatus:function(){var e=this.employmentDetails.separation_type;return e.display_pending_tasks?"attendance-reviewed":e.display_payroll?"tasks-reviewed":"payroll-reviewed"},getNextComponent:function(){var e=this.employmentDetails.separation_type;return e.display_pending_tasks?"pending-tasks":e.display_payroll?"payroll-details":"task-form"},getPreviousComponent:function(){var e=this.employmentDetails.separation_type;return e.display_leave?"leave-details":"letter-template"}}},l=r,c=a("2877"),u=a("6544"),d=a.n(u),p=a("8336"),m=a("b0af"),h=a("99d9"),f=a("8fea"),v=a("ce7e"),g=a("132d"),y=a("2fa4"),b=Object(c["a"])(l,n,s,!1,null,null,null);t["a"]=b.exports;d()(b,{VBtn:p["a"],VCard:m["a"],VCardActions:h["a"],VDataTable:f["a"],VDivider:v["a"],VIcon:g["a"],VSpacer:y["a"]})}}]);