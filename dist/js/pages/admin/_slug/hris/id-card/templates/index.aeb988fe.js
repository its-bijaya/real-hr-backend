(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages/admin/_slug/hris/id-card/templates/index","chunk-26c51c79","chunk-31f8a6e6","chunk-2d2259e9","chunk-6441e173","chunk-aee42bec","pages/admin/_slug/hris/id-card/templates/_id/cards~pages/commons/settings/id-card-samples","chunk-2d213000","chunk-2d0d6ae8"],{"0549":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-row",{staticClass:"mb-3",attrs:{"no-gutters":""}},[e.breadCrumbs?a("v-col",{attrs:{cols:"12"}},[a("v-card",{attrs:{flat:""}},[a("v-breadcrumbs",{staticClass:"text-body-1 pa-2",class:{"text-caption pa-1":e.$vuetify.breakpoint.xs},attrs:{items:e.breadCrumbs},scopedSlots:e._u([{key:"item",fn:function(t){return[a("span",{class:t.item.disabled?"grey--text":"baseColor--text text--accent-2 pointer",domProps:{textContent:e._s(t.item.text)},on:{click:function(a){return e.$router.push(t.item.to)}}})]}}],null,!1,1670153796)},[a("v-icon",{attrs:{slot:"divider"},slot:"divider"},[e._v("mdi-chevron-right")])],1)],1)],1):e._e()],1),a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"12"}},[e._t("default")],2)],1)],1)},i=[],r=a("5530"),o=(a("ac1f"),a("1276"),a("b0c0"),a("2f62")),s={props:{title:{type:String,required:!0},breadCrumbs:{type:Array,default:function(){return[]}}},computed:Object(r["a"])({},Object(o["c"])({getOrganizationName:"organization/getOrganizationName",getSupervisorSwitchedOrganization:"supervisor/getSwitchedOrganization"})),mounted:function(){document.title="".concat(this.title," | RealHRsoft");var e=this.$route.params.slug?"admin-slug-dashboard":"root",t=this.$route.name.split("-"),a=this.getOrganizationName;this.getSupervisorSwitchedOrganization&&"user"===t[0]&&"supervisor"===t[1]&&(a=this.getSupervisorSwitchedOrganization.name),this.breadCrumbs.unshift({text:a,disabled:!1,to:{name:e,params:{slug:this.$route.params.slug}}})}},l=s,d=a("2877"),c=a("6544"),u=a.n(c),p=a("2bc5"),m=a("b0af"),f=a("62ad"),h=a("132d"),g=a("0fd9b"),v=Object(d["a"])(l,n,i,!1,null,null,null);t["default"]=v.exports;u()(v,{VBreadcrumbs:p["a"],VCard:m["a"],VCol:f["a"],VIcon:h["a"],VRow:g["a"]})},"0798":function(e,t,a){"use strict";var n=a("5530"),i=a("ade3"),r=(a("caad"),a("0c18"),a("10d2")),o=a("afdd"),s=a("9d26"),l=a("f2e7"),d=a("7560"),c=a("f40d"),u=a("58df"),p=a("d9bd");t["a"]=Object(u["a"])(r["a"],l["a"],c["a"]).extend({name:"v-alert",props:{border:{type:String,validator:function(e){return["top","right","bottom","left"].includes(e)}},closeLabel:{type:String,default:"$vuetify.close"},coloredBorder:Boolean,dense:Boolean,dismissible:Boolean,closeIcon:{type:String,default:"$cancel"},icon:{default:"",type:[Boolean,String],validator:function(e){return"string"===typeof e||!1===e}},outlined:Boolean,prominent:Boolean,text:Boolean,type:{type:String,validator:function(e){return["info","error","success","warning"].includes(e)}},value:{type:Boolean,default:!0}},computed:{__cachedBorder:function(){if(!this.border)return null;var e={staticClass:"v-alert__border",class:Object(i["a"])({},"v-alert__border--".concat(this.border),!0)};return this.coloredBorder&&(e=this.setBackgroundColor(this.computedColor,e),e.class["v-alert__border--has-color"]=!0),this.$createElement("div",e)},__cachedDismissible:function(){var e=this;if(!this.dismissible)return null;var t=this.iconColor;return this.$createElement(o["a"],{staticClass:"v-alert__dismissible",props:{color:t,icon:!0,small:!0},attrs:{"aria-label":this.$vuetify.lang.t(this.closeLabel)},on:{click:function(){return e.isActive=!1}}},[this.$createElement(s["a"],{props:{color:t}},this.closeIcon)])},__cachedIcon:function(){return this.computedIcon?this.$createElement(s["a"],{staticClass:"v-alert__icon",props:{color:this.iconColor}},this.computedIcon):null},classes:function(){var e=Object(n["a"])(Object(n["a"])({},r["a"].options.computed.classes.call(this)),{},{"v-alert--border":Boolean(this.border),"v-alert--dense":this.dense,"v-alert--outlined":this.outlined,"v-alert--prominent":this.prominent,"v-alert--text":this.text});return this.border&&(e["v-alert--border-".concat(this.border)]=!0),e},computedColor:function(){return this.color||this.type},computedIcon:function(){return!1!==this.icon&&("string"===typeof this.icon&&this.icon?this.icon:!!["error","info","success","warning"].includes(this.type)&&"$".concat(this.type))},hasColoredIcon:function(){return this.hasText||Boolean(this.border)&&this.coloredBorder},hasText:function(){return this.text||this.outlined},iconColor:function(){return this.hasColoredIcon?this.computedColor:void 0},isDark:function(){return!(!this.type||this.coloredBorder||this.outlined)||d["a"].options.computed.isDark.call(this)}},created:function(){this.$attrs.hasOwnProperty("outline")&&Object(p["a"])("outline","outlined",this)},methods:{genWrapper:function(){var e=[this.$slots.prepend||this.__cachedIcon,this.genContent(),this.__cachedBorder,this.$slots.append,this.$scopedSlots.close?this.$scopedSlots.close({toggle:this.toggle}):this.__cachedDismissible],t={staticClass:"v-alert__wrapper"};return this.$createElement("div",t,e)},genContent:function(){return this.$createElement("div",{staticClass:"v-alert__content"},this.$slots.default)},genAlert:function(){var e={staticClass:"v-alert",attrs:{role:"alert"},on:this.listeners$,class:this.classes,style:this.styles,directives:[{name:"show",value:this.isActive}]};if(!this.coloredBorder){var t=this.hasText?this.setTextColor:this.setBackgroundColor;e=t(this.computedColor,e)}return this.$createElement("div",e,[this.genWrapper()])},toggle:function(){this.isActive=!this.isActive}},render:function(e){var t=this.genAlert();return this.transition?e("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},[t]):t}})},"0c18":function(e,t,a){},1236:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-form",{ref:"idGenerationForm",on:{submit:function(t){return t.preventDefault(),e.getFormAction.apply(null,arguments)}}},[e.nonFieldErrors?a("non-field-form-errors",{attrs:{"non-field-errors":e.nonFieldErrors}}):e._e(),a("v-row",{staticClass:"px-12",attrs:{align:"center"}},[a("v-col",{attrs:{md:"6",sm:"12"}},[a("h2",{domProps:{textContent:e._s("Please provide User Information")}}),a("user-auto-complete",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{params:{organization:e.getOrganizationSlug},"user-object":e.selectedUser,readonly:!!e.actionData.id},on:{"update:userObject":function(t){e.selectedUser=t},"update:user-object":function(t){e.selectedUser=t}},model:{value:e.formValues.user,callback:function(t){e.$set(e.formValues,"user",t)},expression:"formValues.user"}},"user-auto-complete",e.veeValidate("user","User"),!1)),e.displayFields.issued_on?a("vue-date-picker",e._b({directives:[{name:"validate",rawName:"v-validate",value:"",expression:"''"}],on:{input:function(t){return e.updateIdCard("issued_on",t)}},model:{value:e.formValues.issued_on,callback:function(t){e.$set(e.formValues,"issued_on",t)},expression:"formValues.issued_on"}},"vue-date-picker",e.veeValidate("issued_on","Issued On"),!1)):e._e(),e.displayFields.expire_on?a("vue-date-picker",e._b({directives:[{name:"validate",rawName:"v-validate",value:"",expression:"''"}],on:{input:function(t){return e.updateIdCard("expire_on",t)}},model:{value:e.formValues.expire_on,callback:function(t){e.$set(e.formValues,"expire_on",t)},expression:"formValues.expire_on"}},"vue-date-picker",e.veeValidate("expire_on","Expired On"),!1)):e._e(),e.image.dialog?a("image-upload",{attrs:{resize:!1,profile:""},on:{close:function(t){e.image.dialog=!1},"cropped-image":e.updateProfileImage},model:{value:e.formValues.profile_picture,callback:function(t){e.$set(e.formValues,"profile_picture",t)},expression:"formValues.profile_picture"}}):e._e(),e.displayFields.profile_picture?a("v-text-field",e._b({attrs:{readonly:"","prepend-inner-icon":"mdi-attachment"},on:{click:function(t){e.image.dialog=!0}},model:{value:e.image.name,callback:function(t){e.$set(e.image,"name",t)},expression:"image.name"}},"v-text-field",e.veeValidate("profile_picture","Profile Image"),!1)):e._e(),e.image.url?a("v-row",{attrs:{align:"center"}},[a("v-col",[a("v-img",{attrs:{src:e.image.url,width:"150",contain:""}})],1)],1):e._e()],1),a("v-col",{attrs:{cols:"6"}},[a("div",{attrs:{id:"card"+(e.actionData.id||"")},domProps:{innerHTML:e._s(e.cardHolder+" "+e.parentTemplate.sample.content)}})])],1),a("v-divider"),a("form-submit",{attrs:{"form-errors":e.errors.any()},on:{clearForm:e.clearForm,submit:e.getFormAction}})],1)},i=[],r=a("1da1"),o=(a("96cf"),a("99af"),a("159b"),a("b0c0"),a("b64b"),a("caad"),a("2532"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("ab8a")),s=a("ef8c"),l=a("878b"),d=a("69e5"),c=a("741f"),u=a("c44a"),p=a("3670"),m=a("e5c7"),f=a("a79c"),h={components:{NonFieldFormErrors:o["default"],UserAutoComplete:s["default"],FormSubmit:l["a"],ImageUpload:d["default"],VueDatePicker:c["default"]},mixins:[u["a"]],props:{parentTemplate:{type:Object,default:function(){return{}}},actionData:{type:Object,default:function(){return{}}}},data:function(){return{formValues:this.deepCopy(this.actionData),template:this.deepCopy(this.parentTemplate),image:{name:"",url:"",dialog:""},displayFields:{issued_on:!1,expire_on:!1,profile_picture:!1},cardHolder:'<div class="id-card-tag"></div><div class="id-card-tag-strip"></div><div class="id-card-hook"></div>',selectedUser:{},idCardUtils:m["a"]}},watch:{"formValues.user":function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var n,i,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e){a.next=2;break}return a.abrupt("return");case 2:return n={},a.next=5,t.$http.get("/hris/".concat(t.getOrganizationSlug,"/id-cards/user-info/").concat(e,"/")).then((function(e){n=e}));case 5:i=["full_name","division","employment_level","employee_code","phone_no","address","user_email","citizenship_number","branch"],i.forEach((function(e){t.idCardUtils.updateCardText(e,t.get(n,e))})),r=["signature","profile_picture"],r.forEach((function(e){var a=t.get(n,e);t.idCardUtils.updateCardImage(e,a)}));case 9:case"end":return a.stop()}}),a)})))()}},mounted:function(){var e=this;this.actionData.id?(this.image.url=this.deepCopy(this.actionData.profile_picture),this.image.name=this.deepCopy(this.actionData.profile_picture),this.$nextTick((function(){e.idCardUtils.renderAllDetails(e.actionData)}))):this.$nextTick((function(){e.idCardUtils.renderSingleCard(e.template)})),Object.keys(this.displayFields).forEach((function(t){e.template.sample.content.includes('id="'.concat(t,'"'))&&(e.displayFields[t]=!0)}))},methods:{getFormAction:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.validateAllFields();case 2:if(!t.sent){t.next=4;break}return t.abrupt("return",e.actionData.id?e.updateCard():e.generateCard());case 4:case"end":return t.stop()}}),t)})))()},generateCard:function(){var e=this;this.formValues.template=this.template.id;var t=p["a"].postIdCard(this.getOrganizationSlug);this.$http.post(t,Object(f["b"])(this.formValues)).then((function(){e.gotoCardPage(),e.notifyUser("Successfully generated ID Card","green"),e.$emit("dismissForm")})).catch((function(t){e.notifyInvalidFormResponse(),e.pushErrors(t)}))},gotoCardPage:function(){this.$router.push({name:"admin-slug-hris-id-card-templates-id-cards",params:{id:this.template.id,slug:this.getOrganizationSlug}})},updateCard:function(){var e=this;this.formValues.profile_picture instanceof File||this.formValues.profile_picture instanceof Blob||delete this.formValues.profile_picture,this.formValues.full_name=this.formValues.user.full_name;var t=p["a"].putIdCard(this.getOrganizationSlug,this.actionData.id);this.$http.patch(t,Object(f["b"])(this.formValues)).then((function(){e.notifyUser("Successfully updated ID Card","green"),e.$emit("dismissForm")})).catch((function(t){e.notifyInvalidFormResponse(),e.pushErrors(t)}))},updateProfileImage:function(e){this.image.name=e.name,this.image.url=URL.createObjectURL(e),this.image.dialog=!1,this.idCardUtils.updateCardImage("profile_picture",e)},clearForm:function(){this.errors.clear(),this.$refs.idGenerationForm.reset(),this.clearNonFieldErrors()},updateIdCard:function(e,t){var a=t;"true"===localStorage.useNepaliDate&&t&&(a=this.ad2bs(t)),m["a"].updateCardText(e,a)}}},g=h,v=a("2877"),b=a("6544"),y=a.n(b),x=a("62ad"),_=a("ce7e"),C=a("4bd4"),w=a("adda"),k=a("0fd9b"),S=a("8654"),D=Object(v["a"])(g,n,i,!1,null,null,null);t["a"]=D.exports;y()(D,{VCol:x["a"],VDivider:_["a"],VForm:C["a"],VImg:w["a"],VRow:k["a"],VTextField:S["a"]})},"17cc":function(e,t,a){"use strict";var n=a("b85c"),i=a("1da1"),r=a("5530");a("96cf"),a("ac1f"),a("841c"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("b64b");t["a"]={data:function(){return{fetchedResults:[],response:{},extra_data:"",appliedFilters:{},footerProps:{itemsPerPageOptions:[10,20,30,40,50,100]},pagination:{sortBy:["modified_at"],descending:!1,totalItems:0,page:1,rowsPerPage:10,pageCount:0},triggerDataTable:!0,fullParams:""}},created:function(){this.getParams(this.DataTableFilter)},methods:{getParams:function(e){var t=Object(r["a"])(Object(r["a"])({},e),{},{offset:(this.pagination.page-1)*this.pagination.rowsPerPage,limit:this.pagination.rowsPerPage,ordering:this.pagination.descending?this.pagination.sortBy:"-"+this.pagination.sortBy});this.fullParams=this.convertToURLSearchParams(t)},loadDataTable:function(e){this.response=e,this.fetchedResults=e.results,this.pagination.totalItems=e.count,this.extra_data=e.extra_data,this.triggerDataTable=!0},fetchData:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var n,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return console.warn("DatatableMixin: fetchData has been deprecated. Please use the function in page itself."),n=Object(r["a"])(Object(r["a"])(Object(r["a"])({},e),t.appliedFilters),{},{search:t.search,offset:(t.pagination.page-1)*t.pagination.rowsPerPage,limit:t.pagination.rowsPerPage,ordering:t.pagination.descending?t.pagination.sortBy:"-"+t.pagination.sortBy}),i=t.convertToURLSearchParams(n),t.loading=!0,a.next=6,t.$http.get(t.endpoint,{params:i}).then((function(e){t.response=e,t.fetchedResults=e.results,t.pagination.totalItems=e.count})).finally((function(){t.loading=!1}));case 6:case"end":return a.stop()}}),a)})))()},applyFilters:function(e){this.appliedFilters=e,this.fetchData(e)},convertToURLSearchParams:function(e){for(var t=new URLSearchParams,a=0,i=Object.keys(e);a<i.length;a++){var r=i[a],o=e[r];if(void 0===o&&(o=""),Array.isArray(o)){var s,l=Object(n["a"])(o);try{for(l.s();!(s=l.n()).done;){var d=s.value;t.append(r,d)}}catch(c){l.e(c)}finally{l.f()}}else t.append(r,o)}return t},loadDataTableChange:function(){var e=this;this.triggerDataTable&&(this.getParams(this.DataTableFilter),this.$nextTick((function(){e.fetchDataTable()})))}},watch:{DataTableFilter:function(e){this.fetchedResults=[],this.getParams(e),this.fetchDataTable(),this.pagination.page=1},"pagination.sortBy":function(){this.fetchedResults=[],this.loadDataTableChange()},"pagination.descending":function(){this.fetchedResults=[],this.loadDataTableChange()},"pagination.page":function(){this.fetchedResults=[],this.loadDataTableChange()},"pagination.rowsPerPage":function(){this.fetchedResults=[],this.loadDataTableChange()}}}},"1f09":function(e,t,a){},"2bc5":function(e,t,a){"use strict";var n=a("5530"),i=(a("a15b"),a("abd3"),a("ade3")),r=a("1c87"),o=a("58df"),s=Object(o["a"])(r["a"]).extend({name:"v-breadcrumbs-item",props:{activeClass:{type:String,default:"v-breadcrumbs__item--disabled"},ripple:{type:[Boolean,Object],default:!1}},computed:{classes:function(){return Object(i["a"])({"v-breadcrumbs__item":!0},this.activeClass,this.disabled)}},render:function(e){var t=this.generateRouteLink(),a=t.tag,i=t.data;return e("li",[e(a,Object(n["a"])(Object(n["a"])({},i),{},{attrs:Object(n["a"])(Object(n["a"])({},i.attrs),{},{"aria-current":this.isActive&&this.isLink?"page":void 0})}),this.$slots.default)])}}),l=a("80d2"),d=Object(l["i"])("v-breadcrumbs__divider","li"),c=a("7560");t["a"]=Object(o["a"])(c["a"]).extend({name:"v-breadcrumbs",props:{divider:{type:String,default:"/"},items:{type:Array,default:function(){return[]}},large:Boolean},computed:{classes:function(){return Object(n["a"])({"v-breadcrumbs--large":this.large},this.themeClasses)}},methods:{genDivider:function(){return this.$createElement(d,this.$slots.divider?this.$slots.divider:this.divider)},genItems:function(){for(var e=[],t=!!this.$scopedSlots.item,a=[],n=0;n<this.items.length;n++){var i=this.items[n];a.push(i.text),t?e.push(this.$scopedSlots.item({item:i})):e.push(this.$createElement(s,{key:a.join("."),props:i},[i.text])),n<this.items.length-1&&e.push(this.genDivider())}return e}},render:function(e){var t=this.$slots.default||this.genItems();return e("ul",{staticClass:"v-breadcrumbs",class:this.classes},t)}})},3129:function(e,t,a){"use strict";var n=a("3835"),i=a("5530"),r=(a("ac1f"),a("1276"),a("d81d"),a("a630"),a("3ca3"),a("5319"),a("1f09"),a("c995")),o=a("24b2"),s=a("7560"),l=a("58df"),d=a("80d2");t["a"]=Object(l["a"])(r["a"],o["a"],s["a"]).extend({name:"VSkeletonLoader",props:{boilerplate:Boolean,loading:Boolean,tile:Boolean,transition:String,type:String,types:{type:Object,default:function(){return{}}}},computed:{attrs:function(){return this.isLoading?this.boilerplate?{}:Object(i["a"])({"aria-busy":!0,"aria-live":"polite",role:"alert"},this.$attrs):this.$attrs},classes:function(){return Object(i["a"])(Object(i["a"])({"v-skeleton-loader--boilerplate":this.boilerplate,"v-skeleton-loader--is-loading":this.isLoading,"v-skeleton-loader--tile":this.tile},this.themeClasses),this.elevationClasses)},isLoading:function(){return!("default"in this.$scopedSlots)||this.loading},rootTypes:function(){return Object(i["a"])({actions:"button@2",article:"heading, paragraph",avatar:"avatar",button:"button",card:"image, card-heading","card-avatar":"image, list-item-avatar","card-heading":"heading",chip:"chip","date-picker":"list-item, card-heading, divider, date-picker-options, date-picker-days, actions","date-picker-options":"text, avatar@2","date-picker-days":"avatar@28",heading:"heading",image:"image","list-item":"text","list-item-avatar":"avatar, text","list-item-two-line":"sentences","list-item-avatar-two-line":"avatar, sentences","list-item-three-line":"paragraph","list-item-avatar-three-line":"avatar, paragraph",paragraph:"text@3",sentences:"text@2",table:"table-heading, table-thead, table-tbody, table-tfoot","table-heading":"heading, text","table-thead":"heading@6","table-tbody":"table-row-divider@6","table-row-divider":"table-row, divider","table-row":"table-cell@6","table-cell":"text","table-tfoot":"text@2, avatar@2",text:"text"},this.types)}},methods:{genBone:function(e,t){return this.$createElement("div",{staticClass:"v-skeleton-loader__".concat(e," v-skeleton-loader__bone")},t)},genBones:function(e){var t=this,a=e.split("@"),i=Object(n["a"])(a,2),r=i[0],o=i[1],s=function(){return t.genStructure(r)};return Array.from({length:o}).map(s)},genStructure:function(e){var t=[];e=e||this.type||"";var a=this.rootTypes[e]||"";if(e===a);else{if(e.indexOf(",")>-1)return this.mapBones(e);if(e.indexOf("@")>-1)return this.genBones(e);a.indexOf(",")>-1?t=this.mapBones(a):a.indexOf("@")>-1?t=this.genBones(a):a&&t.push(this.genStructure(a))}return[this.genBone(e,t)]},genSkeleton:function(){var e=[];return this.isLoading?e.push(this.genStructure()):e.push(Object(d["s"])(this)),this.transition?this.$createElement("transition",{props:{name:this.transition},on:{afterEnter:this.resetStyles,beforeEnter:this.onBeforeEnter,beforeLeave:this.onBeforeLeave,leaveCancelled:this.resetStyles}},e):e},mapBones:function(e){return e.replace(/\s/g,"").split(",").map(this.genStructure)},onBeforeEnter:function(e){this.resetStyles(e),this.isLoading&&(e._initialStyle={display:e.style.display,transition:e.style.transition},e.style.setProperty("transition","none","important"))},onBeforeLeave:function(e){e.style.setProperty("display","none","important")},resetStyles:function(e){e._initialStyle&&(e.style.display=e._initialStyle.display||"",e.style.transition=e._initialStyle.transition,delete e._initialStyle)}},render:function(e){return e("div",{staticClass:"v-skeleton-loader",attrs:this.attrs,on:this.$listeners,class:this.classes,style:this.isLoading?this.measurableStyles:void 0},[this.genSkeleton()])}})},3670:function(e,t,a){"use strict";a("99af");t["a"]={getIdCardTemplates:function(e){return"/hris/".concat(e,"/id-card-templates/")},postIdCardTemplate:function(e){return"/hris/".concat(e,"/id-card-templates/")},idCardTemplate:function(e,t){return"/hris/".concat(e,"/id-card-templates/").concat(t,"/")},getIdCards:function(e){return"/hris/".concat(e,"/id-cards/")},postIdCard:function(e){return"/hris/".concat(e,"/id-cards/")},putIdCard:function(e,t){return"/hris/".concat(e,"/id-cards/").concat(t,"/")},deleteIdCard:function(e,t){return"/hris/".concat(e,"/id-cards/").concat(t,"/")}}},"741f":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return["true"!==e.useNepaliDate?a("v-text-field",e._g({class:e.appliedClass,attrs:{id:e.id,clearable:!e.readOnly,"data-cy":"date-picker-"+e.dataCyVariable,disabled:e.disabled,error:e.errorMessages.length>0,"error-messages":e.errorMessages,"hide-details":e.hideDetails,hint:e.hint,label:e.label,"prepend-inner-icon":e.prependInnerIcon,"single-line":e.singleLine,value:e.value,readonly:""},on:{paste:function(e){e.preventDefault()},"click:clear":function(t){return e.$emit("close")}},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}},n)):a("v-text-field",e._g({class:e.appliedClass,attrs:{id:e.id,label:e.label,value:e.value,"data-cy":"date-picker-"+e.dataCyVariable,error:e.errorMessages.length>0,"error-messages":e.errorMessages,disabled:e.disabled,clearable:!e.readOnly,hint:e.hint,"hide-details":e.hideDetails,"single-line":e.singleLine,"prepend-inner-icon":e.prependInnerIcon,readonly:""},on:{paste:function(e){e.preventDefault()},"click:clear":function(t){return e.$emit("close")}},model:{value:e.nepaliDate,callback:function(t){e.nepaliDate=t},expression:"nepaliDate"}},n))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},["true"===e.showCalendarChoice?a("v-btn",{attrs:{block:"",depressed:"",tile:"",color:"shade primary--text font-weight-bold"},on:{click:function(t){e.international=!e.international}}},[e._v(" "+e._s(e.international?"NE":"EN")+" ")]):e._e(),e.readOnly||e.international?e._e():a("localized-calendar",{ref:"datePicker",attrs:{"fiscal-year":[],"localized-date":e.localizedDate},on:{"update:localizedDate":function(t){e.localizedDate=t},"update:localized-date":function(t){e.localizedDate=t},"limit-mapping":function(t){e.limitMapping=t}},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}}),!e.readOnly&&e.international?a("v-date-picker",{attrs:{type:e.type,"allowed-dates":e.allowedDates,"no-title":""},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}}):e._e()],1)],1)},i=[],r=a("1da1"),o=(a("b64b"),a("99af"),a("96cf"),a("3bce")),s=a("338b"),l=a("cf45"),d={components:{LocalizedCalendar:o["a"]},mixins:[s["a"]],props:{value:{type:String,default:""},id:{type:String,default:""},type:{type:String,default:"date"},label:{type:String,default:""},disabled:{type:Boolean,default:!1},errorMessages:{type:[String,Array],default:function(){return[]}},dataCyVariable:{type:String,default:""},readOnly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},hint:{type:String,default:""},hideDetails:{type:Boolean,default:!1},singleLine:{type:Boolean,default:!1},appliedClass:{type:String,default:""},prependInnerIcon:{type:String,default:"mdi-calendar-month-outline"}},data:function(){return{menu:!1,date:this.value,nepaliDate:this.value,localizedDate:"",international:"English"===Object(l["f"])("VUE_APP_SET_DEFAULT_CALENDAR_TO"),showCalendarChoice:Object(l["f"])("VUE_APP_SHOW_CALENDAR_CHOICE"),useNepaliDate:localStorage.useNepaliDate,hasConverted:!1}},watch:{value:function(e){this.date=e},date:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e&&"true"===t.useNepaliDate&&t.hasConverted?t.nepaliDate=t.ad2bs(e):t.nepaliDate=e,a.next=3,t.$emit("input",e);case 3:return a.next=5,t.$emit("update:localizedDate",t.localizedDate);case 5:if(!e){a.next=8;break}return a.next=8,t.$emit("blur");case 8:case"end":return a.stop()}}),a)})))()},international:function(e){this.$emit("update:international",e)}},created:function(){this.date&&"true"===this.useNepaliDate&&!this.hasConverted?(this.hasConverted=!0,this.date=this.bs2ad(this.date)):this.date||"true"!==this.useNepaliDate||(this.hasConverted=!0)},methods:{allowedDates:function(e){if("false"===this.showCalendarChoice&&"English"===Object(l["f"])("VUE_APP_SET_DEFAULT_CALENDAR_TO"))return!0;var t=[],a="",n="";t=Object.keys(this.bs),a=t[0],n=t[t.length-1];var i={max:this.bs2ad("".concat(n,"-12-").concat(this.bs[n][11])),min:this.bs2ad("".concat(a,"-01-01"))};return e<=i.max&&e>=i.min}}},c=d,u=a("2877"),p=a("6544"),m=a.n(p),f=a("8336"),h=a("2e4b"),g=a("e449"),v=a("8654"),b=Object(u["a"])(c,n,i,!1,null,null,null);t["default"]=b.exports;m()(b,{VBtn:f["a"],VDatePicker:h["a"],VMenu:g["a"],VTextField:v["a"]})},"878b":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-card-actions",[a("v-spacer"),e.hideClear?e._e():a("v-btn",{attrs:{text:"",small:""},domProps:{textContent:e._s("Clear")},on:{click:function(t){return e.$emit("clearForm")}}}),a("v-btn",{attrs:{disabled:e.formErrors||e.disabled,color:e.deleteInstance?"red":"primary",depressed:"",small:"",loading:e.loading,type:"submit"}},[a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v(" mdi-content-save-outline ")]),e._v(" "+e._s(e.deleteInstance?"Delete":"Save")+" ")],1)],1)],1)},i=[],r={props:{hideClear:{type:Boolean,default:!1},formErrors:{type:Boolean,required:!0},disabled:{type:Boolean,default:!1},deleteInstance:{type:Boolean,required:!1,default:!1},loading:{type:Boolean,default:!1}}},o=r,s=a("2877"),l=a("6544"),d=a.n(l),c=a("8336"),u=a("99d9"),p=a("132d"),m=a("2fa4"),f=Object(s["a"])(o,n,i,!1,null,null,null);t["a"]=f.exports;d()(f,{VBtn:c["a"],VCardActions:u["a"],VIcon:p["a"],VSpacer:m["a"]})},"92fa":function(e,t){var a=/^(attrs|props|on|nativeOn|class|style|hook)$/;function n(e,t){return function(){e&&e.apply(this,arguments),t&&t.apply(this,arguments)}}e.exports=function(e){return e.reduce((function(e,t){var i,r,o,s,l;for(o in t)if(i=e[o],r=t[o],i&&a.test(o))if("class"===o&&("string"===typeof i&&(l=i,e[o]=i={},i[l]=!0),"string"===typeof r&&(l=r,t[o]=r={},r[l]=!0)),"on"===o||"nativeOn"===o||"hook"===o)for(s in r)i[s]=n(i[s],r[s]);else if(Array.isArray(i))e[o]=i.concat(r);else if(Array.isArray(r))e[o]=[i].concat(r);else for(s in r)i[s]=r[s];else e[o]=t[o];return e}),{})}},a51f:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.search.length>0?a("span",[e._v(' Your search for "'+e._s(e.search)+'" found no results. ')]):e.loading?a("v-skeleton-loader",{attrs:{type:"table",height:e.skeletonLoaderHeight}}):a("no-data-found",{attrs:{text:e.text,height:e.height}},[e._t("default")],2)],1)},i=[],r=(a("a9e3"),a("e585")),o={components:{NoDataFound:r["default"]},props:{search:{type:String,default:""},loading:{type:Boolean,required:!0},text:{type:String,default:"No data available at the moment"},height:{type:[String,Number],default:200},skeletonLoaderHeight:{type:[String,Number],default:void 0}}},s=o,l=a("2877"),d=a("6544"),c=a.n(d),u=a("3129"),p=Object(l["a"])(s,n,i,!1,null,null,null);t["default"]=p.exports;c()(p,{VSkeletonLoader:u["a"]})},a79c:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return r}));var n=a("53ca");a("b0c0");function i(e,t,a){var o,s,l=t||new FormData;for(var d in e)if(Object.prototype.hasOwnProperty.call(e,d))if(o=a?a+"."+d:d,s=e[d],"boolean"===typeof s||"number"===typeof s)l.append(o,s);else if(Array.isArray(s))for(var c=0;c<s.length;c++)l.append(o,s[c]);else"object"!==Object(n["a"])(s)||r(s)?r(s)?l.append(o,s,s.name):s?l.append(o,s):s||"undefined"!==typeof s&&l.append(o,""):i(s,l,d);return l}function r(e){return e instanceof File||e instanceof Blob}},ab8a:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.changeType&&0!==e.nonFieldErrors.length?a("div",e._l(e.nonFieldErrors,(function(t,n){return a("v-col",{key:n},e._l(t,(function(t,n){return a("div",{key:n},[a("span",{domProps:{textContent:e._s(e.key)}}),a("span",{domProps:{textContent:e._s(t.toString())}})])})),0)})),1):e._e(),e.changeType||0===e.nonFieldErrors.length?e._e():a("v-alert",{staticClass:"ma-3",attrs:{outlined:"",dense:"",tile:"",dismissible:"",color:"danger"}},[a("span",{domProps:{textContent:e._s("There are some errors")}}),e._l(e.nonFieldErrors,(function(t,n){return a("div",{key:n},e._l(t,(function(t,n){return a("div",{key:n},[a("ul",[a("li",[a("span",{domProps:{textContent:e._s(e.key)}}),a("span",{domProps:{textContent:e._s(t.toString())}})])])])})),0)}))],2)],1)},i=[],r={props:{nonFieldErrors:{type:Array,required:!0},changeType:{type:Boolean,default:!1}},data:function(){return{key:""}}},o=r,s=a("2877"),l=a("6544"),d=a.n(l),c=a("0798"),u=a("62ad"),p=Object(s["a"])(o,n,i,!1,null,null,null);t["default"]=p.exports;d()(p,{VAlert:c["a"],VCol:u["a"]})},abd3:function(e,t,a){},b631:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("vue-page-wrapper",{attrs:{"bread-crumbs":e.breadCrumbItems,title:e.htmlTitle}},[a("v-card",[a("vue-card-title",{attrs:{title:"ID Card Templates",subtitle:e.cardText,icon:"mdi-card-account-details"}},[a("template",{slot:"actions"},[e.templateForm.display||e.idCardForm.display?e._e():a("v-btn",{attrs:{small:"",color:"primary",depressed:""},on:{click:function(t){return e.triggerForm("create")}}},[e._v(" "+e._s(e.$t("createNew"))+" ")]),e.templateForm.display||e.idCardForm.display?a("v-btn",{attrs:{small:"",color:"primary",outlined:""},on:{click:e.dismissForm}},[e._v(" Cancel ")]):e._e()],1)],2),a("v-divider"),e.templateForm.display||e.idCardForm.display?e._e():a("v-data-table",{attrs:{headers:e.headers,items:e.fetchedResults,"sort-desc":e.pagination.descending,"sort-by":e.pagination.sortBy,page:e.pagination.page,"items-per-page":e.pagination.rowsPerPage,"footer-props":e.footerProps,"server-items-length":e.pagination.totalItems,"mobile-breakpoint":0,"must-sort":""},on:{"update:sortDesc":function(t){return e.$set(e.pagination,"descending",t)},"update:sort-desc":function(t){return e.$set(e.pagination,"descending",t)},"update:sortBy":function(t){return e.$set(e.pagination,"sortBy",t)},"update:sort-by":function(t){return e.$set(e.pagination,"sortBy",t)},"update:page":function(t){return e.$set(e.pagination,"page",t)},"update:itemsPerPage":function(t){return e.$set(e.pagination,"rowsPerPage",t)},"update:items-per-page":function(t){return e.$set(e.pagination,"rowsPerPage",t)}},scopedSlots:e._u([{key:"item",fn:function(t){return[a("tr",[a("td",[a("a",{domProps:{textContent:e._s(t.item.name)},on:{click:function(a){return e.gotoCardPage(t.item.id)}}})]),a("td",[t.item.profile_image_height?a("div",[e._v(" "+e._s(t.item.profile_image_height)+" ✕ "+e._s(t.item.profile_image_width)+" ")]):a("div",{domProps:{textContent:e._s("N/A")}})]),a("td",[e._v(" "+e._s(e._f("dayjs")(t.item.modified_at,"YYYY-MM-DD"))+" "),a("div",[e._v(" "+e._s(e._f("dayjs")(t.item.modified_at,"hh:mm a"))+" ")])]),a("td",{staticClass:"text-center"},[a("v-btn",{attrs:{disabled:0===t.item.usable_balance,small:"",color:"primary",text:""},on:{click:function(a){return e.previewTemplate(t.item)}}},[a("v-icon",{attrs:{left:""},domProps:{textContent:e._s("mdi-eye-outline")}}),a("span",{domProps:{textContent:e._s("Preview")}})],1),a("v-btn",{attrs:{disabled:0===t.item.usable_balance,small:"",text:"",color:"primary"},on:{click:function(a){return e.generateTemplate(t.item)}}},[a("v-icon",{attrs:{left:""},domProps:{textContent:e._s("mdi-plus-circle-outline")}}),a("span",{domProps:{textContent:e._s("Generate")}})],1)],1),a("td",{staticClass:"text-center"},[a("vue-context-menu",{attrs:{"context-list":[{name:"Update Template",icon:"mdi-pencil-outline",color:"primary"},{name:"Delete Details",icon:"mdi-delete-outline",color:"danger"}]},on:{click0:function(a){return e.performAction("Update Template",t.item)},click1:function(a){return e.performAction("Delete Template",t.item)}}})],1)])]}}],null,!1,2822715914)},[a("template",{slot:"no-data"},[a("data-table-no-data",{attrs:{loading:e.loading}})],1)],2),e.templateForm.display||e.deleteTemplate?a("id-card-template-form",{attrs:{"action-data":e.templateForm.actionData,"delete-template":e.deleteTemplate},on:{dismissForm:e.dismissForm}}):e.idCardForm.display?a("id-card-generation-form",{attrs:{"parent-template":e.idCardForm.template},on:{dismissForm:e.dismissForm}}):e._e()],1),a("v-dialog",{attrs:{"max-width":e.$vuetify.breakpoint.smAndDown?"90%":"30%"},on:{keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;e.preview.display=!1}},model:{value:e.preview.display,callback:function(t){e.$set(e.preview,"display",t)},expression:"preview.display"}},[a("v-card",[e.preview.display?a("v-col",[a("div",{domProps:{innerHTML:e._s(e.cardHolder+" "+e.preview.html)}})]):e._e()],1)],1),a("vue-dialog",{attrs:{notify:e.deleteNotification},on:{agree:function(t){return e.triggerForm("delete",e.templateForm.actionData)},close:function(t){e.deleteNotification.dialog=!1}}})],1)},i=[],r=a("1da1"),o=(a("96cf"),a("d3b7"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.deleteTemplate?e._e():a("v-form",{ref:"templateForm",on:{submit:function(t){return t.preventDefault(),e.getFormAction.apply(null,arguments)}}},[e.nonFieldErrors?a("non-field-form-errors",{attrs:{"non-field-errors":e.nonFieldErrors}}):e._e(),e.formValues.sample?a("v-row",{staticClass:"px-12"},[a("v-col",{attrs:{md:"6",sm:"12",cols:"12"}},[a("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required|max:50",expression:"'required|max:50'"}],attrs:{counter:50,"prepend-inner-icon":"mdi-folder-outline"},model:{value:e.formValues.name,callback:function(t){e.$set(e.formValues,"name",t)},expression:"formValues.name"}},"v-text-field",e.veeValidate("name","Template Name *"),!1)),e.displayFields.org_name?a("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"max:200",expression:"'max:200'"}],attrs:{counter:200,"prepend-inner-icon":"mdi-folder-outline"},on:{input:function(t){return e.idCardUtils.updateCardText("org_name",t)}},model:{value:e.formValues.org_name,callback:function(t){e.$set(e.formValues,"org_name",t)},expression:"formValues.org_name"}},"v-text-field",e.veeValidate("org_name","Organization Name"),!1)):e._e(),e.displayFields.org_address?a("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"max:200",expression:"'max:200'"}],attrs:{counter:200,"prepend-inner-icon":"mdi-folder-outline"},on:{input:function(t){return e.idCardUtils.updateCardText("org_address",t)}},model:{value:e.formValues.org_address,callback:function(t){e.$set(e.formValues,"org_address",t)},expression:"formValues.org_address"}},"v-text-field",e.veeValidate("org_address","Organization Address"),!1)):e._e(),e.displayFields.org_phone_no?a("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"max:100",expression:"'max:100'"}],attrs:{counter:100,"prepend-inner-icon":"mdi-folder-outline"},on:{input:function(t){return e.idCardUtils.updateCardText("org_phone_no",t)}},model:{value:e.formValues.org_phone_no,callback:function(t){e.$set(e.formValues,"org_phone_no",t)},expression:"formValues.org_phone_no"}},"v-text-field",e.veeValidate("org_phone_no","Organization Phone no"),!1)):e._e(),e.displayFields.org_email?a("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"email|max:254",expression:"'email|max:254'"}],attrs:{counter:254,"prepend-inner-icon":"mdi-folder-outline"},on:{input:function(t){return e.idCardUtils.updateCardText("org_email",t)}},model:{value:e.formValues.org_email,callback:function(t){e.$set(e.formValues,"org_email",t)},expression:"formValues.org_email"}},"v-text-field",e.veeValidate("org_email","Organization Email"),!1)):e._e(),e.displayFields.slogan?a("v-textarea",e._b({directives:[{name:"validate",rawName:"v-validate",value:"max:1000",expression:"'max:1000'"}],attrs:{counter:1e3,rows:"2","prepend-inner-icon":"mdi-folder-outline"},on:{input:function(t){return e.idCardUtils.updateCardText("slogan",t)}},model:{value:e.formValues.slogan,callback:function(t){e.$set(e.formValues,"slogan",t)},expression:"formValues.slogan"}},"v-textarea",e.veeValidate("slogan","Organization Slogan"),!1)):e._e(),e.displayFields.logo?a("v-text-field",{attrs:{readonly:"",label:"Organization Logo","prepend-inner-icon":"mdi-attachment"},on:{click:function(t){e.imgLogo.dialog=!0}},model:{value:e.imgLogo.name,callback:function(t){e.$set(e.imgLogo,"name",t)},expression:"imgLogo.name"}}):e._e(),e.imgLogo.dialog?a("image-upload",{attrs:{"enable-resize":""},on:{close:function(t){e.imgLogo.dialog=!1},"cropped-image":e.updateImgLogo},model:{value:e.formValues.logo,callback:function(t){e.$set(e.formValues,"logo",t)},expression:"formValues.logo"}}):e._e(),e.displayFields.auth_signature?a("file-upload",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{default:e.formValues.auth_signature},on:{input:function(t){return e.idCardUtils.updateCardImage("auth_signature",t)}},model:{value:e.formValues.auth_signature,callback:function(t){e.$set(e.formValues,"auth_signature",t)},expression:"formValues.auth_signature"}},"file-upload",e.veeValidate("auth_signature","Authorized signature *"),!1)):e._e(),e.displayFields["id-card"]?a("v-text-field",{attrs:{readonly:"",label:"Background Logo","prepend-inner-icon":"mdi-attachment"},on:{click:function(t){e.imgBackground.dialog=!0}},model:{value:e.imgBackground.name,callback:function(t){e.$set(e.imgBackground,"name",t)},expression:"imgBackground.name"}}):e._e(),e.imgBackground.dialog?a("image-upload",{attrs:{"enable-resize":""},on:{close:function(t){e.imgBackground.dialog=!1},"cropped-image":e.updateImgBackground},model:{value:e.formValues.background_image,callback:function(t){e.$set(e.formValues,"background_image",t)},expression:"formValues.background_image"}}):e._e()],1),a("v-col",{attrs:{md:"6",cols:"12"}},[a("div",{domProps:{innerHTML:e._s(e.cardHolder+" "+e.selectedSample)}})])],1):a("v-row",{attrs:{justify:"center"}},[a("v-col",{staticClass:"text-center",attrs:{cols:"12"},domProps:{textContent:e._s("Select a ID card Sample")}}),e.loading?a("v-col",{attrs:{cols:"12"}},[a("v-row",e._l(3,(function(e){return a("v-col",{key:e,attrs:{md:"4",cols:"12"}},[a("content-loader",{attrs:{height:500,"primary-color":"#eee","secondary-color":"#d5d5d7"}})],1)})),1)],1):e._e(),e._l(e.idCardSamples,(function(t){return a("v-col",{key:t.id,attrs:{md:"4",cols:"12"}},[a("div",{staticClass:"pointer",domProps:{innerHTML:e._s(t.content)},on:{click:function(a){return e.createTemplateFromSample(t)}}}),a("div",{staticClass:"text-center text-body-1 my-1 pointer primary--text",domProps:{textContent:e._s(t.name)}})])}))],2),a("v-divider"),e.selectedSample?a("form-submit",{attrs:{"form-errors":e.errors.any()},on:{clearForm:e.clearForm,submit:e.getFormAction}}):e._e()],1)}),s=[],l=(a("159b"),a("b64b"),a("caad"),a("2532"),a("b0c0"),a("ab8a")),d=a("878b"),c=a("e330"),u=a("f82f"),p=a("c44a"),m=a("a79c"),f=a("3670"),h=a("fcb3"),g=a("e5c7"),v=a("69e5"),b=a("f1d0"),y={components:{NonFieldFormErrors:l["default"],FormSubmit:d["a"],FileUpload:u["a"],ContentLoader:c["b"],ImageUpload:v["default"]},mixins:[p["a"]],props:{actionData:{type:Object,required:!1,default:function(){return{name:"",template:"",logo:"",background_image:"",auth_signature:"",org_address:"",org_phone_no:"",org_email:"",profile_image_height:"",profile_image_width:"",sample:"",organization:1}}},deleteTemplate:{type:Boolean,default:!1}},data:function(){return{formValues:this.deepCopy(this.actionData),orgSlug:this.$route.params.slug,dialog:!1,imgLogo:{dialog:!1,name:""},imgBackground:{dialog:!1,name:""},idCardUtils:g["a"],cardHolder:"<div></div>",idCardSamples:[],selectedSample:"",loading:!1,displayFields:{org_name:!1,org_address:!1,org_phone_no:!1,org_email:!1,logo:!1,auth_signature:!1,slogan:!1,"id-card":!1},orgInfo:null}},watch:{"formValues.sample":function(e){var t=this;if(e){this.formValues.org_name=this.get(this.orgInfo,"name"),this.formValues.org_address=this.get(this.orgInfo.address,"address"),this.formValues.org_phone_no=this.get(this.orgInfo.contacts,"Phone"),this.formValues.org_email=this.get(this.orgInfo,"email");var a=["org_name","org_address","org_phone_no","org_email"];this.$nextTick((function(){a.forEach((function(e){t.idCardUtils.updateCardText(e,t.get(t.formValues,e))}))}))}}},created:function(){var e=this;this.deleteTemplate?this.getFormAction():this.actionData.id?(this.selectedSample=this.actionData.sample.content,Object.keys(this.displayFields).forEach((function(t){e.actionData.sample.content.includes('id="'.concat(t,'"'))&&(e.displayFields[t]=!0)})),this.$nextTick((function(){e.idCardUtils.renderSingleCard(e.actionData)}))):this.fetchSamples()},methods:{fetchSamples:function(){var e=this;this.loading=!0;var t=h["a"].getSamples();this.$http.get(t).then((function(t){e.idCardSamples=t.results})).finally((function(){e.loading=!1}))},createTemplateFromSample:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(Object.keys(t.displayFields).forEach((function(a){e.content.includes('id="'.concat(a,'"'))&&(t.displayFields[a]=!0)})),t.orgInfo){a.next=4;break}return a.next=4,t.$http.get(b["a"].getOrganization(t.getOrganizationSlug)).then((function(e){t.orgInfo=e}));case 4:t.formValues.sample=e.id,t.selectedSample=e.content;case 6:case"end":return a.stop()}}),a)})))()},getFormAction:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.validateAllFields();case 2:if(!t.sent){t.next=6;break}if(!e.deleteTemplate){t.next=5;break}return t.abrupt("return",e.deleteTemplateInstance());case 5:return t.abrupt("return",e.formValues.id?e.updateTemplate():e.createTemplate());case 6:case"end":return t.stop()}}),t)})))()},createTemplate:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.formValues.background_image||(e.formValues.background_image=null),a=f["a"].postIdCardTemplate(e.getOrganizationSlug),e.$http.post(a,Object(m["b"])(e.formValues)).then((function(){e.notifyUser("Successfully created Template","green"),e.$emit("dismissForm")})).catch((function(t){e.notifyInvalidFormResponse(),e.pushErrors(t)}));case 3:case"end":return t.stop()}}),t)})))()},updateTemplate:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.removeFileUrl(),a=f["a"].idCardTemplate(e.getOrganizationSlug,e.actionData.id),e.$http.patch(a,Object(m["b"])(e.formValues)).then((function(){e.notifyUser("Successfully updated Template","green"),e.$emit("dismissForm")})).catch((function(t){e.notifyInvalidFormResponse(),e.pushErrors(t)}));case 3:case"end":return t.stop()}}),t)})))()},removeFileUrl:function(){this.formValues.logo instanceof File||this.formValues.logo instanceof Blob||delete this.formValues.logo,this.formValues.background_image instanceof File||this.formValues.background_image instanceof Blob||delete this.formValues.background_image,this.formValues.auth_signature instanceof File||this.formValues.auth_signature instanceof Blob||delete this.formValues.auth_signature},deleteTemplateInstance:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=f["a"].idCardTemplate(e.getOrganizationSlug,e.actionData.id),e.$http.delete(a).then((function(){e.notifyUser("Successfully deleted Template","green"),e.$emit("dismissForm")})).catch((function(t){e.notifyInvalidFormResponse(),e.pushErrors(t)}));case 2:case"end":return t.stop()}}),t)})))()},clearForm:function(){this.errors.clear(),this.$refs.templateForm.reset(),this.clearNonFieldErrors()},updateImgLogo:function(e){g["a"].updateCardImage("logo",e),this.imgLogo.name=e.name},updateImgBackground:function(e){g["a"].updateCardBackground(e),this.imgBackground.name=e.name}}},x=y,_=a("2877"),C=a("6544"),w=a.n(C),k=a("62ad"),S=a("ce7e"),D=a("4bd4"),O=a("0fd9b"),V=a("8654"),I=a("a844"),T=Object(_["a"])(x,o,s,!1,null,null,null),F=T.exports;w()(T,{VCol:k["a"],VDivider:S["a"],VForm:D["a"],VRow:O["a"],VTextField:V["a"],VTextarea:I["a"]});var $=a("1236"),B=a("a51f"),E=a("0549"),P=a("17cc"),j=a("e4bf"),L={components:{VuePageWrapper:E["default"],IdCardTemplateForm:F,IdCardGenerationForm:$["a"],DataTableNoData:B["default"],VueContextMenu:j["default"]},mixins:[P["a"]],data:function(){return{htmlTitle:"ID Card Templates | HRIS | Admin",breadCrumbItems:[{text:"HRIS",disabled:!1,to:{name:"admin-slug-hris-overview",params:{slug:this.$route.params.slug}}},{text:"ID Card",disabled:!0}],loading:!1,headers:[{text:"Template Name",value:"name"},{text:"Image Size",value:"image_size"},{text:"Date Modified",value:"modified_at"},{text:"Preview/Generate",align:"center",sortable:!1},{text:"Action",align:"center",sortable:!1}],rowsPerPageItems:[10,20,30,40,50],actions:[{icon:"mdi-pencil",title:"Update Template"},{icon:"mdi-delete",title:"Delete Template"}],cardHolder:'<div class="id-card-tag"></div><div class="id-card-tag-strip"></div><div class="id-card-hook"></div>',deleteTemplate:!1,cardText:"List of ID Card Templates",deleteNotification:{dialog:!1,heading:"Confirm Delete",text:"Are you sure you want to delete this template?"},templateForm:{display:!1,actionData:void 0},idCardForm:{display:!1,template:""},preview:{display:!1,html:""},idCardUtils:g["a"]}},computed:{DataTableFilter:function(){return{}}},created:function(){this.loadDataTableChange()},methods:{fetchDataTable:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.loading=!0,a=f["a"].getIdCardTemplates(e.getOrganizationSlug),e.$http.get(a,{params:e.fullParams}).then((function(t){e.loadDataTable(t)})).finally((function(){e.loading=!1}));case 3:case"end":return t.stop()}}),t)})))()},previewTemplate:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.preview.display=!0,t.preview.html=e.sample.content,t.$nextTick((function(){t.idCardUtils.renderSingleCard(e)}));case 3:case"end":return a.stop()}}),a)})))()},generateTemplate:function(e){this.idCardForm.display=!0,this.idCardForm.template=e,this.cardText="Generate ID Card"},gotoCardPage:function(e){var t=this.get(this.$route.params,"slug");this.$router.push({name:"admin-slug-hris-id-card-templates-id-cards",params:{id:e,slug:t}})},triggerForm:function(e,t){var a={create:"Create ID Card Template",update:"Update ID Card Template"};this.cardText=a[e],this.templateForm.display=!0,this.templateForm.actionData=t||void 0,this.deleteTemplate="delete"===e},performAction:function(e,t){"Delete Template"===e?(this.templateForm.actionData=t,this.deleteNotification.dialog=!0):this.triggerForm("update",t)},dismissForm:function(){this.fetchDataTable(),this.deleteTemplate=!1,this.deleteNotification.dialog=!1,this.templateForm.actionData=void 0,this.templateForm.display=!1,this.idCardForm.display=!1,this.cardText="List of ID Card Templates"}}},z=L,U=a("8336"),A=a("b0af"),N=a("8fea"),R=a("169a"),M=a("132d"),H=Object(_["a"])(z,n,i,!1,null,null,null);t["default"]=H.exports;w()(H,{VBtn:U["a"],VCard:A["a"],VCol:k["a"],VDataTable:N["a"],VDialog:R["a"],VDivider:S["a"],VIcon:M["a"]})},e330:function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return s})),a.d(t,"c",(function(){return l})),a.d(t,"d",(function(){return d}));var n=a("92fa"),i=a.n(n),r=function(){return Math.random().toString(36).substring(2)},o={name:"ContentLoader",functional:!0,props:{width:{type:[Number,String],default:400},height:{type:[Number,String],default:130},speed:{type:Number,default:2},preserveAspectRatio:{type:String,default:"xMidYMid meet"},baseUrl:{type:String,default:""},primaryColor:{type:String,default:"#f9f9f9"},secondaryColor:{type:String,default:"#ecebeb"},primaryOpacity:{type:Number,default:1},secondaryOpacity:{type:Number,default:1},uniqueKey:{type:String},animate:{type:Boolean,default:!0}},render:function(e,t){var a=t.props,n=t.data,o=t.children,s=a.uniqueKey?a.uniqueKey+"-idClip":r(),l=a.uniqueKey?a.uniqueKey+"-idGradient":r();return e("svg",i()([n,{attrs:{viewBox:"0 0 "+a.width+" "+a.height,version:"1.1",preserveAspectRatio:a.preserveAspectRatio}}]),[e("rect",{style:{fill:"url("+a.baseUrl+"#"+l+")"},attrs:{"clip-path":"url("+a.baseUrl+"#"+s+")",x:"0",y:"0",width:a.width,height:a.height}}),e("defs",[e("clipPath",{attrs:{id:s}},[o||e("rect",{attrs:{x:"0",y:"0",rx:"5",ry:"5",width:a.width,height:a.height}})]),e("linearGradient",{attrs:{id:l}},[e("stop",{attrs:{offset:"0%","stop-color":a.primaryColor,"stop-opacity":a.primaryOpacity}},[a.animate?e("animate",{attrs:{attributeName:"offset",values:"-2; 1",dur:a.speed+"s",repeatCount:"indefinite"}}):null]),e("stop",{attrs:{offset:"50%","stop-color":a.secondaryColor,"stop-opacity":a.secondaryOpacity}},[a.animate?e("animate",{attrs:{attributeName:"offset",values:"-1.5; 1.5",dur:a.speed+"s",repeatCount:"indefinite"}}):null]),e("stop",{attrs:{offset:"100%","stop-color":a.primaryColor,"stop-opacity":a.primaryOpacity}},[a.animate?e("animate",{attrs:{attributeName:"offset",values:"-1; 2",dur:a.speed+"s",repeatCount:"indefinite"}}):null])])])])}},s={name:"BulletListLoader",functional:!0,render:function(e,t){var a=t.data;return e(o,a,[e("circle",{attrs:{cx:"10",cy:"20",r:"8"}}),e("rect",{attrs:{x:"25",y:"15",rx:"5",ry:"5",width:"220",height:"10"}}),e("circle",{attrs:{cx:"10",cy:"50",r:"8"}}),e("rect",{attrs:{x:"25",y:"45",rx:"5",ry:"5",width:"220",height:"10"}}),e("circle",{attrs:{cx:"10",cy:"80",r:"8"}}),e("rect",{attrs:{x:"25",y:"75",rx:"5",ry:"5",width:"220",height:"10"}}),e("circle",{attrs:{cx:"10",cy:"110",r:"8"}}),e("rect",{attrs:{x:"25",y:"105",rx:"5",ry:"5",width:"220",height:"10"}})])}},l={name:"FacebookLoader",functional:!0,render:function(e,t){var a=t.data;return e(o,a,[e("rect",{attrs:{x:"70",y:"15",rx:"4",ry:"4",width:"117",height:"6.4"}}),e("rect",{attrs:{x:"70",y:"35",rx:"3",ry:"3",width:"85",height:"6.4"}}),e("rect",{attrs:{x:"0",y:"80",rx:"3",ry:"3",width:"350",height:"6.4"}}),e("rect",{attrs:{x:"0",y:"100",rx:"3",ry:"3",width:"380",height:"6.4"}}),e("rect",{attrs:{x:"0",y:"120",rx:"3",ry:"3",width:"201",height:"6.4"}}),e("circle",{attrs:{cx:"30",cy:"30",r:"30"}})])}},d={name:"ListLoader",functional:!0,render:function(e,t){var a=t.data;return e(o,a,[e("rect",{attrs:{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"}}),e("rect",{attrs:{x:"20",y:"20",rx:"3",ry:"3",width:"220",height:"10"}}),e("rect",{attrs:{x:"20",y:"40",rx:"3",ry:"3",width:"170",height:"10"}}),e("rect",{attrs:{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"}}),e("rect",{attrs:{x:"20",y:"80",rx:"3",ry:"3",width:"200",height:"10"}}),e("rect",{attrs:{x:"20",y:"100",rx:"3",ry:"3",width:"80",height:"10"}})])}}},e4bf:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.contextList.filter((function(e){return!e.hide})).length<3&&!e.hideIcons||e.showIcons?a("div",e._l(e.contextList,(function(t,n){return a("span",{key:n},[t.hide?e._e():a("v-tooltip",{attrs:{disabled:e.$vuetify.breakpoint.xs,top:""},scopedSlots:e._u([{key:"activator",fn:function(i){var r=i.on;return[a("v-btn",e._g({staticClass:"mx-0",attrs:{text:"",width:e.small?"18":"22",depressed:"",icon:""}},r),[a("v-icon",{attrs:{disabled:t.disabled,color:t.color,"data-cy":e.dataCyVariable+"btn-dropdown-menu-item-"+(n+1),dark:!t.disabled,small:e.small,size:"20",dense:""},domProps:{textContent:e._s(t.icon)},on:{click:function(t){return e.$emit("click"+n)}}})],1)]}}],null,!0)},[a("span",{domProps:{textContent:e._s(t.disabled&&t.disable_message||t.name)}})])],1)})),0):a("v-menu",{attrs:{"offset-y":"",left:"",transition:"slide-y-transition"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-btn",e._g({attrs:{small:"",text:"",icon:""}},n),[a("v-icon",{attrs:{"data-cy":"btn-dropdown-menu"},domProps:{textContent:e._s("mdi-dots-vertical")}})],1)]}}])},e._l(e.contextList,(function(t,n){return a("v-list",{key:n,staticClass:"pa-0",attrs:{dense:""}},[t.hide?e._e():a("div",[t.disabled?a("v-list-item",{attrs:{"data-cy":"btn-dropdown-menu-item"}},[a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(n){var i=n.on;return[a("v-list-item-title",e._g({},i),[a("v-icon",{attrs:{disabled:"",small:"",color:t.color},domProps:{textContent:e._s(t.icon)}}),a("span",{staticClass:"ml-1 grey--text",domProps:{textContent:e._s(t.name)}})],1)]}}],null,!0)},[a("span",{domProps:{textContent:e._s(t.disabled&&t.disable_message||t.name)}})])],1):a("v-list-item",{attrs:{"data-cy":"btn-dropdown-menu-item"},on:{click:function(t){return e.$emit("click"+n)}}},[a("v-list-item-title",[a("v-icon",{attrs:{color:t.color,small:"",dense:""},domProps:{textContent:e._s(t.icon)}}),a("span",{staticClass:"ml-1",class:t.text_color,domProps:{textContent:e._s(t.name)}})],1)],1)],1)])})),1)],1)},i=[],r={name:"VueContextMenu",props:{contextList:{type:Array,default:function(){return[]}},dataCyVariable:{type:String,default:""},showIcons:{type:Boolean,default:!1},hideIcons:{type:Boolean,default:!1},small:{type:Boolean,default:!1}}},o=r,s=a("2877"),l=a("6544"),d=a.n(l),c=a("8336"),u=a("132d"),p=a("8860"),m=a("da13"),f=a("5d23"),h=a("e449"),g=a("3a2f"),v=Object(s["a"])(o,n,i,!1,null,"71ee785c",null);t["default"]=v.exports;d()(v,{VBtn:c["a"],VIcon:u["a"],VList:p["a"],VListItem:m["a"],VListItemTitle:f["c"],VMenu:h["a"],VTooltip:g["a"]})},e5c7:function(e,t,a){"use strict";a.d(t,"b",(function(){return i}));var n=a("1da1"),i=(a("96cf"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("159b"),a("caad"),a("99af"),a("7db0"),[{id:"profile_picture",value:"/images/info/user-default.png",tip:"User Profile Image"},{id:"full_name",value:"<< Employee Name >>",tip:"User full Name"},{id:"employee_code",value:"<< Employee Code >>",tip:"User Employee Code"},{id:"employment_level",value:"<< Employment Level >>",tip:"User Employment Level"},{id:"division",value:"<< Division >>",tip:"User Department"},{id:"branch",value:"<< Branch >>",tip:"User Branch"},{id:"logo",value:"/images/attendance-calendar/4.jpg",tip:"Card Header Logo"},{id:"org_name",value:"<< Organization Name >>",tip:"Organization Name"},{id:"address",value:"<< User Address >>",tip:"User Address"},{id:"org_address",value:"<< Organization Address >>",tip:"Organization Address"},{id:"user_email",value:"user@email.com",tip:"User Email"},{id:"org_email",value:"organization@email.com",tip:"Organization Email"},{id:"phone_no",value:"<< User Phone No >>",tip:"User Phone Number"},{id:"citizenship_number",value:"<< Citizenship No >>",tip:"User Citizenship Number"},{id:"org_phone_no",value:"<< Organization Phone No >>",tip:"Organization Phone Number"},{id:"issued_on",value:"<< YYYY-MM-DD >>",tip:"Card Issued Date"},{id:"expire_on",value:"<< YYYY-MM-DD >>",tip:"Validity of Card"},{id:"signature",value:"/images/auth/sample_signature.png",tip:"User Signature"},{id:"auth_signature",value:"/images/auth/sample_signature.png",tip:"Authorized Signature"},{id:"slogan",value:"<< Contrary to popular belief, Lorem Ipsum is not simply random text. It has roots in a piece of classical Latin literature from 45 BC, making it over 2000 years old. >>",tip:"Slogan of Organization"},{id:"id-card",value:"",tip:"Main Template ID (Will be used to add background image for card)"}]);function r(e){return i.find((function(t){return t.id===e})).value}t["a"]={updateCardBackground:function(e){if(document.getElementById("id-card"))if(e){var t=URL.createObjectURL(e);document.getElementById("id-card").style.backgroundImage="url("+t+")"}else document.getElementById("id-card").style.backgroundImage=""},updateCardImage:function(e,t){document.getElementById(e)&&(t instanceof Blob||t instanceof File?document.getElementById(e).src=URL.createObjectURL(t):document.getElementById(e).src="string"===typeof t?t:r(e))},updateCardText:function(e,t){document.getElementById(e)&&(document.getElementById(e).innerHTML=t||r(e))},renderSingleCard:function(e){var t=function(e){return document.getElementById(e)},a=[];i.forEach((function(e){t(e.id)&&a.push({id:e.id,element:t(e.id)})})),this.renderCardDetails(e,a)},renderCardDetails:function(e,t){t.forEach((function(t){["logo","signature","auth_signature","profile_picture"].includes(t.id)?e[t.id]&&(t.element.src=e[t.id]):["id-card"].includes(t.id)?e.background_image&&(t.element.style.backgroundImage="url("+e.background_image+")"):e[t.id]&&(t.element.innerHTML=e[t.id])}))},renderAllDetails:function(e){var t=function(t){return document.querySelectorAll("#card".concat(e.id," #").concat(t))[0]},a=[];i.forEach((function(e){t(e.id)&&a.push({id:e.id,element:t(e.id)})})),this.renderCardDetails(e.template,a),this.renderCardDetails(e,a)},downloadCard:function(e){return Object(n["a"])(regeneratorRuntime.mark((function t(){var i,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=function(t){return document.querySelectorAll("#card".concat(e.id," #").concat(t))[0]},r=i("id-card"),o={type:"dataURL",useCORS:!0,logging:!0,scale:4},t.next=5,a.e("chunk-2d216257").then(a.t.bind(null,"c0e9",7)).then(function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.default,document.getElementsByTagName("html")[0].classList.add("hide-scrollbar"),e.next=4,a(r,o).then((function(e){var t=document.createElement("a");"string"===typeof t.download?(t.href=e.toDataURL(),t.download="file-name.png",document.body.appendChild(t),t.click(),document.body.removeChild(t)):window.open(e.toDataURL())}));case 4:document.getElementsByTagName("html")[0].classList.remove("hide-scrollbar");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:case"end":return t.stop()}}),t)})))()},getSampleHTML:function(e){return 0===e?o:1===e?s+c:2===e?l:d+c}};var o='\n  <div id="id-card" style="\n   width: 225px;\n   margin: 0 auto;\n   position: relative;\n   overflow: hidden;\n   ">\n   <div style="height:385px">\n      \x3c!--Header Section Start--\x3e\n      <div style="height: 140px; overflow: hidden;">\n         <img \n         id="logo" \n         src='.concat(r("logo"),' \n         height="150px" \n         alt="">\n      </div>\n      \x3c!--Header Section End--\x3e\n      \x3c!--Body Section Start --\x3e\n      <div style="text-align: center">\n         <img id="profile_picture" style="\n            border-radius: 5%; \n            height: 80px; \n            margin-top: -40px;\n            border: double 0.3em transparent;\n            background-image: linear-gradient(white, white),\n            linear-gradient(to right, #f4f5f9, #f4f5f9);\n            background-origin: border-box;\n            background-clip: content-box, border-box;" \n            alt="" \n            src=').concat(r("profile_picture"),'>\n         <div>\n            <h2 id="full_name" style="font-size: 15px;">\n               ').concat(r("full_name"),'\n            </h2>\n            <h4 id="employment_level" style="font-size: 8px;"> \n               ').concat(r("employment_level"),'\n            </h4>\n            <h4 id="user_email" style="font-size: 8px;"> \n               ').concat(r("user_email"),'\n            </h4>\n         </div>\n      </div>\n      <div style="margin-top: 20px;">\n         <div \n          style="float:left; \n          width:40%; \n          padding-left:35px; \n          font-size: 9px;">\n            <h4> Id No </h4>\n            <h4> Division </h4>\n            <h4> Branch </h4>\n            <h4> Phone No </h4>\n            <h4> Address </h4>\n            <h4> Issued On </h4>\n         </div>\n         <div style="float:right; width:60%; font-size: 9px;">\n             <h4>:&nbsp;<span id="employee_code">').concat(r("employee_code"),' </span></h4>\n             <h4>:&nbsp;<span id="division">').concat(r("division"),' </span></h4>\n              <h4>:&nbsp;<span id="branch">').concat(r("branch"),' </span></h4>\n             <h4>:&nbsp;<span id="phone_no">').concat(r("phone_no"),' </span></h4>\n             <h4>:&nbsp;<span id="address">').concat(r("address"),' </span></h4>\n             <h4>:&nbsp;<span id="issued_on">').concat(r("issued_on"),' </span></h4>\n         </div>\n      </div>\n      <div \n        style="float:right; \n        width:100%; \n        text-align:center; \n        margin-top:10px">\n         <img \n         id="auth_signature"\n         src=').concat(r("auth_signature"),' \n         alt="" \n         style="width:100px; height:50px;">\n      </div>\n   </div>\n</div>\n'),s='\n<div id="id-card" style="\n   width: 225px;\n   margin: 0 auto;\n   position: relative;\n   overflow: hidden;\n   ">\n   <div style="height:385px">\n      \x3c!--Header Section Start--\x3e\n      <div style="height: 140px; overflow: hidden;">\n         <img \n         id="logo" \n         src='.concat(r("logo"),'\n         height="150px" \n         alt="">\n      </div>\n      \x3c!--Header Section End--\x3e\n      \x3c!--Body Section Start --\x3e\n      <div>\n        <div style="text-align: center; margin-top: 15px;">\n          <h2 id="slogan" style="font-size: 10px; padding: 0px 20px 0px 20px;">\n            ').concat(r("slogan"),'\n          </h2>\n        </div>\n        <div style="text-align: center; margin-top: 15px; font-size: 9px;">\n          <span class="pin icon"></span>\n          <span id="org_address" style="padding-left: 20px;">\n            ').concat(r("org_address"),'\n          </span>\n        </div>\n        <div style="text-align: center; margin-top: 15px; font-size: 9px;">\n          <span class="mobile-solid icon"></span>\n          <span id="org_phone_no" style="padding-left: 20px;">\n            ').concat(r("org_phone_no"),'\n          </span>\n        </div>\n        <div style="text-align: center; margin-top: 15px; font-size: 9px;">\n          <span class="mail icon"></span>\n          <span id="org_email" style="padding-left: 25px;">\n            ').concat(r("org_email"),'\n          </span>\n        </div>\n        <div style="text-align: center; margin-top: 15px; font-size: 9px;">\n        <span>Expiry Date: &nbsp;</span>\n        <span id="expire_on">\n          ').concat(r("expire_on"),"\n        </span>\n      </div>\n    </div>\n   </div>\n</div>\n"),l='\n  <div id="id-card" style="\n    width: 385px;\n    margin: 0 auto;\n    position: relative;\n    overflow: hidden;\n  ">\n      <div style="height:225px; margin: 15px">\n        \x3c!--Header Section Start--\x3e\n        <div style="height: 80px; overflow: hidden;">\n          <img id="logo" src="'.concat(r("logo"),'" height="80px" alt="">\n        </div>\n        \x3c!--Header Section End--\x3e\n        \x3c!--Body Section Start --\x3e\n        <div style="padding-left: 20px">\n          <img id="profile_picture" style="\n            border-radius: 5%; \n            height: 80px; \n            margin-top: -30px;\n            border: double 0.3em transparent;\n            background-image: linear-gradient(white, white),\n            linear-gradient(to right, #f4f5f9, #f4f5f9);\n            background-origin: border-box;\n            background-clip: content-box, border-box;" alt="" src="').concat(r("profile_picture"),'">\n          <div style="margin-left: 90px; margin-top: -50px;">\n            <h2 id="full_name" style="font-size: 15px;">\n              ').concat(r("full_name"),'\n            </h2>\n            <h4 id="employment_level" style="font-size: 8px;"> \n              ').concat(r("employment_level"),'\n            </h4>\n          </div>\n        </div>\n          <div style="margin-top: 25px;">\n            <div style="float: left; width: 30%">\n              <div>\n                <h4 style="font-size: 9px;"> Employee Id </h4>\n                <h4 id="employee_code" style="font-size: 9px;"> \n                  ').concat(r("employee_code"),'\n                </h4>\n              </div>\n              <div style="padding-top: 10px;">        \n              <h4 style="font-size: 9px;"> Division </h4>\n              <h4 id="division" style="font-size: 8px; margin: 0;">\n                ').concat(r("division"),'\n              </h4>\n            </div>\n              <div style="padding-top: 10px;">        \n              <h4 style="font-size: 9px;"> Branch </h4>\n              <h4 id="branch" style="font-size: 8px; margin: 0;">\n                ').concat(r("branch"),'\n              </h4>\n            </div>\n            </div>\n            <div style="float: left; width: 40%">\n              <div>\n              <h4 style="font-size: 9px;"> Email </h4>\n              <h4 id="user_email" style="font-size: 9px;"> \n                ').concat(r("user_email"),'\n              </h4>\n            </div>\n              <div style="padding-top: 10px;">        \n              <h4 style="font-size: 9px;"> Phone No </h4>\n              <h4 id="phone_no" style="font-size: 8px; margin: 0;">\n               ').concat(r("phone_no"),'\n              </h4>\n            </div>\n            </div>\n            <div style="float: right; width: 30%">\n              <div>\n                <h4 style="font-size: 9px;"> Issued On </h4>\n                <h4 id="issued_on" style="font-size: 9px;"> \n                  ').concat(r("issued_on"),'\n                </h4>\n              </div>\n              <img id="auth_signature" src="').concat(r("auth_signature"),'" alt="" style="width:100px; height:50px;">\n            </div>\n          </div>\n      </div>\n  </div>\n'),d='\n<div id="id-card" style="width: 385px; margin: 0 auto; position: relative; overflow: hidden;">\n  <div style="height: 225px; margin: 15px;">\n    \x3c!--Header Section Start--\x3e\n    <div style="height: 80px; overflow: hidden;">\n      <img id="logo" src="'.concat(r("logo"),'" height="80px" alt="" />\n    </div>\n    \x3c!--Header Section End--\x3e\n    \x3c!--Body Section Start --\x3e\n    <div style="text-align: center; margin-top: 5px;">\n      <h2 id="slogan"  style="font-size: 10px; padding: 0px 20px 0px 20px;">\n        ').concat(r("slogan"),'\n      </h2>\n    </div>\n    \n    <div style="text-align: center; margin-top: 10px; font-size: 9px;">\n      <span class="pin icon"></span>\n      <span id="org_address" style="padding-left: 20px;">\n        ').concat(r("org_address"),'\n      </span>\n    </div>\n    <div style="text-align: center; margin-top: 10px; font-size: 9px;">\n      <span class="mobile-solid icon"></span>\n      <span id="org_phone_no" style="padding-left: 20px;">\n        ').concat(r("org_phone_no"),'\n      </span>\n    </div>\n    <div style="text-align: center; margin-top: 10px; font-size: 9px;">\n      <span class="mail icon"></span>\n      <span id="org_email" style="padding-left: 25px;">\n        ').concat(r("org_email"),'\n      </span>\n    </div>\n    <div style="text-align: center; margin-top: 10px; font-size: 9px;">\n      <span>Expiry Date: &nbsp;</span>\n      <span id="expire_on" >\n        ').concat(r("expire_on"),"\n      </span>\n    </div>\n  </div>\n</div>\n"),c="\n<style>   \n .pin.icon {\n  color: #000;\n  position: absolute;\n  margin-left: 4px;\n  margin-top: 2px;\n  width: 12px;\n  height: 12px;\n  border: solid 1px currentColor;\n  border-radius: 7px 7px 7px 0;\n  -webkit-transform: rotate(-45deg);\n          transform: rotate(-45deg);\n}\n\n.pin.icon:before {\n  content: '';\n  position: absolute;\n  left: 3px;\n  top: 3px;\n  width: 4px;\n  height: 4px;\n  border: solid 1px currentColor;\n  border-radius: 3px;\n}\n\n.mobile-solid.icon {\n  color: #000;\n  position: absolute;\n  margin-left: 4px;\n  margin-top: 0px;\n  width: 10px;\n  height: 14px;\n  border-radius: 2px;\n  border-left: solid 1px currentColor;\n  border-right: solid 1px currentColor;\n  border-top: solid 3px currentColor;\n  border-bottom: solid 4px currentColor;\n}\n\n.moon-solid.icon:before {\n  content: '';\n  position: absolute;\n  left: 8px;\n  top: 3px;\n  width: 8px;\n  height: 10px;\n  color: #fff;\n  background-color: currentColor;\n  border-radius: 5px 0 0 5px;\n}\n\n.mobile-solid.icon:after {\n  content: '';\n  position: absolute;\n  bottom: -3px;\n  left: 5px;\n  height: 2px;\n  width: 2px;\n  border-radius: 50%;\n  color: white;\n  background-color: currentColor;\n}\n\n.mail.icon {\n  color: #000;\n  position: absolute;\n  margin-left: 0px;\n  margin-top: 2px;\n  width: 17px;\n  height: 10px;\n  border-radius: 1px;\n  border: solid 1px currentColor;\n}\n\n.mail.icon:before {\n  content: '';\n  position: absolute;\n  left: 7px;\n  top: -4px;\n  width: 1px;\n  height: 10px;\n  background-color: currentColor;\n  -webkit-transform-origin: bottom;\n          transform-origin: bottom;\n  -webkit-transform: rotate(-54deg);\n          transform: rotate(-54deg);\n}\n\n.mail.icon:after {\n  content: '';\n  position: absolute;\n  left: 7px;\n  top: -4px;\n  width: 1px;\n  height: 10px;\n  background-color: currentColor;\n  -webkit-transform-origin: bottom;\n          transform-origin: bottom;\n  -webkit-transform: rotate(54deg);\n          transform: rotate(54deg);\n}\n\n</style>\n"},ef8c:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-autocomplete",{class:e.appliedClass,attrs:{items:e.itemsSorted,loading:e.isLoading,"search-input":e.search,multiple:e.multiple,label:e.label,error:e.errorMessages.length>0,"error-messages":e.errorMessages,disabled:e.disabled,"prepend-inner-icon":e.prependInnerIcon,clearable:e.clearable&&!e.readonly,readonly:!!e.readonly,"hide-details":e.hideDetails,"data-cy":"input-user-autocomplete-"+e.dataCyVariable,placeholder:e.placeholder,"hide-selected":"","hide-no-data":"","item-text":"full_name","item-value":"id"},on:{"update:searchInput":function(t){e.search=t},"update:search-input":function(t){e.search=t},blur:function(t){return e.$emit("blur")}},scopedSlots:e._u([{key:"selection",fn:function(t){return[a("v-chip",{attrs:{"input-value":t.selected,close:(e.clearable||!e.clearable&&!e.multiple)&&!e.readonly,small:""},on:{"click:close":function(a){return e.remove(t.item)}}},[a("v-avatar",{attrs:{left:""}},[a("v-img",{attrs:{src:t.item.profile_picture,cover:""}})],1),e._v(" "+e._s(e._f("truncate")(t.item.full_name,e.truncate))+" ")],1)]}},{key:"item",fn:function(t){var n=t.item;return[a("v-list-item-avatar",[a("v-avatar",{attrs:{size:"30"}},[a("v-img",{attrs:{src:n.profile_picture,cover:""}})],1)],1),a("v-list-item-content",[a("v-list-item-title",[e._v(" "+e._s(e._f("truncate")(n.full_name,20))+" "),n.employee_code?a("span",[e._v("("+e._s(n.employee_code)+")")]):e._e()]),n.division?a("v-list-item-subtitle",{domProps:{textContent:e._s(n.division)}}):e._e()],1)]}}]),model:{value:e.selectedData,callback:function(t){e.selectedData=t},expression:"selectedData"}})],1)},i=[],r=a("53ca"),o=(a("a9e3"),a("ac1f"),a("841c"),a("4e827"),a("2ca0"),a("d81d"),a("a434"),a("d3b7"),a("159b"),a("7db0"),a("4de4"),a("caad"),a("2532"),a("fab2")),s=a("63ea"),l=a.n(s),d={props:{value:{type:[Number,String,Array,Object],required:!1,default:function(){return null}},dataCyVariable:{type:String,default:""},userObject:{type:[Object,Array],required:!1,default:function(){return{}}},params:{type:[Object,Array],required:!1,default:function(){return{}}},multiple:{type:Boolean,required:!1,default:!1},disabled:{type:Boolean,required:!1,default:!1},errorMessages:{type:[String,Array],default:function(){return[]}},label:{type:String,default:"Select Employee"},prependInnerIcon:{type:String,default:"mdi-account-plus-outline"},itemsToExclude:{type:[Array,Number],default:null},itemsToInclude:{type:[Array,Number],default:null},clearable:{type:Boolean,default:!0},readonly:{type:Boolean,default:!1},hideDetails:{type:Boolean,default:!1},appliedClass:{type:String,default:""},truncate:{type:Number,default:10},placeholder:{type:String,default:""}},data:function(){return{isLoading:!1,items:[],allUsers:[],selectedData:null,search:null}},computed:{itemsSorted:function(){return this.sortBySearch(this.items,this.search?this.search.toLowerCase():"")}},watch:{value:{handler:function(e,t){!e&&t&&(this.selectedData="",this.populateInitialUsers()),!t&&e&&this.populateInitialUsers()},immediate:!0},search:function(e){!e||this.items.length>0||this.fetchUsers()},selectedData:function(e){this.search="",this.syncUserData(e),this.$emit("input",e)},itemsToExclude:function(){this.items=this.excludeRecord(this.allUsers)},itemsToInclude:function(){this.items=this.includeRecord(this.allUsers)},params:{handler:function(e,t){l()(e,t)||this.fetchUsers()},deep:!0}},methods:{sortBySearch:function(e,t){return e.sort((function(e,a){return e.full_name.toLowerCase().startsWith(t)&&a.full_name.toLowerCase().startsWith(t)?e.full_name.toLowerCase().localeCompare(a.full_name.toLowerCase()):e.full_name.toLowerCase().startsWith(t)?-1:a.full_name.toLowerCase().startsWith(t)?1:e.full_name.toLowerCase().localeCompare(a.full_name.toLowerCase())}))},populateInitialUsers:function(){this.fetchUsers(this.value),Array.isArray(this.value)?"object"===Object(r["a"])(this.value[0])?this.selectedData=this.value.map((function(e){return e.user.id})):this.selectedData=this.value:null===this.value?this.selectedData="":"object"===Object(r["a"])(this.value)?this.selectedData=this.value.id:this.selectedData=this.value,this.$emit("input",this.selectedData)},remove:function(e){if(this.selectedData instanceof Object){var t=this.selectedData.indexOf(e.id);t>=0&&this.selectedData.splice(t,1),this.$emit("remove",e)}else this.selectedData=""},fetchUsers:function(e){var t=this;this.isLoading||(this.isLoading=!0,this.$http.get(o["a"].autocomplete,{params:this.params}).then((function(a){t.allUsers=a,t.itemsToExclude&&(a=t.excludeRecord(a)),t.itemsToInclude&&(a=t.includeRecord(a)),t.items=a,e&&t.syncUserData(e)})).finally((function(){return t.isLoading=!1})))},syncUserData:function(e){var t=this;if(e instanceof Array){var a=[];e.forEach((function(e){a.unshift(t.items.find((function(t){return t.id===e})))})),this.$emit("update:userObject",a)}else{var n=this.items.find((function(t){return t.id===e}));this.$emit("update:userObject",n)}},excludeRecord:function(e){var t=[];return"number"===typeof this.itemsToExclude?t.push(this.itemsToExclude):t=this.itemsToExclude,e.filter((function(e){return!t.includes(e.id)}))},includeRecord:function(e){var t=this;return e.filter((function(e){return t.itemsToInclude.includes(e.id)}))}}},c=d,u=a("2877"),p=a("6544"),m=a.n(p),f=a("c6a6"),h=a("8212"),g=a("cc20"),v=a("adda"),b=a("8270"),y=a("5d23"),x=Object(u["a"])(c,n,i,!1,null,null,null);t["default"]=x.exports;m()(x,{VAutocomplete:f["a"],VAvatar:h["a"],VChip:g["a"],VImg:v["a"],VListItemAvatar:b["a"],VListItemContent:y["a"],VListItemSubtitle:y["b"],VListItemTitle:y["c"]})},f1d0:function(e,t,a){"use strict";t["a"]={getOrganizationList:"/org/",getOrganization:function(e){return"/org/".concat(e,"/")},updateOrganization:function(e){return"/org/".concat(e,"/")},getOrgEmployeeData:function(e){return"/org/".concat(e,"/employee-data/")}}},f82f:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-text-field",{class:e.appliedClass,attrs:{id:e.id,label:e.label,"data-cy":"input-file-upload",error:e.errorMessages.length>0,"error-messages":e.errorMessages,"hide-details":e.hideDetails,hint:e.hint,"persistent-hint":!!e.hint,disabled:e.disabled,readonly:"","prepend-inner-icon":"mdi-attachment","append-icon":"mdi-close"},on:{"click:prepend":e.pickFile,"click:append":function(t){return e.clear()},click:e.pickFile,blur:function(t){return e.$emit("blur")}},model:{value:e.fileName,callback:function(t){e.fileName=t},expression:"fileName"}}),a("input",{ref:"upload",staticClass:"d-none",attrs:{id:"fileUpload",type:"file",multiple:"multiple"},on:{change:e.upload}})],1)},i=[],r=a("1da1"),o=a("5530"),s=(a("96cf"),a("a9e3"),a("ac1f"),a("1276"),a("b0c0"),a("2f62")),l={props:{value:{type:[String,File,Object],default:void 0},default:{type:[String,File],default:void 0},text:{type:String,default:void 0},id:{type:String,default:""},label:{type:String,default:"Browse file from here"},hint:{type:String,default:void 0},errorMessages:{type:[String,Array],default:function(){return[]}},hideDetails:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},appliedClass:{type:String,default:""},returnObject:{type:Boolean,default:!1},maxSize:{type:Number,default:5}},data:function(){return{fileName:null}},watch:{default:{handler:function(e){!e||e instanceof File||(this.fileName=e)},immediate:!0},value:function(e){e||(this.fileName=""),document.getElementById("fileUpload").value=null}},methods:Object(o["a"])(Object(o["a"])({},Object(s["d"])({setSnackBar:"common/setSnackBar"})),{},{pickFile:function(){this.$refs.upload.click()},upload:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var n,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:n=new FileReader,n.readAsDataURL(e.target.files[0]),i="",1===e.target.files[0].name.split(".").length?i="Please upload known file type.":e.target.files[0].size>1024*t.maxSize*1024?i="File size cannot be greater than ".concat(t.maxSize,"MB."):"svg"===e.target.files[0].name.split(".").pop()&&(i="SVG image not allowed here."),i?t.setSnackBar({text:i,color:"red"}):n.onload=function(){t.returnObject?t.$emit("input",{file_name:e.target.files[0].name,file_content:e.target.files[0]}):t.$emit("input",e.target.files[0]),t.$emit("blur"),t.$emit("update",n.result),t.fileName=e.target.files[0].name};case 5:case"end":return a.stop()}}),a)})))()},clear:function(){this.fileName=null,this.returnObject?this.$emit("input",{file_name:"",file_content:""}):this.$emit("input",this.fileName)}})},d=l,c=a("2877"),u=a("6544"),p=a.n(u),m=a("8654"),f=Object(c["a"])(d,n,i,!1,null,null,null);t["a"]=f.exports;p()(f,{VTextField:m["a"]})},fab2:function(e,t,a){"use strict";t["a"]={getUserList:"/users/",postUser:"/users/",autocomplete:"/users/autocomplete/",postImportUser:"/users/import/",downloadUserImportSample:function(e){return"/users/import/sample/?organization=".concat(e)},getUserDetail:function(e){return"/users/".concat(e,"/")},getInternalUserDetail:function(e){return"/users/".concat(e,"/internal-detail")},deleteUser:function(e){return"/users/".concat(e,"/")},updateUser:function(e){return"/users/".concat(e,"/")},changePassword:function(e){return"/users/".concat(e,"/change-password/")},getUserCV:function(e){return"/users/".concat(e,"/cv/")},getProfileCompleteness:function(e){return"users/".concat(e,"/profile-completeness/")}}},fcb3:function(e,t,a){"use strict";t["a"]={getSamples:function(){return"/commons/id-card-samples/"},deleteSample:function(e){return"/commons/id-card-samples/".concat(e,"/")}}}}]);