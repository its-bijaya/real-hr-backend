(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages/admin/_slug/form/response.vue","chunk-26c51c79","chunk-31f8a6e6","/pages/admin/_slug/recruitment/application-list~/pages/anonymous-form/org/_orgSlug/_uuid/index~/page~a30d2bc0","chunk-2d0c8a11","chunk-2d2259e9","pages/admin/_slug/hris/settings/resignation-approval~pages/admin/_slug/leave/settings/approval-setti~7b7dc217","chunk-6441e173","chunk-aee42bec","chunk-2d2160c2","/pages/user/organization/forms/request/list~pages/user/organization/forms/index","chunk-2d2160c2","chunk-2d0e6279","chunk-0af1276e","chunk-63ffea66","chunk-da62e0c8","chunk-2d22d378","chunk-2d213000","chunk-2d0d6ae8","chunk-2d2160c2","chunk-2d2160c2","chunk-2d2160c2"],{"03df":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card-title",{staticClass:"pa-0"},[e.exportGeneration.created_on?e.exportGeneration.url?n("span",[n("div",{staticClass:"grey--text text-caption",domProps:{textContent:e._s("Last Report was generated on")}}),n("div",{staticClass:"text-caption"},[e._v(" "+e._s(e.getGeneratedDate(e.exportGeneration.created_on))+" ")])]):e._e():n("span",{staticClass:"grey--text text-caption mr-2",domProps:{textContent:e._s("Report has not been generated yet")}}),n("v-btn",{staticClass:"mx-1",attrs:{small:"",depressed:"",color:"primary"},domProps:{textContent:e._s(e.exportGeneration.created_on?"Generate Again":e.buttonText)},on:{click:e.exportTasks}}),e.exportGeneration.url?n("v-btn",{attrs:{small:"",depressed:"",color:"primary"},domProps:{textContent:e._s("Download")},on:{click:e.downloadTask}}):e._e(),n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{icon:""},on:{click:e.verifyExportGeneration}},a),[n("v-icon",{attrs:{color:"primary"},domProps:{textContent:e._s("mdi-cloud-sync")}})],1)]}}])},[n("span",[e._v("Refresh to see if report is generated.")])])],1)},i=[],s=n("5530"),r=(n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),n("a9e3"),n("fb6a"),n("63ea")),o=n.n(r),l=n("2f62"),c={props:{exportUrl:{type:String,required:!0},filters:{type:[Object,URLSearchParams],required:!0},triggerChange:{type:Object,required:!1,default:function(){return{}}},buttonText:{type:String,default:"Generate Now"}},data:function(){return{exportGeneration:{url:null,created_on:""},exportGenerated:!1,useNepaliDate:localStorage.useNepaliDate}},watch:{triggerChange:{handler:function(e,t){o()(e,t)||this.verifyExportGeneration()},deep:!0},"$route.query.export":{handler:function(e){e&&this.verifyExportGeneration()},immediate:!0}},created:function(){this.verifyExportGeneration()},methods:Object(s["a"])(Object(s["a"])({},Object(l["d"])({setSnackBar:"common/setSnackBar"})),{},{verifyExportGeneration:function(){var e=this,t={};if(this.filters instanceof URLSearchParams){var n=this.filters;n.delete("offset"),n.delete("limit"),t="?"+n}else t=this.convertToURLSearchParams(this.filters);this.$http.get(this.exportUrl+t).then((function(t){e.exportGeneration=t}))},exportTasks:function(){var e=this,t={};if(this.filters instanceof URLSearchParams){var n=this.filters;n.delete("offset"),n.delete("limit"),t="?"+n}else t=this.convertToURLSearchParams(this.filters);var a=this.exportUrl+t;this.$http.post(a).then(this.setSnackBar({text:"A new export will be generated soon",color:"green"})).catch((function(t){e.setSnackBar({text:t.response.data[0],color:"danger"})}))},downloadTask:function(){window.open(this.exportGeneration.url)},getGeneratedDate:function(e){var t=this.$dayjs(e).calendar(),n=Number(t.slice(0,2));return"true"===this.useNepaliDate&&n?this.$dayjs(this.ad2bs(t)).format("DD/MM/YYYY"):t}})},u=c,d=n("2877"),p=n("6544"),m=n.n(p),f=n("8336"),h=n("99d9"),v=n("132d"),g=n("3a2f"),y=Object(d["a"])(u,a,i,!1,null,null,null);t["a"]=y.exports;m()(y,{VBtn:f["a"],VCardTitle:h["d"],VIcon:v["a"],VTooltip:g["a"]})},"03e7":function(e,t,n){"use strict";n("7183")},"04a5":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("vue-card-title",{attrs:{title:"Remarks History",subtitle:"Here you can view the remarks history",icon:"mdi-history",dark:"",closable:""},on:{close:function(t){return e.$emit("close")}}}),n("v-divider"),e.loading?n("default-svg-loader"):n("div",{staticClass:"scrollbar-md"},[n("v-data-table",{attrs:{headers:e.headers,items:e.remarksHistoryData,"footer-props":e.footerProps,"mobile-breakpoint":0,"hide-default-footer":"","must-sort":"",dense:""},scopedSlots:e._u([{key:"item",fn:function(t){return[n("tr",[n("td",[n("vue-user",{attrs:{user:t.item.created_by||t.item.approver}})],1),["offboarding","change-type"].includes(e.formType)?n("td",{staticClass:"text-capitalize"},["hold"===t.item.status||"stopped"===t.item.status?n("div",[e._v(" "+e._s(t.item.status)+" ")]):n("div",[e._v("resume")])]):n("td",{staticClass:"text-capitalize"},[e._v(" "+e._s(t.item.status||t.item.action)+" ")]),n("td",[n("div",[e._v(" "+e._s(e._f("dayjs")(t.item.created_at,"YYYY-MM-DD"))+" ")]),n("div",{staticClass:"grey--text"},[e._v(" "+e._s(e._f("dayjs")(t.item.created_at,"hh:mm A"))+" ")])]),n("td",[e._v(" "+e._s(t.item.remarks)+" ")])])]}}])},[n("template",{slot:"no-data"},[n("data-table-no-data",{attrs:{loading:e.loading}})],1)],2)],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{staticClass:"primary",attrs:{small:""},domProps:{textContent:e._s("Close")},on:{click:function(t){return e.$emit("close")}}})],1)],1)},i=[],s=n("53ca"),r=n("8cd3"),o=n("02cb"),l=n("a51f"),c=n("c197"),u={components:{DefaultSvgLoader:c["default"],DataTableNoData:l["default"],VueUser:o["default"]},mixins:[r["a"]],props:{endpoint:{type:String,default:""},historyData:{type:Array,default:function(){return[]}},formType:{type:String,default:""}},data:function(){return{headers:[{text:"Employee Name",value:"employee_name"},{text:"Status",sortable:!1},{text:"Date/ Time",sortable:!1},{text:"Remarks",sortable:!1,width:"50%"}],loading:!1,loadTableOnInit:!1,remarksHistoryData:this.deepCopy(this.historyData)}},watch:{response:function(e){"object"===Object(s["a"])(e)&&null!==e?this.remarksHistoryData=e:this.remarksHistoryData=[]},immediate:!0},created:function(){this.endpoint&&this.fetchDataTable(this.endpoint)}},d=u,p=n("2877"),m=n("6544"),f=n.n(m),h=n("8336"),v=n("b0af"),g=n("99d9"),y=n("8fea"),b=n("ce7e"),_=n("2fa4"),x=Object(p["a"])(d,a,i,!1,null,null,null);t["a"]=x.exports;f()(x,{VBtn:h["a"],VCard:v["a"],VCardActions:g["a"],VDataTable:y["a"],VDivider:b["a"],VSpacer:_["a"]})},"0549":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-row",{staticClass:"mb-3",attrs:{"no-gutters":""}},[e.breadCrumbs?n("v-col",{attrs:{cols:"12"}},[n("v-card",{attrs:{flat:""}},[n("v-breadcrumbs",{staticClass:"text-body-1 pa-2",class:{"text-caption pa-1":e.$vuetify.breakpoint.xs},attrs:{items:e.breadCrumbs},scopedSlots:e._u([{key:"item",fn:function(t){return[n("span",{class:t.item.disabled?"grey--text":"baseColor--text text--accent-2 pointer",domProps:{textContent:e._s(t.item.text)},on:{click:function(n){return e.$router.push(t.item.to)}}})]}}],null,!1,1670153796)},[n("v-icon",{attrs:{slot:"divider"},slot:"divider"},[e._v("mdi-chevron-right")])],1)],1)],1):e._e()],1),n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"12"}},[e._t("default")],2)],1)],1)},i=[],s=n("5530"),r=(n("ac1f"),n("1276"),n("b0c0"),n("2f62")),o={props:{title:{type:String,required:!0},breadCrumbs:{type:Array,default:function(){return[]}}},computed:Object(s["a"])({},Object(r["c"])({getOrganizationName:"organization/getOrganizationName",getSupervisorSwitchedOrganization:"supervisor/getSwitchedOrganization"})),mounted:function(){document.title="".concat(this.title," | RealHRsoft");var e=this.$route.params.slug?"admin-slug-dashboard":"root",t=this.$route.name.split("-"),n=this.getOrganizationName;this.getSupervisorSwitchedOrganization&&"user"===t[0]&&"supervisor"===t[1]&&(n=this.getSupervisorSwitchedOrganization.name),this.breadCrumbs.unshift({text:n,disabled:!1,to:{name:e,params:{slug:this.$route.params.slug}}})}},l=o,c=n("2877"),u=n("6544"),d=n.n(u),p=n("2bc5"),m=n("b0af"),f=n("62ad"),h=n("132d"),v=n("0fd9b"),g=Object(c["a"])(l,a,i,!1,null,null,null);t["default"]=g.exports;d()(g,{VBreadcrumbs:p["a"],VCard:m["a"],VCol:f["a"],VIcon:h["a"],VRow:v["a"]})},"0798":function(e,t,n){"use strict";var a=n("5530"),i=n("ade3"),s=(n("caad"),n("0c18"),n("10d2")),r=n("afdd"),o=n("9d26"),l=n("f2e7"),c=n("7560"),u=n("f40d"),d=n("58df"),p=n("d9bd");t["a"]=Object(d["a"])(s["a"],l["a"],u["a"]).extend({name:"v-alert",props:{border:{type:String,validator:function(e){return["top","right","bottom","left"].includes(e)}},closeLabel:{type:String,default:"$vuetify.close"},coloredBorder:Boolean,dense:Boolean,dismissible:Boolean,closeIcon:{type:String,default:"$cancel"},icon:{default:"",type:[Boolean,String],validator:function(e){return"string"===typeof e||!1===e}},outlined:Boolean,prominent:Boolean,text:Boolean,type:{type:String,validator:function(e){return["info","error","success","warning"].includes(e)}},value:{type:Boolean,default:!0}},computed:{__cachedBorder:function(){if(!this.border)return null;var e={staticClass:"v-alert__border",class:Object(i["a"])({},"v-alert__border--".concat(this.border),!0)};return this.coloredBorder&&(e=this.setBackgroundColor(this.computedColor,e),e.class["v-alert__border--has-color"]=!0),this.$createElement("div",e)},__cachedDismissible:function(){var e=this;if(!this.dismissible)return null;var t=this.iconColor;return this.$createElement(r["a"],{staticClass:"v-alert__dismissible",props:{color:t,icon:!0,small:!0},attrs:{"aria-label":this.$vuetify.lang.t(this.closeLabel)},on:{click:function(){return e.isActive=!1}}},[this.$createElement(o["a"],{props:{color:t}},this.closeIcon)])},__cachedIcon:function(){return this.computedIcon?this.$createElement(o["a"],{staticClass:"v-alert__icon",props:{color:this.iconColor}},this.computedIcon):null},classes:function(){var e=Object(a["a"])(Object(a["a"])({},s["a"].options.computed.classes.call(this)),{},{"v-alert--border":Boolean(this.border),"v-alert--dense":this.dense,"v-alert--outlined":this.outlined,"v-alert--prominent":this.prominent,"v-alert--text":this.text});return this.border&&(e["v-alert--border-".concat(this.border)]=!0),e},computedColor:function(){return this.color||this.type},computedIcon:function(){return!1!==this.icon&&("string"===typeof this.icon&&this.icon?this.icon:!!["error","info","success","warning"].includes(this.type)&&"$".concat(this.type))},hasColoredIcon:function(){return this.hasText||Boolean(this.border)&&this.coloredBorder},hasText:function(){return this.text||this.outlined},iconColor:function(){return this.hasColoredIcon?this.computedColor:void 0},isDark:function(){return!(!this.type||this.coloredBorder||this.outlined)||c["a"].options.computed.isDark.call(this)}},created:function(){this.$attrs.hasOwnProperty("outline")&&Object(p["a"])("outline","outlined",this)},methods:{genWrapper:function(){var e=[this.$slots.prepend||this.__cachedIcon,this.genContent(),this.__cachedBorder,this.$slots.append,this.$scopedSlots.close?this.$scopedSlots.close({toggle:this.toggle}):this.__cachedDismissible],t={staticClass:"v-alert__wrapper"};return this.$createElement("div",t,e)},genContent:function(){return this.$createElement("div",{staticClass:"v-alert__content"},this.$slots.default)},genAlert:function(){var e={staticClass:"v-alert",attrs:{role:"alert"},on:this.listeners$,class:this.classes,style:this.styles,directives:[{name:"show",value:this.isActive}]};if(!this.coloredBorder){var t=this.hasText?this.setTextColor:this.setBackgroundColor;e=t(this.computedColor,e)}return this.$createElement("div",e,[this.genWrapper()])},toggle:function(){this.isActive=!this.isActive}},render:function(e){var t=this.genAlert();return this.transition?e("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},[t]):t}})},"0c18":function(e,t,n){},1229:function(e,t,n){"use strict";n("99af");t["a"]={getDivision:function(e){return"/org/".concat(e,"/division/")},postDivision:function(e){return"/org/".concat(e,"/division/")},getDivisionDetails:function(e,t){return"/org/".concat(e,"/division/").concat(t,"/")},putDivision:function(e,t){return"/org/".concat(e,"/division/").concat(t,"/")},deleteDivision:function(e,t){return"/org/".concat(e,"/division/").concat(t,"/")},importDivision:function(e){return"/org/".concat(e,"/division/import/")},downloadSampleDivision:function(e){return"/org/".concat(e,"/division/import/sample")}}},"1d4d":function(e,t,n){"use strict";n("a9e3"),n("c96a"),n("d81d"),n("696f");var a=n("9d26"),i=n("a9ad"),s=n("16b7"),r=n("af2b"),o=n("5311"),l=n("7560"),c=n("80d2"),u=n("58df");t["a"]=Object(u["a"])(i["a"],s["a"],o["a"],r["a"],l["a"]).extend({name:"v-rating",props:{backgroundColor:{type:String,default:"accent"},color:{type:String,default:"primary"},clearable:Boolean,dense:Boolean,emptyIcon:{type:String,default:"$ratingEmpty"},fullIcon:{type:String,default:"$ratingFull"},halfIcon:{type:String,default:"$ratingHalf"},halfIncrements:Boolean,hover:Boolean,length:{type:[Number,String],default:5},readonly:Boolean,size:[Number,String],value:{type:Number,default:0},iconLabel:{type:String,default:"$vuetify.rating.ariaLabel.icon"}},data:function(){return{hoverIndex:-1,internalValue:this.value}},computed:{directives:function(){return this.readonly||!this.ripple?[]:[{name:"ripple",value:{circle:!0}}]},iconProps:function(){var e=this.$props,t=e.dark,n=e.large,a=e.light,i=e.medium,s=e.small,r=e.size,o=e.xLarge,l=e.xSmall;return{dark:t,large:n,light:a,medium:i,size:r,small:s,xLarge:o,xSmall:l}},isHovering:function(){return this.hover&&this.hoverIndex>=0}},watch:{internalValue:function(e){e!==this.value&&this.$emit("input",e)},value:function(e){this.internalValue=e}},methods:{createClickFn:function(e){var t=this;return function(n){if(!t.readonly){var a=t.genHoverIndex(n,e);t.clearable&&t.internalValue===a?t.internalValue=0:t.internalValue=a}}},createProps:function(e){var t={index:e,value:this.internalValue,click:this.createClickFn(e),isFilled:Math.floor(this.internalValue)>e,isHovered:Math.floor(this.hoverIndex)>e};return this.halfIncrements&&(t.isHalfHovered=!t.isHovered&&(this.hoverIndex-e)%1>0,t.isHalfFilled=!t.isFilled&&(this.internalValue-e)%1>0),t},genHoverIndex:function(e,t){var n=this.isHalfEvent(e);return this.halfIncrements&&this.$vuetify.rtl&&(n=!n),t+(n?.5:1)},getIconName:function(e){var t=this.isHovering?e.isHovered:e.isFilled,n=this.isHovering?e.isHalfHovered:e.isHalfFilled;return t?this.fullIcon:n?this.halfIcon:this.emptyIcon},getColor:function(e){if(this.isHovering){if(e.isHovered||e.isHalfHovered)return this.color}else if(e.isFilled||e.isHalfFilled)return this.color;return this.backgroundColor},isHalfEvent:function(e){if(this.halfIncrements){var t=e.target&&e.target.getBoundingClientRect();if(t&&e.pageX-t.left<t.width/2)return!0}return!1},onMouseEnter:function(e,t){var n=this;this.runDelay("open",(function(){n.hoverIndex=n.genHoverIndex(e,t)}))},onMouseLeave:function(){var e=this;this.runDelay("close",(function(){return e.hoverIndex=-1}))},genItem:function(e){var t=this,n=this.createProps(e);if(this.$scopedSlots.item)return this.$scopedSlots.item(n);var i={click:n.click};return this.hover&&(i.mouseenter=function(n){return t.onMouseEnter(n,e)},i.mouseleave=this.onMouseLeave,this.halfIncrements&&(i.mousemove=function(n){return t.onMouseEnter(n,e)})),this.$createElement(a["a"],this.setTextColor(this.getColor(n),{attrs:{tabindex:-1,"aria-label":this.$vuetify.lang.t(this.iconLabel,e+1,Number(this.length))},directives:this.directives,props:this.iconProps,on:i}),[this.getIconName(n)])}},render:function(e){var t=this,n=Object(c["h"])(Number(this.length)).map((function(e){return t.genItem(e)}));return e("div",{staticClass:"v-rating",class:{"v-rating--readonly":this.readonly,"v-rating--dense":this.dense}},n)}})},"1f04":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return l}));var a=n("1da1");n("d3b7"),n("3ca3"),n("ddb0"),n("96cf");function i(e){return s.apply(this,arguments)}function s(){return s=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r(t);case 2:return n=e.sent,e.next=5,l([n]);case 5:return a=e.sent,e.abrupt("return",a[0]);case 7:case"end":return e.stop()}}),e)}))),s.apply(this,arguments)}function r(e){return o.apply(this,arguments)}function o(){return o=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.next=5,n.blob();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)}))),o.apply(this,arguments)}function l(e){return c.apply(this,arguments)}function c(){return c=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(n=function(e){var t=new FileReader;return new Promise((function(n){t.readAsDataURL(e),t.onloadend=function(){n(t.result)}}))},a=[],i=0;i<t.length;i++)a.push(n(t[i]));return e.next=5,Promise.all(a);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)}))),c.apply(this,arguments)}},"1f09":function(e,t,n){},"1fca":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return l}));var a=n("30ef"),i=n.n(a);function s(e,t){return{render:function(e){return e("div",{style:this.styles,class:this.cssClasses},[e("canvas",{attrs:{id:this.chartId,width:this.width,height:this.height},ref:"canvas"})])},props:{chartId:{default:e,type:String},width:{default:400,type:Number},height:{default:400,type:Number},cssClasses:{type:String,default:""},styles:{type:Object},plugins:{type:Array,default:function(){return[]}}},data:function(){return{_chart:null,_plugins:this.plugins}},methods:{addPlugin:function(e){this.$data._plugins.push(e)},generateLegend:function(){if(this.$data._chart)return this.$data._chart.generateLegend()},renderChart:function(e,n){if(this.$data._chart&&this.$data._chart.destroy(),!this.$refs.canvas)throw new Error("Please remove the <template></template> tags from your chart component. See https://vue-chartjs.org/guide/#vue-single-file-components");this.$data._chart=new i.a(this.$refs.canvas.getContext("2d"),{type:t,data:e,options:n,plugins:this.$data._plugins})}},beforeDestroy:function(){this.$data._chart&&this.$data._chart.destroy()}}}var r=s("bar-chart","bar"),o=s("horizontalbar-chart","horizontalBar"),l=s("doughnut-chart","doughnut");s("line-chart","line"),s("pie-chart","pie"),s("polar-chart","polarArea"),s("radar-chart","radar"),s("bubble-chart","bubble"),s("scatter-chart","scatter")},2232:function(e,t,n){"use strict";n("4df0")},"249b":function(e,t,n){"use strict";n("99af");t["a"]={getForms:function(e){return"/forms/".concat(e,"/")},postForms:function(e){return"/forms/".concat(e,"/")},getFormDetail:function(e,t){return"/forms/".concat(e,"/").concat(t,"/")},updatedForms:function(e,t){return"/forms/".concat(e,"/").concat(t,"/")},deleteForms:function(e,t){return"/forms/".concat(e,"/").concat(t,"/")},formApprovalSetting:function(e,t){return"/forms/".concat(e,"/").concat(t,"/approval-setting/")},assignUserToForm:function(e,t){return"/forms/".concat(e,"/").concat(t,"/assignment/")},assignedUsers:function(e,t){return"/forms/".concat(e,"/").concat(t,"/assigned-users/")},submitForm:function(e,t){return"/forms/".concat(e,"/").concat(t,"/submit/")},getFormResponse:function(e){return"/forms/".concat(e,"/answer-sheets/")},getFormResponseDetail:function(e,t){return"/forms/".concat(e,"/answer-sheets/").concat(t,"/")},postFormResponseDetail:function(e,t){return"/forms/".concat(e,"/answer-sheets/").concat(t,"/")},approveDenyFormResponse:function(e,t){return"/forms/".concat(e,"/answer-sheets/").concat(t,"/take-action/")},getAnonymousFormResponse:function(e){return"/forms/".concat(e,"/anonymous-answer-sheets/")},getAnonymousFormResponseDetail:function(e,t){return"/forms/".concat(e,"/anonymous-answer-sheets/").concat(t,"/")},getFormReport:function(e,t){return"forms/".concat(e,"/").concat(t,"/summary-report")},getFormReportList:function(e,t,n){return"forms/".concat(e,"/").concat(t,"/summary-report/list-response/").concat(n,"/")},getFormReportAggregateForDateTime:function(e,t,n){return"forms/".concat(e,"/").concat(t,"/summary-report/list-aggregated-response/").concat(n,"/")},getFormReportAnsweredUser:function(e,t,n){return"/forms/".concat(e,"/").concat(t,"/summary-report/get-users/").concat(n)},getAnonymousFormReport:function(e,t){return"/forms/".concat(e,"/anonymous-form/").concat(t,"/summary-report/")},getAnonymousFormReportList:function(e,t,n){return"forms/".concat(e,"/anonymous-form/").concat(t,"/summary-report/list-response/").concat(n,"/")},getAnonymousFormReportAggregateForDateTime:function(e,t,n){return"forms/".concat(e,"/anonymous-form/").concat(t,"/summary-report/list-aggregated-response/").concat(n,"/")},exportFormReport:function(e,t){return"/forms/".concat(e,"/").concat(t,"/summary-report/export")}}},"2bc5":function(e,t,n){"use strict";var a=n("5530"),i=(n("a15b"),n("abd3"),n("ade3")),s=n("1c87"),r=n("58df"),o=Object(r["a"])(s["a"]).extend({name:"v-breadcrumbs-item",props:{activeClass:{type:String,default:"v-breadcrumbs__item--disabled"},ripple:{type:[Boolean,Object],default:!1}},computed:{classes:function(){return Object(i["a"])({"v-breadcrumbs__item":!0},this.activeClass,this.disabled)}},render:function(e){var t=this.generateRouteLink(),n=t.tag,i=t.data;return e("li",[e(n,Object(a["a"])(Object(a["a"])({},i),{},{attrs:Object(a["a"])(Object(a["a"])({},i.attrs),{},{"aria-current":this.isActive&&this.isLink?"page":void 0})}),this.$slots.default)])}}),l=n("80d2"),c=Object(l["i"])("v-breadcrumbs__divider","li"),u=n("7560");t["a"]=Object(r["a"])(u["a"]).extend({name:"v-breadcrumbs",props:{divider:{type:String,default:"/"},items:{type:Array,default:function(){return[]}},large:Boolean},computed:{classes:function(){return Object(a["a"])({"v-breadcrumbs--large":this.large},this.themeClasses)}},methods:{genDivider:function(){return this.$createElement(c,this.$slots.divider?this.$slots.divider:this.divider)},genItems:function(){for(var e=[],t=!!this.$scopedSlots.item,n=[],a=0;a<this.items.length;a++){var i=this.items[a];n.push(i.text),t?e.push(this.$scopedSlots.item({item:i})):e.push(this.$createElement(o,{key:n.join("."),props:i},[i.text])),a<this.items.length-1&&e.push(this.genDivider())}return e}},render:function(e){var t=this.$slots.default||this.genItems();return e("ul",{staticClass:"v-breadcrumbs",class:this.classes},t)}})},"2be4":function(e,t,n){"use strict";var a,i,s=n("1fca"),r={extends:s["b"],props:{chartData:{type:Object,required:!0},responsive:{type:Boolean,default:!0},chartTitle:{type:String,default:""},displayLegend:{type:Boolean,default:!1},padding:{type:Object,default:function(){return{left:50,right:50,top:30,bottom:20}}},options:{type:Object,default:function(){return{responsive:!0,maintainAspectRatio:!1,layout:{padding:{}},animation:{animateScale:!0,animateRotate:!0},legend:{display:!1,position:"right"},title:{display:!0,text:""}}}}},mounted:function(){this.options.legend.display=this.displayLegend,this.options.responsive=this.responsive,this.options.title.text=this.chartTitle,this.options.layout.padding=this.padding,this.options.onClick=this.handle,this.renderChart(this.chartData,this.options)},methods:{handle:function(e,t){if(t&&t.length>0){var n=t[0];this.$emit("click",n._index)}}}},o=r,l=n("2877"),c=Object(l["a"])(o,a,i,!1,null,null,null);t["a"]=c.exports},"2c2a":function(e,t,n){"use strict";n("99af");t["a"]={getEmploymentLevel:function(e){return"/org/".concat(e,"/employment/level/")},postEmploymentLevel:function(e){return"/org/".concat(e,"/employment/level/")},getEmploymentLevelDetail:function(e,t){return"/org/".concat(e,"/employment/level/").concat(t,"/")},updateEmploymentLevel:function(e,t){return"/org/".concat(e,"/employment/level/").concat(t,"/")},deleteEmploymentLevel:function(e,t){return"/org/".concat(e,"/employment/level/").concat(t,"/")},importEmploymentLevel:function(e){return"/org/".concat(e,"/employment/level/import/")},downloadSampleEmploymentLevel:function(e){return"/org/".concat(e,"/employment/level/import/sample")}}},"2d16":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-card",{staticClass:"mb-2"},[n("vue-card-title",{attrs:{title:e.formTitle+" Report",subtitle:"Here you can view report of survey and forms",icon:"mdi-form-select"}},[n("template",{slot:"actions"},["Summary"===e.selectedTab?n("export-report",{attrs:{"export-url":e.exportUrl,filters:e.filter}}):e._e(),n("v-btn",{attrs:{color:"primary",small:""},on:{click:function(t){return e.$emit("show-list")}}},[e._v(" Back ")]),"Summary"===e.selectedTab?n("v-btn",{attrs:{icon:""},on:{click:function(t){e.showFilter=!e.showFilter}}},[n("v-icon",{attrs:{small:""},domProps:{textContent:e._s("mdi-filter-variant")}})],1):e._e()],1)],2),n("v-divider"),n("v-slide-y-transition",[n("v-row",{directives:[{name:"show",rawName:"v-show",value:e.showFilter&&"Summary"===e.selectedTab,expression:"showFilter && selectedTab === 'Summary'"}],staticClass:"mx-3 py-0",attrs:{align:"center"}},[e.isAnonymous?e._e():n("v-col",{attrs:{md:"3",cols:"12"}},[n("vue-auto-complete",e._b({staticClass:"px-2",attrs:{endpoint:e.branchEndpoint,"item-text":"name","item-value":"slug","prepend-inner-icon":"mdi-map-marker-outline"},model:{value:e.filter.branch,callback:function(t){e.$set(e.filter,"branch",t)},expression:"filter.branch"}},"vue-auto-complete",e.veeValidate("branches","Branch"),!1))],1),e.isAnonymous?e._e():n("v-col",{attrs:{md:"3",cols:"12"}},[n("vue-auto-complete",e._b({staticClass:"px-2",attrs:{endpoint:e.divisionEndpoint,"item-text":"name","item-value":"slug","prepend-inner-icon":"mdi-source-branch"},model:{value:e.filter.division,callback:function(t){e.$set(e.filter,"division",t)},expression:"filter.division"}},"vue-auto-complete",e.veeValidate("divisions","Division"),!1))],1),e.isAnonymous?e._e():n("v-col",{attrs:{md:"3",cols:"12"}},[n("vue-auto-complete",e._b({staticClass:"px-2",attrs:{endpoint:e.employmentLevelEndpoint,"item-text":"title","item-value":"slug","prepend-inner-icon":"mdi-family-tree"},model:{value:e.filter.employee_level,callback:function(t){e.$set(e.filter,"employee_level",t)},expression:"filter.employee_level"}},"vue-auto-complete",e.veeValidate("employee_level","Employment Level"),!1))],1),e.isAnonymous?e._e():n("v-col",{attrs:{md:"3",cols:"12"}},[n("vue-auto-complete",e._b({attrs:{endpoint:e.dutyStationEndpoint,params:{is_archived:!1},"item-text":"name","item-value":"slug","force-fetch":"","prepend-inner-icon":"mdi-office-building-marker"},model:{value:e.filter.duty_station,callback:function(t){e.$set(e.filter,"duty_station",t)},expression:"filter.duty_station"}},"vue-auto-complete",e.veeValidate("duty_station","Current Duty Station"),!1))],1),e.isAnonymous?e._e():n("v-col",{attrs:{md:"3",cols:"12"}},[n("v-autocomplete",{staticClass:"px-2",attrs:{items:e.genderChoices,clearable:"",label:"Gender","prepend-inner-icon":"mdi-human-male-girl"},model:{value:e.filter.gender,callback:function(t){e.$set(e.filter,"gender",t)},expression:"filter.gender"}})],1),e.isAnonymous?e._e():n("v-col",{attrs:{md:"3",cols:"12"}},[n("vue-auto-complete",e._b({staticClass:"px-2",attrs:{endpoint:e.jobTypeEndpoint,"item-text":"title","item-value":"slug","prepend-inner-icon":"mdi-briefcase-outline"},model:{value:e.filter.job_type,callback:function(t){e.$set(e.filter,"job_type",t)},expression:"filter.job_type"}},"vue-auto-complete",e.veeValidate("job_type","Employment Type"),!1))],1),n("v-col",{attrs:{md:"2",cols:"12"}},[n("vue-date-picker",{attrs:{label:"Filled Date"},model:{value:e.filter.form_fill_date,callback:function(t){e.$set(e.filter,"form_fill_date",t)},expression:"filter.form_fill_date"}})],1),n("v-col",{attrs:{md:"1",cols:"12"}},[n("v-btn",{attrs:{small:"",color:"primary"},on:{click:e.reloadReport}},[e._v(" Search ")])],1)],1)],1),e.showFilter?n("v-divider"):e._e(),e.showTab?n("v-tabs",{attrs:{"show-arrows":"","slider-color":"blue"},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},e._l(e.$options.tabs,(function(t){return n("v-tab",{key:t,attrs:{ripple:""},on:{change:function(n){e.selectedTab=t,e.selectedQuestion=e.reportData[0].question}}},[n("span",{staticClass:"text-capitalize mr-2",domProps:{textContent:e._s(t)}})])})),1):e._e()],1),n("div",["Question"===e.selectedTab?n("v-select",{attrs:{items:e.reportData,"item-value":"question"},on:{change:e.setSelectedIndex},scopedSlots:e._u([{key:"item",fn:function(t){var a=t.item;return[n("div",{staticClass:"inline",domProps:{innerHTML:e._s(a.question_text)}})]}},{key:"selection",fn:function(t){var a=t.item;return[n("div",{staticClass:"inline",domProps:{innerHTML:e._s(a.question_text)}})]}}],null,!1,1507730364),model:{value:e.selectedQuestion,callback:function(t){e.selectedQuestion=t},expression:"selectedQuestion"}}):e._e(),e._l(e.reportData,(function(t,a){return n("div",{key:a},["Summary"===e.selectedTab&&e.sectionInfo.find((function(e){return e.index===a}))?n("div",{staticClass:"font-weight-bold blueGrey--text py-2"},[e._v(" "+e._s(e.sectionInfo.find((function(e){return e.index===a})).name)+" ")]):e._e(),n("v-card",{staticClass:"my-2"},["Summary"===e.selectedTab||"Question"===e.selectedTab&&a===e.selectedQuestionIndex?n("v-card-text",[n("div",{staticClass:"py-2"},[n("v-row",[n("v-col",{staticClass:"py-0 blueGrey--text"},[n("div",{staticClass:"mb-2 font-weight-bold inline"},[e._v(" "+e._s(a+1)+". "),n("span",{domProps:{innerHTML:e._s(e.$sanitize(t.question_text))}}),e._v(" "+e._s(t.is_mandatory?"*":"")+" ")]),n("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[n("span",{domProps:{innerHTML:e._s(e.$sanitize(t.description))}})])],1)],1),t.answers.empty_response_count||t.answers.responses&&(!t.answers.responses||0!==t.answers.responses.length&&!["single-mcq","multiple-mcq"].includes(t.question_type)||t.answers.responses.find((function(e){return e.count>0})))?n("div",{class:{"scrollbar-xs":!["single-mcq","multiple-choice-grid","checkbox-grid","multiple-mcq","rating-scale"].includes(t.question_type)&&"Summary"===e.selectedTab}},[["short-text","long-text","date","date-time","time","duration","date-without-year","date-time-without-year","file-upload"].includes(t.question_type)?n("div",{staticClass:"pt-4"},[t.answers.empty_response_count?n("v-row",[n("v-col",{staticClass:"py-0"},[n("v-alert",{staticClass:"my-1 text-body-2 grey lighten-5 mr-4 pointer",attrs:{text:"",dense:""},on:{click:function(n){return e.showUser(!0,t)}}},[e._v(" Empty Response : "),n("v-chip",{staticClass:"ml-4 pointer",attrs:{"x-small":"",color:"primary"}},[e._v(e._s(t.answers.empty_response_count))])],1)],1)],1):e._e(),e._l(t.answers.responses,(function(a,i){return n("v-row",{key:i,attrs:{"no-gutters":"",dense:""}},[n("v-col",{staticClass:"py-0"},[n("v-alert",{staticClass:"my-1 text-body-2 grey lighten-5 mr-4 pointer",attrs:{text:"",dense:""},on:{click:function(n){return e.showUser(!1,t,i)}}},[["date","date-time","time","duration","date-without-year","date-time-without-year"].includes(t.question_type)?n("div",[e._v(" "+e._s(Array.isArray(a.answer)&&0===a.answer.length?"Empty Response":a.answer)+" "),n("v-chip",{staticClass:"ml-4 pointer",attrs:{"x-small":"",color:"primary"}},[e._v(e._s(a.count))])],1):"file-upload"===t.question_type?n("div",[n("a",{attrs:{href:a.file_url,target:"_blank"}},[e._v(" "+e._s(a.file_name)+" ")])]):n("div",[e._v(" "+e._s(a)+" ")])])],1)],1)})),["single-mcq","multiple-mcq","rating-scale"].includes(t.question_type)||!t.next||t.data_load_completed?e._e():n("infinite-loading-base",{attrs:{endpoint:t.next,distance:5,"hide-no-results":""},on:{setInfiniteResponse:function(n){return e.setInfiniteResponseForAnswer(n,t)}}})],2):e._e(),["single-mcq","multiple-mcq","rating-scale","multiple-choice-grid","checkbox-grid"].includes(t.question_type)?n("v-row",[t.answers.empty_response_count?n("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[n("v-alert",{staticClass:"my-1 text-body-2 grey lighten-5 mr-4 pointer",attrs:{text:"",dense:""},on:{click:function(n){return e.showUser(!0,t)}}},[e._v(" Empty Response : "),n("v-chip",{staticClass:"ml-4 pointer",attrs:{"x-small":"",color:"primary"}},[e._v(e._s(t.answers.empty_response_count))])],1)],1):e._e(),n("v-col",{staticClass:"py-0",attrs:{cols:"2"}}),n("v-col",{staticClass:"py-0",attrs:{cols:"8"}},["single-mcq"===t.question_type?n("div",{staticClass:"mt-n10"},[n("doughnut-chart",{attrs:{padding:{left:0,right:0,top:0,bottom:0},"display-legend":"","chart-data":e.getDoughnutData(t.answers.responses)},on:{click:function(n){return e.showUser(!1,t,n)}}})],1):e._e(),"multiple-mcq"===t.question_type?n("div",[n("horizontal-bar-chart",{attrs:{height:300,responsive:!e.$vuetify.breakpoint.mdAndUp,"chart-data":e.getBarData(t.answers.responses)},on:{click:function(n){return e.showUser(!1,t,n)}}})],1):e._e(),"rating-scale"===t.question_type?n("div",[n("bar-chart",{attrs:{"chart-data":e.getBarData(t.answers.responses)},on:{click:function(n){return e.showUser(!1,t,n)}}})],1):e._e(),"checkbox-grid"===t.question_type||"multiple-choice-grid"===t.question_type?n("div",[n("bar-chart",{attrs:{"chart-data":e.getBarGridData(t)}})],1):e._e()]),n("v-col",{staticClass:"py-0",attrs:{cols:"2"}})],1):e._e()],1):n("v-row",[n("v-col",{staticClass:"py-0"},[n("v-alert",{staticClass:"my-1 text-body-2 grey lighten-5 mr-4 pointer",attrs:{text:"",dense:""}},[e._v(" No response recorded ")])],1)],1)],1)]):e._e()],1)],1)})),e.questionEndpointInitialized?n("div",[n("infinite-loading-base",{attrs:{endpoint:e.endpoint,"hide-no-results":""},on:{setInfiniteResponse:e.setInfiniteResponseForQuestion}})],1):e._e()],2),n("user-list-dialog",{attrs:{users:e.userListForDialog,title:"Responded Users"},on:{close:function(t){e.showUsersList=!1}},model:{value:e.showUsersList,callback:function(t){e.showUsersList=t},expression:"showUsersList"}})],1)},i=[],s=n("2909"),r=(n("a9e3"),n("4de4"),n("159b"),n("7db0"),n("b0c0"),n("99af"),n("d81d"),n("b64b"),n("caad"),n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),n("c740"),n("2be4")),o=n("581f"),l=n("4da5"),c=n("9815"),u=n("cdd1"),d=n("f0d5"),p=n("983c"),m=n("f70a"),f=n("249b"),h=n("5660"),v=n("e59e"),g=n("1229"),y=n("2c2a"),b=n("741f"),_=n("03df"),x=n("6a12"),w=n("7e77"),k={components:{ExportReport:_["a"],VueDatePicker:b["default"],VueAutoComplete:h["default"],UserListDialog:c["default"],DoughnutChart:r["a"],HorizontalBarChart:o["a"],BarChart:l["a"],InfiniteLoadingBase:u["a"]},mixins:[d["a"],p["a"],m["a"]],tabs:["Summary","Question"],props:{formTitle:{type:String,required:!0},formId:{type:Number,required:!0},isAnonymous:{type:Boolean,required:!0},as:{type:String,default:""},showTab:{type:Boolean,default:!0}},data:function(){return{filter:{as:this.as,gender:"",branch:"",division:"",employee_level:"",duty_station:"",job_type:"",form_fill_date:""},genderChoices:["Female","Male","Others"],activeTab:0,selectedTab:"Summary",selectedQuestion:"",selectedQuestionIndex:0,showUsersList:!1,userListForDialog:[],reportData:[],branchEndpoint:"",divisionEndpoint:"",employmentLevelEndpoint:"",dutyStationEndpoint:"",genderEndpoint:"",jobTypeEndpoint:"",questionEndpointInitialized:!0,exportUrl:"",showFilter:!1}},computed:{endpoint:function(){var e="";return e=this.isAnonymous?f["a"].getAnonymousFormReport(this.getOrganizationSlug,this.formId):f["a"].getFormReport(this.getOrganizationSlug,this.formId),e+this.convertToURLSearchParams(this.filter)},sectionInfo:function(){var e=[];return this.reportData.forEach((function(t,n){e.find((function(e){return e.name===t.question_section}))||e.push({index:n,name:t.question_section})})),e}},watch:{"filter.form_fill_date":function(e){null===e&&(this.filter.form_fill_date="")}},created:function(){this.exportUrl=f["a"].exportFormReport(this.getOrganizationSlug,this.formId),this.initializeEndpoints()},methods:{initializeEndpoints:function(){this.branchEndpoint=v["a"].getBranch(this.getOrganizationSlug)+"?is_archived=false",this.divisionEndpoint=g["a"].getDivision(this.getOrganizationSlug)+"?is_archived=false",this.employmentLevelEndpoint=y["a"].getEmploymentLevel(this.getOrganizationSlug)+"?is_archived=false",this.jobTypeEndpoint=w["a"].getEmploymentType(this.getOrganizationSlug),this.dutyStationEndpoint=x["a"].getDutyStation+"?is_archived=false"},setInfiniteResponseForQuestion:function(e){this.reportData=this.reportData.concat(e.results)},setInfiniteResponseForAnswer:function(e,t){var n;e.next||(t.data_load_completed=!0),(n=t.answers.responses).push.apply(n,Object(s["a"])(e.results))},getDoughnutData:function(e){return{labels:e.map((function(e){return e.answer})),datasets:[{label:"",backgroundColor:["#47ADFB","#34BFA3","#F4516C","#FFB822","#455A64","#3366E6","#43A047","#FFEA00","#716ACA"],data:e.map((function(e){return e.count}))}]}},getBarData:function(e){return{labels:e.map((function(e){return e.answer})),datasets:[{label:"",backgroundColor:"#716ACA",borderColor:"#716ACA",data:e.map((function(e){return e.count})),barPercentage:.6}]}},getBarGridData:function(e){var t=e.answers.responses,n=["#47ADFB","#34BFA3","#F4516C","#FFB822","#455A64","#3366E6","#43A047","#FFEA00","#716ACA"],a=Object.keys(t),i=[],s=[],r=a.map((function(e){return Object.keys(t[e]).map((function(n){return t[e][n]}))})),o=Object.keys(r[0]).map((function(e){return r.map((function(t){return t[e]}))}));a.map((function(e){Object.keys(t[e]).map((function(e,t){if(!s.includes(e)){s.push(e);var a=function(e){return e};i.push({type:"bar",label:a(e),backgroundColor:n[t],borderColor:"#716ACA",data:o[t]})}}))}));var l=this;return{labels:a,datasets:i,extraData:{responsive:!0,legend:{display:!0,maxWidth:5,align:"start",position:"top",labels:{boxWidth:20,padding:10,textAlign:"center"},title:{padding:10}},scales:{xAxes:[{ticks:{callback:function(e){return e.length>=30?e.substr(0,30)+"...":e}}}],yAxes:[{ticks:{min:0,stepSize:1}}]},onClick:function(t){var n=this.getElementAtEvent(t)[0];void 0!=n&&l.showUserGrid(e.question,n._model.label,n._model.datasetLabel)}}}},showUser:function(e,t,n){var a=this;if(!this.isAnonymous){var i="";if(!e&&(i=t.answers.responses[n].answer||t.answers.responses[n],"file-upload"===t.question_type)){var s=new URLSearchParams(t.answers.responses[n].file_url);i=s.get("file_uuid")}var r={answers:i};this.insertData(f["a"].getFormReportAnsweredUser(this.getOrganizationSlug,this.formId,t.question)+"?branch=".concat(this.filter.branch,"&division=").concat(this.filter.division,"&employee_level=").concat(this.filter.employee_level,"&form_fill_date=").concat(this.filter.form_fill_date),r).then((function(e){a.userListForDialog=e.users,a.showUsersList=!0}))}},showUserGrid:function(e,t,n){var a=this;if(!this.isAnonymous){var i={};i["".concat(t)]=[n],this.insertData(f["a"].getFormReportAnsweredUser(this.getOrganizationSlug,this.formId,e)+"?branch=".concat(this.filter.branch,"&division=").concat(this.filter.division,"&employee_level=").concat(this.filter.employee_level,"&form_fill_date=").concat(this.filter.form_fill_date),i).then((function(e){a.userListForDialog=e.users,a.showUsersList=!0}))}},setSelectedIndex:function(e){this.selectedQuestionIndex=this.reportData.findIndex((function(t){return t.question===e}))},reloadReport:function(){var e=this;this.reportData=[],this.questionEndpointInitialized=!1,this.$nextTick((function(){e.questionEndpointInitialized=!0}))}}},S=k,C=(n("5103"),n("2877")),D=n("6544"),q=n.n(D),A=n("0798"),F=n("c6a6"),V=n("8336"),T=n("b0af"),O=n("99d9"),E=n("cc20"),L=n("62ad"),$=n("ce7e"),I=n("132d"),R=n("0fd9b"),B=n("b974"),j=n("0789"),P=n("71a3"),U=n("fe57"),N=Object(C["a"])(S,a,i,!1,null,null,null);t["a"]=N.exports;q()(N,{VAlert:A["a"],VAutocomplete:F["a"],VBtn:V["a"],VCard:T["a"],VCardText:O["c"],VChip:E["a"],VCol:L["a"],VDivider:$["a"],VIcon:I["a"],VRow:R["a"],VSelect:B["a"],VSlideYTransition:j["g"],VTab:P["a"],VTabs:U["a"]})},3129:function(e,t,n){"use strict";var a=n("3835"),i=n("5530"),s=(n("ac1f"),n("1276"),n("d81d"),n("a630"),n("3ca3"),n("5319"),n("1f09"),n("c995")),r=n("24b2"),o=n("7560"),l=n("58df"),c=n("80d2");t["a"]=Object(l["a"])(s["a"],r["a"],o["a"]).extend({name:"VSkeletonLoader",props:{boilerplate:Boolean,loading:Boolean,tile:Boolean,transition:String,type:String,types:{type:Object,default:function(){return{}}}},computed:{attrs:function(){return this.isLoading?this.boilerplate?{}:Object(i["a"])({"aria-busy":!0,"aria-live":"polite",role:"alert"},this.$attrs):this.$attrs},classes:function(){return Object(i["a"])(Object(i["a"])({"v-skeleton-loader--boilerplate":this.boilerplate,"v-skeleton-loader--is-loading":this.isLoading,"v-skeleton-loader--tile":this.tile},this.themeClasses),this.elevationClasses)},isLoading:function(){return!("default"in this.$scopedSlots)||this.loading},rootTypes:function(){return Object(i["a"])({actions:"button@2",article:"heading, paragraph",avatar:"avatar",button:"button",card:"image, card-heading","card-avatar":"image, list-item-avatar","card-heading":"heading",chip:"chip","date-picker":"list-item, card-heading, divider, date-picker-options, date-picker-days, actions","date-picker-options":"text, avatar@2","date-picker-days":"avatar@28",heading:"heading",image:"image","list-item":"text","list-item-avatar":"avatar, text","list-item-two-line":"sentences","list-item-avatar-two-line":"avatar, sentences","list-item-three-line":"paragraph","list-item-avatar-three-line":"avatar, paragraph",paragraph:"text@3",sentences:"text@2",table:"table-heading, table-thead, table-tbody, table-tfoot","table-heading":"heading, text","table-thead":"heading@6","table-tbody":"table-row-divider@6","table-row-divider":"table-row, divider","table-row":"table-cell@6","table-cell":"text","table-tfoot":"text@2, avatar@2",text:"text"},this.types)}},methods:{genBone:function(e,t){return this.$createElement("div",{staticClass:"v-skeleton-loader__".concat(e," v-skeleton-loader__bone")},t)},genBones:function(e){var t=this,n=e.split("@"),i=Object(a["a"])(n,2),s=i[0],r=i[1],o=function(){return t.genStructure(s)};return Array.from({length:r}).map(o)},genStructure:function(e){var t=[];e=e||this.type||"";var n=this.rootTypes[e]||"";if(e===n);else{if(e.indexOf(",")>-1)return this.mapBones(e);if(e.indexOf("@")>-1)return this.genBones(e);n.indexOf(",")>-1?t=this.mapBones(n):n.indexOf("@")>-1?t=this.genBones(n):n&&t.push(this.genStructure(n))}return[this.genBone(e,t)]},genSkeleton:function(){var e=[];return this.isLoading?e.push(this.genStructure()):e.push(Object(c["s"])(this)),this.transition?this.$createElement("transition",{props:{name:this.transition},on:{afterEnter:this.resetStyles,beforeEnter:this.onBeforeEnter,beforeLeave:this.onBeforeLeave,leaveCancelled:this.resetStyles}},e):e},mapBones:function(e){return e.replace(/\s/g,"").split(",").map(this.genStructure)},onBeforeEnter:function(e){this.resetStyles(e),this.isLoading&&(e._initialStyle={display:e.style.display,transition:e.style.transition},e.style.setProperty("transition","none","important"))},onBeforeLeave:function(e){e.style.setProperty("display","none","important")},resetStyles:function(e){e._initialStyle&&(e.style.display=e._initialStyle.display||"",e.style.transition=e._initialStyle.transition,delete e._initialStyle)}},render:function(e){return e("div",{staticClass:"v-skeleton-loader",attrs:this.attrs,on:this.$listeners,class:this.classes,style:this.isLoading?this.measurableStyles:void 0},[this.genSkeleton()])}})},"35b3":function(e,t,n){var a=n("23e7");a({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},4365:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.showFormResponse||e.showFormReport?e.showFormResponse?n("form-response",{attrs:{as:"hr","form-name":e.selectedForm.name,"is-anonymous":e.selectedForm.is_anonymously_fillable},on:{"show-list":function(t){e.showFormResponse=!1}}}):n("form-report",{attrs:{"form-title":e.selectedForm.name,"form-id":e.selectedForm.id,"is-anonymous":e.selectedForm.is_anonymously_fillable,as:e.as},on:{"show-list":function(t){e.showFormReport=!1}}}):n("v-card",[n("vue-card-title",{attrs:{title:"Survey & Forms "+("setting"===e.view?" Settings":"report"===e.view?"Report":" Response"),subtitle:"The list below contains all the survey and forms for this organization.",icon:"setting"===e.view?"mdi-cog-outline":"report"===e.view?"mdi-view-split-vertical":"mdi-send-outline"}},[n("template",{slot:"actions"},["setting"===e.view?n("v-btn",{staticClass:"mt-1",attrs:{small:"",depressed:"",color:"primary",dark:""},on:{click:function(t){e.actionData={},e.showCreateForm=!0}}},[e._v(" Create Survey and Forms ")]):e._e(),n("v-btn",{attrs:{icon:""},on:{click:function(t){e.showFilters=!e.showFilters}}},[n("v-icon",{attrs:{small:""},domProps:{textContent:e._s("mdi-filter-variant")}})],1)],1)],2),n("v-divider"),n("v-slide-y-transition",[n("v-row",{directives:[{name:"show",rawName:"v-show",value:e.showFilters,expression:"showFilters"}],staticClass:"px-3"},[n("v-col",[n("vue-search",{attrs:{search:e.search,label:"Search Survey and Forms"},on:{"update:search":function(t){e.search=t}},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1)],1),e.showFilters?n("v-divider"):e._e(),e.nonFieldErrors?n("non-field-form-errors",{attrs:{"non-field-errors":e.nonFieldErrors}}):e._e(),n("v-card-text",{staticClass:"pa-0"},[n("v-data-table",{attrs:{headers:e.headers,items:e.fetchedResults,"sort-desc":e.pagination.descending,"sort-by":e.pagination.sortBy,page:e.pagination.page,"items-per-page":e.pagination.rowsPerPage,"footer-props":e.footerProps,"server-items-length":e.pagination.totalItems,"mobile-breakpoint":0,"must-sort":""},on:{"update:sortDesc":function(t){return e.$set(e.pagination,"descending",t)},"update:sort-desc":function(t){return e.$set(e.pagination,"descending",t)},"update:sortBy":function(t){return e.$set(e.pagination,"sortBy",t)},"update:sort-by":function(t){return e.$set(e.pagination,"sortBy",t)},"update:page":function(t){return e.$set(e.pagination,"page",t)},"update:itemsPerPage":function(t){return e.$set(e.pagination,"rowsPerPage",t)},"update:items-per-page":function(t){return e.$set(e.pagination,"rowsPerPage",t)}},scopedSlots:e._u([{key:"item",fn:function(t){return[n("tr",[n("td",["setting"===e.view?n("div",[e._v(" "+e._s(t.item.name)+" ")]):n("div",{on:{click:function(n){return e.openFormDetail(t.item,e.view)}}},[n("span",{staticClass:"pointer blue--text"},[e._v(e._s(t.item.name)+" ")])])]),n("td",[n("div",{staticClass:"font-weight-medium"},[e._v(" "+e._s(e.humanizeDate(t.item.deadline))+" ")]),n("div",{staticClass:"grey--text"},[e._v(" "+e._s(e.humanizeTime(t.item.deadline))+" ")])]),n("td",[n("v-chip",{staticClass:"white--text pointer",attrs:{small:"",color:"cyan"},on:{click:function(n){return e.showAssignedUsers(t.item,!1)}}},[n("span",[e._v(e._s(t.item.is_anonymously_fillable?"Anonymous":t.item.users_count))])])],1),"setting"===e.view?n("td",[n("vue-context-menu",{attrs:{"context-list":[{name:"Configure Approval",icon:"mdi-checkbox-marked-outline",color:"primary",hide:t.item.is_anonymously_fillable,disabled:!e.verifyPermission(e.allPermissions.CAN_PERFORM_FORM_APPROVAL_SETTINGS),disable_message:"Permission Denied"},{name:"Assign Users",icon:"mdi-account-multiple-plus-outline",color:"primary",hide:t.item.is_anonymously_fillable,disabled:!e.verifyPermission(e.allPermissions.CAN_PERFORM_USER_ASSIGN_ON_FORM),disable_message:"Permission Denied"},{name:"Get Link",icon:"mdi-link",color:"primary",hide:!t.item.is_anonymously_fillable},{name:"Update Survey & Form",icon:"mdi-square-edit-outline",color:"primary"},{name:"Delete Survey & Form",icon:"mdi-trash-can-outline",color:"danger"}]},on:{click0:function(n){return e.configureApproval(t.item)},click1:function(n){return e.showAssignedUsers(t.item)},click2:function(n){e.showAnonymousUrl=!0,e.anonymousUrl=e.host+"/anonymous-form/org/"+e.getOrganizationSlug+"/"+t.item.uuid+"/"},click3:function(n){return e.editForm(t.item)},click4:function(n){e.actionData=t.item,e.deleteNotification.dialog=!0}}})],1):e._e()])]}}],null,!1,1498136342)},[n("template",{slot:"no-data"},[n("data-table-no-data",{attrs:{loading:e.loading}})],1)],2)],1)],1),e.showCreateForm?n("v-dialog",{attrs:{scrollable:"","max-width":"900px",persistent:""},model:{value:e.showCreateForm,callback:function(t){e.showCreateForm=t},expression:"showCreateForm"}},[n("create-form",{attrs:{"action-data":e.actionData},on:{close:function(t){e.showCreateForm=!1},"dismiss-form":e.refreshData}})],1):e._e(),e.showApproval?n("v-dialog",{attrs:{scrollable:"","max-width":"900px",persistent:""},model:{value:e.showApproval,callback:function(t){e.showApproval=t},expression:"showApproval"}},[n("approval-setting",{attrs:{endpoint:e.formApprovalEndpoint,subtitle:"Form","require-approval-level":!1,"level-of-restriction":5,as:"hr",modal:""},on:{close:function(t){e.showApproval=!1}}})],1):e._e(),e.showAssignUsers?n("v-dialog",{attrs:{scrollable:"","max-width":"900px",persistent:""},model:{value:e.showAssignUsers,callback:function(t){e.showAssignUsers=t},expression:"showAssignUsers"}},[n("v-card",[n("vue-card-title",{attrs:{title:"Assign Survey & Form To Users",subtitle:"",icon:"mdi-account-multiple-plus-outline",closable:""},on:{close:function(t){e.showAssignUsers=!1}}}),n("v-divider"),n("v-card-text",[n("v-col",{staticClass:"py-0"},[n("v-checkbox",{attrs:{label:"Show Filters","hide-details":"",disabled:e.selectAllUser},model:{value:e.showUserFilter,callback:function(t){e.showUserFilter=t},expression:"showUserFilter"}})],1),e.showUserFilter?n("v-row",[n("v-col",{attrs:{md:"3",cols:"12"}},[n("vue-auto-complete",e._b({staticClass:"px-2",attrs:{endpoint:e.branchEndpoint,"item-text":"name","item-value":"id","prepend-inner-icon":"mdi-map-marker-outline","force-fetch":""},model:{value:e.filter.branch,callback:function(t){e.$set(e.filter,"branch",t)},expression:"filter.branch"}},"vue-auto-complete",e.veeValidate("branch","Branch"),!1))],1),n("v-col",{attrs:{md:"3",cols:"12"}},[n("vue-auto-complete",e._b({staticClass:"px-2",attrs:{endpoint:e.divisionEndpoint,"item-text":"name","item-value":"id","prepend-inner-icon":"mdi-source-branch","force-fetch":""},model:{value:e.filter.division,callback:function(t){e.$set(e.filter,"division",t)},expression:"filter.division"}},"vue-auto-complete",e.veeValidate("division","Division"),!1))],1),n("v-col",{attrs:{md:"3",cols:"12"}},[n("vue-auto-complete",e._b({staticClass:"px-2",attrs:{endpoint:e.employmentTypeEndpoint,"item-text":"title","item-value":"id","prepend-inner-icon":"mdi-briefcase-account-outline","force-fetch":""},model:{value:e.filter.employment_type,callback:function(t){e.$set(e.filter,"employment_type",t)},expression:"filter.employment_type"}},"vue-auto-complete",e.veeValidate("employment_type","Employment Type"),!1))],1),n("v-col",{attrs:{md:"3",cols:"12"}},[n("vue-auto-complete",e._b({staticClass:"px-2",attrs:{endpoint:e.employmentLevelEndpoint,"item-text":"title","item-value":"id","prepend-inner-icon":"mdi-family-tree","force-fetch":""},model:{value:e.filter.employment_level,callback:function(t){e.$set(e.filter,"employment_level",t)},expression:"filter.employment_level"}},"vue-auto-complete",e.veeValidate("employment_level","Employment Level"),!1))],1),n("v-col",{attrs:{md:"3",cols:"12"}},[n("vue-auto-complete",e._b({staticClass:"px-2",attrs:{endpoint:e.jobTitleEndpoint,"item-text":"title","item-value":"id","prepend-inner-icon":"mdi-account-outline","force-fetch":""},model:{value:e.filter.job_title,callback:function(t){e.$set(e.filter,"job_title",t)},expression:"filter.job_title"}},"vue-auto-complete",e.veeValidate("job_title","Job Title"),!1))],1),n("v-col",{attrs:{md:"3",cols:"12"}},[n("v-autocomplete",{staticClass:"px-2",attrs:{items:e.genderChoices,clearable:"",label:"Gender","prepend-inner-icon":"mdi-human-male-girl"},model:{value:e.filter.gender,callback:function(t){e.$set(e.filter,"gender",t)},expression:"filter.gender"}})],1),n("v-col",{attrs:{md:"3",cols:"12"}},[n("vue-auto-complete",e._b({attrs:{endpoint:e.dutyStationEndpoint,params:{is_archived:!1},"item-text":"name","item-value":"id","force-fetch":"","prepend-inner-icon":"mdi-office-building-marker"},model:{value:e.filter.duty_station,callback:function(t){e.$set(e.filter,"duty_station",t)},expression:"filter.duty_station"}},"vue-auto-complete",e.veeValidate("duty_station","Current Duty Station"),!1))],1)],1):e._e(),n("v-row",{staticClass:"px-4",attrs:{align:"center"}},[n("v-col",{attrs:{cols:"12"}},[n("v-checkbox",{attrs:{"hide-details":"",label:"Select all users",disabled:e.showUserFilter},model:{value:e.selectAllUser,callback:function(t){e.selectAllUser=t},expression:"selectAllUser"}})],1),e.selectAllUser?e._e():n("v-col",[n("vue-users-auto-complete",e._b({directives:[{name:"validate",rawName:"v-validate",value:"",expression:"''"}],attrs:{"applied-class":"pt-4","data-cy-variable":"employee",multiple:"",params:{organization:e.getOrganizationSlug,user_status:"current"},disabled:e.showUserFilter},model:{value:e.userList,callback:function(t){e.userList=t},expression:"userList"}},"vue-users-auto-complete",e.veeValidate("user","Employee"),!1))],1)],1)],1),n("v-divider"),n("v-card-actions",[n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{staticClass:"text-right"},[n("v-btn",{attrs:{small:"",text:""},on:{click:function(t){e.showAssignUsers=!1}}},[e._v("Close")]),n("v-btn",{attrs:{color:"primary",small:""},on:{click:e.assignUsers}},[e._v(" Save ")])],1)],1)],1)],1)],1):e._e(),n("vue-dialog",{attrs:{notify:e.deleteNotification},on:{close:function(t){e.deleteNotification.dialog=!1},agree:e.deleteForm}}),n("user-list-dialog",{attrs:{users:e.userListForDialog,title:"Assigned Users"},on:{close:function(t){e.showUsersList=!1,e.userListForDialog=[]}},model:{value:e.showUsersList,callback:function(t){e.showUsersList=t},expression:"showUsersList"}}),e.showAnonymousUrl?n("v-dialog",{attrs:{"max-width":"450"},model:{value:e.showAnonymousUrl,callback:function(t){e.showAnonymousUrl=t},expression:"showAnonymousUrl"}},[n("v-card",[n("vue-card-title",{attrs:{title:"Share url with user for anonymous submission",subtitle:"",icon:"mdi-incognito",dark:"",closable:""},on:{close:function(t){e.showAnonymousUrl=!1}}}),n("v-card-text",{staticClass:"pa-3 scrollbar-sm"},[n("a",{attrs:{id:"anonymous-url",href:e.protocol+"//"+e.anonymousUrl,target:"_blank"}},[e._v(e._s(e.protocol+"//"+e.anonymousUrl))]),n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{icon:"",color:"primary"},on:{click:function(t){return e.copyText()}}},a),[n("v-icon",{attrs:{small:""},domProps:{textContent:e._s("mdi-content-copy")}})],1)]}}],null,!1,2193323600)},[n("span",[e._v("Click to copy link")])])],1)],1)],1):e._e()],1)},i=[],s=n("1da1"),r=(n("96cf"),n("ac1f"),n("841c"),n("4de4"),n("caad"),n("2532"),n("d3b7"),n("a51f")),o=n("e4bf"),l=n("8cd3"),c=n("f70a"),u=n("983c"),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-form",{ref:"trainingForm",on:{submit:function(t){return t.preventDefault(),e.getFormAction.apply(null,arguments)}}},[n("v-card",[n("vue-card-title",{attrs:{title:(e.formValues.id?"Update":"Create")+" Survey & Forms",subtitle:"Here you can "+(e.formValues.id?"update":"create")+" survey and forms",icon:"mdi-file-document-outline",closable:""},on:{close:function(t){return e.$emit("close")}}}),n("v-divider"),n("v-card-text",{staticClass:"scrollbar-md",staticStyle:{height:"100%"}},[n("v-row",[e.nonFieldErrors.length>0?n("v-col",{attrs:{cols:"12"}},[n("non-field-form-errors",{attrs:{"non-field-errors":e.nonFieldErrors}})],1):e._e()],1),n("v-row",[n("v-col",{attrs:{md:"6",cols:"12"}},[n("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required|max:255",expression:"'required|max:255'"}],attrs:{counter:255,"prepend-inner-icon":"mdi-file-document-outline"},model:{value:e.formValues.name,callback:function(t){e.$set(e.formValues,"name",t)},expression:"formValues.name"}},"v-text-field",e.veeValidate("name","Title *"),!1)),n("div",{staticClass:"mt-2"},[n("v-icon",{attrs:{size:"18"},domProps:{textContent:e._s("mdi-clipboard-text-outline")}}),e._v(" Description ")],1),n("vue-trumbowyg",e._b({directives:[{name:"validate",rawName:"v-validate",value:"",expression:"''"}],staticClass:"vue pr-3 pt-3",attrs:{"prepend-inner-icon":"mdi-file-document-outline"},model:{value:e.formValues.description,callback:function(t){e.$set(e.formValues,"description",t)},expression:"formValues.description"}},"vue-trumbowyg",e.veeValidate("description","Description"),!1)),n("vue-date-time-picker",e._b({directives:[{name:"validate",rawName:"v-validate",value:"",expression:"''"}],attrs:{clearable:"","place-holder":"Deadline of the form"},model:{value:e.formValues.deadline,callback:function(t){e.$set(e.formValues,"deadline",t)},expression:"formValues.deadline"}},"vue-date-time-picker",e.veeValidate("deadline","Deadline"),!1))],1),n("v-col",{attrs:{md:"6",cols:"12"}},[e.formValues.is_already_filled?e._e():n("vue-auto-complete",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{endpoint:e.autocompleteApi.questionSet,"item-text":"name","prepend-inner-icon":"mdi-calendar-question","item-value":"id"},model:{value:e.formValues.question_set,callback:function(t){e.$set(e.formValues,"question_set",t)},expression:"formValues.question_set"}},"vue-auto-complete",e.veeValidate("question-set","Select Question Set *"),!1)),n("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"max:600",expression:"'max:600'"}],attrs:{counter:"600","prepend-inner-icon":"mdi-file-document-outline"},model:{value:e.formValues.disclaimer_text,callback:function(t){e.$set(e.formValues,"disclaimer_text",t)},expression:"formValues.disclaimer_text"}},"v-text-field",e.veeValidate("disclaimer_text","Disclaimer Text"),!1)),e.formValues.is_already_filled?e._e():n("v-checkbox",{staticClass:"ma-0 pa-0",attrs:{label:"Submit Anonymously","hide-details":""},model:{value:e.formValues.is_anonymously_fillable,callback:function(t){e.$set(e.formValues,"is_anonymously_fillable",t)},expression:"formValues.is_anonymously_fillable"}}),e.formValues.is_already_filled?e._e():n("v-checkbox",{staticClass:"ma-0 pa-0",attrs:{label:"Can submit multiple times","hide-details":""},model:{value:e.formValues.is_multiple_submittable,callback:function(t){e.$set(e.formValues,"is_multiple_submittable",t)},expression:"formValues.is_multiple_submittable"}}),n("v-checkbox",{staticClass:"ma-0 pa-0",attrs:{label:"Archive Survey & Form","hide-details":""},model:{value:e.formValues.is_archived,callback:function(t){e.$set(e.formValues,"is_archived",t)},expression:"formValues.is_archived"}})],1)],1)],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{depressed:"",color:"primary"},on:{click:e.createForm}},[e._v(" "+e._s(e.formValues.id?"Update":"Save")+" ")])],1)],1)],1)},p=[],m=(n("b0c0"),n("a4d3"),n("e01a"),n("ab8a")),f=n("f0d5"),h=n("249b"),v=n("acd4"),g=n("5660"),y=n("1467"),b={components:{VueTrumbowyg:y["default"],VueAutoComplete:g["default"],NonFieldFormErrors:m["default"]},mixins:[f["a"],c["a"]],props:{actionData:{type:Object,required:!0}},data:function(){return{formValues:this.deepCopy(this.actionData),autocompleteApi:{questionSet:""}}},computed:{},created:function(){this.autocompleteApi.questionSet=v["a"].getQuestions(this.getOrganizationSlug)+"?as=hr"},methods:{createForm:function(){var e=this,t=this.deepCopy(this.formValues);if(""===t.deadline&&(t.deadline=null),t.id){var n=this.deepCopy(t);t.is_already_filled&&(t={},t.id=n.id,t.name=n.name,t.description=n.description,t.deadline=n.deadline,t.disclaimer_text=n.disclaimer_text,t.is_archived=n.is_archived),this.crud.message="Successfully Updated Survey and Forms.",this.updateData(h["a"].updatedForms(this.getOrganizationSlug,t.id)+"?as=hr",t,{},n.is_already_filled?"patch":"put").then((function(){e.$emit("dismiss-form")}))}else this.crud.message="Successfully Created Survey and Forms.",this.insertData(h["a"].postForms(this.getOrganizationSlug),t).then((function(){e.$emit("dismiss-form")}))}}},_=b,x=(n("2232"),n("2877")),w=n("6544"),k=n.n(w),S=n("8336"),C=n("b0af"),D=n("99d9"),q=n("ac7c"),A=n("62ad"),F=n("ce7e"),V=n("4bd4"),T=n("132d"),O=n("0fd9b"),E=n("2fa4"),L=n("8654"),$=Object(x["a"])(_,d,p,!1,null,null,null),I=$.exports;k()($,{VBtn:S["a"],VCard:C["a"],VCardActions:D["a"],VCardText:D["c"],VCheckbox:q["a"],VCol:A["a"],VDivider:F["a"],VForm:V["a"],VIcon:T["a"],VRow:O["a"],VSpacer:E["a"],VTextField:L["a"]});var R=n("6c6f"),B=n("fb24"),j=n("ef8c"),P=n("9815"),U=n("fab2"),N=n("afd6"),z=n("2d16"),M=n("e59e"),Q=n("1229"),H=n("2c2a"),G=n("7e77"),Y=n("86eb"),W=n("6a12"),J={components:{VueAutoComplete:g["default"],FormReport:z["a"],FormResponse:N["a"],UserListDialog:P["default"],VueUsersAutoComplete:j["default"],ApprovalSetting:B["default"],VueContextMenu:o["default"],DataTableNoData:r["default"],CreateForm:I},mixins:[l["a"],R["a"],c["a"],u["a"]],props:{view:{type:String,default:"setting"},as:{type:String,default:""}},data:function(){return{headers:[{text:"Title",sortable:!0,value:"name"},{text:"Deadline",sortable:!1,value:"deadline"},{text:"Assigned User Count",sortable:!1,value:""}],showFilters:!1,statusChoices:{pending:{color:"orange",text:"Pending"},in_progress:{color:"blue",text:"In Progress"},completed:{color:"green",text:"Completed"},cancelled:{color:"grey",text:"Cancelled"}},showFormResponse:!1,showFormReport:!1,showCreateForm:!1,showApproval:!1,showAssignUsers:!1,userList:[],userListForDialog:[],selectAllUser:!1,actionData:{},formApprovalEndpoint:"",search:"",showUsersList:!1,showAnonymousUrl:!1,anonymousUrl:"",deleteNotification:{dialog:!1,heading:"Confirm Delete",text:"Are you sure you want to delete this survey and form?"},host:location.host,protocol:location.protocol,selectedForm:{},showUserFilter:!1,filter:{branch:"",division:"",employment_type:"",employment_level:"",job_title:"",gender:"",duty_station:""},branchEndpoint:"",divisionEndpoint:"",employmentLevelEndpoint:"",employmentTypeEndpoint:"",jobTitleEndpoint:"",dutyStationEndpoint:"",genderChoices:["Female","Male","Others"]}},computed:{dataTableFilter:function(){return{form_name:this.search,as:this.as}}},created:function(){"setting"===this.view&&this.headers.push({text:"Actions",sortable:!1,value:""}),this.dataTableEndpoint=h["a"].getForms(this.getOrganizationSlug),this.initializeDynamicUrls()},methods:{openFormDetail:function(e,t){this.selectedForm=e,"response"===t?this.showFormResponse=!0:this.showFormReport=!0},refreshData:function(){this.showCreateForm=!1,this.fetchDataTable()},editForm:function(e){var t=this;this.getData(h["a"].getFormDetail(this.getOrganizationSlug,e.id)+"?as=hr").then((function(e){t.actionData=e,t.showCreateForm=!0}))},deleteForm:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.crud.message="Successfully deleted Survey and Forms.",t.next=3,e.deleteData(h["a"].deleteForms(e.getOrganizationSlug,e.actionData.id)+"?as=hr").then((function(){e.actionData={},e.fetchDataTable()}));case 3:e.deleteNotification.dialog=!1;case 4:case"end":return t.stop()}}),t)})))()},configureApproval:function(e){this.showApproval=!0,this.formApprovalEndpoint=h["a"].formApprovalSetting(this.getOrganizationSlug,e.id)},showAssignedUsers:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.actionData=e,this.getData(h["a"].assignedUsers(this.getOrganizationSlug,e.id)+"?as=hr").then((function(e){t.filter=e.setting||{},t.userList=e.users,t.showUserFilter=e.show_user_filters,n?t.showAssignUsers=!0:t.getData(U["a"].autocomplete,{organization:t.getOrganizationSlug,user_status:"current"}).then((function(e){t.userListForDialog=e.filter((function(e){return t.userList.includes(e.id)})),t.showUsersList=!0}))}))},assignUsers:function(){var e=this;this.crud.message="Successfully updated survey & form assignment.";var t={users:this.userList,select_all_users:this.selectAllUser,show_user_filters:this.showUserFilter,datas:this.filter};this.insertData(h["a"].assignUserToForm(this.getOrganizationSlug,this.actionData.id),t).then((function(){e.fetchDataTable()})).finally((function(){e.actionData={},e.selectAllUser=!1,e.showAssignUsers=!1}))},humanizeDate:function(e){return e=this.$dayjs(e).format("YYYY-MM-DD"),"Invalid Date"===e?"":e},humanizeTime:function(e){var t=this.$dayjs(e).format("h:mm:ss A");return"Invalid Date"===t?"N/A":t},copyText:function(){var e=document.getElementById("anonymous-url"),t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n),document.execCommand("Copy"),t.empty(),this.notifyUser("Url copied to clipboard","blue")},initializeDynamicUrls:function(){this.branchEndpoint=M["a"].getBranch(this.getOrganizationSlug),this.divisionEndpoint=Q["a"].getDivision(this.getOrganizationSlug),this.employmentLevelEndpoint=H["a"].getEmploymentLevel(this.getOrganizationSlug),this.employmentTypeEndpoint=G["a"].getEmploymentType(this.getOrganizationSlug),this.jobTitleEndpoint=Y["a"].getJobTitle(this.getOrganizationSlug),this.dutyStationEndpoint=W["a"].getDutyStation}}},K=J,X=n("c6a6"),Z=n("cc20"),ee=n("8fea"),te=n("169a"),ne=n("0789"),ae=n("3a2f"),ie=Object(x["a"])(K,a,i,!1,null,null,null);t["a"]=ie.exports;k()(ie,{VAutocomplete:X["a"],VBtn:S["a"],VCard:C["a"],VCardActions:D["a"],VCardText:D["c"],VCheckbox:q["a"],VChip:Z["a"],VCol:A["a"],VDataTable:ee["a"],VDialog:te["a"],VDivider:F["a"],VIcon:T["a"],VRow:O["a"],VSlideYTransition:ne["g"],VTooltip:ae["a"]})},"4da5":function(e,t,n){"use strict";var a,i,s=n("2909"),r=n("5530"),o=n("1fca"),l={extends:o["a"],props:{chartData:{type:Object,required:!0},chartTitle:{type:String,default:""},displayLegend:{type:Boolean,default:!1},responsive:{type:Boolean,default:!0},options:{type:Object,default:function(){return{responsive:!0,maintainAspectRatio:!1,layout:{padding:{left:50,right:50,top:30,bottom:20}},scales:{yAxes:[{ticks:{min:0,stepSize:1}}]},legend:{display:!1},title:{display:!0,text:""}}}},extraData:{type:Object,default:function(){}}},mounted:function(){this.displayLegend&&(this.options.legend.display=!0),this.options.responsive=this.responsive,this.options.title.text=this.chartTitle,this.options.onClick=this.handle,this.options.scales.yAxes[0].ticks.stepSize=this.calculateStep(),this.renderChart(this.chartData,Object(r["a"])(Object(r["a"])({},this.options),this.chartData.extraData))},methods:{handle:function(e,t){if(t&&t.length>0){var n=t[0];this.$emit("click",n._index)}},calculateStep:function(){var e=0;if(1===this.chartData.datasets.length){var t=Math.max.apply(Math,Object(s["a"])(this.chartData.datasets[0].data));e=10*Math.round(Math.round(t/100)/10),e>10&&(e=50*Math.round(e/50))}return e}}},c=l,u=n("2877"),d=Object(u["a"])(c,a,i,!1,null,null,null);t["a"]=d.exports},"4df0":function(e,t,n){},5103:function(e,t,n){"use strict";n("b52e")},5660:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex space-between"},[n("v-autocomplete",{key:e.componentKey,ref:"autoComplete",class:e.appliedClass,attrs:{id:e.id,items:e.itemsSorted,"search-input":e.search,loading:e.isLoading,multiple:e.multiple,label:e.label,error:e.errorMessages.length>0,"error-messages":e.errorMessages,disabled:e.disabled,readonly:e.readonly,"data-cy":"autocomplete-"+e.dataCyVariable,"prepend-inner-icon":e.prependInnerIcon,clearable:e.clearable&&!e.readonly,"hide-details":e.hideDetails,"item-text":e.itemText,"item-value":e.itemValue,"small-chips":e.multiple||e.chips,"deletable-chips":e.multiple,hint:e.hint,"persistent-hint":e.persistentHint,chips:e.chips,solo:e.solo,flat:e.flat,"cache-items":e.cacheItems,placeholder:e.placeholder,dense:e.dense,"hide-selected":"","hide-no-data":""},on:{"update:searchInput":function(t){e.search=t},"update:search-input":function(t){e.search=t},focus:e.populateOnFocus,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.searchText())},change:e.updateState,blur:function(t){return e.$emit("blur")}},scopedSlots:e._u([{key:"selection",fn:function(t){return[e._t("selection",(function(){return[e.itemText&&t.item?n("div",[e.multiple||e.chips?n("v-chip",{attrs:{close:(e.clearable||!e.clearable&&!e.multiple)&&!e.readonly,small:""},on:{"click:close":function(n){return e.remove(t.item)}}},[t.item[e.itemText]?n("div",[t.item[e.itemText].length>40?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(a){var i=a.on;return[n("span",e._g({},i),[e._v(" "+e._s(e._f("truncate")(t.item[e.itemText],40)))])]}}],null,!0)},[n("span",[e._v(e._s(t.item[e.itemText]))])]):n("span",[e._v(e._s(t.item[e.itemText]))])],1):n("div",[n("span",[e._v(e._s(t.item))])])]):n("div",[t.item[e.itemText]?n("div",[t.item[e.itemText].length>40?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(a){var i=a.on;return[n("span",e._g({},i),[e._v(" "+e._s(e._f("truncate")(t.item[e.itemText],40)))])]}}],null,!0)},[n("span",[e._v(e._s(t.item[e.itemText]))])]):n("span",[e._v(e._s(t.item[e.itemText]))])],1):n("div",[n("span",[e._v(e._s(t.item))])])])],1):e._e()]}),{props:t})]}},{key:"item",fn:function(t){return[n("v-list-item-content",[n("v-list-item-title",[e._t("item",(function(){return[e.itemText&&t.item?n("div",[t.item[e.itemText]?n("div",[t.item[e.itemText].length>40?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(a){var i=a.on;return[n("span",e._g({},i),[e._v(" "+e._s(e._f("truncate")(t.item[e.itemText],40)))])]}}],null,!0)},[n("span",[e._v(e._s(t.item[e.itemText]))])]):n("span",[e._v(e._s(t.item[e.itemText]))])],1):n("div",[n("span",[e._v(e._s(t.item))])])]):e._e()]}),{props:t})],2)],1)]}},{key:"append-item",fn:function(){return[!e.fullyLoaded&&e.showMoreIcon?n("div",[n("v-list-item-content",{staticClass:"px-4 pointer primary--text font-weight-bold"},[n("v-list-item-title",{on:{click:function(t){return e.fetchData()}}},[e._v(" Load More Items ... ")])],1)],1):e._e()]},proxy:!0}],null,!0),model:{value:e.selectedData,callback:function(t){e.selectedData=t},expression:"selectedData"}}),e._t("default")],2)},i=[],s=n("2909"),r=n("5530"),o=n("53ca"),l=n("1da1"),c=(n("96cf"),n("a9e3"),n("ac1f"),n("841c"),n("7db0"),n("d81d"),n("159b"),n("4de4"),n("4e827"),n("2ca0"),n("d3b7"),n("c740"),n("a434"),n("3ca3"),n("ddb0"),n("2b3d"),n("caad"),n("2532"),n("63ea")),u=n.n(c),d={props:{value:{type:[Number,String,Array,Object],default:void 0},id:{type:String,default:""},dataCyVariable:{type:String,default:""},endpoint:{type:String,default:""},itemText:{type:String,required:!0},itemValue:{type:String,required:!0},params:{type:Object,required:!1,default:function(){return{}}},itemsToExclude:{type:[Array,Number],default:null},forceFetch:{type:Boolean,default:!1},staticItems:{type:Array,default:function(){return[]}},errorMessages:{type:[String,Array],default:function(){return[]}},label:{type:String,default:""},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},hint:{type:String,default:void 0},persistentHint:{type:Boolean,required:!1,default:!1},multiple:{type:Boolean,required:!1,default:!1},clearable:{type:Boolean,default:!0},hideDetails:{type:Boolean,default:!1},solo:{type:Boolean,default:!1},flat:{type:Boolean,default:!1},chips:{type:Boolean,default:!1},prependInnerIcon:{type:String,default:void 0},cacheItems:{type:Boolean,default:!1},appliedClass:{type:String,default:""},placeholder:{type:String,default:""},dense:{type:Boolean,default:!1}},data:function(){return{componentKey:0,items:[],selectedData:null,search:null,initialFetchStarted:!1,nextLimit:null,nextOffset:null,showMoreIcon:!1,fullyLoaded:!1,isLoading:!1}},computed:{itemsSorted:function(){return this.sortBySearch(this.items,this.search?this.search.toLowerCase():"")}},watch:{value:{handler:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var n,a,i,s,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=10;break}if(!this.forceFetch||this.initialFetchStarted){e.next=6;break}return this.initialFetchStarted=!0,e.next=5,this.fetchData();case 5:this.removeDuplicateItem();case 6:Array.isArray(t)?(i=[],"object"===Object(o["a"])(t[0])?(this.selectedData=t.map((function(e){return e[r.itemValue]})),t.forEach((function(e){var t=r.items.find((function(t){return t===e}));t||i.push(e)}))):(t.forEach((function(e){var t=r.items.find((function(t){return t[r.itemValue]===e}));t||i.push(e)})),this.selectedData=t),i.length>0&&(s=this.items).push.apply(s,i)):"object"===Object(o["a"])(t)?(this.selectedData=t[this.itemValue],n=this.items.find((function(e){return e[r.itemValue]===t})),n||this.items.push(t)):(this.selectedData=t,a=this.items.find((function(e){return e===t})),a||this.items.push(t)),this.updateData(this.selectedData),e.next=11;break;case 10:t||(this.selectedData=null);case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),immediate:!0},selectedData:function(e){this.updateData(e)},params:{handler:function(e,t){u()(e,t)||(this.fullyLoaded=!1,this.initialFetchStarted=!1,this.items=[],this.componentKey+=1)},deep:!0}},methods:{sortBySearch:function(e,t){var n=this.itemText,a=e.filter((function(e){return"object"===Object(o["a"])(e)}));return a.sort((function(e,a){return e[n].toLowerCase().startsWith(t)&&a[n].toLowerCase().startsWith(t)?e[n].toLowerCase().localeCompare(a[n].toLowerCase()):e[n].toLowerCase().startsWith(t)?-1:a[n].toLowerCase().startsWith(t)?1:e[n].toLowerCase().localeCompare(a[n].toLowerCase())}))},populateOnFocus:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.initialFetchStarted){t.next=2;break}return t.abrupt("return");case 2:return e.initialFetchStarted=!0,t.next=5,e.fetchData();case 5:e.removeDuplicateItem();case 6:case"end":return t.stop()}}),t)})))()},fetchData:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.staticItems.length>0)){t.next=3;break}return e.items=e.staticItems,t.abrupt("return");case 3:return n=e.nextLimit,a=e.nextOffset,e.search&&(n=null,a=null),e.isLoading=!0,t.next=9,e.$http.get(e.endpoint,{params:Object(r["a"])(Object(r["a"])({},e.params),{},{search:e.search,limit:n,offset:a})}).then((function(t){var n;t.results||(t.results=t),t.next?(e.showMoreIcon=!0,e.extractLimitOffset(t.next)):(e.showMoreIcon=!1,e.search||(e.fullyLoaded=!0)),e.itemsToExclude&&(t.results=e.excludeRecord(t.results)),(n=e.items).push.apply(n,Object(s["a"])(t.results))})).finally((function(){e.isLoading=!1}));case 9:case"end":return t.stop()}}),t)})))()},removeDuplicateItem:function(){var e=this,t=this.items.indexOf(this.selectedData);if(t>=0){var n=this.items.findIndex((function(t){return t[e.itemValue]===e.selectedData}));n>=0&&(this.items.splice(t,1),this.componentKey+=1)}},updateData:function(e){var t=this,n=[];e instanceof Array?e.forEach((function(e){n.unshift(t.items.find((function(n){return n[t.itemValue]===e})))})):n=this.items.find((function(n){return n[t.itemValue]===e})),this.$emit("input",e),this.$emit("update:selectedFullData",n)},searchText:function(){0!==this.$refs.autoComplete.filteredItems.length||this.fullyLoaded||this.fetchData()},extractLimitOffset:function(e){var t=new URL(e);this.nextLimit=t.searchParams.get("limit"),this.nextOffset=t.searchParams.get("offset")},excludeRecord:function(e){var t=this,n=[];return"number"===typeof this.itemsToExclude?n.push(this.itemsToExclude):n=this.itemsToExclude,e.filter((function(e){if(e[t.itemValue])return!n.includes(e[t.itemValue])}))},remove:function(e){if(this.selectedData instanceof Object){var t=this.selectedData.indexOf(e[this.itemValue]);t>=0&&this.selectedData.splice(t,1)}else this.selectedData=null},updateState:function(){this.search="",this.nextLimit&&(this.showMoreIcon=!0)}}},p=d,m=n("2877"),f=n("6544"),h=n.n(f),v=n("c6a6"),g=n("cc20"),y=n("5d23"),b=n("3a2f"),_=Object(m["a"])(p,a,i,!1,null,null,null);t["default"]=_.exports;h()(_,{VAutocomplete:v["a"],VChip:g["a"],VListItemContent:y["a"],VListItemTitle:y["c"],VTooltip:b["a"]})},"581f":function(e,t,n){"use strict";var a,i,s=n("2909"),r=n("1fca"),o={extends:r["c"],props:{chartData:{type:Object,required:!0},stacked:{type:Boolean,default:!1},displayLegend:{type:Boolean,default:!1},options:{type:Object,default:function(){return{responsive:!0,maintainAspectRatio:!1,layout:{padding:{left:50,right:50,top:30,bottom:20}},scales:{xAxes:[{barPercentage:.8,stacked:!1,ticks:{min:0,stepSize:1}}],yAxes:[{stacked:!1,ticks:{beginAtZero:!0}}]},legend:{display:!1,position:"right"}}}}},mounted:function(){this.options.scales.xAxes[0].stacked=this.stacked,this.options.scales.yAxes[0].stacked=this.stacked,this.options.scales.xAxes[0].ticks.stepSize=this.calculateStep(),this.options.legend.display=this.displayLegend,this.options.onClick=this.handle,this.renderChart(this.chartData,this.options)},methods:{handle:function(e,t){if(t&&t.length>0){var n=t[0];this.$emit("click",n._index)}},calculateStep:function(){var e=0;if(1===this.chartData.datasets.length){var t=Math.max.apply(Math,Object(s["a"])(this.chartData.datasets[0].data));e=10*Math.round(Math.round(t/100)/10),e>10&&(e=50*Math.round(e/50))}return e}}},l=o,c=n("2877"),u=Object(c["a"])(l,a,i,!1,null,null,null);t["a"]=u.exports},6062:function(e,t,n){"use strict";var a=n("6d61"),i=n("6566");e.exports=a("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},6875:function(e,t,n){"use strict";n("843f")},"696f":function(e,t,n){},"6a12":function(e,t,n){"use strict";n("99af");t["a"]={getDutyStation:"/commons/duty-station/",postDutyStation:"/commons/duty-station/",updateDutyStation:function(e){return"/commons/duty-station/".concat(e)},deleteDutyStation:function(e){return"/commons/duty-station/".concat(e)},getAssignDutyStation:function(e){return"/hris/".concat(e,"/duty-station/")},getCurrentAssignDutyStation:function(e){return"/hris/".concat(e,"/current-duty-stations/")},postAssignDutyStation:function(e){return"/hris/".concat(e,"/duty-station/")},deleteAssignDutyStation:function(e,t){return"/hris/".concat(e,"/duty-station/").concat(t)},updateAssignDutyStation:function(e,t){return"/hris/".concat(e,"/duty-station/").concat(t)},importDutystation:function(e){return"/hris/".concat(e,"/duty-station/import/")},downloadSampleDutyStation:function(e){return"/hris/".concat(e,"/duty-station/import/sample")},exportDutyStation:"/commons/duty-station/export"}},"6c6f":function(e,t,n){"use strict";n("d3b7");t["a"]={data:function(){return{deleteNotification:{dialog:!1,heading:"Confirm Delete",text:"Are you sure you want to delete ?"}}},methods:{deleteData:function(e,t){var n=this;return new Promise((function(a,i){!n.loading&&e&&(n.loading=!0,n.$http.delete(e,t||{}).then((function(e){n.crud.message&&setTimeout((function(){n.notifyUser(n.crud.message)}),1e3),a(e),n.loading=!1})).catch((function(e){n.pushErrors(e),n.notifyInvalidFormResponse(),i(e),n.loading=!1})).finally((function(){n.deleteNotification.dialog=!1})))}))}}}},7183:function(e,t,n){},"741f":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return["true"!==e.useNepaliDate?n("v-text-field",e._g({class:e.appliedClass,attrs:{id:e.id,clearable:!e.readOnly,"data-cy":"date-picker-"+e.dataCyVariable,disabled:e.disabled,error:e.errorMessages.length>0,"error-messages":e.errorMessages,"hide-details":e.hideDetails,hint:e.hint,label:e.label,"prepend-inner-icon":e.prependInnerIcon,"single-line":e.singleLine,value:e.value,readonly:""},on:{paste:function(e){e.preventDefault()},"click:clear":function(t){return e.$emit("close")}},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}},a)):n("v-text-field",e._g({class:e.appliedClass,attrs:{id:e.id,label:e.label,value:e.value,"data-cy":"date-picker-"+e.dataCyVariable,error:e.errorMessages.length>0,"error-messages":e.errorMessages,disabled:e.disabled,clearable:!e.readOnly,hint:e.hint,"hide-details":e.hideDetails,"single-line":e.singleLine,"prepend-inner-icon":e.prependInnerIcon,readonly:""},on:{paste:function(e){e.preventDefault()},"click:clear":function(t){return e.$emit("close")}},model:{value:e.nepaliDate,callback:function(t){e.nepaliDate=t},expression:"nepaliDate"}},a))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},["true"===e.showCalendarChoice?n("v-btn",{attrs:{block:"",depressed:"",tile:"",color:"shade primary--text font-weight-bold"},on:{click:function(t){e.international=!e.international}}},[e._v(" "+e._s(e.international?"NE":"EN")+" ")]):e._e(),e.readOnly||e.international?e._e():n("localized-calendar",{ref:"datePicker",attrs:{"fiscal-year":[],"localized-date":e.localizedDate},on:{"update:localizedDate":function(t){e.localizedDate=t},"update:localized-date":function(t){e.localizedDate=t},"limit-mapping":function(t){e.limitMapping=t}},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}}),!e.readOnly&&e.international?n("v-date-picker",{attrs:{type:e.type,"allowed-dates":e.allowedDates,"no-title":""},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}}):e._e()],1)],1)},i=[],s=n("1da1"),r=(n("b64b"),n("99af"),n("96cf"),n("3bce")),o=n("338b"),l=n("cf45"),c={components:{LocalizedCalendar:r["a"]},mixins:[o["a"]],props:{value:{type:String,default:""},id:{type:String,default:""},type:{type:String,default:"date"},label:{type:String,default:""},disabled:{type:Boolean,default:!1},errorMessages:{type:[String,Array],default:function(){return[]}},dataCyVariable:{type:String,default:""},readOnly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},hint:{type:String,default:""},hideDetails:{type:Boolean,default:!1},singleLine:{type:Boolean,default:!1},appliedClass:{type:String,default:""},prependInnerIcon:{type:String,default:"mdi-calendar-month-outline"}},data:function(){return{menu:!1,date:this.value,nepaliDate:this.value,localizedDate:"",international:"English"===Object(l["f"])("VUE_APP_SET_DEFAULT_CALENDAR_TO"),showCalendarChoice:Object(l["f"])("VUE_APP_SHOW_CALENDAR_CHOICE"),useNepaliDate:localStorage.useNepaliDate,hasConverted:!1}},watch:{value:function(e){this.date=e},date:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e&&"true"===t.useNepaliDate&&t.hasConverted?t.nepaliDate=t.ad2bs(e):t.nepaliDate=e,n.next=3,t.$emit("input",e);case 3:return n.next=5,t.$emit("update:localizedDate",t.localizedDate);case 5:if(!e){n.next=8;break}return n.next=8,t.$emit("blur");case 8:case"end":return n.stop()}}),n)})))()},international:function(e){this.$emit("update:international",e)}},created:function(){this.date&&"true"===this.useNepaliDate&&!this.hasConverted?(this.hasConverted=!0,this.date=this.bs2ad(this.date)):this.date||"true"!==this.useNepaliDate||(this.hasConverted=!0)},methods:{allowedDates:function(e){if("false"===this.showCalendarChoice&&"English"===Object(l["f"])("VUE_APP_SET_DEFAULT_CALENDAR_TO"))return!0;var t=[],n="",a="";t=Object.keys(this.bs),n=t[0],a=t[t.length-1];var i={max:this.bs2ad("".concat(a,"-12-").concat(this.bs[a][11])),min:this.bs2ad("".concat(n,"-01-01"))};return e<=i.max&&e>=i.min}}},u=c,d=n("2877"),p=n("6544"),m=n.n(p),f=n("8336"),h=n("2e4b"),v=n("e449"),g=n("8654"),y=Object(d["a"])(u,a,i,!1,null,null,null);t["default"]=y.exports;m()(y,{VBtn:f["a"],VDatePicker:h["a"],VMenu:v["a"],VTextField:g["a"]})},"7df2":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("vue-page-wrapper",{attrs:{"bread-crumbs":e.breadCrumbItems,title:e.htmlTitle}},[n("v-card",[n("form-list",{attrs:{view:"response",as:"hr"}})],1)],1)},i=[],s=n("0549"),r=n("4365"),o={components:{FormList:r["a"],VuePageWrapper:s["default"]},data:function(){return{htmlTitle:"Response | Survey & Forms | Admin",breadCrumbItems:[{text:"Survey & Forms",disabled:!0},{text:"Response",disabled:!0}]}}},l=o,c=n("2877"),u=n("6544"),d=n.n(u),p=n("b0af"),m=Object(c["a"])(l,a,i,!1,null,null,null);t["default"]=m.exports;d()(m,{VCard:p["a"]})},"7e77":function(e,t,n){"use strict";n("99af");t["a"]={getEmploymentType:function(e){return"/org/".concat(e,"/employment/status/")},postEmploymentType:function(e){return"/org/".concat(e,"/employment/status/")},getEmploymentStatusDetail:function(e,t){return"/org/".concat(e,"/employment/status/").concat(t,"/")},updateEmploymentType:function(e,t){return"/org/".concat(e,"/employment/status/").concat(t,"/")},deleteEmploymentType:function(e,t){return"/org/".concat(e,"/employment/status/").concat(t,"/")},downloadSampleEmploymentType:function(e){return"/org/".concat(e,"/employment/status/import/sample")},importEmploymentType:function(e){return"/org/".concat(e,"/employment/status/import/")}}},"843f":function(e,t,n){},"86eb":function(e,t,n){"use strict";n("99af");t["a"]={getJobTitle:function(e){return"/org/".concat(e,"/employment/job-title/")},postJobTitle:function(e){return"/org/".concat(e,"/employment/job-title/")},getJobTitleDetail:function(e,t){return"/org/".concat(e,"/employment/job-title/").concat(t,"/")},updateJobTitle:function(e,t){return"/org/".concat(e,"/employment/job-title/").concat(t,"/")},deleteJobTitle:function(e,t){return"/org/".concat(e,"/employment/job-title/").concat(t,"/")},importJobTitle:function(e){return"/org/".concat(e,"/employment/job-title/import/")},downloadSampleJobTitle:function(e){return"/org/".concat(e,"/employment/job-title/import/sample")}}},"8cd3":function(e,t,n){"use strict";var a=n("5530"),i=(n("d3b7"),n("f0d5"));t["a"]={mixins:[i["a"]],data:function(){return{dataTableEndpoint:"",fetchedResults:[],response:null,footerProps:{itemsPerPageOptions:[10,20,30,40,50,100]},pagination:{sortBy:["modified_at"],descending:!1,totalItems:0,page:1,rowsPerPage:10,pageCount:0},loadTableOnInit:!0}},computed:{filterParams:function(){var e=Object(a["a"])(Object(a["a"])({},this.dataTableFilter),{},{offset:(this.pagination.page-1)*this.pagination.rowsPerPage,limit:this.pagination.rowsPerPage,ordering:this.pagination.descending?this.pagination.sortBy:"-"+this.pagination.sortBy});return this.convertToURLSearchParams(e,!1)}},watch:{filterParams:function(){var e=this;this.$nextTick((function(){e.fetchDataTable()}))},dataTableFilter:function(){this.pagination.page=1}},created:function(){var e=this;setTimeout((function(){e.loadTableOnInit&&e.fetchDataTable()}),0)},methods:{fetchDataTable:function(e,t){var n=this;return new Promise((function(a,i){!e&&!n.dataTableEndpoint||n.loading||(n.loadTableOnInit=!1,n.loading=!0,n.fetchedResults=[],n.$http.get(e||n.dataTableEndpoint,t||{params:n.filterParams}).then((function(e){n.response=e,n.fetchedResults=e.results,n.pagination.totalItems=e.count,n.processAfterTableLoad(e),a(e),n.loading=!1})).catch((function(e){n.pushErrors(e),n.notifyInvalidFormResponse(),i(e),n.loading=!1})))}))},processAfterTableLoad:function(){}}}},9815:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{width:"500",persistent:"",scrollable:""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.$emit("input",!1)}},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("vue-card-title",{attrs:{title:e.title,subtitle:"List of Employees",icon:"mdi-account-group-outline",dark:"",closable:""},on:{close:function(t){return e.$emit("input",!1)}}}),n("v-divider"),e.headerInfo?n("v-list",{staticClass:"primaryLight pl-9 pr-5 py-0"},[n("v-list-item",[n("v-list-item-content",{staticClass:"text-body-1",attrs:{md:"5"}},[e._v(" Name ")]),n("v-list-item-action",{staticClass:"text-body-1 text-center"},[e._v(" "+e._s(e.headerInfo)+" ")])],1)],1):e._e(),n("v-divider"),n("v-card-text",{staticClass:"pb-0"},[e.endpoint||0!==e.users.length?e._e():n("div",[n("vue-no-data")],1),e.userInstance&&e.userInstance.length?n("v-list",e._l(e.userInstance,(function(t){return n("v-list-item",{key:t.id},[n("v-list-item-content",[n("vue-user",{attrs:{user:t.liked_by||t.user||t}})],1),e._l(e.infoList,(function(a,i){return[n("v-list-item-action",{key:i},[n("span",[i>0?n("span",[n("span",[e._v("|")])]):e._e(),e._v(" "+e._s(t[a])+" ")])])]})),n("v-list-item-action",[e._t("info",null,{user:t})],2)],2)})),1):e._e(),e.dialog&&e.endpoint?n("div",[n("infinite-loading-base",{attrs:{endpoint:e.endpoint,"response-key":e.responseKey},on:{setInfiniteResponse:e.setInfiniteResponse}})],1):e._e()],1)],1)],1)},i=[],s=n("2909"),r=(n("99af"),n("e585")),o=n("02cb"),l=n("cdd1"),c={components:{VueUser:o["default"],VueNoData:r["default"],InfiniteLoadingBase:l["a"]},extends:l["a"],props:{value:{type:Boolean,default:!1},users:{type:Array,default:function(){return[]}},title:{type:String,default:"List Of Employees"},infoList:{type:Array,default:function(){return[]}},endpoint:{type:String,default:""},headerInfo:{type:String,default:""},responseKey:{type:String,default:"results"}},data:function(){return{userInstance:[],dialog:this.value,fetched:!this.endpoint}},watch:{value:function(e){this.dialog=e,this.userInstance=this.users}},created:function(){this.userInstance=Object(s["a"])(this.users)},methods:{setInfiniteResponse:function(e){this.userInstance=this.userInstance.concat(e[this.responseKey])}}},u=c,d=n("2877"),p=n("6544"),m=n.n(p),f=n("b0af"),h=n("99d9"),v=n("169a"),g=n("ce7e"),y=n("8860"),b=n("da13"),_=n("1800"),x=n("5d23"),w=Object(d["a"])(u,a,i,!1,null,null,null);t["default"]=w.exports;m()(w,{VCard:f["a"],VCardText:h["c"],VDialog:v["a"],VDivider:g["a"],VList:y["a"],VListItem:b["a"],VListItemAction:_["a"],VListItemContent:x["a"]})},"983c":function(e,t,n){"use strict";n("d3b7");t["a"]={methods:{getData:function(e,t,n){var a=this,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Promise((function(s,r){!a.loading&&e&&(a.clearNonFieldErrors(),a.$validator.errors.clear(),a.loading=i,a.$http.get(e,n||{params:t||{}}).then((function(e){s(e),a.loading=!1})).catch((function(e){a.pushErrors(e),a.notifyInvalidFormResponse(),r(e),a.loading=!1})))}))},getBlockingData:function(e,t,n){var a=this;return new Promise((function(i,s){a.getData(e,t,n,!0).then((function(e){i(e)})).catch((function(e){s(e)}))}))}}}},a51f:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.search.length>0?n("span",[e._v(' Your search for "'+e._s(e.search)+'" found no results. ')]):e.loading?n("v-skeleton-loader",{attrs:{type:"table",height:e.skeletonLoaderHeight}}):n("no-data-found",{attrs:{text:e.text,height:e.height}},[e._t("default")],2)],1)},i=[],s=(n("a9e3"),n("e585")),r={components:{NoDataFound:s["default"]},props:{search:{type:String,default:""},loading:{type:Boolean,required:!0},text:{type:String,default:"No data available at the moment"},height:{type:[String,Number],default:200},skeletonLoaderHeight:{type:[String,Number],default:void 0}}},o=r,l=n("2877"),c=n("6544"),u=n.n(c),d=n("3129"),p=Object(l["a"])(o,a,i,!1,null,null,null);t["default"]=p.exports;u()(p,{VSkeletonLoader:d["a"]})},ab8a:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.changeType&&0!==e.nonFieldErrors.length?n("div",e._l(e.nonFieldErrors,(function(t,a){return n("v-col",{key:a},e._l(t,(function(t,a){return n("div",{key:a},[n("span",{domProps:{textContent:e._s(e.key)}}),n("span",{domProps:{textContent:e._s(t.toString())}})])})),0)})),1):e._e(),e.changeType||0===e.nonFieldErrors.length?e._e():n("v-alert",{staticClass:"ma-3",attrs:{outlined:"",dense:"",tile:"",dismissible:"",color:"danger"}},[n("span",{domProps:{textContent:e._s("There are some errors")}}),e._l(e.nonFieldErrors,(function(t,a){return n("div",{key:a},e._l(t,(function(t,a){return n("div",{key:a},[n("ul",[n("li",[n("span",{domProps:{textContent:e._s(e.key)}}),n("span",{domProps:{textContent:e._s(t.toString())}})])])])})),0)}))],2)],1)},i=[],s={props:{nonFieldErrors:{type:Array,required:!0},changeType:{type:Boolean,default:!1}},data:function(){return{key:""}}},r=s,o=n("2877"),l=n("6544"),c=n.n(l),u=n("0798"),d=n("62ad"),p=Object(o["a"])(r,a,i,!1,null,null,null);t["default"]=p.exports;c()(p,{VAlert:u["a"],VCol:d["a"]})},abd3:function(e,t,n){},acd4:function(e,t,n){"use strict";n("99af");t["a"]={getQuestions:function(e){return"/forms/".concat(e,"/question-set/")},getQuestionSet:function(e){return"/forms/".concat(e,"/question-set/")},getQuestionSetDetail:function(e,t){return"forms/".concat(e,"/question-set/").concat(t,"/")},createQuestionSet:function(e){return"/forms/".concat(e,"/question-set/")},updateQuestionSet:function(e,t){return"/forms/".concat(e,"/question-set/").concat(t,"/")},removeQuestionSet:function(e,t){return"/forms/".concat(e,"/question-set/").concat(t,"/")},getQuestionsOnQuestionSet:function(e,t){return"/forms/".concat(e,"/question-set/").concat(t,"/questions/")},createQuestionSection:function(e,t){return"/forms/".concat(e,"/question-set/").concat(t,"/section/")},updateQuestionSection:function(e,t,n){return"/forms/".concat(e,"/question-set/").concat(t,"/section/").concat(n,"/")},removeQuestionSection:function(e,t,n){return"/forms/".concat(e,"/question-set/").concat(t,"/section/").concat(n,"/")},getQuestionsBySection:function(e,t,n){return"forms/".concat(e,"/question-set/").concat(t,"/section/").concat(n,"/question/")},postQuestionsInSection:function(e,t,n){return"forms/".concat(e,"/question-set/").concat(t,"/section/").concat(n,"/question/")},removeQuestionFromSection:function(e,t,n,a){return"forms/".concat(e,"/question-set/").concat(t,"/section/").concat(n,"/question/").concat(a,"/")}}},afd6:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[""!==e.as?n("vue-card-title",{attrs:{icon:"mdi-form-select",title:"approver"===e.as?"Survey & Forms Approval":"Survey & Forms Response",subtitle:"approver"===e.as?"This is the list of survey and forms for approval":"This is the list of survey and forms response."}},[n("template",{slot:"actions"},["hr"===e.as?n("v-btn",{attrs:{color:"primary",small:""},on:{click:function(t){return e.$emit("show-list")}}},[e._v(" Back ")]):e._e(),"anonymous_response"!==e.selectedResponse?n("v-btn",{attrs:{icon:""},on:{click:function(t){e.showFilters=!e.showFilters,e.$emit("update:show-filters",e.showFilters)}}},[n("v-icon",{attrs:{small:""},domProps:{textContent:e._s("mdi-filter-variant")}})],1):e._e()],1)],2):e._e(),""!==e.as?n("v-divider"):e._e(),n("v-slide-y-transition",[n("div",{directives:[{name:"show",rawName:"v-show",value:e.showFilters||e.showUserFilters,expression:"showFilters || showUserFilters"}]},[n("v-row",{staticClass:"px-3"},["hr"!==e.as?n("v-col",[n("vue-search",{attrs:{search:e.form_name_search,label:"Search Survey and Forms"},on:{"update:search":function(t){e.form_name_search=t}},model:{value:e.form_name_search,callback:function(t){e.form_name_search=t},expression:"form_name_search"}})],1):e._e(),n("v-col",[n("vue-search",{directives:[{name:"show",rawName:"v-show",value:e.showFilters&&"hr"===e.as&&"anonymous_response"!==e.selectedResponse,expression:"\n              showFilters &&\n              as === 'hr' &&\n              selectedResponse !== 'anonymous_response'\n            "}],attrs:{search:e.employee_name_search,label:"Search Employee"},on:{"update:search":function(t){e.employee_name_search=t}},model:{value:e.employee_name_search,callback:function(t){e.employee_name_search=t},expression:"employee_name_search"}})],1)],1),n("v-divider")],1)]),"user_response"===e.selectedResponse?n("v-tabs",{attrs:{value:e.activeStatus,"slider-color":"blue","show-arrows":"",expand:""}},e._l(e.statusTabs,(function(t,a){return n("v-tab",{key:a,attrs:{disabled:e.loading,ripple:""},on:{click:function(n){e.selectedStatus=t.value}}},[n("span",{staticClass:"mr-2 text-capitalize"},[e._v(" "+e._s(t.text)+" ")]),n("v-chip",{attrs:{color:t.colors,"text-color":"white",small:""}},[e._v(" "+e._s(e.stats[t.value]||0)+" ")])],1)})),1):e._e(),n("v-divider"),n("v-data-table",{attrs:{headers:e.headers,items:e.fetchedResults,"sort-desc":e.pagination.descending,"sort-by":e.pagination.sortBy,page:e.pagination.page,"items-per-page":e.pagination.rowsPerPage,"footer-props":e.footerProps,"server-items-length":e.pagination.totalItems,"must-sort":"","mobile-breakpoint":0,"item-key":"id"},on:{"update:sortDesc":function(t){return e.$set(e.pagination,"descending",t)},"update:sort-desc":function(t){return e.$set(e.pagination,"descending",t)},"update:sortBy":function(t){return e.$set(e.pagination,"sortBy",t)},"update:sort-by":function(t){return e.$set(e.pagination,"sortBy",t)},"update:page":function(t){return e.$set(e.pagination,"page",t)},"update:itemsPerPage":function(t){return e.$set(e.pagination,"rowsPerPage",t)},"update:items-per-page":function(t){return e.$set(e.pagination,"rowsPerPage",t)}},scopedSlots:e._u([{key:"item",fn:function(t){return[n("tr",[""!==e.as&&"user_response"===e.selectedResponse?n("td",[n("vue-user",{attrs:{user:t.item.user}})],1):e._e(),n("td",[e._v(e._s(t.item.form_name))]),n("td",[n("div",{staticClass:"font-weight-medium"},[e._v(" "+e._s(e.humanizeDate(t.item.deadline))+" ")]),n("div",{staticClass:"grey--text"},[e._v(" "+e._s(e.humanizeTime(t.item.deadline))+" ")])]),n("td",[n("div",["user_response"===e.selectedResponse?n("v-chip",{staticClass:"white--text text-capitalize",attrs:{color:e.statusTabs.find((function(e){return e.value===t.item.status})).colors,small:""}},[e._v(" "+e._s(t.item.status)+" ")]):n("v-chip",{staticClass:"white--text text-capitalize",attrs:{color:"green",small:""}},[e._v(" Approved ")])],1)]),n("td",[n("vue-context-menu",{attrs:{"context-list":[{name:"View Survey & Forms",icon:"mdi-clipboard-check-outline",color:"info"},{name:"Remarks History",icon:"mdi-history",color:"info",hide:"anonymous_response"===e.selectedResponse}]},on:{click0:function(n){return e.viewQuestionForm(t.item)},click1:function(n){return e.viewQuestionForm(t.item,!0)}}})],1)])]}}])},[n("template",{slot:"no-data"},[n("data-table-no-data",{attrs:{loading:e.loading}})],1)],2),e.showHistory?n("v-bottom-sheet",{attrs:{persistent:""},model:{value:e.showHistory,callback:function(t){e.showHistory=t},expression:"showHistory"}},[n("remarks-history",{attrs:{"history-data":e.formData.history},on:{close:function(t){e.showHistory=!1},cancel:function(t){e.showHistory=!1}}})],1):e._e(),e.showQuestion?n("v-dialog",{attrs:{persistent:"",scrollable:"",width:"920"},on:{keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;e.showQuestion=!1}},model:{value:e.showQuestion,callback:function(t){e.showQuestion=t},expression:"showQuestion"}},[n("v-card",[n("vue-card-title",{attrs:{icon:"mdi-form-select",title:"Survey and Forms Response",subtitle:"",closable:""},on:{close:function(t){e.showQuestion=!1}}}),n("v-divider"),e.nonFieldErrors?n("non-field-form-errors",{attrs:{"non-field-errors":e.nonFieldErrors}}):e._e(),n("v-card-text",{staticClass:"scrollbar-lg"},[n("v-row",[n("v-col",{staticClass:"pb-0 blueGrey--text font-weight-bold",attrs:{cols:"12"}},[e._v(e._s(e.selectedForm.form_name))]),e.formData.description?n("v-col",{staticClass:"py-0"},[n("span",{domProps:{innerHTML:e._s(e.$sanitize(e.formData.description))}})]):e._e()],1),e.formData.question_answer&&!e.isObjectEmpty(e.formData.question_answer)?n("questions-list",{attrs:{"question-details":e.formData.question_answer,"updated-list":e.updatedQuestions,"read-only":!(""===e.as&&"draft"===e.formData.status)},on:{"update:updatedList":function(t){e.updatedQuestions=t},"update:updated-list":function(t){e.updatedQuestions=t}}}):e._e(),"approver"===e.as&&"pending"===e.formData.status?n("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required|max:255",expression:"'required|max:255'"}],attrs:{counter:"255"},model:{value:e.remarks,callback:function(t){e.remarks=t},expression:"remarks"}},"v-text-field",e.veeValidate("remarks","Remarks *"),!1)):e._e()],1),n("v-divider"),""===e.as&&"draft"===e.formData.status?n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{type:"submit",color:"primary"},on:{click:function(t){return e.submitDraftForm(!0)}}},[e._v(" Save As Draft ")]),n("v-btn",{attrs:{type:"submit",color:"primary"},on:{click:function(t){return e.submitDraftForm(!1)}}},[e._v(" Submit ")])],1):e._e(),"approver"===e.as&&"pending"===e.formData.status?n("v-card-actions",[n("v-spacer"),n("v-btn",{staticClass:"green white--text",attrs:{small:""},domProps:{textContent:e._s("Approve")},on:{click:function(t){return e.submitForm("approved")}}}),n("v-btn",{staticClass:"red white--text",attrs:{small:""},domProps:{textContent:e._s("Deny")},on:{click:function(t){return e.submitForm("denied")}}})],1):e._e()],1)],1):e._e()],1)},i=[],s=(n("a434"),n("e4bf")),r=n("a51f"),o=n("983c"),l=n("f70a"),c=n("8cd3"),u=n("249b"),d=n("fb6e"),p=n("04a5"),m=n("02cb"),f={components:{VueUser:m["default"],RemarksHistory:p["a"],QuestionsList:d["default"],DataTableNoData:r["default"],VueContextMenu:s["default"]},mixins:[c["a"],o["a"],l["a"]],props:{as:{type:String,default:""},endpoint:{type:String,default:""},showUserFilters:{type:Boolean,default:!1},formName:{type:String,default:""},isAnonymous:{type:Boolean,default:!1}},data:function(){return{stats:{},statusTabs:[{text:"Pending",value:"pending",colors:"warning"},{text:"In Progress",value:"in progress",colors:"info"},{text:"Approved",value:"approved",colors:"green"},{text:"Denied",value:"denied",colors:"danger"},{text:"All",colors:"indigo accent-3",value:"total"}],selectedForm:"",headers:[{text:"Title",value:"form_name"},{text:"Deadline",value:"deadline"},{text:"Status",value:"status",sortable:!1},{text:"Action",value:"",sortable:!1,width:"10%"}],selectedStatus:"pending",selectedResponse:this.isAnonymous?"anonymous_response":"user_response",activeStatus:0,showQuestion:!1,showHistory:!1,showFilters:!1,form_name_search:this.formName,employee_name_search:"",formData:{},updatedQuestions:{},remarks:""}},computed:{dataTableFilter:function(){return{as:this.as||"",status:"total"===this.selectedStatus?"":this.selectedStatus,form_name:this.form_name_search,search:this.employee_name_search}}},watch:{selectedResponse:function(e){"user_response"===e?(this.dataTableEndpoint=u["a"].getFormResponse(this.getOrganizationSlug),this.headers.unshift({text:"Employee",value:"user"})):(this.dataTableEndpoint=u["a"].getAnonymousFormResponse(this.getOrganizationSlug),this.headers.splice(0,1)),this.fetchDataTable()}},created:function(){"hr"!==this.as||this.verifyPermission(this.allPermissions.CAN_VIEW_USER_FORM_SUBMISSION)||(this.selectedResponse="anonymous_response"),""===this.as||this.isAnonymous?this.isAnonymous?this.selectedStatus="":(this.selectedStatus="draft",this.statusTabs.unshift({text:"Draft",value:"draft",colors:"cyan"})):this.headers.unshift({text:"Employee",value:"user"}),this.dataTableEndpoint=this.endpoint?this.endpoint:this.isAnonymous?u["a"].getAnonymousFormResponse(this.getOrganizationSlug):u["a"].getFormResponse(this.getOrganizationSlug)},methods:{viewQuestionForm:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a="";a="user_response"===this.selectedResponse?u["a"].getFormResponseDetail(this.getOrganizationSlug,e.id)+"?as=".concat(this.as):u["a"].getAnonymousFormResponseDetail(this.getOrganizationSlug,e.id)+"?as=".concat(this.as),this.getData(a).then((function(a){t.formData=a||{},n?t.showHistory=!0:t.showQuestion=!0,t.selectedForm=e}))},processAfterTableLoad:function(e){this.stats=e.stats||{}},submitForm:function(e){var t=this;this.crud.message="Successfully ".concat(e," survey & forms."),this.insertData(u["a"].approveDenyFormResponse(this.getOrganizationSlug,this.selectedForm.id),{action:e,remarks:this.remarks}).then((function(){t.showQuestion=!1,t.remarks="",t.fetchDataTable()}))},submitDraftForm:function(e){var t=this;this.crud.message="Successfully ".concat(e?"saved":"submitted"," survey & forms."),this.putData(u["a"].postFormResponseDetail(this.getOrganizationSlug,this.selectedForm.id),{question:this.updatedQuestions,is_draft:e}).then((function(){t.showQuestion=!1,t.fetchDataTable()}))},humanizeDate:function(e){return e=this.$dayjs(e).format("YYYY-MM-DD"),"Invalid Date"===e?"":e},humanizeTime:function(e){var t=this.$dayjs(e).format("h:mm:ss A");return"Invalid Date"===t?"N/A":t}}},h=f,v=n("2877"),g=n("6544"),y=n.n(g),b=n("288c"),_=n("8336"),x=n("b0af"),w=n("99d9"),k=n("cc20"),S=n("62ad"),C=n("8fea"),D=n("169a"),q=n("ce7e"),A=n("132d"),F=n("0fd9b"),V=n("0789"),T=n("2fa4"),O=n("71a3"),E=n("fe57"),L=n("8654"),$=Object(v["a"])(h,a,i,!1,null,null,null);t["a"]=$.exports;y()($,{VBottomSheet:b["a"],VBtn:_["a"],VCard:x["a"],VCardActions:w["a"],VCardText:w["c"],VChip:k["a"],VCol:S["a"],VDataTable:C["a"],VDialog:D["a"],VDivider:q["a"],VIcon:A["a"],VRow:F["a"],VSlideYTransition:V["g"],VSpacer:T["a"],VTab:O["a"],VTabs:E["a"],VTextField:L["a"]})},b52e:function(e,t,n){},c197:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.divClass},[n("v-img",{class:e.imgClass,attrs:{src:"/svg/three-dots.svg",height:e.height,contain:""}}),n("h3",{staticClass:"text-center grey--text",domProps:{textContent:e._s(e.message)}})],1)},i=[],s={props:{message:{type:String,default:"Please wait. Fetching data just for you ..."},divClass:{type:String,default:"pa-12"},imgClass:{type:String,default:"my-6"},height:{type:String,default:"20"}},data:function(){return{}}},r=s,o=n("2877"),l=n("6544"),c=n.n(l),u=n("adda"),d=Object(o["a"])(r,a,i,!1,null,null,null);t["default"]=d.exports;c()(d,{VImg:u["a"]})},e4bf:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.contextList.filter((function(e){return!e.hide})).length<3&&!e.hideIcons||e.showIcons?n("div",e._l(e.contextList,(function(t,a){return n("span",{key:a},[t.hide?e._e():n("v-tooltip",{attrs:{disabled:e.$vuetify.breakpoint.xs,top:""},scopedSlots:e._u([{key:"activator",fn:function(i){var s=i.on;return[n("v-btn",e._g({staticClass:"mx-0",attrs:{text:"",width:e.small?"18":"22",depressed:"",icon:""}},s),[n("v-icon",{attrs:{disabled:t.disabled,color:t.color,"data-cy":e.dataCyVariable+"btn-dropdown-menu-item-"+(a+1),dark:!t.disabled,small:e.small,size:"20",dense:""},domProps:{textContent:e._s(t.icon)},on:{click:function(t){return e.$emit("click"+a)}}})],1)]}}],null,!0)},[n("span",{domProps:{textContent:e._s(t.disabled&&t.disable_message||t.name)}})])],1)})),0):n("v-menu",{attrs:{"offset-y":"",left:"",transition:"slide-y-transition"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{small:"",text:"",icon:""}},a),[n("v-icon",{attrs:{"data-cy":"btn-dropdown-menu"},domProps:{textContent:e._s("mdi-dots-vertical")}})],1)]}}])},e._l(e.contextList,(function(t,a){return n("v-list",{key:a,staticClass:"pa-0",attrs:{dense:""}},[t.hide?e._e():n("div",[t.disabled?n("v-list-item",{attrs:{"data-cy":"btn-dropdown-menu-item"}},[n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(a){var i=a.on;return[n("v-list-item-title",e._g({},i),[n("v-icon",{attrs:{disabled:"",small:"",color:t.color},domProps:{textContent:e._s(t.icon)}}),n("span",{staticClass:"ml-1 grey--text",domProps:{textContent:e._s(t.name)}})],1)]}}],null,!0)},[n("span",{domProps:{textContent:e._s(t.disabled&&t.disable_message||t.name)}})])],1):n("v-list-item",{attrs:{"data-cy":"btn-dropdown-menu-item"},on:{click:function(t){return e.$emit("click"+a)}}},[n("v-list-item-title",[n("v-icon",{attrs:{color:t.color,small:"",dense:""},domProps:{textContent:e._s(t.icon)}}),n("span",{staticClass:"ml-1",class:t.text_color,domProps:{textContent:e._s(t.name)}})],1)],1)],1)])})),1)],1)},i=[],s={name:"VueContextMenu",props:{contextList:{type:Array,default:function(){return[]}},dataCyVariable:{type:String,default:""},showIcons:{type:Boolean,default:!1},hideIcons:{type:Boolean,default:!1},small:{type:Boolean,default:!1}}},r=s,o=n("2877"),l=n("6544"),c=n.n(l),u=n("8336"),d=n("132d"),p=n("8860"),m=n("da13"),f=n("5d23"),h=n("e449"),v=n("3a2f"),g=Object(o["a"])(r,a,i,!1,null,"71ee785c",null);t["default"]=g.exports;c()(g,{VBtn:u["a"],VIcon:d["a"],VList:p["a"],VListItem:m["a"],VListItemTitle:f["c"],VMenu:h["a"],VTooltip:v["a"]})},e59e:function(e,t,n){"use strict";n("99af");t["a"]={getBranch:function(e){return"/org/".concat(e,"/branch/")},postBranch:function(e){return"/org/".concat(e,"/branch/")},getBranchDetail:function(e,t){return"/org/".concat(e,"/branch/").concat(t,"/")},updateBranch:function(e,t){return"/org/".concat(e,"/branch/").concat(t,"/")},deleteBranch:function(e,t){return"/org/".concat(e,"/branch/").concat(t,"/")},importBranch:function(e){return"/org/".concat(e,"/branch/import/")},downloadSampleBranch:function(e){return"/org/".concat(e,"/branch/import/sample")},exportBranch:function(e){return"/org/".concat(e,"/branch/export")},branchType:function(e){return"/org/".concat(e,"/branch-type")},branchTypeDetail:function(e,t){return"org/".concat(e,"/branch-type/").concat(t)}}},ec30:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition",absolute:"","offset-y":"","offset-x":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("div",[n("v-text-field",e._g({class:e.customClass,attrs:{id:e.id,messages:e.messages,label:e.label,error:e.errorMessages.length>0,"error-message":e.errorMessages,disabled:e.disabled,clearable:"",flat:"","data-cy":"time-picker-"+e.dataCyVariable,"hide-details":e.hideDetails,readonly:"","clear-icon":"mdi-close","prepend-inner-icon":e.prependInnerIcon},on:{"click:append":e.resetDateTime,input:function(t){return e.$emit("blur")}},model:{value:e.dateTime,callback:function(t){e.dateTime=t},expression:"dateTime"}},a)),e.errorMessages.length>0?n("span",{staticClass:"danger--text"},[e._v(" "+e._s(e.errorMessages[0])+" ")]):e._e()],1)]}}]),model:{value:e.showPicker,callback:function(t){e.showPicker=t},expression:"showPicker"}},[n("v-card",[n("v-responsive",{attrs:{width:"200"}},[n("div",[n("div",{staticClass:"text-center font-weight-black pa-2"},[e._v("Time")])]),n("v-divider"),n("v-row",{staticClass:"d-flex mx-3",attrs:{id:"time-picker","no-gutters":""}},[n("v-col",[n("v-text-field",{attrs:{mask:"##"},model:{value:e.hour,callback:function(t){e.hour=t},expression:"hour"}})],1),n("v-col",{staticClass:"text-center"},[n("div",{staticClass:"mt-6",domProps:{textContent:e._s(":")}})]),n("v-col",[n("v-text-field",{attrs:{mask:"##"},model:{value:e.minute,callback:function(t){e.minute=t},expression:"minute"}})],1)],1),n("v-divider"),n("v-row",{attrs:{align:"center",justify:"center","no-gutters":""}},[n("v-col",{staticClass:"text-center"},[n("div",[n("v-btn",{attrs:{icon:""},on:{click:function(t){return e.changeHour("increment")}}},[n("v-icon",[e._v(" mdi-chevron-up ")])],1)],1),n("v-btn",{attrs:{icon:""}},[e._v(" "+e._s(e.hour)+" ")]),n("div",[n("v-btn",{attrs:{icon:""},on:{click:function(t){return e.changeHour("decrement")}}},[n("v-icon",[e._v(" mdi-chevron-down ")])],1)],1)],1),n("span",{domProps:{textContent:e._s(":")}}),n("v-col",{staticClass:"text-center"},[n("div",[n("v-btn",{attrs:{icon:""},on:{click:function(t){return e.changeMinute("increment")}}},[n("v-icon",[e._v(" mdi-chevron-up ")])],1)],1),n("v-btn",{attrs:{icon:""}},[e._v(" "+e._s(e.minute)+" ")]),n("div",[n("v-btn",{attrs:{icon:""},on:{click:function(t){return e.changeMinute("decrement")}}},[n("v-icon",[e._v(" mdi-chevron-down ")])],1)],1)],1)],1)],1)],1)],1)},i=[],s=(n("ac1f"),n("1276"),n("d3b7"),n("25f0"),{props:{placeHolder:{type:String,required:!1,default:function(){return"HH:MM:SS"}},messages:{type:Array,required:!1,default:function(){return[]}},dataCyVariable:{type:String,default:""},value:{type:String,default:void 0},id:{type:String,default:""},label:{type:String,default:""},errorMessages:{type:[String,Array],default:function(){return[]}},customClass:{type:[String],default:""},prependInnerIcon:{type:String,default:"mdi-clock-outline"},defaultValue:{validator:function(e){if(""===e)return!0;var t=e.split(":");return 2===t.length&&2===t[0].length&&2===t[1].length},type:String,required:!1,default:""},disabled:{type:Boolean,default:!1},hideDetails:{type:Boolean,default:!1}},data:function(){return{showPicker:!1,menu:!1,date:"",dateTime:"",hour:"",minute:"",seconds:"00"}},computed:{time:function(){return this.hour&&this.minute?this.hour+":"+this.minute:""}},watch:{value:function(e){this.dateTime=e},hour:function(e){var t=this;e=parseInt(e),e>23&&(this.hour=23),e<0&&(this.hour=23),this.setDate(),"00"!==e.toString()&&"0"!==e.toString()&&!1===isNaN(e)&&setTimeout((function(){t.hour=(t.hour<10&&t.hour.toString().length<2?"0":"")+t.hour.toString()}),1e3)},minute:function(e){var t=this;e=parseInt(e),e>59&&(this.minute=59),e<0&&(this.minute=0),this.setDate(),"00"!==e.toString()&&"0"!==e.toString()&&!1===isNaN(e)&&setTimeout((function(){t.minute=(t.minute<10&&t.minute.toString().length<2?"0":"")+t.minute.toString()}),1e3)},dateTime:function(e){this.$emit("input",e)},showPicker:function(e){!this.dateTime&&e&&(this.defaultValue?(this.hour=this.defaultValue.split(":")[0],this.minute=this.defaultValue.split(":")[1]):this.dateTime||(this.hour=this.$dayjs().format("HH"),this.minute=this.$dayjs().format("mm"),this.hour=this.defaultTime.split(":")[0]||this.$dayjs().format("HH:mm"),this.minute=this.defaultTime.split(":")[1]||this.$dayjs().format("mm"),this.setDate()))}},created:function(){this.value&&(this.hour=this.value.split(":")[0],this.minute=this.value.split(":")[1])},methods:{changeHour:function(e){this.hour=parseInt(this.hour),"increment"===e?23===this.hour?this.hour=0:this.hour+=1:0===this.hour?this.hour=23:this.hour-=1},changeMinute:function(e){this.minute=parseInt(this.minute),"increment"===e?59===this.minute?(this.minute=0,this.changeHour("increment")):this.minute+=1:0===this.minute?(this.minute=59,this.changeHour("decrement")):this.minute-=1},setDate:function(){this.dateTime=this.time||""},resetDateTime:function(){this.showPicker=!1,this.dateTime="",this.$emit("click:append")}}}),r=s,o=(n("03e7"),n("2877")),l=n("6544"),c=n.n(l),u=n("8336"),d=n("b0af"),p=n("62ad"),m=n("ce7e"),f=n("132d"),h=n("e449"),v=n("6b53"),g=n("0fd9b"),y=n("8654"),b=Object(o["a"])(r,a,i,!1,null,null,null);t["a"]=b.exports;c()(b,{VBtn:u["a"],VCard:d["a"],VCol:p["a"],VDivider:m["a"],VIcon:f["a"],VMenu:h["a"],VResponsive:v["a"],VRow:g["a"],VTextField:y["a"]})},edc0:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return r}));n("4d63"),n("ac1f"),n("25f0"),n("a9e3"),n("1276"),n("35b3");var a=function(e){var t=new RegExp("^(\\-|\\+)?([0-9]+(\\.[0-9]+)?|Infinity)$","g");return t.test(e)?Number(e):NaN},i=function(e){e=e||window.event;var t=e.which?e.which:e.keyCode;if(!(t>31&&(t<48||t>57)&&46!==t))return!0;e.preventDefault()},s=function(e,t){if(e){var n=!0;if(e.indexOf(".")>=0&&(n=e.split(".")[1].length<2),n||!t)return n;t.preventDefault()}},r=function(e){return Math.round(100*(Number(e)+Number.EPSILON))/100}},ef8c:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-autocomplete",{class:e.appliedClass,attrs:{items:e.itemsSorted,loading:e.isLoading,"search-input":e.search,multiple:e.multiple,label:e.label,error:e.errorMessages.length>0,"error-messages":e.errorMessages,disabled:e.disabled,"prepend-inner-icon":e.prependInnerIcon,clearable:e.clearable&&!e.readonly,readonly:!!e.readonly,"hide-details":e.hideDetails,"data-cy":"input-user-autocomplete-"+e.dataCyVariable,placeholder:e.placeholder,"hide-selected":"","hide-no-data":"","item-text":"full_name","item-value":"id"},on:{"update:searchInput":function(t){e.search=t},"update:search-input":function(t){e.search=t},blur:function(t){return e.$emit("blur")}},scopedSlots:e._u([{key:"selection",fn:function(t){return[n("v-chip",{attrs:{"input-value":t.selected,close:(e.clearable||!e.clearable&&!e.multiple)&&!e.readonly,small:""},on:{"click:close":function(n){return e.remove(t.item)}}},[n("v-avatar",{attrs:{left:""}},[n("v-img",{attrs:{src:t.item.profile_picture,cover:""}})],1),e._v(" "+e._s(e._f("truncate")(t.item.full_name,e.truncate))+" ")],1)]}},{key:"item",fn:function(t){var a=t.item;return[n("v-list-item-avatar",[n("v-avatar",{attrs:{size:"30"}},[n("v-img",{attrs:{src:a.profile_picture,cover:""}})],1)],1),n("v-list-item-content",[n("v-list-item-title",[e._v(" "+e._s(e._f("truncate")(a.full_name,20))+" "),a.employee_code?n("span",[e._v("("+e._s(a.employee_code)+")")]):e._e()]),a.division?n("v-list-item-subtitle",{domProps:{textContent:e._s(a.division)}}):e._e()],1)]}}]),model:{value:e.selectedData,callback:function(t){e.selectedData=t},expression:"selectedData"}})],1)},i=[],s=n("53ca"),r=(n("a9e3"),n("ac1f"),n("841c"),n("4e827"),n("2ca0"),n("d81d"),n("a434"),n("d3b7"),n("159b"),n("7db0"),n("4de4"),n("caad"),n("2532"),n("fab2")),o=n("63ea"),l=n.n(o),c={props:{value:{type:[Number,String,Array,Object],required:!1,default:function(){return null}},dataCyVariable:{type:String,default:""},userObject:{type:[Object,Array],required:!1,default:function(){return{}}},params:{type:[Object,Array],required:!1,default:function(){return{}}},multiple:{type:Boolean,required:!1,default:!1},disabled:{type:Boolean,required:!1,default:!1},errorMessages:{type:[String,Array],default:function(){return[]}},label:{type:String,default:"Select Employee"},prependInnerIcon:{type:String,default:"mdi-account-plus-outline"},itemsToExclude:{type:[Array,Number],default:null},itemsToInclude:{type:[Array,Number],default:null},clearable:{type:Boolean,default:!0},readonly:{type:Boolean,default:!1},hideDetails:{type:Boolean,default:!1},appliedClass:{type:String,default:""},truncate:{type:Number,default:10},placeholder:{type:String,default:""}},data:function(){return{isLoading:!1,items:[],allUsers:[],selectedData:null,search:null}},computed:{itemsSorted:function(){return this.sortBySearch(this.items,this.search?this.search.toLowerCase():"")}},watch:{value:{handler:function(e,t){!e&&t&&(this.selectedData="",this.populateInitialUsers()),!t&&e&&this.populateInitialUsers()},immediate:!0},search:function(e){!e||this.items.length>0||this.fetchUsers()},selectedData:function(e){this.search="",this.syncUserData(e),this.$emit("input",e)},itemsToExclude:function(){this.items=this.excludeRecord(this.allUsers)},itemsToInclude:function(){this.items=this.includeRecord(this.allUsers)},params:{handler:function(e,t){l()(e,t)||this.fetchUsers()},deep:!0}},methods:{sortBySearch:function(e,t){return e.sort((function(e,n){return e.full_name.toLowerCase().startsWith(t)&&n.full_name.toLowerCase().startsWith(t)?e.full_name.toLowerCase().localeCompare(n.full_name.toLowerCase()):e.full_name.toLowerCase().startsWith(t)?-1:n.full_name.toLowerCase().startsWith(t)?1:e.full_name.toLowerCase().localeCompare(n.full_name.toLowerCase())}))},populateInitialUsers:function(){this.fetchUsers(this.value),Array.isArray(this.value)?"object"===Object(s["a"])(this.value[0])?this.selectedData=this.value.map((function(e){return e.user.id})):this.selectedData=this.value:null===this.value?this.selectedData="":"object"===Object(s["a"])(this.value)?this.selectedData=this.value.id:this.selectedData=this.value,this.$emit("input",this.selectedData)},remove:function(e){if(this.selectedData instanceof Object){var t=this.selectedData.indexOf(e.id);t>=0&&this.selectedData.splice(t,1),this.$emit("remove",e)}else this.selectedData=""},fetchUsers:function(e){var t=this;this.isLoading||(this.isLoading=!0,this.$http.get(r["a"].autocomplete,{params:this.params}).then((function(n){t.allUsers=n,t.itemsToExclude&&(n=t.excludeRecord(n)),t.itemsToInclude&&(n=t.includeRecord(n)),t.items=n,e&&t.syncUserData(e)})).finally((function(){return t.isLoading=!1})))},syncUserData:function(e){var t=this;if(e instanceof Array){var n=[];e.forEach((function(e){n.unshift(t.items.find((function(t){return t.id===e})))})),this.$emit("update:userObject",n)}else{var a=this.items.find((function(t){return t.id===e}));this.$emit("update:userObject",a)}},excludeRecord:function(e){var t=[];return"number"===typeof this.itemsToExclude?t.push(this.itemsToExclude):t=this.itemsToExclude,e.filter((function(e){return!t.includes(e.id)}))},includeRecord:function(e){var t=this;return e.filter((function(e){return t.itemsToInclude.includes(e.id)}))}}},u=c,d=n("2877"),p=n("6544"),m=n.n(p),f=n("c6a6"),h=n("8212"),v=n("cc20"),g=n("adda"),y=n("8270"),b=n("5d23"),_=Object(d["a"])(u,a,i,!1,null,null,null);t["default"]=_.exports;m()(_,{VAutocomplete:f["a"],VAvatar:h["a"],VChip:v["a"],VImg:g["a"],VListItemAvatar:y["a"],VListItemContent:b["a"],VListItemSubtitle:b["b"],VListItemTitle:b["c"]})},f0d5:function(e,t,n){"use strict";n("d3b7"),n("3ca3"),n("ddb0");var a=n("c44a");t["a"]={components:{NonFieldFormErrors:function(){return n.e("chunk-6441e173").then(n.bind(null,"ab8a"))}},mixins:[a["a"]],data:function(){return{crud:{name:"record",message:"",addAnother:!1},formValues:{},loading:!1}}}},f12b:function(e,t,n){"use strict";var a=n("f0d5"),i=n("983c"),s=n("f70a"),r=n("6c6f");t["a"]={mixins:[a["a"],i["a"],s["a"],r["a"]]}},f70a:function(e,t,n){"use strict";n("d3b7"),n("caad");t["a"]={methods:{insertData:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=a.validate,s=void 0===i||i,r=a.clearForm,o=void 0===r||r,l=arguments.length>3?arguments[3]:void 0;return new Promise((function(a,i){!n.loading&&e&&(n.clearErrors(),n.$validator.validateAll().then((function(r){s||(r=!0),r&&(n.loading=!0,n.$http.post(e,t,l||{}).then((function(e){n.clearErrors(),o&&(n.formValues={}),n.crud.addAnother||n.$emit("create"),n.crud.message&&setTimeout((function(){n.notifyUser(n.crud.message)}),1e3),a(e),n.loading=!1})).catch((function(e){n.pushErrors(e),n.notifyInvalidFormResponse(),i(e),n.loading=!1})))})))}))},patchData:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=a.validate,s=void 0===i||i,r=a.clearForm,o=void 0===r||r,l=arguments.length>3?arguments[3]:void 0;return new Promise((function(a,i){n.updateData(e,t,{validate:s,clearForm:o},"patch",l).then((function(e){a(e)})).catch((function(e){i(e)}))}))},putData:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=a.validate,s=void 0===i||i,r=a.clearForm,o=void 0===r||r,l=arguments.length>3?arguments[3]:void 0;return new Promise((function(a,i){n.updateData(e,t,{validate:s,clearForm:o},"put",l).then((function(e){a(e)})).catch((function(e){i(e)}))}))},updateData:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=a.validate,s=void 0===i||i,r=a.clearForm,o=void 0===r||r,l=arguments.length>3?arguments[3]:void 0,c=arguments.length>4?arguments[4]:void 0;return new Promise((function(a,i){!n.loading&&e&&["put","patch"].includes(l)&&(n.clearErrors(),n.$validator.validateAll().then((function(r){s||(r=!0),r&&(n.loading=!0,n.$http[l](e,t,c||{}).then((function(e){n.$emit("update"),n.clearErrors(),o&&(n.formValues={}),n.crud.message&&setTimeout((function(){n.notifyUser(n.crud.message)}),1e3),a(e),n.loading=!1})).catch((function(e){n.pushErrors(e),n.notifyInvalidFormResponse(),i(e),n.loading=!1})))})))}))},clearErrors:function(){this.clearNonFieldErrors(),this.$validator.errors.clear()}}}},f82f:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-text-field",{class:e.appliedClass,attrs:{id:e.id,label:e.label,"data-cy":"input-file-upload",error:e.errorMessages.length>0,"error-messages":e.errorMessages,"hide-details":e.hideDetails,hint:e.hint,"persistent-hint":!!e.hint,disabled:e.disabled,readonly:"","prepend-inner-icon":"mdi-attachment","append-icon":"mdi-close"},on:{"click:prepend":e.pickFile,"click:append":function(t){return e.clear()},click:e.pickFile,blur:function(t){return e.$emit("blur")}},model:{value:e.fileName,callback:function(t){e.fileName=t},expression:"fileName"}}),n("input",{ref:"upload",staticClass:"d-none",attrs:{id:"fileUpload",type:"file",multiple:"multiple"},on:{change:e.upload}})],1)},i=[],s=n("1da1"),r=n("5530"),o=(n("96cf"),n("a9e3"),n("ac1f"),n("1276"),n("b0c0"),n("2f62")),l={props:{value:{type:[String,File,Object],default:void 0},default:{type:[String,File],default:void 0},text:{type:String,default:void 0},id:{type:String,default:""},label:{type:String,default:"Browse file from here"},hint:{type:String,default:void 0},errorMessages:{type:[String,Array],default:function(){return[]}},hideDetails:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},appliedClass:{type:String,default:""},returnObject:{type:Boolean,default:!1},maxSize:{type:Number,default:5}},data:function(){return{fileName:null}},watch:{default:{handler:function(e){!e||e instanceof File||(this.fileName=e)},immediate:!0},value:function(e){e||(this.fileName=""),document.getElementById("fileUpload").value=null}},methods:Object(r["a"])(Object(r["a"])({},Object(o["d"])({setSnackBar:"common/setSnackBar"})),{},{pickFile:function(){this.$refs.upload.click()},upload:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var a,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:a=new FileReader,a.readAsDataURL(e.target.files[0]),i="",1===e.target.files[0].name.split(".").length?i="Please upload known file type.":e.target.files[0].size>1024*t.maxSize*1024?i="File size cannot be greater than ".concat(t.maxSize,"MB."):"svg"===e.target.files[0].name.split(".").pop()&&(i="SVG image not allowed here."),i?t.setSnackBar({text:i,color:"red"}):a.onload=function(){t.returnObject?t.$emit("input",{file_name:e.target.files[0].name,file_content:e.target.files[0]}):t.$emit("input",e.target.files[0]),t.$emit("blur"),t.$emit("update",a.result),t.fileName=e.target.files[0].name};case 5:case"end":return n.stop()}}),n)})))()},clear:function(){this.fileName=null,this.returnObject?this.$emit("input",{file_name:"",file_content:""}):this.$emit("input",this.fileName)}})},c=l,u=n("2877"),d=n("6544"),p=n.n(d),m=n("8654"),f=Object(u["a"])(c,a,i,!1,null,null,null);t["a"]=f.exports;p()(f,{VTextField:m["a"]})},fab2:function(e,t,n){"use strict";t["a"]={getUserList:"/users/",postUser:"/users/",autocomplete:"/users/autocomplete/",postImportUser:"/users/import/",downloadUserImportSample:function(e){return"/users/import/sample/?organization=".concat(e)},getUserDetail:function(e){return"/users/".concat(e,"/")},getInternalUserDetail:function(e){return"/users/".concat(e,"/internal-detail")},deleteUser:function(e){return"/users/".concat(e,"/")},updateUser:function(e){return"/users/".concat(e,"/")},changePassword:function(e){return"/users/".concat(e,"/change-password/")},getUserCV:function(e){return"/users/".concat(e,"/cv/")},getProfileCompleteness:function(e){return"users/".concat(e,"/profile-completeness/")}}},fb24:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("vue-card-title",{attrs:{title:"Approval Settings",subtitle:"Here you can set the approval hierarchy for "+e.subtitle+" approvals.",icon:"mdi-shield-check",closable:e.modal},on:{close:function(t){return e.$emit("close")}}}),n("v-divider"),e.fetched?n("div",[e.nonFieldErrors?n("non-field-form-errors",{attrs:{"non-field-errors":e.nonFieldErrors}}):e._e(),n("v-card-text",{key:e.componentKey},[n("div",[e._l(e.count,(function(t){return n("div",{key:t},[e.disableSupervisor?e._e():n("v-row",{attrs:{"no-gutters":""}},[n("v-col",[n("v-chip",{staticClass:"text-subtitle-2 blue-grey--text text--darken-2 mx-1",attrs:{label:"",small:""}},[e._v(" "+e._s("Level of Approval "+t+" ")+" ")])],1)],1),n("v-row",{attrs:{align:"center"}},[n("v-col",{attrs:{md:"4"}},[n("v-row",{staticClass:"ml-1 mr-8"},[e.disableSupervisor?n("v-chip",{staticClass:"text-subtitle-2 blue-grey--text text--darken-2 mx-1",attrs:{label:"",small:""}},[e._v(" "+e._s("Level of Approval "+t+" ")+" ")]):n("v-select",{staticClass:"ma-0 pa-0",attrs:{value:e.getApproveBy(t-1),items:["Supervisor","Employee"],"hide-details":"",clearable:"","prepend-inner-icon":"mdi-account-outline"},on:{"click:clear":function(n){return e.removeDependentField(t-1)},input:function(n){return e.setApproveBy(n,t-1)}}})],1)],1),n("v-col",{attrs:{md:"4"}},[n("v-row",{staticClass:"ml-1 mr-8 my-0"},["Supervisor"===e.getApproveBy(t-1)?n("v-select",{staticClass:"ma-0 pa-0",attrs:{value:e.getSupervisorLevel(t-1),items:["First","Second","Third"],"hide-details":"",clearable:"","prepend-inner-icon":"mdi-format-list-numbered"},on:{input:function(n){return e.setSupervisorLevel(n,t-1)}}}):e._e(),"Employee"===e.getApproveBy(t-1)?n("vue-users-auto-complete",{attrs:{value:e.getEmployee(t-1),"applied-class":"ma-0 pa-0","hide-details":"",label:"Employee Name"},on:{input:function(n){return e.setEmployee(n,t-1)}}}):e._e()],1)],1),t>1?n("v-col",{attrs:{md:"4"}},[n("v-btn",{attrs:{icon:"",color:"red"}},[n("v-icon",{attrs:{small:""},domProps:{textContent:e._s("mdi-trash-can-outline")},on:{click:function(n){return e.remove(t-1)}}})],1)],1):e._e()],1)],1)})),n("v-row",[n("v-btn",{staticClass:"primary--text text-subtitle-2 mx-1 my-4",attrs:{disabled:!e.approvalSetting[e.count-1]||e.count===e.levelOfRestriction||!e.approvalSetting[e.count-1].approve_by||!e.approvalSetting[e.count-1].employee&&!e.approvalSetting[e.count-1].supervisor_level,text:""},on:{click:e.add}},[e._v(" + Add New Level For Approval ")])],1)],2)]),n("v-divider"),n("v-card-actions",[n("v-col",{staticClass:"text-right py-0"},[e.modal?n("v-btn",{attrs:{depressed:""},on:{click:function(t){return e.$emit("close")}}},[e._v("Cancel")]):e._e(),n("v-btn",{attrs:{depressed:"",color:"primary",disabled:e.validateFields()},on:{click:e.save}},[e._v("Save")])],1)],1)],1):n("div",[n("default-svg-loader")],1)],1)},i=[],s=(n("a9e3"),n("4e827"),n("d81d"),n("a434"),n("159b"),n("4de4"),n("f12b")),r=n("ab8a"),o=n("c197"),l=n("ef8c"),c={components:{VueUsersAutoComplete:l["default"],DefaultSvgLoader:o["default"],NonFieldFormErrors:r["default"]},mixins:[s["a"]],props:{endpoint:{type:String,required:!0},subtitle:{type:String,default:"Advance Salary"},levelOfRestriction:{type:[Number],default:5},disableSupervisor:{type:Boolean,default:!1},requireApprovalLevel:{type:Boolean,default:!0},as:{type:String,default:""},modal:{type:Boolean,default:!1}},data:function(){return{packageHeadingList:[],approvalSetting:[],limitAmount:0,count:1,excludedHeading:[],fetched:!1,componentKey:0}},created:function(){this.init()},methods:{init:function(){var e=this;this.getData(this.endpoint+"?as=".concat(this.as||"")).then((function(t){e.disableSupervisor?e.approvalSetting=t.results.map((function(e){return{approve_by:"Employee",supervisor:null,employee:e.user.id}})):e.approvalSetting=t.results.sort((function(e,t){return e.approval_level-t.approval_level})),0===t.results.length&&(e.disableSupervisor?e.approvalSetting.push({approve_by:"Employee",supervisor_level:null,employee:""}):e.approvalSetting.push({approve_by:"",supervisor_level:"",employee:""})),e.count=t.results.length||1,e.fetched=!0}))},add:function(){this.disableSupervisor&&this.setApproveBy("Employee",this.count),this.count++},remove:function(e){if(this.count>1){var t=this.count-1;this.count=0,this.count=t,this.approvalSetting.splice(e,1),this.componentKey+=1}},removeDependentField:function(e){this.approvalSetting[e].supervisor_level="",this.approvalSetting[e].employee=""},setApproveBy:function(e,t){var n=this.getSupervisorLevel(t),a=this.getEmployee(t),i={approve_by:e,supervisor_level:n,employee:a};this.$set(this.approvalSetting,t,i)},setSupervisorLevel:function(e,t){var n=this.getApproveBy(t),a=this.getEmployee(t),i={approve_by:n,supervisor_level:e,employee:a};this.$set(this.approvalSetting,t,i)},setEmployee:function(e,t){var n=this.getApproveBy(t),a=this.getSupervisorLevel(t),i={approve_by:n,supervisor_level:a,employee:e};this.$set(this.approvalSetting,t,i)},getApproveBy:function(e){return this.approvalSetting[e]?this.approvalSetting[e].approve_by:""},getSupervisorLevel:function(e){return this.approvalSetting[e]?this.approvalSetting[e].supervisor_level:""},getEmployee:function(e){return this.approvalSetting[e]?this.approvalSetting[e].employee:""},validateFields:function(){if(!this.requireApprovalLevel)return!1;var e=!1;return this.approvalSetting.forEach((function(t){t.approve_by&&(t.supervisor_level||t.employee)||(e=!0)})),e},save:function(){var e,t=this;if(this.disableSupervisor){var n=this.approvalSetting.map((function(e){return e.employee}));""===n[0]&&(n=[]),e={approvals:n.filter((function(e){return e}))}}else{var a=this.approvalSetting;this.approvalSetting.forEach((function(e){e.approve_by&&(e.supervisor_level||e.employee)||(a=[])})),e={approvals:a}}this.crud.message="Successfully updated approval settings.",this.insertData(this.endpoint+"?as=".concat(this.as),e).then((function(){t.$emit("close")}))}}},u=c,d=n("2877"),p=n("6544"),m=n.n(p),f=n("8336"),h=n("b0af"),v=n("99d9"),g=n("cc20"),y=n("62ad"),b=n("ce7e"),_=n("132d"),x=n("0fd9b"),w=n("b974"),k=Object(d["a"])(u,a,i,!1,null,null,null);t["default"]=k.exports;m()(k,{VBtn:f["a"],VCard:h["a"],VCardActions:v["a"],VCardText:v["c"],VChip:g["a"],VCol:y["a"],VDivider:b["a"],VIcon:_["a"],VRow:x["a"],VSelect:w["a"]})},fb6e:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-row",e._l(e.questionList.sections,(function(t,a){return n("v-col",{key:a,staticClass:"pb-0",attrs:{cols:"12"}},[n("div",{staticClass:"font-weight-bold text-body-2 blue-grey--text mb-1"},[n("span",{domProps:{innerHTML:e._s(t.title)}}),n("div",{staticClass:"grey--text text-caption"},[e._v(e._s(t.description))])]),e._l(t.questions,(function(t,i){return n("div",{key:i,staticClass:"ml-4 pt-2"},[n("div",[n("v-row",{attrs:{align:"center",dense:""}},[n("v-col",{staticClass:"font-weight-bold text-body-2 blue-grey--text",attrs:{cols:"auto"}},[e._v(" "+e._s(i+1+". ")+" ")]),n("v-col",{staticClass:"font-weight-bold text-body-2 blue-grey--text",attrs:{cols:"auto"}},[n("span",{staticClass:"remove-margin inline",domProps:{innerHTML:e._s(""+t.question.title)}}),n("span",{staticClass:"font-weight-regular text-body-2"},[e._v(e._s(t.is_mandatory?" *":""))])]),n("v-col",{staticClass:"py-0 pa-5",attrs:{cols:"12"}},[n("span",{domProps:{innerHTML:e._s(e.$sanitize(t.question.description))}})]),e.needRemarks?n("v-col",[n("v-chip",{attrs:{"x-small":"",color:""}},[e._v(" "+e._s(t.question.is_open_ended?"Open Ended":t.question.weightage)+" ")])],1):e._e(),e.needRemarks&&!e.readOnly?n("v-col",{attrs:{cols:"auto"}},[n("v-btn",{attrs:{icon:""},on:{click:function(n){return e.showRemarks(t,!t.question.show_remarks)}}},[n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(a){var i=a.on;return[n("v-icon",e._g({attrs:{color:"blue"}},i),[e._v(e._s(t.question.show_remarks?"mdi-minus-box":"mdi-plus-box"))])]}}],null,!0)},[n("span",[e._v(e._s(t.question.show_remarks?"Remove Remarks":"Add Remarks"))])])],1)],1):e._e(),e.editQuestion?n("v-col",{attrs:{cols:"auto"}},[n("v-btn",{attrs:{"x-small":"",icon:""},on:{click:function(n){return e.removeQuestion(t)}}},[n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-icon",e._g({attrs:{color:"red"}},a),[e._v("mdi-trash-can-outline")])]}}],null,!0)},[n("span",[e._v(" Remove Question ")])])],1)],1):e._e()],1)],1),n("v-row",{attrs:{align:"center"}},[n("v-col",{staticClass:"py-1 pa-6 pb-4 pl-6"},["single-mcq"===t.question.answer_choices?n("div",["dropdown"===t.question.display_type?n("v-select",{attrs:{value:t.question.answers.find((function(e){return!0===e.is_correct})),items:t.question.answers,disabled:e.readOnly,label:"Choose from available options","item-text":"title","item-value":"title","return-object":""},on:{change:function(n){return e.setRadioButton(t,n)}},scopedSlots:e._u([{key:"selection",fn:function(t){return[n("span",{staticClass:"mr-2"},[e._v(" "+e._s(t.item.title)+" ")])]}},{key:"item",fn:function(t){return[n("span",{staticClass:"mr-2"},[e._v(" "+e._s(t.item.title)+" ")])]}}],null,!0)}):n("v-row",{attrs:{dense:""}},[n("v-col",e._l(t.question.answers,(function(a,i){return n("v-row",{key:i},[n("v-col",{staticClass:"py-1 my-0",attrs:{cols:"auto"}},[n("v-icon",{style:e.readOnly?"pointer-events: none":"",attrs:{color:a.is_correct?"green":"grey"},domProps:{textContent:e._s(a.is_correct?"mdi-radiobox-marked":"mdi-radiobox-blank")},nativeOn:{mouseup:function(n){return e.setRadioButton(t,a)}}})],1),n("v-col",{staticClass:"py-1 my-0"},[e._v(" "+e._s(a.title)+" ")])],1)})),1)],1)],1):e._e(),"multiple-mcq"===t.question.answer_choices?n("div",[n("v-row",{attrs:{dense:""}},[n("v-col",e._l(t.question.answers,(function(t,a){return n("v-checkbox",{key:a,staticClass:"py-0 my-0",attrs:{disabled:e.readOnly,"hide-details":"",label:t.title},model:{value:t.is_correct,callback:function(n){e.$set(t,"is_correct",n)},expression:"ans.is_correct"}})})),1)],1)],1):e._e(),"short-text"===t.question.answer_choices?n("div",[n("v-row",{attrs:{dense:"",align:"center"}},[n("v-col",[!e.readOnly||e.editQuestion||e.preview?n("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:t.is_mandatory?"required":"",expression:"item.is_mandatory ? 'required' : ''"}],staticClass:"mt-0 pt-0",attrs:{value:t.question.answers,disabled:e.readOnly,label:"Answer",dense:"","hide-details":""},on:{change:function(e){t.question.answers=[],t.question.answers.push(e)}}},"v-text-field",e.veeValidate("answers-"+(a+1)+"-"+(i+1),"Answer"),!1)):n("div",[t.question.answers[0]?n("span",[e._v("Answer : "+e._s(t.question.answers[0]))]):n("v-chip",{staticClass:"white--text",attrs:{"x-small":"",color:"blueGrey"}},[e._v("Answer not given")])],1),n("span",{staticClass:"danger--text"},[e._v(" "+e._s(e.errors.first("answers-"+(a+1)+"-"+(i+1)))+" ")])],1)],1)],1):e._e(),"long-text"===t.question.answer_choices?n("div",{staticClass:"pb-3"},[n("v-row",{attrs:{dense:""}},[n("v-col",[!e.readOnly||e.editQuestion||e.preview?n("v-textarea",e._b({directives:[{name:"validate",rawName:"v-validate",value:t.is_mandatory?"required":"",expression:"item.is_mandatory ? 'required' : ''"}],staticClass:"mt-0 pt-0",attrs:{value:t.question.answers,disabled:e.readOnly,label:"Answer",dense:"",rows:"2","hide-details":""},on:{change:function(e){t.question.answers=[],t.question.answers.push(e)}}},"v-textarea",e.veeValidate("answers-"+(a+1)+"-"+(i+1),"Answer"),!1)):n("div",[t.question.answers[0]?n("span",[e._v(" Answer : "+e._s(t.question.answers[0]))]):n("v-chip",{staticClass:"white--text",attrs:{"x-small":"",color:"blueGrey"}},[e._v("Answer not given")])],1),n("span",{staticClass:"danger--text"},[e._v(" "+e._s(e.errors.first("answers-"+(a+1)+"-"+(i+1)))+" ")])],1)],1)],1):e._e(),"rating-scale"===t.question.answer_choices?n("div",[n("v-row",{attrs:{dense:"",align:"center"}},[e.answerOnly||t.question.is_open_ended?e._e():n("v-col",{attrs:{md:"3"}},[n("div",[e._v("Answer/Score :")])]),n("v-col",{attrs:{md:"12"}},[e.fromPaForm?n("v-select",{attrs:{items:e.scoreAndScaleData,"item-text":"name","item-value":"score",disabled:e.readOnly,label:"Score"},on:{input:function(e){t.question.temp_score=e,t.question.score=e}},model:{value:t.question.temp_score,callback:function(n){e.$set(t.question,"temp_score",n)},expression:"item.question.temp_score"}}):n("v-rating",{staticClass:"py-0",attrs:{length:t.question.rating_scale,size:20,color:e.getColor(t.question.rating_scale,t.question.answers[0]),"half-increments":e.halfScore,dense:"",clearable:"",disabled:e.readOnly,readonly:e.readOnly},on:{input:function(e){t.question.temp_score=e,t.question.answers=[],t.question.answers.push(e)}},model:{value:t.question.answers[0],callback:function(n){e.$set(t.question.answers,0,n)},expression:"item.question.answers[0]"}})],1)],1)],1):e._e(),e.answerOnly||t.question.is_open_ended||"rating-scale"===t.question.answer_choices?e._e():n("div",[n("v-row",{attrs:{align:"center"}},[e.fromPaForm?e._e():n("v-col",{staticClass:"pt-0 pb-4",attrs:{cols:"auto"}},[n("div",[e._v("Score :")])]),n("v-col",{staticClass:"pt-0 pb-4"},[e.fromPaForm?e.fromPaForm&&"rating-scale"===t.question.answer_choices?n("v-select",{attrs:{items:e.scoreAndScaleData,"item-text":"name","item-value":"score",disabled:e.readOnly,label:"Score"},model:{value:t.question.temp_score,callback:function(n){e.$set(t.question,"temp_score",n)},expression:"item.question.temp_score"}}):e._e():n("v-rating",{staticClass:"py-0",attrs:{length:5,size:20,color:e.getColor(5,t.question.temp_score),"half-increments":e.halfScore,disabled:e.readOnly,readonly:e.readOnly,clearable:"",dense:""},on:{input:function(e){t.question.temp_score=e,t.question.score=e}},model:{value:t.question.temp_score,callback:function(n){e.$set(t.question,"temp_score",n)},expression:"item.question.temp_score"}})],1)],1)],1),["date","date-time","time","date-without-year","date-time-without-year","duration"].includes(t.question.answer_choices)?n("div",[n("v-row",{attrs:{dense:"",align:"center"}},[n("v-col",[!e.readOnly||e.editQuestion||e.preview?["date"].includes(t.question.answer_choices)?n("vue-date-picker",e._b({directives:[{name:"validate",rawName:"v-validate",value:t.is_mandatory?"required":"",expression:"item.is_mandatory ? 'required' : ''"}],attrs:{value:t.question.answers[0],disabled:e.readOnly,"date-with-out-year":"date-without-year"===t.question.answer_choices,"applied-class":"mt-0 pt-0","hide-details":""},on:{input:function(e){t.question.answers=[],t.question.answers.push(e)}}},"vue-date-picker",e.veeValidate("answers-"+(a+1)+"-"+(i+1),"Date"),!1)):["date-without-year"].includes(t.question.answer_choices)?n("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:t.is_mandatory?"required|validateDate":"validateDate",expression:"\n                    item.is_mandatory\n                      ? 'required|validateDate'\n                      : 'validateDate'\n                  "},{name:"mask",rawName:"v-mask",value:"##-##",expression:"'##-##'"}],attrs:{placeholder:"MM-DD","hide-details":"","prepend-inner-icon":"mdi-calendar-month-outline",value:t.question.answers[0],disabled:e.readOnly},on:{input:function(e){t.question.answers=[],t.question.answers.push(e)}}},"v-text-field",e.veeValidate("answers-"+(a+1)+"-"+(i+1),"Date"),!1)):["date-time"].includes(t.question.answer_choices)?n("vue-date-time-picker",e._b({directives:[{name:"validate",rawName:"v-validate",value:t.is_mandatory?"required":"",expression:"item.is_mandatory ? 'required' : ''"}],staticClass:"mt-0 pt-0",attrs:{value:t.question.answers[0],disabled:e.readOnly,"exclude-t-separator":"","hide-details":"",hint:"",clearable:""},on:{input:function(e){t.question.answers=[],t.question.answers.push(e)}}},"vue-date-time-picker",e.veeValidate("answers-"+(a+1)+"-"+(i+1),"Date and Time"),!1)):["date-time-without-year"].includes(t.question.answer_choices)?n("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:t.is_mandatory?"required|validateDateTime":"validateDateTime",expression:"\n                    item.is_mandatory\n                      ? 'required|validateDateTime'\n                      : 'validateDateTime'\n                  "},{name:"mask",rawName:"v-mask",value:"##-## ##:##",expression:"'##-## ##:##'"}],attrs:{placeholder:"MM-DD hh:mm","hide-details":"",value:t.question.answers[0],disabled:e.readOnly,"prepend-inner-icon":"mdi-calendar-month-outline"},on:{input:function(e){t.question.answers=[],t.question.answers.push(e)}}},"v-text-field",e.veeValidate("answers-"+(a+1)+"-"+(i+1),"Date and Time"),!1)):["time"].includes(t.question.answer_choices)?n("vue-time-picker",e._b({directives:[{name:"validate",rawName:"v-validate",value:t.is_mandatory?"required":"",expression:"item.is_mandatory ? 'required' : ''"}],staticClass:"mt-0 pt-0",attrs:{value:t.question.answers[0],disabled:e.readOnly,"hide-details":""},on:{input:function(e){t.question.answers=[],t.question.answers.push(e)}}},"vue-time-picker",e.veeValidate("answers-"+(a+1)+"-"+(i+1),"Time"),!1)):["duration"].includes(t.question.answer_choices)?n("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:t.is_mandatory?"required|validateDuration":"validateDuration",expression:"\n                    item.is_mandatory\n                      ? 'required|validateDuration'\n                      : 'validateDuration'\n                  "},{name:"mask",rawName:"v-mask",value:"##:##:##",expression:"'##:##:##'"}],attrs:{placeholder:"hh:mm:ss","hide-details":"",value:t.question.answers[0],disabled:e.readOnly,"prepend-inner-icon":"mdi-clock-outline"},on:{input:function(e){t.question.answers=[],t.question.answers.push(e)}}},"v-text-field",e.veeValidate("answers-"+(a+1)+"-"+(i+1),"Duration"),!1)):e._e():n("div",[t.question.answers[0]?n("span",[e._v("Answer : "+e._s(t.question.answers[0]))]):n("v-chip",{staticClass:"white--text",attrs:{"x-small":"",color:"blueGrey"}},[e._v("Answer not given")])],1),n("span",{staticClass:"danger--text"},[e._v(" "+e._s(e.errors.first("answers-"+(a+1)+"-"+(i+1)))+" ")])],1)],1)],1):e._e(),"file-upload"===t.question.answer_choices?n("div",[n("v-row",{attrs:{dense:"",align:"center"}},[n("v-col",[!e.readOnly||e.editQuestion||e.preview?n("file-upload",e._b({directives:[{name:"validate",rawName:"v-validate",value:t.is_mandatory?"required":"",expression:"item.is_mandatory ? 'required' : ''"}],attrs:{value:t.question.answers[0].file_name,default:t.question.answers[0].file_name,disabled:e.readOnly,"applied-class":"mt-0 pt-0",label:"File Upload","return-object":"","hide-details":""},on:{input:function(n){return e.addAttachment(n,t)}}},"file-upload",e.veeValidate("answers-"+(a+1)+"-"+(i+1),"File Upload"),!1)):n("div",[t.question.answers&&t.question.answers[0]&&t.question.answers[0].file_url?n("span",[e._v("Answer : "),n("a",{attrs:{href:t.question.answers[0].file_url,target:"_blank"}},[e._v(e._s(e.get(t.question.answers[0],"file_name")))])]):n("v-chip",{staticClass:"white--text",attrs:{"x-small":"",color:"blueGrey"}},[e._v("File not uploaded")])],1),n("span",{staticClass:"danger--text"},[e._v(" "+e._s(e.errors.first("answers-"+(a+1)+"-"+(i+1)))+" ")])],1)],1)],1):e._e(),"multiple-choice-grid"===t.question.answer_choices||"checkbox-grid"===t.question.answer_choices?n("div",{staticClass:"scrollbar-v-md"},[0===t.question.extra_data.columns.length&&0===t.question.extra_data.rows.length?n("div",{staticClass:"mt-4"},[n("v-alert",{staticClass:"text-body-2",attrs:{color:"blue-grey",dark:""}},[e._v(" Please add answer choices to view here. ")])],1):n("table",[n("thead",[n("th",{staticClass:"text-left"}),e._l(t.question.extra_data.columns,(function(t,a){return n("th",{key:a,staticClass:"text-center table-head"},[n("v-tooltip",{attrs:{"max-width":"600",top:""},scopedSlots:e._u([{key:"activator",fn:function(a){var i=a.on;return[n("span",e._g({},i),[e._v(" "+e._s(e._f("truncate")(t,20))+" ")])]}}],null,!0)},[n("span",[e._v(" "+e._s(t)+" ")])])],1)}))],2),n("tbody",e._l(t.question.extra_data.rows,(function(a,i){return n("tr",{key:i},[n("td",[n("v-tooltip",{attrs:{"max-width":"600",top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[n("span",e._g({},i),[e._v(" "+e._s(e._f("truncate")(a,20))+" ")])]}}],null,!0)},[n("span",[e._v(" "+e._s(a)+" ")])])],1),e._l(t.question.extra_data.columns,(function(i,s){return n("td",{key:i+s,staticClass:"table-body text-center"},["checkbox-grid"===t.question.answer_choices?n("v-icon",{style:e.readOnly?"pointer-events: none":"",attrs:{color:t.question.answers[a]&&t.question.answers[a].includes(i)?"green":"grey"},domProps:{textContent:e._s(t.question.answers[a]&&t.question.answers[a].includes(i)?"mdi-checkbox-marked":"mdi-checkbox-blank-outline")},nativeOn:{mouseup:function(n){return e.setGridCheckbox(t,a,i)}}}):n("v-icon",{style:e.readOnly?"pointer-events: none":"",attrs:{color:t.question.answers[a]&&t.question.answers[a][0]===i?"green":"grey"},domProps:{textContent:e._s(t.question.answers[a]&&t.question.answers[a][0]===i?"mdi-radiobox-marked":"mdi-radiobox-blank")},nativeOn:{mouseup:function(n){return e.setGridRadioButton(t,a,i)}}})],1)}))],2)})),0)])]):e._e(),t.question.remarks_required||e.needRemarks&&t.question.show_remarks?n("div",[n("v-textarea",e._b({directives:[{name:"validate",rawName:"v-validate",value:"",expression:"''"}],attrs:{disabled:e.readOnly,label:"Remarks",dense:"","hide-details":""},model:{value:t.question.remarks,callback:function(n){e.$set(t.question,"remarks",n)},expression:"item.question.remarks"}},"v-textarea",e.veeValidate("answers-"+(a+1)+"-"+(i+1),""),!1)),n("span",{staticClass:"danger--text"},[e._v(" "+e._s(e.errors.first("answers-"+(a+1)+"-"+(i+1)))+" ")])],1):e._e()])],1)],1)})),e.editQuestion?n("v-row",[n("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[n("v-btn",{staticClass:"font-weight-bold",attrs:{text:"",small:"",color:"primary"},on:{click:function(t){return e.addAnotherQuestion()}}},[n("v-icon",{domProps:{textContent:e._s("mdi-plus-box")}}),n("span",{staticClass:"pl-1"},[e._v("Add Another Question")])],1)],1)],1):e._e(),n("v-dialog",{attrs:{scrollable:"",width:"960",persistent:""},on:{keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;e.showQuestionSet=!1}},model:{value:e.showQuestionSet,callback:function(t){e.showQuestionSet=t},expression:"showQuestionSet"}},[n("v-card",[n("vue-card-title",{attrs:{title:"Add or Remove Questions",subtitle:"Add or Remove Questions",icon:"mdi-pencil-outline",closable:""},on:{close:function(t){e.showQuestionSet=!1}}}),n("v-divider"),n("v-card-text",{staticClass:"scrollbar-lg"},[e.showQuestionSet?n("question-selection",{attrs:{"action-data":e.selectedQuestionList,"selected-item-list":e.updatedQuestionList},on:{"update:selectedItemList":function(t){e.updatedQuestionList=t},"update:selected-item-list":function(t){e.updatedQuestionList=t},close:function(t){e.showQuestionSet=!1}}}):e._e()],1),n("v-divider"),n("v-card-actions",[n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{staticClass:"text-right"},[n("v-btn",{attrs:{color:"primary",small:""},on:{click:e.updateQuestion}},[e._v("Update")])],1)],1)],1)],1)],1)],2)})),1)},i=[],s=n("1da1"),r=n("2909"),o=(n("96cf"),n("ac1f"),n("1276"),n("d3b7"),n("3ca3"),n("ddb0"),n("159b"),n("b680"),n("d81d"),n("7db0"),n("caad"),n("2532"),n("a434"),n("c740"),n("6062"),n("4de4"),n("c44a")),l=n("edc0"),c=n("741f"),u=n("ec30"),d=n("f82f"),p=n("1f04"),m=n("7bb1"),f=n("13ea"),h=n.n(f);m["b"].Validator.extend("validateDateTime",{getMessage:function(e){return"".concat(e," has wrong input.")},validate:function(e){var t=e.split(" ")[0],n=e.split(" ")[1];if(t&&n){var a=t.split("-")[0],i=t.split("-")[1],s=n.split(":")[0],r=n.split(":")[1];return a&&i&&s&&r&&2===a.length&&parseInt(a)<=12&&2===i.length&&parseInt(i)<=31&&2===s.length&&parseInt(s)<=23&&2===r.length&&parseInt(r)<=59}return!1}}),m["b"].Validator.extend("validateDate",{getMessage:function(e){return"".concat(e," has wrong input.")},validate:function(e){var t=e.split("-")[0],n=e.split("-")[1];return t&&n&&2===t.length&&parseInt(t)<=12&&2===n.length&&parseInt(n)<=31}}),m["b"].Validator.extend("validateDuration",{getMessage:function(e){return"".concat(e," has wrong input.")},validate:function(e){var t=e.split(":")[0],n=e.split(":")[1],a=e.split(":")[2];return t&&n&&a&&2===t.length&&2===n.length&&parseInt(n)<=59&&2===a.length&&parseInt(a)<=59}});var v={components:{FileUpload:d["a"],VueTimePicker:u["a"],VueDatePicker:c["default"],QuestionSelection:function(){return Promise.all([n.e("chunk-2d0aa5b8"),n.e("chunk-2d212b99"),n.e("chunk-96accee4")]).then(n.bind(null,"b575"))}},mixins:[o["a"]],props:{questionDetails:{type:Object,default:function(){return{}}},scoreAndScaleData:{type:Array,default:function(){return[]}},readOnly:{type:Boolean,default:!1},preview:{type:Boolean,default:!1},needRemarks:{type:Boolean,default:!1},answerOnly:{type:Boolean,default:!1},halfScore:{type:Boolean,default:!0},editQuestion:{type:Boolean,default:!1},fromPaForm:{type:Boolean,default:!1}},data:function(){return{showRemarksField:!1,radioAnswerChoice:"",questionList:this.deepCopy(this.questionDetails),showQuestionSet:!1,updatedQuestionList:[]}},computed:{total_score:function(){var e=[0];return this.questionList.sections&&this.questionList.sections.forEach((function(t){t.questions.forEach((function(t){e.push(t.question.weightage)}))})),e.reduce((function(e,t){return e+t}))},given_score:function(){var e=0;return this.questionList.sections&&this.questionList.sections.forEach((function(t){t.questions.forEach((function(t){if(t.question.weightage&&(t.question.score||t.question.temp_score)){var n=.2*t.question.temp_score,a=t.question.weightage*n;"rating-scale"===t.question.answer_choices&&(n=t.question.weightage/t.question.rating_scale,a=t.question.temp_score*n),t.question.score=Object(l["d"])(a),e+=Object(l["d"])(a)}else Array.isArray(t.question.answers)&&"pre_screening"===!t.question.question_type&&(t.question.temp_score=t.question.answers[0])}))})),parseFloat(e.toFixed(2))||0},percentage:function(){var e=0;return this.given_score&&this.total_score&&(e=Math.ceil(this.given_score/this.total_score*100)),e||0},selectedQuestionList:function(){return{questions:this.questionList.sections[0].questions.map((function(e){return e.question}))}}},watch:{questionList:{handler:function(){var e=this;this.questionList.sections&&(this.questionList.sections.map((function(t){t.questions.forEach((function(t){"rating-scale"===t.question.answer_choices&&(t.question.answers[0]||(t.question.answers[0]=e.scoreAndScaleData.find((function(e){return e.score===t.question.score}))))}))})),this.$emit("update:updated-list",this.questionList))},deep:!0,immediate:!0},updatedQuestionList:function(){var e=[];this.updatedQuestionList.forEach((function(t){e.push({question:t})})),this.questionList.sections[0].questions=e},total_score:{handler:function(){this.$emit("total-score",this.total_score)},immediate:!0},given_score:{handler:function(){this.$emit("given-score",this.given_score)},immediate:!0},percentage:{handler:function(){this.$emit("percentage",this.percentage)},immediate:!0}},methods:{setGridRadioButton:function(e,t,n){h()(e.question.answers)&&(e.question.answers={}),e.question.answers[t]?e.question.answers[t]=[n]:this.$set(e.question.answers,t,[n])},setGridCheckbox:function(e,t,n){if(h()(e.question.answers)&&(e.question.answers={}),e.question.answers[t])if(e.question.answers[t].includes(n))e.question.answers[t].splice(e.question.answers[t].findIndex((function(e){return e===n})),1);else{e.question.answers[t].push(n);var a=Object(r["a"])(new Set(e.question.answers[t]));e.question.answers[t]=a}else this.$set(e.question.answers,t,[n])},setRadioButton:function(e,t){var n=this;e.question.answers.forEach((function(e){n.$set(e,"is_correct",!1)})),this.$set(t,"is_correct",!0)},removeAnswer:function(e){this.answerChoices.splice(e,1)},getColor:function(e,t){if(t){var n=parseInt(t)/parseInt(e)*100;if(n<25)return"red darken-1";if(n>=25&&n<50)return"blue";if(n>=50&&n<75)return"green accent-4";if(n>=75)return"green darken-2"}},resetRadio:function(e){var t=this;this.radioAnswerChoice===e&&setTimeout((function(){t.radioAnswerChoice=null}),50)},showRemarks:function(e,t){this.$set(e.question,"show_remarks",t),t||(e.question.remarks="")},removeQuestion:function(e){this.questionList.sections[0].questions=this.questionList.sections[0].questions.filter((function(t){return t.question.id!==e.question.id}))},addAnotherQuestion:function(){this.showQuestionSet=!0},updateQuestion:function(){this.showQuestionSet=!1},addAttachment:function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.question.answers=[{file_name:"",file_content:""}],!e.file_content){n.next=7;break}return n.next=4,Object(p["a"])([e.file_content]);case 4:a=n.sent,t.question.answers[0].file_name=e.file_name,t.question.answers[0].file_content=a[0];case 7:case"end":return n.stop()}}),n)})))()}}},g=v,y=(n("6875"),n("2877")),b=n("6544"),_=n.n(b),x=n("0798"),w=n("8336"),k=n("b0af"),S=n("99d9"),C=n("ac7c"),D=n("cc20"),q=n("62ad"),A=n("169a"),F=n("ce7e"),V=n("132d"),T=n("1d4d"),O=n("0fd9b"),E=n("b974"),L=n("8654"),$=n("a844"),I=n("3a2f"),R=Object(y["a"])(g,a,i,!1,null,null,null);t["default"]=R.exports;_()(R,{VAlert:x["a"],VBtn:w["a"],VCard:k["a"],VCardActions:S["a"],VCardText:S["c"],VCheckbox:C["a"],VChip:D["a"],VCol:q["a"],VDialog:A["a"],VDivider:F["a"],VIcon:V["a"],VRating:T["a"],VRow:O["a"],VSelect:E["a"],VTextField:L["a"],VTextarea:$["a"],VTooltip:I["a"]})}}]);