(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages/admin/_slug/change-password","chunk-31f8a6e6"],{"004d":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("vue-page-wrapper",{attrs:{title:e.htmlTitle,"bread-crumbs":e.breadCrumbItems}},[s("change-password")],1)},r=[],i=s("0549"),n=s("9ace"),o={components:{VuePageWrapper:i["default"],ChangePassword:n["a"]},data:function(){return{htmlTitle:"Admin | Change Password",breadCrumbItems:[]}},created:function(){this.breadCrumbItems=[{text:"Profile",disabled:!1,to:{name:"admin-slug-hris-users-id",params:{slug:this.getOrganizationSlug,id:this.getAuthStateUserId}}},{text:this.$t("changePassword"),disabled:!0}]}},d=o,c=s("2877"),l=Object(c["a"])(d,a,r,!1,null,null,null);t["default"]=l.exports},"0549":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-row",{staticClass:"mb-3",attrs:{"no-gutters":""}},[e.breadCrumbs?s("v-col",{attrs:{cols:"12"}},[s("v-card",{attrs:{flat:""}},[s("v-breadcrumbs",{staticClass:"text-body-1 pa-2",class:{"text-caption pa-1":e.$vuetify.breakpoint.xs},attrs:{items:e.breadCrumbs},scopedSlots:e._u([{key:"item",fn:function(t){return[s("span",{class:t.item.disabled?"grey--text":"baseColor--text text--accent-2 pointer",domProps:{textContent:e._s(t.item.text)},on:{click:function(s){return e.$router.push(t.item.to)}}})]}}],null,!1,1670153796)},[s("v-icon",{attrs:{slot:"divider"},slot:"divider"},[e._v("mdi-chevron-right")])],1)],1)],1):e._e()],1),s("v-row",{attrs:{"no-gutters":""}},[s("v-col",{attrs:{cols:"12"}},[e._t("default")],2)],1)],1)},r=[],i=s("5530"),n=(s("ac1f"),s("1276"),s("b0c0"),s("2f62")),o={props:{title:{type:String,required:!0},breadCrumbs:{type:Array,default:function(){return[]}}},computed:Object(i["a"])({},Object(n["c"])({getOrganizationName:"organization/getOrganizationName",getSupervisorSwitchedOrganization:"supervisor/getSwitchedOrganization"})),mounted:function(){document.title="".concat(this.title," | RealHRsoft");var e=this.$route.params.slug?"admin-slug-dashboard":"root",t=this.$route.name.split("-"),s=this.getOrganizationName;this.getSupervisorSwitchedOrganization&&"user"===t[0]&&"supervisor"===t[1]&&(s=this.getSupervisorSwitchedOrganization.name),this.breadCrumbs.unshift({text:s,disabled:!1,to:{name:e,params:{slug:this.$route.params.slug}}})}},d=o,c=s("2877"),l=s("6544"),u=s.n(l),m=s("2bc5"),p=s("b0af"),v=s("62ad"),f=s("132d"),h=s("0fd9b"),w=Object(c["a"])(d,a,r,!1,null,null,null);t["default"]=w.exports;u()(w,{VBreadcrumbs:m["a"],VCard:p["a"],VCol:v["a"],VIcon:f["a"],VRow:h["a"]})},"2bc5":function(e,t,s){"use strict";var a=s("5530"),r=(s("a15b"),s("abd3"),s("ade3")),i=s("1c87"),n=s("58df"),o=Object(n["a"])(i["a"]).extend({name:"v-breadcrumbs-item",props:{activeClass:{type:String,default:"v-breadcrumbs__item--disabled"},ripple:{type:[Boolean,Object],default:!1}},computed:{classes:function(){return Object(r["a"])({"v-breadcrumbs__item":!0},this.activeClass,this.disabled)}},render:function(e){var t=this.generateRouteLink(),s=t.tag,r=t.data;return e("li",[e(s,Object(a["a"])(Object(a["a"])({},r),{},{attrs:Object(a["a"])(Object(a["a"])({},r.attrs),{},{"aria-current":this.isActive&&this.isLink?"page":void 0})}),this.$slots.default)])}}),d=s("80d2"),c=Object(d["i"])("v-breadcrumbs__divider","li"),l=s("7560");t["a"]=Object(n["a"])(l["a"]).extend({name:"v-breadcrumbs",props:{divider:{type:String,default:"/"},items:{type:Array,default:function(){return[]}},large:Boolean},computed:{classes:function(){return Object(a["a"])({"v-breadcrumbs--large":this.large},this.themeClasses)}},methods:{genDivider:function(){return this.$createElement(c,this.$slots.divider?this.$slots.divider:this.divider)},genItems:function(){for(var e=[],t=!!this.$scopedSlots.item,s=[],a=0;a<this.items.length;a++){var r=this.items[a];s.push(r.text),t?e.push(this.$scopedSlots.item({item:r})):e.push(this.$createElement(o,{key:s.join("."),props:r},[r.text])),a<this.items.length-1&&e.push(this.genDivider())}return e}},render:function(e){var t=this.$slots.default||this.genItems();return e("ul",{staticClass:"v-breadcrumbs",class:this.classes},t)}})},"45e2":function(e,t,s){"use strict";s("5841")},5841:function(e,t,s){},"9ace":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-card",[s("vue-card-title",{attrs:{title:e.$t("changePassword"),subtitle:e.$t("changePasswordSubheading"),icon:"mdi-account-key-outline"}}),s("v-divider"),s("v-row",{staticClass:"py-2",attrs:{justify:"center",align:"center"}},[s("v-img",{attrs:{src:"/images/auth/password.png","max-height":"100px","max-width":"100px",contain:""}})],1),s("v-card-text",[s("v-row",{attrs:{align:"start"}},[s("v-col",{attrs:{md:"6",cols:"12"}},[s("v-list",{attrs:{dense:""}},[s("div",{staticClass:"font-weight-bold",domProps:{textContent:e._s(e.$t("changePasswordRules"))}}),e._l(e.passwordRequirements,(function(t,a){return s("v-list-item",{key:a},[s("v-list-item-action",{staticClass:"px-0 mx-0"},[s("v-icon",{attrs:{small:"",color:t.satisfied?"success":"danger"},domProps:{textContent:e._s(t.satisfied?"mdi-check":"mdi-alert-circle-outline")}})],1),s("v-list-item-content",[s("v-list-item-title",{domProps:{textContent:e._s(t.text)}})],1)],1)}))],2)],1),s("v-col",{attrs:{md:"6",cols:"12"}},[s("change-password-form",{attrs:{requirements:e.passwordRequirements},on:{satisfied:e.satisfiedRequirements,dissatisfied:e.disSatisfiedRequirements}})],1)],1)],1)],1)},r=[],i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-form",[s("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],ref:"oldPassword",attrs:{"append-icon":e.oldPassword.visible?"mdi-eye-outline":"mdi-eye-off-outline",type:e.oldPassword.visible?"text":"password"},on:{"click:append":function(t){e.oldPassword.visible=!e.oldPassword.visible}},model:{value:e.oldPassword.value,callback:function(t){e.$set(e.oldPassword,"value",t)},expression:"oldPassword.value"}},"v-text-field",e.veeValidate("old_password","Old Password *"),!1)),s("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],ref:"newPassword",attrs:{"append-icon":e.newPassword.visible?"mdi-eye-outline":"mdi-eye-off-outline",type:e.newPassword.visible?"text":"password"},on:{"click:append":function(t){e.newPassword.visible=!e.newPassword.visible}},model:{value:e.newPassword.value,callback:function(t){e.$set(e.newPassword,"value",t)},expression:"newPassword.value"}},"v-text-field",e.veeValidate("password","New Password *"),!1)),s("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required|confirmed:newPassword",expression:"'required|confirmed:newPassword'"}],ref:"repeatPassword",attrs:{"append-icon":e.repeatPassword.visible?"mdi-eye-outline":"mdi-eye-off-outline",type:e.repeatPassword.visible?"text":"password"},on:{"click:append":function(t){e.repeatPassword.visible=!e.repeatPassword.visible}},model:{value:e.repeatPassword.value,callback:function(t){e.$set(e.repeatPassword,"value",t)},expression:"repeatPassword.value"}},"v-text-field",e.veeValidate("repeat_password","Repeat Password *"),!1)),s("v-col",{staticClass:"text-right"},[s("v-btn",{attrs:{text:""},on:{click:e.resetForm}},[e._v(" "+e._s(e.$t("clear"))+" ")]),s("v-btn",{attrs:{disabled:e.btnDisabled,color:"primary"},on:{click:e.changePassword}},[e._v(" "+e._s(e.$t("save"))+" ")])],1)],1)},n=[],o=s("1da1"),d=s("5530"),c=(s("96cf"),s("498a"),s("4d63"),s("ac1f"),s("25f0"),s("466d"),s("4de4"),s("159b"),s("c44a")),l=s("2f62"),u=s("fab2"),m={name:"ChangePasswordForm",mixins:[c["a"]],props:{requirements:{type:Array,required:!0}},data:function(){var e=this;return{rules:[function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;t.trim().length>=s?e.$emit("satisfied",0):e.$emit("dissatisfied",0)},function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=new RegExp(".*[A-Z]{".concat(s,",}.*"));t.match(a)?e.$emit("satisfied",1):e.$emit("dissatisfied",1)},function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=new RegExp(".*[a-z]{".concat(s,",}.*"));t.match(a)?e.$emit("satisfied",2):e.$emit("dissatisfied",2)},function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=new RegExp(".*[0-9]{".concat(s,",}.*"));t.match(a)?e.$emit("satisfied",3):e.$emit("dissatisfied",3)},function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=new RegExp(".*[^a-zA-Z0-9 ]{".concat(s,",}.*"));t.match(a)?e.$emit("satisfied",4):e.$emit("dissatisfied",4)}],oldPassword:{value:"",visible:!1},newPassword:{value:"",visible:!1},repeatPassword:{value:"",visible:!1}}},computed:{btnDisabled:function(){return this.requirements.filter((function(e){return!1===e.satisfied})).length>1||this.newPassword.value!==this.repeatPassword.value||!this.oldPassword.value}},watch:{"newPassword.value":{handler:function(e){this.rules.forEach((function(t){t(e)}))},deep:!0}},methods:Object(d["a"])(Object(d["a"])({},Object(l["d"])({setSnackBar:"common/setSnackBar"})),{},{changePassword:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.validateAllFields();case 2:if(!t.sent){t.next=5;break}s={old_password:e.oldPassword.value,password:e.newPassword.value,repeat_password:e.repeatPassword.value},e.$http.post(u["a"].changePassword(e.getAuthStateUserId),s).then((function(){e.logoutUser()})).catch((function(t){e.notifyInvalidFormResponse(),e.pushErrors(t)}));case 5:case"end":return t.stop()}}),t)})))()},logoutUser:function(){this.$store.dispatch("auth/logout",{preserveNext:!1}),this.setSnackBar({text:"Password was successfully changed!",color:"green"})},resetForm:function(){this.clearNonFieldErrors(),this.errors.clear(),this.oldPassword.value="",this.newPassword.value="",this.repeatPassword.value=""}})},p=m,v=s("2877"),f=s("6544"),h=s.n(f),w=s("8336"),b=s("62ad"),g=s("4bd4"),P=s("8654"),x=Object(v["a"])(p,i,n,!1,null,null,null),$=x.exports;h()(x,{VBtn:w["a"],VCol:b["a"],VForm:g["a"],VTextField:P["a"]});var C={components:{ChangePasswordForm:$},data:function(){return{passwordRequirements:[{text:this.$t("changePasswordCharacter"),satisfied:!1},{text:this.$t("changePasswordUpperCase"),satisfied:!1},{text:this.$t("changePasswordLowerCase"),satisfied:!1},{text:this.$t("changePasswordNumber"),satisfied:!1},{text:this.$t("changePasswordSymbol"),satisfied:!1}]}},methods:{satisfiedRequirements:function(e){this.passwordRequirements[e].satisfied=!0},disSatisfiedRequirements:function(e){this.passwordRequirements[e].satisfied=!1}}},_=C,y=(s("45e2"),s("b0af")),O=s("99d9"),V=s("ce7e"),k=s("132d"),S=s("adda"),R=s("8860"),j=s("da13"),q=s("1800"),I=s("5d23"),U=s("0fd9b"),E=Object(v["a"])(_,a,r,!1,null,"0420b728",null);t["a"]=E.exports;h()(E,{VCard:y["a"],VCardText:O["c"],VCol:b["a"],VDivider:V["a"],VIcon:k["a"],VImg:S["a"],VList:R["a"],VListItem:j["a"],VListItemAction:q["a"],VListItemContent:I["a"],VListItemTitle:I["c"],VRow:U["a"]})},abd3:function(e,t,s){},fab2:function(e,t,s){"use strict";t["a"]={getUserList:"/users/",postUser:"/users/",autocomplete:"/users/autocomplete/",postImportUser:"/users/import/",downloadUserImportSample:function(e){return"/users/import/sample/?organization=".concat(e)},getUserDetail:function(e){return"/users/".concat(e,"/")},getInternalUserDetail:function(e){return"/users/".concat(e,"/internal-detail")},deleteUser:function(e){return"/users/".concat(e,"/")},updateUser:function(e){return"/users/".concat(e,"/")},changePassword:function(e){return"/users/".concat(e,"/change-password/")},getUserCV:function(e){return"/users/".concat(e,"/cv/")},getProfileCompleteness:function(e){return"users/".concat(e,"/profile-completeness/")}}}}]);