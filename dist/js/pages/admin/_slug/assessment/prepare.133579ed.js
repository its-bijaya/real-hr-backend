(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages/admin/_slug/assessment/prepare","chunk-2d0c8a11","chunk-2d2259e9","chunk-6441e173","chunk-aee42bec","chunk-2d213000","chunk-2d0d6ae8"],{"03e7":function(e,t,s){"use strict";s("7183")},"0798":function(e,t,s){"use strict";var a=s("5530"),n=s("ade3"),i=(s("caad"),s("0c18"),s("10d2")),r=s("afdd"),o=s("9d26"),l=s("f2e7"),c=s("7560"),u=s("f40d"),d=s("58df"),m=s("d9bd");t["a"]=Object(d["a"])(i["a"],l["a"],u["a"]).extend({name:"v-alert",props:{border:{type:String,validator:function(e){return["top","right","bottom","left"].includes(e)}},closeLabel:{type:String,default:"$vuetify.close"},coloredBorder:Boolean,dense:Boolean,dismissible:Boolean,closeIcon:{type:String,default:"$cancel"},icon:{default:"",type:[Boolean,String],validator:function(e){return"string"===typeof e||!1===e}},outlined:Boolean,prominent:Boolean,text:Boolean,type:{type:String,validator:function(e){return["info","error","success","warning"].includes(e)}},value:{type:Boolean,default:!0}},computed:{__cachedBorder:function(){if(!this.border)return null;var e={staticClass:"v-alert__border",class:Object(n["a"])({},"v-alert__border--".concat(this.border),!0)};return this.coloredBorder&&(e=this.setBackgroundColor(this.computedColor,e),e.class["v-alert__border--has-color"]=!0),this.$createElement("div",e)},__cachedDismissible:function(){var e=this;if(!this.dismissible)return null;var t=this.iconColor;return this.$createElement(r["a"],{staticClass:"v-alert__dismissible",props:{color:t,icon:!0,small:!0},attrs:{"aria-label":this.$vuetify.lang.t(this.closeLabel)},on:{click:function(){return e.isActive=!1}}},[this.$createElement(o["a"],{props:{color:t}},this.closeIcon)])},__cachedIcon:function(){return this.computedIcon?this.$createElement(o["a"],{staticClass:"v-alert__icon",props:{color:this.iconColor}},this.computedIcon):null},classes:function(){var e=Object(a["a"])(Object(a["a"])({},i["a"].options.computed.classes.call(this)),{},{"v-alert--border":Boolean(this.border),"v-alert--dense":this.dense,"v-alert--outlined":this.outlined,"v-alert--prominent":this.prominent,"v-alert--text":this.text});return this.border&&(e["v-alert--border-".concat(this.border)]=!0),e},computedColor:function(){return this.color||this.type},computedIcon:function(){return!1!==this.icon&&("string"===typeof this.icon&&this.icon?this.icon:!!["error","info","success","warning"].includes(this.type)&&"$".concat(this.type))},hasColoredIcon:function(){return this.hasText||Boolean(this.border)&&this.coloredBorder},hasText:function(){return this.text||this.outlined},iconColor:function(){return this.hasColoredIcon?this.computedColor:void 0},isDark:function(){return!(!this.type||this.coloredBorder||this.outlined)||c["a"].options.computed.isDark.call(this)}},created:function(){this.$attrs.hasOwnProperty("outline")&&Object(m["a"])("outline","outlined",this)},methods:{genWrapper:function(){var e=[this.$slots.prepend||this.__cachedIcon,this.genContent(),this.__cachedBorder,this.$slots.append,this.$scopedSlots.close?this.$scopedSlots.close({toggle:this.toggle}):this.__cachedDismissible],t={staticClass:"v-alert__wrapper"};return this.$createElement("div",t,e)},genContent:function(){return this.$createElement("div",{staticClass:"v-alert__content"},this.$slots.default)},genAlert:function(){var e={staticClass:"v-alert",attrs:{role:"alert"},on:this.listeners$,class:this.classes,style:this.styles,directives:[{name:"show",value:this.isActive}]};if(!this.coloredBorder){var t=this.hasText?this.setTextColor:this.setBackgroundColor;e=t(this.computedColor,e)}return this.$createElement("div",e,[this.genWrapper()])},toggle:function(){this.isActive=!this.isActive}},render:function(e){var t=this.genAlert();return this.transition?e("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},[t]):t}})},"0c18":function(e,t,s){},"17cc":function(e,t,s){"use strict";var a=s("b85c"),n=s("1da1"),i=s("5530");s("96cf"),s("ac1f"),s("841c"),s("d3b7"),s("3ca3"),s("ddb0"),s("2b3d"),s("b64b");t["a"]={data:function(){return{fetchedResults:[],response:{},extra_data:"",appliedFilters:{},footerProps:{itemsPerPageOptions:[10,20,30,40,50,100]},pagination:{sortBy:["modified_at"],descending:!1,totalItems:0,page:1,rowsPerPage:10,pageCount:0},triggerDataTable:!0,fullParams:""}},created:function(){this.getParams(this.DataTableFilter)},methods:{getParams:function(e){var t=Object(i["a"])(Object(i["a"])({},e),{},{offset:(this.pagination.page-1)*this.pagination.rowsPerPage,limit:this.pagination.rowsPerPage,ordering:this.pagination.descending?this.pagination.sortBy:"-"+this.pagination.sortBy});this.fullParams=this.convertToURLSearchParams(t)},loadDataTable:function(e){this.response=e,this.fetchedResults=e.results,this.pagination.totalItems=e.count,this.extra_data=e.extra_data,this.triggerDataTable=!0},fetchData:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function s(){var a,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return console.warn("DatatableMixin: fetchData has been deprecated. Please use the function in page itself."),a=Object(i["a"])(Object(i["a"])(Object(i["a"])({},e),t.appliedFilters),{},{search:t.search,offset:(t.pagination.page-1)*t.pagination.rowsPerPage,limit:t.pagination.rowsPerPage,ordering:t.pagination.descending?t.pagination.sortBy:"-"+t.pagination.sortBy}),n=t.convertToURLSearchParams(a),t.loading=!0,s.next=6,t.$http.get(t.endpoint,{params:n}).then((function(e){t.response=e,t.fetchedResults=e.results,t.pagination.totalItems=e.count})).finally((function(){t.loading=!1}));case 6:case"end":return s.stop()}}),s)})))()},applyFilters:function(e){this.appliedFilters=e,this.fetchData(e)},convertToURLSearchParams:function(e){for(var t=new URLSearchParams,s=0,n=Object.keys(e);s<n.length;s++){var i=n[s],r=e[i];if(void 0===r&&(r=""),Array.isArray(r)){var o,l=Object(a["a"])(r);try{for(l.s();!(o=l.n()).done;){var c=o.value;t.append(i,c)}}catch(u){l.e(u)}finally{l.f()}}else t.append(i,r)}return t},loadDataTableChange:function(){var e=this;this.triggerDataTable&&(this.getParams(this.DataTableFilter),this.$nextTick((function(){e.fetchDataTable()})))}},watch:{DataTableFilter:function(e){this.fetchedResults=[],this.getParams(e),this.fetchDataTable(),this.pagination.page=1},"pagination.sortBy":function(){this.fetchedResults=[],this.loadDataTableChange()},"pagination.descending":function(){this.fetchedResults=[],this.loadDataTableChange()},"pagination.page":function(){this.fetchedResults=[],this.loadDataTableChange()},"pagination.rowsPerPage":function(){this.fetchedResults=[],this.loadDataTableChange()}}}},"1b5c":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("vue-page-wrapper",{attrs:{"bread-crumbs":e.breadCrumbItems,title:e.htmlTitle}},[s("v-card",[s("vue-card-title",{attrs:{title:"Prepare Assessment",subtitle:"The list below contains all the assessment list for this organization.",icon:"mdi-file-document-outline"}})],1),s("v-row",[s("v-col",{attrs:{cols:"12"}},[e.nonFieldErrors?s("non-field-form-errors",{attrs:{"non-field-errors":e.nonFieldErrors}}):e._e()],1)],1),s("v-row",[s("v-col",{attrs:{md:"4"}},[s("assessment-set",{attrs:{"selected-assessment-set":e.selectedAssessmentSetData,as:"hr"},on:{"update:selectedAssessmentSet":function(t){e.selectedAssessmentSetData=t},"update:selected-assessment-set":function(t){e.selectedAssessmentSetData=t},error:e.setAssessmentError}}),Object.keys(e.selectedAssessmentSetData).length>0?s("v-card",{staticClass:"my-2"},[s("v-card-title",{staticClass:"pa-1"},[s("v-subheader",{staticClass:"font-weight-bold"},[e._v("Assigned Users")]),s("v-spacer"),e.selectedSection?s("v-btn",{attrs:{icon:"",fab:"",color:"primary","x-small":"","data-cy":"btn-create-user"},on:{click:function(t){e.assignAndGenerateForm=!0}}},[s("v-icon",[e._v("mdi-plus-thick")])],1):e._e()],1),s("v-divider"),e.selectedAssessmentSetData.assigned_users.length>0?s("v-list",{attrs:{dense:""}},e._l(e.selectedAssessmentSetData.assigned_users,(function(t,a){return s("v-list-item",{key:a},[s("v-list-item-content",[s("vue-user",{attrs:{user:t.user}})],1),s("v-list-item-action",["in-progress"===t.status?s("v-chip",{attrs:{small:""}},[e._v("In Progress")]):"pending"===t.status?s("v-chip",{attrs:{color:"orange white--text",small:"",close:"","data-cy":"btn-delete-user"},on:{"click:close":function(s){return e.removeAssignedUser(t)}}},[e._v("Pending")]):s("v-chip",{staticClass:"text-capitalize",attrs:{small:""}},[e._v(e._s(t.status))])],1)],1)})),1):s("v-card-text",[s("v-alert",{staticClass:"text-body-2 my-1",attrs:{color:"blue-grey",dark:"",type:"info"}},[e._v(" No data found on assigned users. ")])],1)],1):e._e()],1),s("v-col",{attrs:{md:"8"}},[Object.keys(e.selectedAssessmentSetData).length>0?s("div",[s("v-card",[s("vue-card-title",{attrs:{title:e.selectedAssessmentSetData.title,subtitle:"Please refer to the following questions on this set.",icon:"mdi-file-document-outline"}})],1),e.selectedAssessmentSetData.description?s("v-card",{staticClass:"mt-3"},[s("v-card-text",[e._v(" "+e._s(e.selectedAssessmentSetData.description)+" ")])],1):e._e(),s("v-card",{staticClass:"mt-3"},[s("v-card-text",[s("div",{staticClass:"d-flex justify-space-between"},[s("div",{staticClass:"font-weight-bold"},[e._v("Duration:")]),s("div",[e._v(e._s(e.selectedAssessmentSetData.duration))])]),s("div",{staticClass:"d-flex justify-space-between"},[s("div",{staticClass:"font-weight-bold"},[e._v("Total Questions:")]),s("div",[e._v(e._s(e.selectedAssessmentSetData.question.count))])]),s("div",{staticClass:"d-flex justify-space-between"},[s("div",{staticClass:"font-weight-bold"},[e._v("Total Calculated Weightage:")]),s("div",{staticClass:"font-weight-bold",class:e.selectedAssessmentSetData.total_weightage>=e.selectedAssessmentSetData.question.total_weightage?"green--text":"red--text"},[e._v(" "+e._s(e.selectedAssessmentSetData.question.total_weightage||"N/A")+" ")])]),s("div",{staticClass:"d-flex justify-space-between"},[s("div",{staticClass:"font-weight-bold"},[e._v("Assessment Set Weightage:")]),s("div",[e._v(" "+e._s(e.selectedAssessmentSetData.marginal_weightage)+" / "+e._s(e.selectedAssessmentSetData.total_weightage)+" ")])])])],1),Object.keys(e.selectedAssessmentSetData.sections).length>0?s("v-card",{staticClass:"my-3"},[s("v-row",{attrs:{align:"center"}},[s("v-col",{staticClass:"py-0 my-0",attrs:{md:"11"}},[s("v-tabs",e._l(e.selectedAssessmentSetData.sections,(function(t,a){return s("v-tab",{key:a,attrs:{"data-cy":"tab-section"},on:{click:function(s){e.selectedSection=t.id,e.selectedSectionTitle=t.title}}},[s("div",[e._v(e._s(t.title))]),s("vue-context-menu",{staticClass:"mr-n4",attrs:{"context-list":[{name:"Attach Question",icon:"mdi-attachment",color:"green"},{name:"Update",icon:"mdi-pencil-outline",color:"blue"},{name:"Delete",icon:"mdi-trash-can-outline",color:"red"}]},on:{click0:function(t){e.attachQuestionForm=!0},click1:function(s){e.assessmentSectionForm=!0,e.actionDataSection=t},click2:function(s){e.deleteNotificationAssessmentSection.dialog=!0,e.actionDataSection=t}}})],1)})),1)],1),s("v-col",{attrs:{md:"1"}},[s("v-btn",{attrs:{small:"",depressed:"",color:"primary",dark:"","data-cy":"btn-create-section",icon:""},on:{click:function(t){e.assessmentSectionForm=!0}}},[s("v-icon",[e._v("mdi-plus ")])],1)],1)],1)],1):s("v-card",[s("v-card-text",{staticClass:"my-3"},[s("v-alert",{staticClass:"text-body-2 my-1",attrs:{color:"blue-grey",dark:"",type:"info"}},[e._v(" No data found on sections. Please add sections to continue. "),s("v-btn",{attrs:{small:"",depressed:"",dark:"",icon:"","data-cy":"btn-create-section"},on:{click:function(t){e.assessmentSectionForm=!0}}},[s("v-icon",[e._v("mdi-plus ")])],1)],1)],1)],1)],1):s("v-card",{staticClass:"my-2"},[s("v-card-text",[s("v-alert",{staticClass:"text-body-2 my-1",attrs:{color:"blue-grey",dark:"",type:"info"}},[e._v(" Please select assessment Set to view its details. ")])],1)],1),!e.loading&&Object.keys(e.selectedAssessmentSetData).length>0&&e.selectedSection?s("div",[e.fetchedResults.length>0?s("div",[s("data-table-card-pagination",{attrs:{"footer-props":e.footerProps,response:e.response,pagination:e.pagination}}),e._l(e.fetchedResults,(function(t,a){return s("div",{key:a,staticClass:"my-2"},[s("preview-question-card",{attrs:{question:t.question,"question-order":t.order}},[s("template",{slot:"delete"},[s("v-icon",{attrs:{color:"danger",left:"","data-cy":"btn-delete-question"},domProps:{textContent:e._s("mdi-trash-can-outline")},on:{click:function(s){return e.triggerDetachQuestion(t)}}})],1),s("template",{slot:"mandatory"},[t.is_mandatory?s("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[s("v-icon",e._g({attrs:{color:"green"}},a),[e._v("mdi-checkbox-outline")])]}}],null,!0)},[s("span",[e._v("Mandatory Question")])]):s("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[s("v-icon",e._g({},a),[e._v("mdi-minus-box-outline")])]}}],null,!0)},[s("span",[e._v("Not Mandatory Question")])])],1)],2)],1)}))],2):s("v-card",{staticClass:"my-2"},[s("v-card-text",[s("v-alert",{staticClass:"text-body-2 my-1",attrs:{color:"blue-grey",dark:"",type:"info"}},[e._v(" No questions found. ")])],1)],1)],1):e._e(),e.loading?s("default-svg-loader"):e._e()],1)],1),s("v-dialog",{attrs:{scrollable:"","max-width":"960px",persistent:""},model:{value:e.attachQuestionForm,callback:function(t){e.attachQuestionForm=t},expression:"attachQuestionForm"}},[e.attachQuestionForm?s("attach-question-form",{attrs:{"attach-question-form":e.attachQuestionForm,"selected-section-id":e.selectedSection,"selected-section-title":e.selectedSectionTitle,"selected-question-set-title":e.selectedAssessmentSetData.title,"list-of-questions-in-section":e.fetchedResults},on:{"update:attachQuestionForm":function(t){e.attachQuestionForm=t},"update:attach-question-form":function(t){e.attachQuestionForm=t},dismissForm:e.dismissAttachQuestionForm}}):e._e()],1),s("v-dialog",{attrs:{scrollable:"","max-width":"960px",persistent:""},model:{value:e.assignAndGenerateForm,callback:function(t){e.assignAndGenerateForm=t},expression:"assignAndGenerateForm"}},[e.assignAndGenerateForm?s("assign-and-generate-form",{attrs:{"assign-and-generate-form":e.assignAndGenerateForm,"assessment-set-data":e.selectedAssessmentSetData},on:{"update:assignAndGenerateForm":function(t){e.assignAndGenerateForm=t},"update:assign-and-generate-form":function(t){e.assignAndGenerateForm=t},dismissForm:e.dismissAssignAndGenerateForm}}):e._e()],1),s("vue-dialog",{attrs:{notify:e.deleteNotification},on:{close:function(t){e.deleteNotification.dialog=!1},agree:e.detachQuestion}}),s("vue-dialog",{attrs:{notify:e.deleteAssignedUser},on:{close:function(t){e.deleteAssignedUser.dialog=!1},agree:e.removeUser}}),s("v-dialog",{attrs:{scrollable:"","max-width":"560px",persistent:""},model:{value:e.assessmentSectionForm,callback:function(t){e.assessmentSectionForm=t},expression:"assessmentSectionForm"}},[e.assessmentSectionForm?s("assessment-section-form",{attrs:{"action-data":e.actionDataSection,"active-assessment-set":e.selectedAssessmentSetData.id},on:{dismissForm:e.dismissFormAssessmentSection}}):e._e()],1),s("vue-dialog",{attrs:{notify:e.deleteNotificationAssessmentSection},on:{close:function(t){e.deleteNotificationAssessmentSection.dialog=!1},agree:e.deleteAssessmentSection}})],1)},n=[],i=s("1da1"),r=s("5530"),o=(s("96cf"),s("99af"),s("d3b7"),s("b64b"),s("7db0"),s("c740"),s("a434"),s("2f62")),l=s("0549"),c=s("c44a"),u=s("ab8a"),d=s("17cc"),m=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-card",[s("v-card-title",{staticClass:"pa-1"},[s("v-subheader",{staticClass:"font-weight-bold"},[e._v("Assessment Sets")]),s("v-spacer"),s("v-btn",{attrs:{icon:"",fab:"","data-cy":"btn-create-assessment",color:"primary","x-small":""},on:{click:function(t){e.assessmentSetForm=!0}}},[s("v-icon",[e._v("mdi-plus-thick")])],1)],1),s("v-divider"),s("v-data-table",{attrs:{items:e.fetchedResults,loading:e.loading,"sort-desc":e.pagination.descending,"sort-by":e.pagination.sortBy,page:e.pagination.page,"items-per-page":e.pagination.rowsPerPage,"footer-props":e.footerProps,"server-items-length":e.pagination.totalItems,"hide-default-header":"","hide-default-footer":"","must-sort":""},on:{"update:sortDesc":function(t){return e.$set(e.pagination,"descending",t)},"update:sort-desc":function(t){return e.$set(e.pagination,"descending",t)},"update:sortBy":function(t){return e.$set(e.pagination,"sortBy",t)},"update:sort-by":function(t){return e.$set(e.pagination,"sortBy",t)},"update:page":function(t){return e.$set(e.pagination,"page",t)},"update:itemsPerPage":function(t){return e.$set(e.pagination,"rowsPerPage",t)},"update:items-per-page":function(t){return e.$set(e.pagination,"rowsPerPage",t)}},scopedSlots:e._u([{key:"item",fn:function(t){return[s("tr",{class:t.item.id===e.activeAssessmentSet.id?"primary":"",on:{click:function(s){e.$emit("update:selectedAssessmentSet",t.item),e.activeAssessmentSet=t.item}}},[s("td",[s("a",{class:t.item.id===e.activeAssessmentSet.id?"font-weight-bold white--text":"primary--text"},[e._v(" "+e._s(t.item.title)+" ")])]),s("td",{staticClass:"text-right"},[s("v-icon",{attrs:{"data-cy":"btn-update-assessment",color:t.item.id===e.activeAssessmentSet.id?"white":"primary",small:""},domProps:{textContent:e._s("mdi-square-edit-outline")},on:{click:function(s){e.actionData=t.item,e.assessmentSetForm=!0}}}),s("v-icon",{attrs:{color:t.item.id===e.activeAssessmentSet.id?"white":"danger",small:"","data-cy":"btn-delete-assessment"},domProps:{textContent:e._s("mdi-trash-can-outline")},on:{click:function(s){return e.triggerDeleteAssessmentSet(t.item)}}})],1)])]}}])},[s("template",{slot:"no-data"},[s("data-table-no-data",{attrs:{loading:e.loading}})],1)],2),s("v-divider"),s("data-table-card-pagination",{attrs:{"footer-props":e.footerProps,response:e.response,pagination:e.pagination,small:""}})],1),s("v-dialog",{attrs:{scrollable:"","max-width":"660px",persistent:""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.dismissForm.apply(null,arguments)}},model:{value:e.assessmentSetForm,callback:function(t){e.assessmentSetForm=t},expression:"assessmentSetForm"}},[e.assessmentSetForm?s("assessment-set-form",{attrs:{"action-data":e.actionData,as:e.as},on:{dismissForm:e.dismissForm}}):e._e()],1),s("vue-dialog",{attrs:{notify:e.deleteNotification},on:{close:function(t){e.deleteNotification.dialog=!1},agree:e.deleteAssessmentSet}})],1)},f=[],p=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-form",{ref:"assessmentSetForm",on:{submit:function(t){return t.preventDefault(),e.getFormAction.apply(null,arguments)}}},[s("v-card",[s("vue-card-title",{attrs:{title:"Assessment Set",subtitle:"",icon:"mdi-file-document-outline",closable:""},on:{close:function(t){return e.$emit("dismissForm",{})}}}),s("v-divider"),s("v-card-text",[s("v-row",[e.nonFieldErrors.length>0?s("v-col",{attrs:{cols:"12"}},[s("non-field-form-errors",{attrs:{"non-field-errors":e.nonFieldErrors}})],1):e._e(),s("v-chip",{staticClass:"ml-2",attrs:{label:"",color:"blue-grey white--text",small:""}},[e._v(e._s(e.formValues.id?"Update":"Create")+" Assessment :")]),s("v-col",{attrs:{cols:"12"}},[s("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required|max:255",expression:"'required|max:255'"}],attrs:{"prepend-inner-icon":"mdi-file-document-outline"},model:{value:e.formValues.title,callback:function(t){e.$set(e.formValues,"title",t)},expression:"formValues.title"}},"v-text-field",e.veeValidate("title","Title *"),!1)),s("v-textarea",e._b({directives:[{name:"validate",rawName:"v-validate",value:"",expression:"''"}],attrs:{"prepend-inner-icon":"mdi-file-document-outline",rows:"2"},model:{value:e.formValues.description,callback:function(t){e.$set(e.formValues,"description",t)},expression:"formValues.description"}},"v-textarea",e.veeValidate("description","Write assessment description."),!1)),s("div",{staticClass:"d-flex"},[s("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required|min_value:5",expression:"'required|min_value:5'"}],attrs:{"prepend-inner-icon":"mdi-file-document-outline",type:"number",min:"1"},model:{value:e.calculatedDuration,callback:function(t){e.calculatedDuration=t},expression:"calculatedDuration"}},"v-text-field",e.veeValidate("duration","Duration in minutes *"),!1)),s("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required|min_value:1",expression:"'required|min_value:1'"}],staticClass:"mx-2",attrs:{"prepend-inner-icon":"mdi-file-document-outline",type:"number",min:"1"},model:{value:e.formValues.marginal_percentage,callback:function(t){e.$set(e.formValues,"marginal_percentage",t)},expression:"formValues.marginal_percentage"}},"v-text-field",e.veeValidate("marginal_percentage","Marginal Percentage *"),!1))],1)],1),e.formValues.id?e._e():s("v-col",{attrs:{cols:"12"}},[s("v-chip",{attrs:{label:"",color:"blue-grey white--text",small:""}},[e._v("Create Sections (If Any) :")]),s("v-alert",{staticClass:"text-body-2 my-0 mt-2 py-1",attrs:{dense:"",text:"",type:"info"}},[e._v("One default section with assessment title will be created if section is not defined here.")]),s("v-row",[s("v-col",{staticClass:"pb-0",attrs:{cols:"4"}},[s("v-text-field",{attrs:{counter:255,"data-cy":"input-section-name",label:"Section Name",dense:""},model:{value:e.section,callback:function(t){e.section=t},expression:"section"}})],1),s("v-col",{attrs:{cols:"8"}},[s("div",{staticClass:"d-flex"},[s("v-text-field",{attrs:{counter:600,"data-cy":"input-section-description",label:"Section Description",dense:""},model:{value:e.sectionDescription,callback:function(t){e.sectionDescription=t},expression:"sectionDescription"}}),s("v-icon",{staticClass:"ml-2",attrs:{small:"","data-cy":"btn-add-section",color:"primary",disabled:!e.section||e.section.length>255||e.sectionDescription.length>600},domProps:{textContent:e._s("mdi-plus-box")},on:{click:e.addSections}})],1)])],1),s("v-row",[s("v-col",{attrs:{cols:"12"}},[e._l(e.sectionList,(function(t,a){return[s("v-row",{key:a,staticClass:"my-1",staticStyle:{border:"solid 1px"},attrs:{"no-gutters":"",align:"center"}},[s("v-col",{attrs:{cols:"4"}},[s("div",{staticClass:"blue-grey--text px-2"},[s("span",[e._v(" "+e._s(t.title)+" ")])])]),s("v-divider",{attrs:{vertical:""}}),s("v-col",{staticClass:"pl-3",attrs:{cols:"7"}},[s("span",{staticClass:"blue-grey--text"},[e._v(" "+e._s(t.description||"")+" ")])]),s("v-col",{staticClass:"text-right mr-1"},[s("v-icon",{staticClass:"my-1",attrs:{small:"",color:"danger","data-cy":"btn-remove-section"},domProps:{textContent:e._s("mdi-trash-can-outline")},on:{click:function(t){return e.sectionList.splice(e.index,1)}}})],1)],1)]}))],2)],1)],1)],1)],1),s("v-divider"),s("v-card-actions",[s("v-spacer"),s("form-submit",{attrs:{"form-errors":e.errors.any()},on:{clearForm:e.clearForm}})],1)],1)],1)},h=[],v=(s("ac1f"),s("1276"),s("159b"),s("878b")),g={components:{FormSubmit:v["a"],NonFieldFormErrors:u["default"]},mixins:[c["a"]],props:{actionData:{type:Object,required:!1,default:function(){return{}}},as:{type:String,default:""}},data:function(){return{formValues:this.deepCopy(this.actionData),calculatedDuration:null,section:"",sectionDescription:"",sectionList:[],sumSeconds:0}},mounted:function(){var e=this;if(this.formValues.id){var t=this.formValues.duration.split(":"),s=0;t.forEach((function(){0===s?e.sumSeconds+=60*parseInt(t[0])*60:1===s?e.sumSeconds+=60*parseInt(t[1]):2===s&&(e.sumSeconds+=parseInt(t[2])),s++})),this.calculatedDuration=this.sumSeconds/60}},methods:{getFormAction:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.formValues["duration"]=60*e.calculatedDuration,t.next=3,e.validateAllFields();case 3:if(!t.sent){t.next=5;break}return t.abrupt("return",e.formValues.id?e.updateAssessmentSet():e.createAssessmentSet());case 5:case"end":return t.stop()}}),t)})))()},createAssessmentSet:function(){var e=this;this.validateAllFields();var t={assessment_set:this.formValues,assessment_sections:this.sectionList},s="/assessment/".concat(this.$route.params.slug,"/assessments/?as=").concat(this.as);this.$http.post(s,t).then((function(t){e.formValues={},e.notifyUser("Successfully created assessment set."),e.$emit("dismissForm",t,"created")})).catch((function(t){e.notifyInvalidFormResponse(),e.pushErrors(t)}))},updateAssessmentSet:function(){var e=this;this.validateAllFields();var t="/assessment/".concat(this.$route.params.slug,"/assessments/").concat(this.formValues.id,"/?as=").concat(this.as);this.$http.patch(t,this.formValues).then((function(t){e.notifyUser("Successfully updated assessment."),e.$emit("dismissForm",t,"updated")})).catch((function(t){e.notifyInvalidFormResponse(),e.pushErrors(t)}))},clearForm:function(){this.errors.clear(),this.$refs.assessmentSetForm.reset(),this.$set(this.formValues,"sections",[]),this.clearNonFieldErrors()},addSections:function(){this.sectionList.push({title:this.section,description:this.sectionDescription}),this.section="",this.sectionDescription=""}}},b=g,y=s("2877"),x=s("6544"),_=s.n(x),S=s("0798"),C=s("b0af"),D=s("99d9"),k=s("cc20"),A=s("62ad"),w=s("ce7e"),V=s("4bd4"),F=s("132d"),T=s("0fd9b"),I=s("2fa4"),$=s("8654"),O=s("a844"),P=Object(y["a"])(b,p,h,!1,null,null,null),L=P.exports;_()(P,{VAlert:S["a"],VCard:C["a"],VCardActions:D["a"],VCardText:D["c"],VChip:k["a"],VCol:A["a"],VDivider:w["a"],VForm:V["a"],VIcon:F["a"],VRow:T["a"],VSpacer:I["a"],VTextField:$["a"],VTextarea:O["a"]});var E=s("a51f"),j=s("4e53"),B={components:{AssessmentSetForm:L,DataTableNoData:E["default"],DataTableCardPagination:j["a"]},mixins:[d["a"]],props:{as:{type:String,default:""}},data:function(){return{assessmentSetForm:!1,loading:!1,actionData:{},activeAssessmentSet:{},deleteIdAssessmentSet:"",deleteNotification:{dialog:!1,heading:"Confirm Delete",text:"Are you sure you want to delete Assessment Set?"}}},computed:{DataTableFilter:function(){return{as:this.as||""}}},mounted:function(){this.fetchDataTable()},methods:Object(r["a"])(Object(r["a"])({},Object(o["d"])({setSnackBar:"common/setSnackBar"})),{},{fetchDataTable:function(){var e=this;this.loading=!0;var t="/assessment/".concat(this.$route.params.slug,"/assessments/");this.$http.get(t,{params:this.fullParams}).then((function(t){e.loadDataTable(t)})).finally((function(){e.loading=!1}))},dismissForm:function(e,t){this.assessmentSetForm=!1,this.actionData={},this.fetchDataTable(),"updated"===t&&(this.activeAssessmentSet=e,this.$emit("update:selected-assessment-set",e))},triggerDeleteAssessmentSet:function(e){this.deleteNotification.dialog=!0,this.deleteIdAssessmentSet=e.id},deleteAssessmentSet:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s="/assessment/".concat(e.$route.params.slug,"/assessments/").concat(e.deleteIdAssessmentSet,"/?as=").concat(e.as||""),t.next=3,e.$http.delete(s).then((function(){e.$emit("update:selectedAssessmentSet",{}),e.activeAssessmentSet={},e.loadDataTableChange();var t={text:"Successfully deleted assessment set.",color:"green",display:!0};e.setSnackBar(t)})).catch((function(t){e.$emit("error",t)}));case 3:e.deleteNotification.dialog=!1,e.deleteIdAssessmentSet="";case 5:case"end":return t.stop()}}),t)})))()}})},N=B,Q=s("8336"),R=s("8fea"),q=s("169a"),U=s("e0c7"),M=Object(y["a"])(N,m,f,!1,null,null,null),H=M.exports;_()(M,{VBtn:Q["a"],VCard:C["a"],VCardTitle:D["d"],VDataTable:R["a"],VDialog:q["a"],VDivider:w["a"],VIcon:F["a"],VSpacer:I["a"],VSubheader:U["a"]});var z=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-form",{ref:"attachQuestionForm",on:{submit:function(t){return t.preventDefault(),e.attachQuestion.apply(null,arguments)}}},[s("v-card",[s("vue-card-title",{attrs:{title:"Attach Question",subtitle:"Attach question on "+e.selectedQuestionSetTitle,icon:"mdi-file-document-outline",closable:""},on:{close:function(t){return e.$emit("update:attachQuestionForm",!1)}}}),s("v-divider"),s("v-row",{staticClass:"mx-3"},[e.nonFieldErrors.length>0?s("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[s("non-field-form-errors",{attrs:{"non-field-errors":e.nonFieldErrors}})],1):e._e()],1),s("v-card-text",{staticClass:"scrollbar-md"},[s("v-row",{staticClass:"mx-3"},[s("div",{staticClass:"text-subtitle-1 font-weight-bold"},[e._v(" Question Set : "),s("v-chip",{staticClass:"white--text mx-1",attrs:{label:"",small:"",color:"blue-grey"}},[e._v(e._s(e.selectedQuestionSetTitle))])],1),s("div",{staticClass:"text-subtitle-1 font-weight-bold mx-4"},[e._v(" Section Name : "),s("v-chip",{staticClass:"white--text mx-1",attrs:{label:"",small:"",color:"blue-grey"}},[e._v(e._s(e.selectedSectionTitle))])],1)]),s("v-divider",{staticClass:"mt-2"}),s("v-row",[s("v-col",{attrs:{md:"6",cols:"12"}},[s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("vue-auto-complete",{attrs:{endpoint:e.assessmentCheckEndpoint,params:{category:"assessment"},"item-text":"title",label:"Select Assessment Category To Select Preferred Questions","item-value":"slug","hide-details":""},model:{value:e.assessmentCategory,callback:function(t){e.assessmentCategory=t},expression:"assessmentCategory"}})],1)],1),s("v-row",[s("v-col",{attrs:{cols:"12"}},[e.assessmentCategory?s("v-btn",{attrs:{"x-small":"",block:"",color:"primary"},on:{click:e.addAllQuestions}},[e._v(" Select All Questions Displayed Below ")]):e._e(),e.assessmentCategory?s("data-table-card-pagination",{attrs:{"footer-props":e.footerProps,response:e.response,pagination:e.pagination,small:""}}):e._e(),e.loading?s("default-svg-loader"):!e.loading&&e.fetchedResults.length>0?s("div",e._l(e.fetchedResults,(function(t,a){return s("v-tooltip",{key:a,attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(a){var n=a.on;return[s("v-row",e._g({staticClass:"my-1",staticStyle:{border:"solid 1px"},attrs:{"no-gutters":"",align:"center"}},n),[s("v-col",{attrs:{md:"11",cols:"10"}},[s("v-row",{staticClass:"no-gutters blue-grey--text px-2",attrs:{align:"center"}},[s("v-col",{attrs:{md:"1",cols:"1"}},[s("span",{staticClass:"font-weight-bold"},[e._v(e._s(t.order+". "))])]),s("v-col",[s("span",{staticClass:"remove-margin",domProps:{innerHTML:e._s(t.title)}})])],1)],1),s("v-col",{attrs:{md:"1",cols:"2"}},[s("v-icon",{staticClass:"my-1 px-2",attrs:{small:"",color:"primary",disabled:e.isAlreadyAdded(t)},domProps:{textContent:e._s("mdi-plus-box")},on:{click:function(s){return e.updateQuestionList(t)}}})],1)],1)]}}],null,!0)},[s("span",[e._v(e._s(e.mapAnswerType[t.answer_choices]))])])})),1):s("vue-no-data")],1)],1)],1),s("v-col",{attrs:{md:"6",cols:"12"}},[s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("span",{staticClass:"blue-grey--text text-subtitle-2 font-weight-bold",domProps:{textContent:e._s("List of Selected Questions")}}),s("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[s("v-icon",e._g({staticClass:"mx-2 pb-1",attrs:{small:"",color:"green"},domProps:{textContent:e._s("mdi-information")}},a))]}}])},[s("span",{domProps:{textContent:e._s("Drag to change the order of questions.")}})])],1)],1),s("v-row",[e.sortingStarted?e._e():s("v-col",{staticClass:"pr-1",attrs:{id:"sortableWrapper",cols:"12"}},[e._l(e.selectedQuestionList,(function(t,a){return[s("v-row",{key:a,staticClass:"my-1 sortHandle pointer mx-2",style:e.errorIndexList.includes(a)?"border: solid red 1px;":"border: solid 1px;",attrs:{"no-gutters":"",align:"center"}},[s("v-col",{attrs:{md:"11",cols:"8"}},[s("v-row",{staticClass:"no-gutters blue-grey--text px-2",attrs:{align:"center"}},[s("v-col",{attrs:{cols:"1"}},[s("v-icon",{staticClass:"my-1",attrs:{small:""},domProps:{textContent:e._s("mdi-sort")}}),s("span",{staticClass:"font-weight-bold pl-1"},[e._v(e._s(a+1+". "))])],1),s("v-col",{staticClass:"pl-1",attrs:{cols:"11"}},[s("span",{staticClass:"remove-margin",domProps:{innerHTML:e._s(t.title)}})])],1)],1),s("v-col",{attrs:{md:"1",cols:"2"}},[e.mandatoryQuestions.includes(t.id)?s("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(a){var n=a.on;return[s("v-icon",e._g({staticClass:"my-1",attrs:{small:"",color:"green"},domProps:{textContent:e._s("mdi-checkbox-outline")},on:{click:function(s){return e.addMandatory(t.id,!1)}}},n))]}}],null,!0)},[s("span",[e._v("Mandatory Question")])]):s("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(a){var n=a.on;return[s("v-icon",e._g({staticClass:"my-1",attrs:{small:""},domProps:{textContent:e._s("mdi-minus-box-outline")},on:{click:function(s){return e.addMandatory(t.id,!0)}}},n))]}}],null,!0)},[s("span",[e._v("Tick on checkbox to make question mandatory.")])]),s("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[s("v-icon",e._g({staticClass:"my-1",attrs:{small:"",color:"danger"},domProps:{textContent:e._s("mdi-trash-can-outline")},on:{click:function(t){return e.selectedQuestionList.splice(a,1)}}},n))]}}],null,!0)},[s("span",[e._v("Remove Question")])])],1)],1)]}))],2)],1)],1)],1)],1),s("v-divider"),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{text:""},on:{click:function(t){return e.$emit("update:attachQuestionForm",!1)}}},[e._v("Close")]),s("v-btn",{attrs:{color:"primary",type:"submit"}},[e._v("Save")])],1)],1)],1)},G=[],W=(s("a9e3"),s("d81d"),s("4de4"),s("caad"),s("2532"),s("aa47")),J=s("c197"),K=s("5660"),X=s("e585"),Y={components:{VueNoData:X["default"],VueAutoComplete:K["default"],NonFieldFormErrors:u["default"],DataTableCardPagination:j["a"],DefaultSvgLoader:J["default"]},mixins:[c["a"],d["a"]],props:{selectedQuestionSetTitle:{type:[String],required:!0},selectedSectionId:{type:[Number,String],required:!0},selectedSectionTitle:{type:[String],required:!0},listOfQuestionsInSection:{type:Array,default:function(){return[]}}},data:function(){return{loading:!1,sortable:null,sortingStarted:!1,assessmentCategory:"",assessmentCheckEndpoint:"",selectedQuestionList:[],mapAnswerType:{"single-mcq":"Single Select Question","multiple-mcq":"Multiple Select Question","short-text":"Short Text Question","long-text":"Long Text Question","linear-scale":"Linear Scale Question"},mandatoryQuestions:[]}},computed:{questionsEndpoint:function(){return"/questionnaire/".concat(this.$route.params.slug,"/questions/?question_type=assessment")}},watch:{assessmentCategory:function(){this.fetchDataTable()}},mounted:function(){this.initializeSortableJs()},created:function(){this.assessmentCheckEndpoint="/questionnaire/".concat(this.getOrganizationSlug,"/question-categories/"),this.listOfQuestionsInSection.length>0&&(this.selectedQuestionList=this.listOfQuestionsInSection.map((function(e){return e.question})),this.mandatoryQuestions=this.listOfQuestionsInSection.filter((function(e){return e.is_mandatory})).map((function(e){return e.question.id})))},beforeDestroy:function(){this.sortable.destroy(),this.sortable=null},methods:{initializeSortableJs:function(){var e=document.getElementById("sortableWrapper");this.sortable=W["a"].create(e,{selectedClass:"sortHandle",draggable:".sortHandle",handle:".sortHandle",onEnd:this.reArrangeQuestionList})},reArrangeQuestionList:function(e){var t=this;this.sortingStarted=!0,this.selectedQuestionList.splice(e.newIndex,0,this.selectedQuestionList.splice(e.oldIndex,1)[0]),this.$nextTick((function(){t.sortingStarted=!1,t.$nextTick((function(){t.initializeSortableJs()}))}))},attachQuestion:function(){var e=this;this.validateAllFields();var t="/assessment/".concat(this.$route.params.slug,"/assessment-sections/").concat(this.selectedSectionId,"/questions/?as=hr"),s=[];this.selectedQuestionList.forEach((function(t){var a=!1;e.mandatoryQuestions.includes(t.id)&&(a=!0),s.push({question:t.id,is_mandatory:a})})),this.$http.post(t,s).then((function(){e.formValues={},e.notifyUser("Successfully attached question."),e.$emit("dismissForm",e.selectedSectionId)})).catch((function(t){e.notifyInvalidFormResponse(),e.pushIndexedErrors(t,"")}))},fetchDataTable:function(){var e=this;this.loading=!0;var t="/questionnaire/".concat(this.$route.params.slug,"/questions/?category__slug=").concat(this.assessmentCategory);this.$http.get(t,{params:this.fullParams}).then((function(t){e.loadDataTable(t)})).finally((function(){e.loading=!1}))},updateQuestionList:function(e){this.selectedQuestionList.push(e)},isAlreadyAdded:function(e){var t=!1;return this.selectedQuestionList.forEach((function(s){s.id===e.id&&(t=!0)})),t},clearForm:function(){this.errors.clear(),this.$refs.attachQuestionForm.reset(),this.clearNonFieldErrors()},addMandatory:function(e,t){t?this.mandatoryQuestions.push(e):this.mandatoryQuestions.splice(this.mandatoryQuestions.indexOf(e),1)},addAllQuestions:function(){var e=this;this.fetchedResults.forEach((function(t){e.selectedQuestionList.find((function(e){return e.id===t.id}))||e.selectedQuestionList.push(t)}))}}},Z=Y,ee=s("3a2f"),te=Object(y["a"])(Z,z,G,!1,null,null,null),se=te.exports;_()(te,{VBtn:Q["a"],VCard:C["a"],VCardActions:D["a"],VCardText:D["c"],VChip:k["a"],VCol:A["a"],VDivider:w["a"],VForm:V["a"],VIcon:F["a"],VRow:T["a"],VSpacer:I["a"],VTooltip:ee["a"]});var ae=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-card",[s("v-card-title",[e._v(" Assign and Generate Assessment - "+e._s(e.assessmentSetData.title)+" "),s("v-spacer"),s("v-btn",{attrs:{fab:"",icon:"","x-small":""},on:{click:function(t){return e.$emit("update:assignAndGenerateForm",!1)}}},[s("v-icon",[e._v("mdi-close-circle")])],1)],1),s("v-divider"),s("v-card-text",{staticStyle:{height:"300px"}},[s("v-row",[e.nonFieldErrors.length>0?s("v-col",{attrs:{cols:"12"}},[s("non-field-form-errors",{attrs:{"non-field-errors":e.nonFieldErrors}})],1):e._e(),s("v-col",{attrs:{cols:"6"}},[s("p",{staticClass:"text-h6"},[e._v("Assessment Takers")]),s("user-auto-complete",{attrs:{"user-object":e.assessmentTakersObject,params:{organization:e.$route.params.slug},multiple:""},on:{"update:userObject":function(t){e.assessmentTakersObject=t},"update:user-object":function(t){e.assessmentTakersObject=t}},model:{value:e.formValues.users,callback:function(t){e.$set(e.formValues,"users",t)},expression:"formValues.users"}}),s("vue-date-time-picker",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],model:{value:e.formValues.expiry_date,callback:function(t){e.$set(e.formValues,"expiry_date",t)},expression:"formValues.expiry_date"}},"vue-date-time-picker",e.veeValidate("expiry_date","Expires On *"),!1))],1),s("v-col",{attrs:{cols:"6"}},[s("p",{staticClass:"text-h6"},[e._v(" Preview Assessment Takers of "+e._s(e.assessmentSetData.title)+" ")]),s("div",{staticClass:"d-flex flex-wrap"},e._l(e.assessmentTakersObject,(function(e,t){return s("vue-user",{key:t,staticClass:"ma-2",attrs:{user:e}})})),1)])],1)],1),s("v-divider"),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{small:"",text:""},on:{click:function(t){return e.$emit("update:assignAndGenerateForm",!1)}}},[e._v("Close")]),s("v-btn",{attrs:{color:"primary",small:""},on:{click:e.assignAssessment}},[e._v("Assign and Generate")])],1)],1)},ne=[],ie=s("ef8c"),re=s("02cb"),oe={components:{UserAutoComplete:ie["default"],VueUser:re["default"],NonFieldFormErrors:u["default"]},mixins:[c["a"]],props:{assessmentSetData:{type:Object,required:!0}},data:function(){return{formValues:{users:[]},assessmentTakersObject:[]}},methods:{assignAssessment:function(){var e=this;this.validateAllFields();var t="assessment/".concat(this.$route.params.slug,"/assessments/").concat(this.assessmentSetData.id,"/assign-assessment/?as=hr");this.$http.post(t,this.formValues).then((function(t){e.formValues={users:[]},e.notifyUser("Successfully assigned assessment."),e.$emit("dismissForm",t)})).catch((function(t){e.notifyInvalidFormResponse(),e.pushErrors(t)}))}}},le=oe,ce=Object(y["a"])(le,ae,ne,!1,null,null,null),ue=ce.exports;_()(ce,{VBtn:Q["a"],VCard:C["a"],VCardActions:D["a"],VCardText:D["c"],VCardTitle:D["d"],VCol:A["a"],VDivider:w["a"],VIcon:F["a"],VRow:T["a"],VSpacer:I["a"]});var de=s("79f1"),me=s("e4bf"),fe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-form",{ref:"assessmentSectionForm",on:{submit:function(t){return t.preventDefault(),e.getFormAction.apply(null,arguments)}}},[s("v-card",[s("v-card-title",[e._v(" Assessment Section "),s("v-spacer"),s("v-btn",{attrs:{fab:"",icon:"","x-small":""},on:{click:function(t){return e.$emit("dismissForm",{})}}},[s("v-icon",[e._v("mdi-close-circle")])],1)],1),s("v-divider"),s("v-card-text",[s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required|max:255",expression:"'required|max:255'"}],attrs:{counter:255,"prepend-inner-icon":"mdi-file-document-outline"},model:{value:e.formValues.title,callback:function(t){e.$set(e.formValues,"title",t)},expression:"formValues.title"}},"v-text-field",e.veeValidate("title","Title *"),!1)),s("div",[s("v-textarea",e._b({directives:[{name:"validate",rawName:"v-validate",value:"max:600",expression:"'max:600'"}],attrs:{counter:600,"prepend-inner-icon":"mdi-file-document-outline",rows:"2"},model:{value:e.formValues.description,callback:function(t){e.$set(e.formValues,"description",t)},expression:"formValues.description"}},"v-textarea",e.veeValidate("description","Description"),!1))],1)],1)],1)],1),s("v-divider"),s("v-card-actions",[s("v-spacer"),s("form-submit",{attrs:{"form-errors":e.errors.any()},on:{clearForm:e.clearForm}})],1)],1)],1)},pe=[],he={components:{FormSubmit:v["a"]},mixins:[c["a"]],props:{actionData:{type:Object,required:!1,default:function(){return{}}},activeAssessmentSet:{type:[String,Number],required:!0}},data:function(){return{formValues:this.deepCopy(this.actionData)}},mounted:function(){this.actionData.id||(this.formValues={title:"",description:"",total_weightage:0,marginal_weightage:0})},methods:{getFormAction:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.validateAllFields();case 2:if(!t.sent){t.next=4;break}return t.abrupt("return",e.formValues.id?e.updateAssessmentSection():e.createAssessmentSection());case 4:case"end":return t.stop()}}),t)})))()},createAssessmentSection:function(){var e=this;this.validateAllFields();var t="/assessment/".concat(this.$route.params.slug,"/assessment-sections/?as=hr");this.formValues["assessment_set"]=this.activeAssessmentSet,this.$http.post(t,this.formValues).then((function(t){e.notifyUser("Successfully created assessment section."),e.$emit("dismissForm",t)})).catch((function(t){e.notifyInvalidFormResponse(),e.pushErrors(t)}))},updateAssessmentSection:function(){var e=this;this.validateAllFields();var t="/assessment/".concat(this.$route.params.slug,"/assessment-sections/").concat(this.formValues.id,"/?as=hr");this.$http.patch(t,this.formValues).then((function(t){e.notifyUser("Successfully updated assessment section."),e.$emit("dismissForm",t,!0)})).catch((function(t){e.notifyInvalidFormResponse(),e.pushErrors(t)}))},clearForm:function(){this.errors.clear(),this.$refs.assessmentSectionForm.reset(),this.clearNonFieldErrors()}}},ve=he,ge=Object(y["a"])(ve,fe,pe,!1,null,null,null),be=ge.exports;_()(ge,{VBtn:Q["a"],VCard:C["a"],VCardActions:D["a"],VCardText:D["c"],VCardTitle:D["d"],VCol:A["a"],VDivider:w["a"],VForm:V["a"],VIcon:F["a"],VRow:T["a"],VSpacer:I["a"],VTextField:$["a"],VTextarea:O["a"]});var ye={components:{AssessmentSectionForm:be,VueContextMenu:me["default"],VuePageWrapper:l["default"],AssessmentSet:H,AttachQuestionForm:se,AssignAndGenerateForm:ue,PreviewQuestionCard:de["a"],DefaultSvgLoader:J["default"],VueUser:re["default"],DataTableCardPagination:j["a"],NonFieldFormErrors:u["default"]},mixins:[d["a"],c["a"]],data:function(){return{htmlTitle:"Assessment | Prepare | Admin",breadCrumbItems:[{text:"Assessment",disabled:!0},{text:"Prepare",disabled:!0}],showFilters:!1,trainingNavigations:[],filters:{},loading:!1,attachQuestionForm:!1,assignAndGenerateForm:!1,selectedAssessmentSetData:{},selectedSection:"",selectedSectionTitle:"",assessmentSectionForm:!1,actionDataSection:{},deleteNotification:{dialog:!1,heading:"Confirm Delete",text:"Are you sure you want to detach question?"},deleteNotificationAssessmentSection:{dialog:!1,heading:"Confirm Delete",text:"Are you sure you want to delete Assessment Set?"},deleteAssignedUser:{dialog:!1,heading:"Confirm Delete",text:"Are you sure you want to remove this user?"},detachQuestionId:"",deleteAssignedUserId:""}},watch:{selectedSection:function(e){e&&this.fetchDataTable(e)},selectedAssessmentSetData:function(e){e.sections&&e.sections.length>0?(this.selectedSection=e.sections[0].id,this.selectedSectionTitle=e.sections[0].title):this.selectedSection=""}},methods:Object(r["a"])(Object(r["a"])({},Object(o["d"])({setSnackBar:"common/setSnackBar"})),{},{dismissAttachQuestionForm:function(e){this.selectedSection=e,this.attachQuestionForm=!1,this.fetchDataTable(e)},dismissAssignAndGenerateForm:function(){this.assignAndGenerateForm=!1,this.fetchAssessmentDetail()},fetchAssessmentDetail:function(){var e=this,t="assessment/".concat(this.$route.params.slug,"/assessments/").concat(this.selectedAssessmentSetData.id,"/?as=hr");this.$http.get(t).then((function(t){e.selectedAssessmentSetData=t})).finally((function(){}))},fetchDataTable:function(e){var t=this;this.loading=!0;var s=e||this.selectedSection,a="/assessment/".concat(this.$route.params.slug,"/assessment-sections/").concat(s,"/questions/?as=hr");this.$http.get(a,{params:this.fullParams}).then((function(e){t.loadDataTable(e)})).finally((function(){t.loading=!1}))},triggerDetachQuestion:function(e){this.deleteNotification.dialog=!0,this.detachQuestionId=e.id},detachQuestion:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s="assessment/".concat(e.$route.params.slug,"/assessment-sections/").concat(e.selectedSection,"/questions/").concat(e.detachQuestionId,"/?as=hr"),t.next=3,e.$http.delete(s).then((function(){e.fetchDataTable(e.selectedSection),e.fetchAssessmentDetail();var t={text:"Successfully detached question.",color:"green",display:!0};e.setSnackBar(t)})).catch((function(t){e.notifyInvalidFormResponse(),e.pushErrors(t)}));case 3:e.deleteNotification.dialog=!1,e.detachQuestionId="";case 5:case"end":return t.stop()}}),t)})))()},removeAssignedUser:function(e){this.deleteAssignedUser.dialog=!0,this.deleteAssignedUserId=e.id},removeUser:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s="/assessment/".concat(e.getOrganizationSlug,"/assessments/").concat(e.selectedAssessmentSetData.id,"/assign-assessment/").concat(e.deleteAssignedUserId,"/?as=hr"),t.next=3,e.$http.delete(s).then((function(){e.fetchAssessmentDetail();var t={text:"Successfully removed selected user.",color:"green",display:!0};e.setSnackBar(t)})).catch((function(t){e.notifyInvalidFormResponse(),e.pushErrors(t)}));case 3:e.deleteAssignedUser.dialog=!1,e.deleteAssignedUserId="";case 5:case"end":return t.stop()}}),t)})))()},setAssessmentError:function(e){this.notifyInvalidFormResponse(),this.pushErrors(e)},dismissFormAssessmentSection:function(e,t){this.assessmentSectionForm=!1,this.actionDataSection={},Object.keys(e).length>0&&(this.selectedSection=e.id,t?this.selectedAssessmentSetData.sections.find((function(t){return t.id===e.id})).title=e.title:this.selectedAssessmentSetData.sections.unshift(e))},deleteAssessmentSection:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s="/assessment/".concat(e.$route.params.slug,"/assessment-sections/").concat(e.actionDataSection.id,"/?as=hr"),t.next=3,e.$http.delete(s).then((function(){var t=e.selectedAssessmentSetData.sections.findIndex((function(t){return t.id===e.actionDataSection.id}));e.selectedAssessmentSetData.sections.splice(t,1);var s={text:"Successfully deleted assessment section.",color:"green",display:!0};e.setSnackBar(s)}));case 3:e.deleteNotificationAssessmentSection.dialog=!1;case 4:case"end":return t.stop()}}),t)})))()}})},xe=ye,_e=s("8860"),Se=s("da13"),Ce=s("1800"),De=s("5d23"),ke=s("71a3"),Ae=s("fe57"),we=Object(y["a"])(xe,a,n,!1,null,null,null);t["default"]=we.exports;_()(we,{VAlert:S["a"],VBtn:Q["a"],VCard:C["a"],VCardText:D["c"],VCardTitle:D["d"],VChip:k["a"],VCol:A["a"],VDialog:q["a"],VDivider:w["a"],VIcon:F["a"],VList:_e["a"],VListItem:Se["a"],VListItemAction:Ce["a"],VListItemContent:De["a"],VRow:T["a"],VSpacer:I["a"],VSubheader:U["a"],VTab:ke["a"],VTabs:Ae["a"],VTooltip:ee["a"]})},"1d4d":function(e,t,s){"use strict";s("a9e3"),s("c96a"),s("d81d"),s("696f");var a=s("9d26"),n=s("a9ad"),i=s("16b7"),r=s("af2b"),o=s("5311"),l=s("7560"),c=s("80d2"),u=s("58df");t["a"]=Object(u["a"])(n["a"],i["a"],o["a"],r["a"],l["a"]).extend({name:"v-rating",props:{backgroundColor:{type:String,default:"accent"},color:{type:String,default:"primary"},clearable:Boolean,dense:Boolean,emptyIcon:{type:String,default:"$ratingEmpty"},fullIcon:{type:String,default:"$ratingFull"},halfIcon:{type:String,default:"$ratingHalf"},halfIncrements:Boolean,hover:Boolean,length:{type:[Number,String],default:5},readonly:Boolean,size:[Number,String],value:{type:Number,default:0},iconLabel:{type:String,default:"$vuetify.rating.ariaLabel.icon"}},data:function(){return{hoverIndex:-1,internalValue:this.value}},computed:{directives:function(){return this.readonly||!this.ripple?[]:[{name:"ripple",value:{circle:!0}}]},iconProps:function(){var e=this.$props,t=e.dark,s=e.large,a=e.light,n=e.medium,i=e.small,r=e.size,o=e.xLarge,l=e.xSmall;return{dark:t,large:s,light:a,medium:n,size:r,small:i,xLarge:o,xSmall:l}},isHovering:function(){return this.hover&&this.hoverIndex>=0}},watch:{internalValue:function(e){e!==this.value&&this.$emit("input",e)},value:function(e){this.internalValue=e}},methods:{createClickFn:function(e){var t=this;return function(s){if(!t.readonly){var a=t.genHoverIndex(s,e);t.clearable&&t.internalValue===a?t.internalValue=0:t.internalValue=a}}},createProps:function(e){var t={index:e,value:this.internalValue,click:this.createClickFn(e),isFilled:Math.floor(this.internalValue)>e,isHovered:Math.floor(this.hoverIndex)>e};return this.halfIncrements&&(t.isHalfHovered=!t.isHovered&&(this.hoverIndex-e)%1>0,t.isHalfFilled=!t.isFilled&&(this.internalValue-e)%1>0),t},genHoverIndex:function(e,t){var s=this.isHalfEvent(e);return this.halfIncrements&&this.$vuetify.rtl&&(s=!s),t+(s?.5:1)},getIconName:function(e){var t=this.isHovering?e.isHovered:e.isFilled,s=this.isHovering?e.isHalfHovered:e.isHalfFilled;return t?this.fullIcon:s?this.halfIcon:this.emptyIcon},getColor:function(e){if(this.isHovering){if(e.isHovered||e.isHalfHovered)return this.color}else if(e.isFilled||e.isHalfFilled)return this.color;return this.backgroundColor},isHalfEvent:function(e){if(this.halfIncrements){var t=e.target&&e.target.getBoundingClientRect();if(t&&e.pageX-t.left<t.width/2)return!0}return!1},onMouseEnter:function(e,t){var s=this;this.runDelay("open",(function(){s.hoverIndex=s.genHoverIndex(e,t)}))},onMouseLeave:function(){var e=this;this.runDelay("close",(function(){return e.hoverIndex=-1}))},genItem:function(e){var t=this,s=this.createProps(e);if(this.$scopedSlots.item)return this.$scopedSlots.item(s);var n={click:s.click};return this.hover&&(n.mouseenter=function(s){return t.onMouseEnter(s,e)},n.mouseleave=this.onMouseLeave,this.halfIncrements&&(n.mousemove=function(s){return t.onMouseEnter(s,e)})),this.$createElement(a["a"],this.setTextColor(this.getColor(s),{attrs:{tabindex:-1,"aria-label":this.$vuetify.lang.t(this.iconLabel,e+1,Number(this.length))},directives:this.directives,props:this.iconProps,on:n}),[this.getIconName(s)])}},render:function(e){var t=this,s=Object(c["h"])(Number(this.length)).map((function(e){return t.genItem(e)}));return e("div",{staticClass:"v-rating",class:{"v-rating--readonly":this.readonly,"v-rating--dense":this.dense}},s)}})},5660:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"d-flex space-between"},[s("v-autocomplete",{key:e.componentKey,ref:"autoComplete",class:e.appliedClass,attrs:{id:e.id,items:e.itemsSorted,"search-input":e.search,loading:e.isLoading,multiple:e.multiple,label:e.label,error:e.errorMessages.length>0,"error-messages":e.errorMessages,disabled:e.disabled,readonly:e.readonly,"data-cy":"autocomplete-"+e.dataCyVariable,"prepend-inner-icon":e.prependInnerIcon,clearable:e.clearable&&!e.readonly,"hide-details":e.hideDetails,"item-text":e.itemText,"item-value":e.itemValue,"small-chips":e.multiple||e.chips,"deletable-chips":e.multiple,hint:e.hint,"persistent-hint":e.persistentHint,chips:e.chips,solo:e.solo,flat:e.flat,"cache-items":e.cacheItems,placeholder:e.placeholder,dense:e.dense,"hide-selected":"","hide-no-data":""},on:{"update:searchInput":function(t){e.search=t},"update:search-input":function(t){e.search=t},focus:e.populateOnFocus,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.searchText())},change:e.updateState,blur:function(t){return e.$emit("blur")}},scopedSlots:e._u([{key:"selection",fn:function(t){return[e._t("selection",(function(){return[e.itemText&&t.item?s("div",[e.multiple||e.chips?s("v-chip",{attrs:{close:(e.clearable||!e.clearable&&!e.multiple)&&!e.readonly,small:""},on:{"click:close":function(s){return e.remove(t.item)}}},[t.item[e.itemText]?s("div",[t.item[e.itemText].length>40?s("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(a){var n=a.on;return[s("span",e._g({},n),[e._v(" "+e._s(e._f("truncate")(t.item[e.itemText],40)))])]}}],null,!0)},[s("span",[e._v(e._s(t.item[e.itemText]))])]):s("span",[e._v(e._s(t.item[e.itemText]))])],1):s("div",[s("span",[e._v(e._s(t.item))])])]):s("div",[t.item[e.itemText]?s("div",[t.item[e.itemText].length>40?s("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(a){var n=a.on;return[s("span",e._g({},n),[e._v(" "+e._s(e._f("truncate")(t.item[e.itemText],40)))])]}}],null,!0)},[s("span",[e._v(e._s(t.item[e.itemText]))])]):s("span",[e._v(e._s(t.item[e.itemText]))])],1):s("div",[s("span",[e._v(e._s(t.item))])])])],1):e._e()]}),{props:t})]}},{key:"item",fn:function(t){return[s("v-list-item-content",[s("v-list-item-title",[e._t("item",(function(){return[e.itemText&&t.item?s("div",[t.item[e.itemText]?s("div",[t.item[e.itemText].length>40?s("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(a){var n=a.on;return[s("span",e._g({},n),[e._v(" "+e._s(e._f("truncate")(t.item[e.itemText],40)))])]}}],null,!0)},[s("span",[e._v(e._s(t.item[e.itemText]))])]):s("span",[e._v(e._s(t.item[e.itemText]))])],1):s("div",[s("span",[e._v(e._s(t.item))])])]):e._e()]}),{props:t})],2)],1)]}},{key:"append-item",fn:function(){return[!e.fullyLoaded&&e.showMoreIcon?s("div",[s("v-list-item-content",{staticClass:"px-4 pointer primary--text font-weight-bold"},[s("v-list-item-title",{on:{click:function(t){return e.fetchData()}}},[e._v(" Load More Items ... ")])],1)],1):e._e()]},proxy:!0}],null,!0),model:{value:e.selectedData,callback:function(t){e.selectedData=t},expression:"selectedData"}}),e._t("default")],2)},n=[],i=s("2909"),r=s("5530"),o=s("53ca"),l=s("1da1"),c=(s("96cf"),s("a9e3"),s("ac1f"),s("841c"),s("7db0"),s("d81d"),s("159b"),s("4de4"),s("4e827"),s("2ca0"),s("d3b7"),s("c740"),s("a434"),s("3ca3"),s("ddb0"),s("2b3d"),s("caad"),s("2532"),s("63ea")),u=s.n(c),d={props:{value:{type:[Number,String,Array,Object],default:void 0},id:{type:String,default:""},dataCyVariable:{type:String,default:""},endpoint:{type:String,default:""},itemText:{type:String,required:!0},itemValue:{type:String,required:!0},params:{type:Object,required:!1,default:function(){return{}}},itemsToExclude:{type:[Array,Number],default:null},forceFetch:{type:Boolean,default:!1},staticItems:{type:Array,default:function(){return[]}},errorMessages:{type:[String,Array],default:function(){return[]}},label:{type:String,default:""},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},hint:{type:String,default:void 0},persistentHint:{type:Boolean,required:!1,default:!1},multiple:{type:Boolean,required:!1,default:!1},clearable:{type:Boolean,default:!0},hideDetails:{type:Boolean,default:!1},solo:{type:Boolean,default:!1},flat:{type:Boolean,default:!1},chips:{type:Boolean,default:!1},prependInnerIcon:{type:String,default:void 0},cacheItems:{type:Boolean,default:!1},appliedClass:{type:String,default:""},placeholder:{type:String,default:""},dense:{type:Boolean,default:!1}},data:function(){return{componentKey:0,items:[],selectedData:null,search:null,initialFetchStarted:!1,nextLimit:null,nextOffset:null,showMoreIcon:!1,fullyLoaded:!1,isLoading:!1}},computed:{itemsSorted:function(){return this.sortBySearch(this.items,this.search?this.search.toLowerCase():"")}},watch:{value:{handler:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var s,a,n,i,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=10;break}if(!this.forceFetch||this.initialFetchStarted){e.next=6;break}return this.initialFetchStarted=!0,e.next=5,this.fetchData();case 5:this.removeDuplicateItem();case 6:Array.isArray(t)?(n=[],"object"===Object(o["a"])(t[0])?(this.selectedData=t.map((function(e){return e[r.itemValue]})),t.forEach((function(e){var t=r.items.find((function(t){return t===e}));t||n.push(e)}))):(t.forEach((function(e){var t=r.items.find((function(t){return t[r.itemValue]===e}));t||n.push(e)})),this.selectedData=t),n.length>0&&(i=this.items).push.apply(i,n)):"object"===Object(o["a"])(t)?(this.selectedData=t[this.itemValue],s=this.items.find((function(e){return e[r.itemValue]===t})),s||this.items.push(t)):(this.selectedData=t,a=this.items.find((function(e){return e===t})),a||this.items.push(t)),this.updateData(this.selectedData),e.next=11;break;case 10:t||(this.selectedData=null);case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),immediate:!0},selectedData:function(e){this.updateData(e)},params:{handler:function(e,t){u()(e,t)||(this.fullyLoaded=!1,this.initialFetchStarted=!1,this.items=[],this.componentKey+=1)},deep:!0}},methods:{sortBySearch:function(e,t){var s=this.itemText,a=e.filter((function(e){return"object"===Object(o["a"])(e)}));return a.sort((function(e,a){return e[s].toLowerCase().startsWith(t)&&a[s].toLowerCase().startsWith(t)?e[s].toLowerCase().localeCompare(a[s].toLowerCase()):e[s].toLowerCase().startsWith(t)?-1:a[s].toLowerCase().startsWith(t)?1:e[s].toLowerCase().localeCompare(a[s].toLowerCase())}))},populateOnFocus:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.initialFetchStarted){t.next=2;break}return t.abrupt("return");case 2:return e.initialFetchStarted=!0,t.next=5,e.fetchData();case 5:e.removeDuplicateItem();case 6:case"end":return t.stop()}}),t)})))()},fetchData:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.staticItems.length>0)){t.next=3;break}return e.items=e.staticItems,t.abrupt("return");case 3:return s=e.nextLimit,a=e.nextOffset,e.search&&(s=null,a=null),e.isLoading=!0,t.next=9,e.$http.get(e.endpoint,{params:Object(r["a"])(Object(r["a"])({},e.params),{},{search:e.search,limit:s,offset:a})}).then((function(t){var s;t.results||(t.results=t),t.next?(e.showMoreIcon=!0,e.extractLimitOffset(t.next)):(e.showMoreIcon=!1,e.search||(e.fullyLoaded=!0)),e.itemsToExclude&&(t.results=e.excludeRecord(t.results)),(s=e.items).push.apply(s,Object(i["a"])(t.results))})).finally((function(){e.isLoading=!1}));case 9:case"end":return t.stop()}}),t)})))()},removeDuplicateItem:function(){var e=this,t=this.items.indexOf(this.selectedData);if(t>=0){var s=this.items.findIndex((function(t){return t[e.itemValue]===e.selectedData}));s>=0&&(this.items.splice(t,1),this.componentKey+=1)}},updateData:function(e){var t=this,s=[];e instanceof Array?e.forEach((function(e){s.unshift(t.items.find((function(s){return s[t.itemValue]===e})))})):s=this.items.find((function(s){return s[t.itemValue]===e})),this.$emit("input",e),this.$emit("update:selectedFullData",s)},searchText:function(){0!==this.$refs.autoComplete.filteredItems.length||this.fullyLoaded||this.fetchData()},extractLimitOffset:function(e){var t=new URL(e);this.nextLimit=t.searchParams.get("limit"),this.nextOffset=t.searchParams.get("offset")},excludeRecord:function(e){var t=this,s=[];return"number"===typeof this.itemsToExclude?s.push(this.itemsToExclude):s=this.itemsToExclude,e.filter((function(e){if(e[t.itemValue])return!s.includes(e[t.itemValue])}))},remove:function(e){if(this.selectedData instanceof Object){var t=this.selectedData.indexOf(e[this.itemValue]);t>=0&&this.selectedData.splice(t,1)}else this.selectedData=null},updateState:function(){this.search="",this.nextLimit&&(this.showMoreIcon=!0)}}},m=d,f=s("2877"),p=s("6544"),h=s.n(p),v=s("c6a6"),g=s("cc20"),b=s("5d23"),y=s("3a2f"),x=Object(f["a"])(m,a,n,!1,null,null,null);t["default"]=x.exports;h()(x,{VAutocomplete:v["a"],VChip:g["a"],VListItemContent:b["a"],VListItemTitle:b["c"],VTooltip:y["a"]})},"696f":function(e,t,s){},7183:function(e,t,s){},"741f":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return["true"!==e.useNepaliDate?s("v-text-field",e._g({class:e.appliedClass,attrs:{id:e.id,clearable:!e.readOnly,"data-cy":"date-picker-"+e.dataCyVariable,disabled:e.disabled,error:e.errorMessages.length>0,"error-messages":e.errorMessages,"hide-details":e.hideDetails,hint:e.hint,label:e.label,"prepend-inner-icon":e.prependInnerIcon,"single-line":e.singleLine,value:e.value,readonly:""},on:{paste:function(e){e.preventDefault()},"click:clear":function(t){return e.$emit("close")}},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}},a)):s("v-text-field",e._g({class:e.appliedClass,attrs:{id:e.id,label:e.label,value:e.value,"data-cy":"date-picker-"+e.dataCyVariable,error:e.errorMessages.length>0,"error-messages":e.errorMessages,disabled:e.disabled,clearable:!e.readOnly,hint:e.hint,"hide-details":e.hideDetails,"single-line":e.singleLine,"prepend-inner-icon":e.prependInnerIcon,readonly:""},on:{paste:function(e){e.preventDefault()},"click:clear":function(t){return e.$emit("close")}},model:{value:e.nepaliDate,callback:function(t){e.nepaliDate=t},expression:"nepaliDate"}},a))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},["true"===e.showCalendarChoice?s("v-btn",{attrs:{block:"",depressed:"",tile:"",color:"shade primary--text font-weight-bold"},on:{click:function(t){e.international=!e.international}}},[e._v(" "+e._s(e.international?"NE":"EN")+" ")]):e._e(),e.readOnly||e.international?e._e():s("localized-calendar",{ref:"datePicker",attrs:{"fiscal-year":[],"localized-date":e.localizedDate},on:{"update:localizedDate":function(t){e.localizedDate=t},"update:localized-date":function(t){e.localizedDate=t},"limit-mapping":function(t){e.limitMapping=t}},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}}),!e.readOnly&&e.international?s("v-date-picker",{attrs:{type:e.type,"allowed-dates":e.allowedDates,"no-title":""},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}}):e._e()],1)],1)},n=[],i=s("1da1"),r=(s("b64b"),s("99af"),s("96cf"),s("3bce")),o=s("338b"),l=s("cf45"),c={components:{LocalizedCalendar:r["a"]},mixins:[o["a"]],props:{value:{type:String,default:""},id:{type:String,default:""},type:{type:String,default:"date"},label:{type:String,default:""},disabled:{type:Boolean,default:!1},errorMessages:{type:[String,Array],default:function(){return[]}},dataCyVariable:{type:String,default:""},readOnly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},hint:{type:String,default:""},hideDetails:{type:Boolean,default:!1},singleLine:{type:Boolean,default:!1},appliedClass:{type:String,default:""},prependInnerIcon:{type:String,default:"mdi-calendar-month-outline"}},data:function(){return{menu:!1,date:this.value,nepaliDate:this.value,localizedDate:"",international:"English"===Object(l["f"])("VUE_APP_SET_DEFAULT_CALENDAR_TO"),showCalendarChoice:Object(l["f"])("VUE_APP_SHOW_CALENDAR_CHOICE"),useNepaliDate:localStorage.useNepaliDate,hasConverted:!1}},watch:{value:function(e){this.date=e},date:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return e&&"true"===t.useNepaliDate&&t.hasConverted?t.nepaliDate=t.ad2bs(e):t.nepaliDate=e,s.next=3,t.$emit("input",e);case 3:return s.next=5,t.$emit("update:localizedDate",t.localizedDate);case 5:if(!e){s.next=8;break}return s.next=8,t.$emit("blur");case 8:case"end":return s.stop()}}),s)})))()},international:function(e){this.$emit("update:international",e)}},created:function(){this.date&&"true"===this.useNepaliDate&&!this.hasConverted?(this.hasConverted=!0,this.date=this.bs2ad(this.date)):this.date||"true"!==this.useNepaliDate||(this.hasConverted=!0)},methods:{allowedDates:function(e){if("false"===this.showCalendarChoice&&"English"===Object(l["f"])("VUE_APP_SET_DEFAULT_CALENDAR_TO"))return!0;var t=[],s="",a="";t=Object.keys(this.bs),s=t[0],a=t[t.length-1];var n={max:this.bs2ad("".concat(a,"-12-").concat(this.bs[a][11])),min:this.bs2ad("".concat(s,"-01-01"))};return e<=n.max&&e>=n.min}}},u=c,d=s("2877"),m=s("6544"),f=s.n(m),p=s("8336"),h=s("2e4b"),v=s("e449"),g=s("8654"),b=Object(d["a"])(u,a,n,!1,null,null,null);t["default"]=b.exports;f()(b,{VBtn:p["a"],VDatePicker:h["a"],VMenu:v["a"],VTextField:g["a"]})},"878b":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-card-actions",[s("v-spacer"),e.hideClear?e._e():s("v-btn",{attrs:{text:"",small:""},domProps:{textContent:e._s("Clear")},on:{click:function(t){return e.$emit("clearForm")}}}),s("v-btn",{attrs:{disabled:e.formErrors||e.disabled,color:e.deleteInstance?"red":"primary",depressed:"",small:"",loading:e.loading,type:"submit"}},[s("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v(" mdi-content-save-outline ")]),e._v(" "+e._s(e.deleteInstance?"Delete":"Save")+" ")],1)],1)],1)},n=[],i={props:{hideClear:{type:Boolean,default:!1},formErrors:{type:Boolean,required:!0},disabled:{type:Boolean,default:!1},deleteInstance:{type:Boolean,required:!1,default:!1},loading:{type:Boolean,default:!1}}},r=i,o=s("2877"),l=s("6544"),c=s.n(l),u=s("8336"),d=s("99d9"),m=s("132d"),f=s("2fa4"),p=Object(o["a"])(r,a,n,!1,null,null,null);t["a"]=p.exports;c()(p,{VBtn:u["a"],VCardActions:d["a"],VIcon:m["a"],VSpacer:f["a"]})},ab8a:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.changeType&&0!==e.nonFieldErrors.length?s("div",e._l(e.nonFieldErrors,(function(t,a){return s("v-col",{key:a},e._l(t,(function(t,a){return s("div",{key:a},[s("span",{domProps:{textContent:e._s(e.key)}}),s("span",{domProps:{textContent:e._s(t.toString())}})])})),0)})),1):e._e(),e.changeType||0===e.nonFieldErrors.length?e._e():s("v-alert",{staticClass:"ma-3",attrs:{outlined:"",dense:"",tile:"",dismissible:"",color:"danger"}},[s("span",{domProps:{textContent:e._s("There are some errors")}}),e._l(e.nonFieldErrors,(function(t,a){return s("div",{key:a},e._l(t,(function(t,a){return s("div",{key:a},[s("ul",[s("li",[s("span",{domProps:{textContent:e._s(e.key)}}),s("span",{domProps:{textContent:e._s(t.toString())}})])])])})),0)}))],2)],1)},n=[],i={props:{nonFieldErrors:{type:Array,required:!0},changeType:{type:Boolean,default:!1}},data:function(){return{key:""}}},r=i,o=s("2877"),l=s("6544"),c=s.n(l),u=s("0798"),d=s("62ad"),m=Object(o["a"])(r,a,n,!1,null,null,null);t["default"]=m.exports;c()(m,{VAlert:u["a"],VCol:d["a"]})},e4bf:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.contextList.filter((function(e){return!e.hide})).length<3&&!e.hideIcons||e.showIcons?s("div",e._l(e.contextList,(function(t,a){return s("span",{key:a},[t.hide?e._e():s("v-tooltip",{attrs:{disabled:e.$vuetify.breakpoint.xs,top:""},scopedSlots:e._u([{key:"activator",fn:function(n){var i=n.on;return[s("v-btn",e._g({staticClass:"mx-0",attrs:{text:"",width:e.small?"18":"22",depressed:"",icon:""}},i),[s("v-icon",{attrs:{disabled:t.disabled,color:t.color,"data-cy":e.dataCyVariable+"btn-dropdown-menu-item-"+(a+1),dark:!t.disabled,small:e.small,size:"20",dense:""},domProps:{textContent:e._s(t.icon)},on:{click:function(t){return e.$emit("click"+a)}}})],1)]}}],null,!0)},[s("span",{domProps:{textContent:e._s(t.disabled&&t.disable_message||t.name)}})])],1)})),0):s("v-menu",{attrs:{"offset-y":"",left:"",transition:"slide-y-transition"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[s("v-btn",e._g({attrs:{small:"",text:"",icon:""}},a),[s("v-icon",{attrs:{"data-cy":"btn-dropdown-menu"},domProps:{textContent:e._s("mdi-dots-vertical")}})],1)]}}])},e._l(e.contextList,(function(t,a){return s("v-list",{key:a,staticClass:"pa-0",attrs:{dense:""}},[t.hide?e._e():s("div",[t.disabled?s("v-list-item",{attrs:{"data-cy":"btn-dropdown-menu-item"}},[s("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(a){var n=a.on;return[s("v-list-item-title",e._g({},n),[s("v-icon",{attrs:{disabled:"",small:"",color:t.color},domProps:{textContent:e._s(t.icon)}}),s("span",{staticClass:"ml-1 grey--text",domProps:{textContent:e._s(t.name)}})],1)]}}],null,!0)},[s("span",{domProps:{textContent:e._s(t.disabled&&t.disable_message||t.name)}})])],1):s("v-list-item",{attrs:{"data-cy":"btn-dropdown-menu-item"},on:{click:function(t){return e.$emit("click"+a)}}},[s("v-list-item-title",[s("v-icon",{attrs:{color:t.color,small:"",dense:""},domProps:{textContent:e._s(t.icon)}}),s("span",{staticClass:"ml-1",class:t.text_color,domProps:{textContent:e._s(t.name)}})],1)],1)],1)])})),1)],1)},n=[],i={name:"VueContextMenu",props:{contextList:{type:Array,default:function(){return[]}},dataCyVariable:{type:String,default:""},showIcons:{type:Boolean,default:!1},hideIcons:{type:Boolean,default:!1},small:{type:Boolean,default:!1}}},r=i,o=s("2877"),l=s("6544"),c=s.n(l),u=s("8336"),d=s("132d"),m=s("8860"),f=s("da13"),p=s("5d23"),h=s("e449"),v=s("3a2f"),g=Object(o["a"])(r,a,n,!1,null,"71ee785c",null);t["default"]=g.exports;c()(g,{VBtn:u["a"],VIcon:d["a"],VList:m["a"],VListItem:f["a"],VListItemTitle:p["c"],VMenu:h["a"],VTooltip:v["a"]})},ec30:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition",absolute:"","offset-y":"","offset-x":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[s("div",[s("v-text-field",e._g({class:e.customClass,attrs:{id:e.id,messages:e.messages,label:e.label,error:e.errorMessages.length>0,"error-message":e.errorMessages,disabled:e.disabled,clearable:"",flat:"","data-cy":"time-picker-"+e.dataCyVariable,"hide-details":e.hideDetails,readonly:"","clear-icon":"mdi-close","prepend-inner-icon":e.prependInnerIcon},on:{"click:append":e.resetDateTime,input:function(t){return e.$emit("blur")}},model:{value:e.dateTime,callback:function(t){e.dateTime=t},expression:"dateTime"}},a)),e.errorMessages.length>0?s("span",{staticClass:"danger--text"},[e._v(" "+e._s(e.errorMessages[0])+" ")]):e._e()],1)]}}]),model:{value:e.showPicker,callback:function(t){e.showPicker=t},expression:"showPicker"}},[s("v-card",[s("v-responsive",{attrs:{width:"200"}},[s("div",[s("div",{staticClass:"text-center font-weight-black pa-2"},[e._v("Time")])]),s("v-divider"),s("v-row",{staticClass:"d-flex mx-3",attrs:{id:"time-picker","no-gutters":""}},[s("v-col",[s("v-text-field",{attrs:{mask:"##"},model:{value:e.hour,callback:function(t){e.hour=t},expression:"hour"}})],1),s("v-col",{staticClass:"text-center"},[s("div",{staticClass:"mt-6",domProps:{textContent:e._s(":")}})]),s("v-col",[s("v-text-field",{attrs:{mask:"##"},model:{value:e.minute,callback:function(t){e.minute=t},expression:"minute"}})],1)],1),s("v-divider"),s("v-row",{attrs:{align:"center",justify:"center","no-gutters":""}},[s("v-col",{staticClass:"text-center"},[s("div",[s("v-btn",{attrs:{icon:""},on:{click:function(t){return e.changeHour("increment")}}},[s("v-icon",[e._v(" mdi-chevron-up ")])],1)],1),s("v-btn",{attrs:{icon:""}},[e._v(" "+e._s(e.hour)+" ")]),s("div",[s("v-btn",{attrs:{icon:""},on:{click:function(t){return e.changeHour("decrement")}}},[s("v-icon",[e._v(" mdi-chevron-down ")])],1)],1)],1),s("span",{domProps:{textContent:e._s(":")}}),s("v-col",{staticClass:"text-center"},[s("div",[s("v-btn",{attrs:{icon:""},on:{click:function(t){return e.changeMinute("increment")}}},[s("v-icon",[e._v(" mdi-chevron-up ")])],1)],1),s("v-btn",{attrs:{icon:""}},[e._v(" "+e._s(e.minute)+" ")]),s("div",[s("v-btn",{attrs:{icon:""},on:{click:function(t){return e.changeMinute("decrement")}}},[s("v-icon",[e._v(" mdi-chevron-down ")])],1)],1)],1)],1)],1)],1)],1)},n=[],i=(s("ac1f"),s("1276"),s("d3b7"),s("25f0"),{props:{placeHolder:{type:String,required:!1,default:function(){return"HH:MM:SS"}},messages:{type:Array,required:!1,default:function(){return[]}},dataCyVariable:{type:String,default:""},value:{type:String,default:void 0},id:{type:String,default:""},label:{type:String,default:""},errorMessages:{type:[String,Array],default:function(){return[]}},customClass:{type:[String],default:""},prependInnerIcon:{type:String,default:"mdi-clock-outline"},defaultValue:{validator:function(e){if(""===e)return!0;var t=e.split(":");return 2===t.length&&2===t[0].length&&2===t[1].length},type:String,required:!1,default:""},disabled:{type:Boolean,default:!1},hideDetails:{type:Boolean,default:!1}},data:function(){return{showPicker:!1,menu:!1,date:"",dateTime:"",hour:"",minute:"",seconds:"00"}},computed:{time:function(){return this.hour&&this.minute?this.hour+":"+this.minute:""}},watch:{value:function(e){this.dateTime=e},hour:function(e){var t=this;e=parseInt(e),e>23&&(this.hour=23),e<0&&(this.hour=23),this.setDate(),"00"!==e.toString()&&"0"!==e.toString()&&!1===isNaN(e)&&setTimeout((function(){t.hour=(t.hour<10&&t.hour.toString().length<2?"0":"")+t.hour.toString()}),1e3)},minute:function(e){var t=this;e=parseInt(e),e>59&&(this.minute=59),e<0&&(this.minute=0),this.setDate(),"00"!==e.toString()&&"0"!==e.toString()&&!1===isNaN(e)&&setTimeout((function(){t.minute=(t.minute<10&&t.minute.toString().length<2?"0":"")+t.minute.toString()}),1e3)},dateTime:function(e){this.$emit("input",e)},showPicker:function(e){!this.dateTime&&e&&(this.defaultValue?(this.hour=this.defaultValue.split(":")[0],this.minute=this.defaultValue.split(":")[1]):this.dateTime||(this.hour=this.$dayjs().format("HH"),this.minute=this.$dayjs().format("mm"),this.hour=this.defaultTime.split(":")[0]||this.$dayjs().format("HH:mm"),this.minute=this.defaultTime.split(":")[1]||this.$dayjs().format("mm"),this.setDate()))}},created:function(){this.value&&(this.hour=this.value.split(":")[0],this.minute=this.value.split(":")[1])},methods:{changeHour:function(e){this.hour=parseInt(this.hour),"increment"===e?23===this.hour?this.hour=0:this.hour+=1:0===this.hour?this.hour=23:this.hour-=1},changeMinute:function(e){this.minute=parseInt(this.minute),"increment"===e?59===this.minute?(this.minute=0,this.changeHour("increment")):this.minute+=1:0===this.minute?(this.minute=59,this.changeHour("decrement")):this.minute-=1},setDate:function(){this.dateTime=this.time||""},resetDateTime:function(){this.showPicker=!1,this.dateTime="",this.$emit("click:append")}}}),r=i,o=(s("03e7"),s("2877")),l=s("6544"),c=s.n(l),u=s("8336"),d=s("b0af"),m=s("62ad"),f=s("ce7e"),p=s("132d"),h=s("e449"),v=s("6b53"),g=s("0fd9b"),b=s("8654"),y=Object(o["a"])(r,a,n,!1,null,null,null);t["a"]=y.exports;c()(y,{VBtn:u["a"],VCard:d["a"],VCol:m["a"],VDivider:f["a"],VIcon:p["a"],VMenu:h["a"],VResponsive:v["a"],VRow:g["a"],VTextField:b["a"]})},ef8c:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-autocomplete",{class:e.appliedClass,attrs:{items:e.itemsSorted,loading:e.isLoading,"search-input":e.search,multiple:e.multiple,label:e.label,error:e.errorMessages.length>0,"error-messages":e.errorMessages,disabled:e.disabled,"prepend-inner-icon":e.prependInnerIcon,clearable:e.clearable&&!e.readonly,readonly:!!e.readonly,"hide-details":e.hideDetails,"data-cy":"input-user-autocomplete-"+e.dataCyVariable,placeholder:e.placeholder,"hide-selected":"","hide-no-data":"","item-text":"full_name","item-value":"id"},on:{"update:searchInput":function(t){e.search=t},"update:search-input":function(t){e.search=t},blur:function(t){return e.$emit("blur")}},scopedSlots:e._u([{key:"selection",fn:function(t){return[s("v-chip",{attrs:{"input-value":t.selected,close:(e.clearable||!e.clearable&&!e.multiple)&&!e.readonly,small:""},on:{"click:close":function(s){return e.remove(t.item)}}},[s("v-avatar",{attrs:{left:""}},[s("v-img",{attrs:{src:t.item.profile_picture,cover:""}})],1),e._v(" "+e._s(e._f("truncate")(t.item.full_name,e.truncate))+" ")],1)]}},{key:"item",fn:function(t){var a=t.item;return[s("v-list-item-avatar",[s("v-avatar",{attrs:{size:"30"}},[s("v-img",{attrs:{src:a.profile_picture,cover:""}})],1)],1),s("v-list-item-content",[s("v-list-item-title",[e._v(" "+e._s(e._f("truncate")(a.full_name,20))+" "),a.employee_code?s("span",[e._v("("+e._s(a.employee_code)+")")]):e._e()]),a.division?s("v-list-item-subtitle",{domProps:{textContent:e._s(a.division)}}):e._e()],1)]}}]),model:{value:e.selectedData,callback:function(t){e.selectedData=t},expression:"selectedData"}})],1)},n=[],i=s("53ca"),r=(s("a9e3"),s("ac1f"),s("841c"),s("4e827"),s("2ca0"),s("d81d"),s("a434"),s("d3b7"),s("159b"),s("7db0"),s("4de4"),s("caad"),s("2532"),s("fab2")),o=s("63ea"),l=s.n(o),c={props:{value:{type:[Number,String,Array,Object],required:!1,default:function(){return null}},dataCyVariable:{type:String,default:""},userObject:{type:[Object,Array],required:!1,default:function(){return{}}},params:{type:[Object,Array],required:!1,default:function(){return{}}},multiple:{type:Boolean,required:!1,default:!1},disabled:{type:Boolean,required:!1,default:!1},errorMessages:{type:[String,Array],default:function(){return[]}},label:{type:String,default:"Select Employee"},prependInnerIcon:{type:String,default:"mdi-account-plus-outline"},itemsToExclude:{type:[Array,Number],default:null},itemsToInclude:{type:[Array,Number],default:null},clearable:{type:Boolean,default:!0},readonly:{type:Boolean,default:!1},hideDetails:{type:Boolean,default:!1},appliedClass:{type:String,default:""},truncate:{type:Number,default:10},placeholder:{type:String,default:""}},data:function(){return{isLoading:!1,items:[],allUsers:[],selectedData:null,search:null}},computed:{itemsSorted:function(){return this.sortBySearch(this.items,this.search?this.search.toLowerCase():"")}},watch:{value:{handler:function(e,t){!e&&t&&(this.selectedData="",this.populateInitialUsers()),!t&&e&&this.populateInitialUsers()},immediate:!0},search:function(e){!e||this.items.length>0||this.fetchUsers()},selectedData:function(e){this.search="",this.syncUserData(e),this.$emit("input",e)},itemsToExclude:function(){this.items=this.excludeRecord(this.allUsers)},itemsToInclude:function(){this.items=this.includeRecord(this.allUsers)},params:{handler:function(e,t){l()(e,t)||this.fetchUsers()},deep:!0}},methods:{sortBySearch:function(e,t){return e.sort((function(e,s){return e.full_name.toLowerCase().startsWith(t)&&s.full_name.toLowerCase().startsWith(t)?e.full_name.toLowerCase().localeCompare(s.full_name.toLowerCase()):e.full_name.toLowerCase().startsWith(t)?-1:s.full_name.toLowerCase().startsWith(t)?1:e.full_name.toLowerCase().localeCompare(s.full_name.toLowerCase())}))},populateInitialUsers:function(){this.fetchUsers(this.value),Array.isArray(this.value)?"object"===Object(i["a"])(this.value[0])?this.selectedData=this.value.map((function(e){return e.user.id})):this.selectedData=this.value:null===this.value?this.selectedData="":"object"===Object(i["a"])(this.value)?this.selectedData=this.value.id:this.selectedData=this.value,this.$emit("input",this.selectedData)},remove:function(e){if(this.selectedData instanceof Object){var t=this.selectedData.indexOf(e.id);t>=0&&this.selectedData.splice(t,1),this.$emit("remove",e)}else this.selectedData=""},fetchUsers:function(e){var t=this;this.isLoading||(this.isLoading=!0,this.$http.get(r["a"].autocomplete,{params:this.params}).then((function(s){t.allUsers=s,t.itemsToExclude&&(s=t.excludeRecord(s)),t.itemsToInclude&&(s=t.includeRecord(s)),t.items=s,e&&t.syncUserData(e)})).finally((function(){return t.isLoading=!1})))},syncUserData:function(e){var t=this;if(e instanceof Array){var s=[];e.forEach((function(e){s.unshift(t.items.find((function(t){return t.id===e})))})),this.$emit("update:userObject",s)}else{var a=this.items.find((function(t){return t.id===e}));this.$emit("update:userObject",a)}},excludeRecord:function(e){var t=[];return"number"===typeof this.itemsToExclude?t.push(this.itemsToExclude):t=this.itemsToExclude,e.filter((function(e){return!t.includes(e.id)}))},includeRecord:function(e){var t=this;return e.filter((function(e){return t.itemsToInclude.includes(e.id)}))}}},u=c,d=s("2877"),m=s("6544"),f=s.n(m),p=s("c6a6"),h=s("8212"),v=s("cc20"),g=s("adda"),b=s("8270"),y=s("5d23"),x=Object(d["a"])(u,a,n,!1,null,null,null);t["default"]=x.exports;f()(x,{VAutocomplete:p["a"],VAvatar:h["a"],VChip:v["a"],VImg:g["a"],VListItemAvatar:b["a"],VListItemContent:y["a"],VListItemSubtitle:y["b"],VListItemTitle:y["c"]})},f82f:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-text-field",{class:e.appliedClass,attrs:{id:e.id,label:e.label,"data-cy":"input-file-upload",error:e.errorMessages.length>0,"error-messages":e.errorMessages,"hide-details":e.hideDetails,hint:e.hint,"persistent-hint":!!e.hint,disabled:e.disabled,readonly:"","prepend-inner-icon":"mdi-attachment","append-icon":"mdi-close"},on:{"click:prepend":e.pickFile,"click:append":function(t){return e.clear()},click:e.pickFile,blur:function(t){return e.$emit("blur")}},model:{value:e.fileName,callback:function(t){e.fileName=t},expression:"fileName"}}),s("input",{ref:"upload",staticClass:"d-none",attrs:{id:"fileUpload",type:"file",multiple:"multiple"},on:{change:e.upload}})],1)},n=[],i=s("1da1"),r=s("5530"),o=(s("96cf"),s("a9e3"),s("ac1f"),s("1276"),s("b0c0"),s("2f62")),l={props:{value:{type:[String,File,Object],default:void 0},default:{type:[String,File],default:void 0},text:{type:String,default:void 0},id:{type:String,default:""},label:{type:String,default:"Browse file from here"},hint:{type:String,default:void 0},errorMessages:{type:[String,Array],default:function(){return[]}},hideDetails:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},appliedClass:{type:String,default:""},returnObject:{type:Boolean,default:!1},maxSize:{type:Number,default:5}},data:function(){return{fileName:null}},watch:{default:{handler:function(e){!e||e instanceof File||(this.fileName=e)},immediate:!0},value:function(e){e||(this.fileName=""),document.getElementById("fileUpload").value=null}},methods:Object(r["a"])(Object(r["a"])({},Object(o["d"])({setSnackBar:"common/setSnackBar"})),{},{pickFile:function(){this.$refs.upload.click()},upload:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){var a,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:a=new FileReader,a.readAsDataURL(e.target.files[0]),n="",1===e.target.files[0].name.split(".").length?n="Please upload known file type.":e.target.files[0].size>1024*t.maxSize*1024?n="File size cannot be greater than ".concat(t.maxSize,"MB."):"svg"===e.target.files[0].name.split(".").pop()&&(n="SVG image not allowed here."),n?t.setSnackBar({text:n,color:"red"}):a.onload=function(){t.returnObject?t.$emit("input",{file_name:e.target.files[0].name,file_content:e.target.files[0]}):t.$emit("input",e.target.files[0]),t.$emit("blur"),t.$emit("update",a.result),t.fileName=e.target.files[0].name};case 5:case"end":return s.stop()}}),s)})))()},clear:function(){this.fileName=null,this.returnObject?this.$emit("input",{file_name:"",file_content:""}):this.$emit("input",this.fileName)}})},c=l,u=s("2877"),d=s("6544"),m=s.n(d),f=s("8654"),p=Object(u["a"])(c,a,n,!1,null,null,null);t["a"]=p.exports;m()(p,{VTextField:f["a"]})},fab2:function(e,t,s){"use strict";t["a"]={getUserList:"/users/",postUser:"/users/",autocomplete:"/users/autocomplete/",postImportUser:"/users/import/",downloadUserImportSample:function(e){return"/users/import/sample/?organization=".concat(e)},getUserDetail:function(e){return"/users/".concat(e,"/")},getInternalUserDetail:function(e){return"/users/".concat(e,"/internal-detail")},deleteUser:function(e){return"/users/".concat(e,"/")},updateUser:function(e){return"/users/".concat(e,"/")},changePassword:function(e){return"/users/".concat(e,"/change-password/")},getUserCV:function(e){return"/users/".concat(e,"/cv/")},getProfileCompleteness:function(e){return"users/".concat(e,"/profile-completeness/")}}}}]);