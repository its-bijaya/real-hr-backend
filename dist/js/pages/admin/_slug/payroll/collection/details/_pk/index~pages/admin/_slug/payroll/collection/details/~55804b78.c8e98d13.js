(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages/admin/_slug/payroll/collection/details/_pk/index~pages/admin/_slug/payroll/collection/details/~55804b78","chunk-da62e0c8","chunk-2d22d378"],{"8da0":function(e,t,a){"use strict";a("99af");t["a"]={getGeneratedPayroll:"/payroll/payrolls/",getUserPackageDetails:function(e){return"/payroll/".concat(e,"/user-experience-package-list/")},getIndividualUserPackageDetails:function(e,t){return"/payroll/".concat(e,"/user-experience-package-list/").concat(t,"/")},getUserPayrollHistory:function(e){return"/payroll/employee-payroll/".concat(e,"/edits/")},getDisbursementReport:function(e,t){return"/payroll/".concat(e,"/payrolls/").concat(t,"/reports/disbursement/")},getPayrollTaxReport:function(e,t){return"/payroll/".concat(e,"/payrolls/").concat(t,"/reports/tax/")},exportPayrollTaxReport:function(e,t){return"/payroll/".concat(e,"/payrolls/").concat(t,"/reports/tax/export/")},getPayrollProvidentFundReport:function(e,t){return"/payroll/".concat(e,"/payrolls/").concat(t,"/reports/pf/")},getPayrollSSFReport:function(e,t){return"/payroll/".concat(e,"/payrolls/").concat(t,"/reports/ssf/")},exportPayrollProvidentFundReport:function(e,t){return"/payroll/".concat(e,"/payrolls/").concat(t,"/reports/pf/export/")},getGeneralInfoReport:function(e){return"/payroll/".concat(e,"/reports/general-info/")},getPackageWiseSalaryReport:function(e){return"/payroll/".concat(e,"/reports/package-info/")},exportPackageWiseSalaryReport:function(e){return"/payroll/".concat(e,"/reports/package-info/export/")},exportGeneralInfoReport:function(e){return"/payroll/".concat(e,"/reports/general-info/export/")},approvePayroll:function(e){return"/payroll/".concat(e,"/settings/payroll-approval/")},setPayrollPersonalHeadingReportSetting:function(e){return"payroll/".concat(e,"/payroll-extra-heading-setting/")},setPayrollDetailReportSetting:function(e){return"payroll/".concat(e,"/payroll-collection-report-setting/")},setSSFReportSetting:function(e){return"payroll/".concat(e,"/ssf-report-setting/")},setPayrollDifferenceSetting:function(e){return"payroll/".concat(e,"/payroll-difference-heading-setting/")},disbursementReportSetting:function(e){return"/payroll/".concat(e,"/disbursement-report-setting/")},setTaxReportSetting:function(e){return"payroll/".concat(e,"/tax-report-setting/")},monthlyInsightTable:function(e){return"payroll/".concat(e,"/employee-metrics-report/")},exportMonthlyInsightTable:function(e){return"payroll/".concat(e,"/employee-metrics-report/export/")},exportAssignPackage:function(e){return"payroll/".concat(e,"/user-experience-package-list/export/")},setInsightHeadingSetting:function(e){return"payroll/".concat(e,"/employee-metrics-report-setting/")},getPayrollActivity:function(e){return"payroll/".concat(e,"/payroll-package-activity/")}}},"983c":function(e,t,a){"use strict";a("d3b7");t["a"]={methods:{getData:function(e,t,a){var n=this,l=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Promise((function(r,i){!n.loading&&e&&(n.clearNonFieldErrors(),n.$validator.errors.clear(),n.loading=l,n.$http.get(e,a||{params:t||{}}).then((function(e){r(e),n.loading=!1})).catch((function(e){n.pushErrors(e),n.notifyInvalidFormResponse(),i(e),n.loading=!1})))}))},getBlockingData:function(e,t,a){var n=this;return new Promise((function(l,r){n.getData(e,t,a,!0).then((function(e){l(e)})).catch((function(e){r(e)}))}))}}}},f0d5:function(e,t,a){"use strict";a("d3b7"),a("3ca3"),a("ddb0");var n=a("c44a");t["a"]={components:{NonFieldFormErrors:function(){return a.e("chunk-6441e173").then(a.bind(null,"ab8a"))}},mixins:[n["a"]],data:function(){return{crud:{name:"record",message:"",addAnother:!1},formValues:{},loading:!1}}}},f70a:function(e,t,a){"use strict";a("d3b7"),a("caad");t["a"]={methods:{insertData:function(e,t){var a=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=n.validate,r=void 0===l||l,i=n.clearForm,o=void 0===i||i,s=arguments.length>3?arguments[3]:void 0;return new Promise((function(n,l){!a.loading&&e&&(a.clearErrors(),a.$validator.validateAll().then((function(i){r||(i=!0),i&&(a.loading=!0,a.$http.post(e,t,s||{}).then((function(e){a.clearErrors(),o&&(a.formValues={}),a.crud.addAnother||a.$emit("create"),a.crud.message&&setTimeout((function(){a.notifyUser(a.crud.message)}),1e3),n(e),a.loading=!1})).catch((function(e){a.pushErrors(e),a.notifyInvalidFormResponse(),l(e),a.loading=!1})))})))}))},patchData:function(e,t){var a=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=n.validate,r=void 0===l||l,i=n.clearForm,o=void 0===i||i,s=arguments.length>3?arguments[3]:void 0;return new Promise((function(n,l){a.updateData(e,t,{validate:r,clearForm:o},"patch",s).then((function(e){n(e)})).catch((function(e){l(e)}))}))},putData:function(e,t){var a=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=n.validate,r=void 0===l||l,i=n.clearForm,o=void 0===i||i,s=arguments.length>3?arguments[3]:void 0;return new Promise((function(n,l){a.updateData(e,t,{validate:r,clearForm:o},"put",s).then((function(e){n(e)})).catch((function(e){l(e)}))}))},updateData:function(e,t){var a=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=n.validate,r=void 0===l||l,i=n.clearForm,o=void 0===i||i,s=arguments.length>3?arguments[3]:void 0,c=arguments.length>4?arguments[4]:void 0;return new Promise((function(n,l){!a.loading&&e&&["put","patch"].includes(s)&&(a.clearErrors(),a.$validator.validateAll().then((function(i){r||(i=!0),i&&(a.loading=!0,a.$http[s](e,t,c||{}).then((function(e){a.$emit("update"),a.clearErrors(),o&&(a.formValues={}),a.crud.message&&setTimeout((function(){a.notifyUser(a.crud.message)}),1e3),n(e),a.loading=!1})).catch((function(e){a.pushErrors(e),a.notifyInvalidFormResponse(),l(e),a.loading=!1})))})))}))},clearErrors:function(){this.clearNonFieldErrors(),this.$validator.errors.clear()}}}},f7ed:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-row",{staticClass:"grey--text text--darken-2",attrs:{align:"center"}},[a("v-col",{staticClass:"blueGrey--text",attrs:{md:"3",cols:"12"}},[e._v(" Select Payroll Heading: "),a("v-icon",{staticClass:"mx-2",attrs:{small:""},domProps:{textContent:e._s("mdi-filter-variant")},on:{click:function(t){e.showPersonalHeadings=!1,e.showPayrollHeadings=!e.showPayrollHeadings}}})],1),e.showPersonalHeading?a("v-col",{staticClass:"blueGrey--text",attrs:{md:"3",cols:"12"}},[e._v(" Select Personal Heading: "),a("v-icon",{staticClass:"mx-2",attrs:{small:""},domProps:{textContent:e._s("mdi-filter-variant")},on:{click:function(t){e.showPayrollHeadings=!1,e.showPersonalHeadings=!e.showPersonalHeadings}}})],1):e._e(),e.showPayrollHeadings?a("v-col",{attrs:{md:"3",cols:"12"}},[a("v-checkbox",{staticClass:"py-0 my-0",attrs:{label:"Select All Headers",indeterminate:e.selectedPayrollHeading.length>0&&e.payrollHeadingsList.length!==e.selectedPayrollHeading.length,"hide-details":"",dense:""},on:{change:function(t){return e.allPackagesSelected()}},model:{value:e.allHeadingsSelected,callback:function(t){e.allHeadingsSelected=t},expression:"allHeadingsSelected"}})],1):e._e(),e.showPayrollHeadings?a("v-col",{attrs:{md:"3",cols:"12"}},[a("v-checkbox",{attrs:{label:"Archived Heading"},model:{value:e.showArchivedHeading,callback:function(t){e.showArchivedHeading=t},expression:"showArchivedHeading"}})],1):e._e(),e.showPersonalHeadings?a("v-col",{attrs:{md:"2",cols:"12"}},[a("v-checkbox",{staticClass:"py-0 my-0",attrs:{label:"Select All Headers",indeterminate:e.selectedPersonalHeading.length>0&&e.PersonalHeading.length-1!==e.selectedPersonalHeading.length,"hide-details":"",dense:""},on:{change:function(t){return e.allPersonalPackagesSelected()}},model:{value:e.allPersonalHeadingsSelected,callback:function(t){e.allPersonalHeadingsSelected=t},expression:"allPersonalHeadingsSelected"}})],1):e._e(),e.showPersonalHeadings?a("v-col",{staticClass:"py-0",class:"xs"===e.$vuetify.breakpoint.name?"":"text-right",attrs:{md:"4",cols:"12"}},[a("v-btn",{staticClass:"mx-2",attrs:{disabled:0===e.selectedPersonalHeading.length,small:"",color:"primary"},on:{click:function(t){return e.savePersonalHeading()}}},[e._v(" Save Settings ")])],1):e._e()],1),a("v-row",[e.showPayrollHeadings?a("v-col",{class:"xs"===e.$vuetify.breakpoint.name?"":"text-right",attrs:{md:"12",cols:"12"}},[a("v-btn",{staticClass:"mx-2",attrs:{disabled:0===e.selectedPayrollHeading.length,small:"",color:"primary"},on:{click:function(t){return e.$emit("save",e.selectedPayrollHeading)}}},[e._v(" Save Settings ")]),e.showDownload?a("v-btn",{staticClass:"mx-2",attrs:{disabled:0===e.selectedPayrollHeading.length,small:"",color:"primary"},on:{click:function(t){return e.$emit("download",e.selectedPayrollHeading)}}},[e._v(" Sample Download ")]):e._e()],1):e._e()],1),e.showPayrollHeadings||e.showPersonalHeadings?a("v-divider",{staticClass:"pb-2"}):e._e(),e.showPayrollHeadings?a("v-row",{staticClass:"px-4",attrs:{"no-gutters":""}},e._l(e.payrollHeadingsList,(function(t,n){return a("v-col",{key:n,staticClass:"ma-0 pa-0",attrs:{md:"3",cols:"12"}},[a("v-checkbox",{staticClass:"py-0 my-0",attrs:{label:t.label,value:t.id,"hide-details":"",dense:""},model:{value:e.selectedPayrollHeading,callback:function(t){e.selectedPayrollHeading=t},expression:"selectedPayrollHeading"}})],1)})),1):e._e(),e.showPersonalHeadings?a("v-row",{staticClass:"px-4",attrs:{"no-gutters":""}},[e._l(e.PersonalHeading,(function(t,n){return[n>0?a("v-col",{key:n,staticClass:"ma-0 pa-0",attrs:{md:"3",cols:"12"}},[a("v-checkbox",{staticClass:"py-0 my-0",attrs:{label:t.text,value:t.text,"hide-details":"",dense:""},model:{value:e.selectedPersonalHeading,callback:function(t){e.selectedPersonalHeading=t},expression:"selectedPersonalHeading"}})],1):e._e()]}))],2):e._e(),e.showPayrollHeadings&&e.showArchivedHeading?a("v-divider",{staticClass:"ma-4"}):e._e(),e.showPayrollHeadings&&e.showArchivedHeading?a("v-chip",{staticClass:"mb-4 text-subtitle-2"},[e._v(" Archived Headings ")]):e._e(),e.showPayrollHeadings&&e.showArchivedHeading?a("v-row",{staticClass:"px-4",attrs:{"no-gutters":""}},[e._l(e.archivedHeadingLists,(function(t,n){return[a("v-col",{key:n,staticClass:"ma-0 pa-0",attrs:{md:"3",cols:"12"}},[a("v-checkbox",{staticClass:"py-0 my-0",attrs:{label:t.label,value:t.id,"hide-details":"",dense:""},model:{value:e.selectedPayrollHeading,callback:function(t){e.selectedPayrollHeading=t},expression:"selectedPayrollHeading"}})],1)]}))],2):e._e()],1)},l=[],r=a("1da1"),i=(a("96cf"),a("99af"),a("159b"),a("7db0"),a("f0d5")),o=a("983c"),s=a("f70a"),c=a("3186"),d=a("8da0"),u={mixins:[i["a"],o["a"],s["a"]],props:{showDownload:{type:Boolean,default:!1},showPersonalHeading:{type:Boolean,default:!0},selectedHeadingList:{type:Array,default:function(){return[]}},allHeadingList:{type:Array,default:function(){return[]}}},data:function(){return{showPayrollHeadings:!1,showPersonalHeadings:!1,allHeadingsSelected:!1,allPersonalHeadingsSelected:!1,selectedPayrollHeading:[],selectedPersonalHeading:[],payrollHeadingsList:[],PersonalHeading:[{text:"Name",value:"full_name",align:"left",sortable:!0,visible:!0},{text:"Username",value:"username",align:"left",sortable:!1,visible:!1},{text:"Job Title",value:"job_title",sortable:!1,visible:!1,width:"200px"},{text:"Division",value:"division.name",sortable:!1,visible:!1,width:"200px"},{text:"Employment Level",value:"employee_level",sortable:!1,visible:!1,width:"140px"},{text:"Employment Type",value:"employment_status",sortable:!1,visible:!1,width:"140px"},{text:"Employee Level Hierarchy",value:"employee_level_hierarchy",sortable:!0,visible:!1,width:"140px"},{text:"Branch",value:"branch",sortable:!1,visible:!1,width:"120px"},{text:"Step/Grade",value:"step",sortable:!1,visible:!1},{text:"Package Name",value:"package_name",sortable:!1,visible:!1,width:"140px"},{text:"Working Days",value:"working_days",sortable:!1,visible:!1,width:"100px"},{text:"Worked Days",value:"worked_days",sortable:!1,visible:!1,width:"100px"},{text:"Absent Days",value:"absent_days",sortable:!1,visible:!1,width:"100px"},{text:"Worked Hours",value:"worked_hours",sortable:!1,visible:!1,width:"100px"},{text:"Overtime Hours",value:"overtime_hours",sortable:!1,visible:!1,width:"120px"},{text:"SSF Number",value:"legal_info.ssfid",sortable:!1,visible:!1,width:"120px"},{text:"Bank Name",value:"userbank.bank_name",sortable:!1,visible:!1,width:"120px"},{text:"Bank Branch",value:"userbank.branch",sortable:!1,visible:!1,width:"120px"},{text:"Bank Account Number",value:"userbank.account_number",sortable:!1,visible:!1,width:"120px"},{text:"PF Number",value:"legal_info.pf_number",sortable:!1,visible:!1,width:"120px"},{text:"PAN Number",value:"legal_info.pan_number",sortable:!1,visible:!1,width:"120px"},{text:"CIT Number",value:"legal_info.cit_number",sortable:!1,visible:!1,width:"120px"}],showArchivedHeading:!1,archivedHeadingLists:[]}},watch:{selectedPayrollHeading:function(e){var t=[],a=this.payrollHeadingsList.concat(this.archivedHeadingLists);return 0!==e.length?e.forEach((function(e){var n=a.find((function(t){return t.id===e}));n&&Object.prototype.hasOwnProperty.call(n,"label")&&t.push({text:n["label"],sortable:!1,align:"right",value:n["id"],type:n["type"]})})):a.forEach((function(e){t.push({text:e["label"],sortable:!1,align:"right",value:e["id"],type:e["type"]})})),a.length===this.selectedPayrollHeading.length&&(this.allHeadingsSelected=!0),this.$emit("update:header-data",t),t},selectedHeadingList:function(){this.selectedPayrollHeading=this.selectedHeadingList},showArchivedHeading:function(){this.fetchData()}},created:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getPersonalHeadingSetting();case 2:return t.next=4,e.getPayrollHeadingList();case 4:case"end":return t.stop()}}),t)})))()},methods:{getPersonalHeadingSetting:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get(d["a"].setPayrollPersonalHeadingReportSetting(e.$route.query.org_slug||e.getOrganizationSlug)+"?as=hr").then((function(t){t[0]&&(e.selectedPersonalHeading=t[0].headings),e.PersonalHeading.forEach((function(t,a){0!==a&&(t.visible=!1),(0===e.selectedPersonalHeading.length||e.selectedPersonalHeading.some((function(e){return t.text===e})))&&(t.visible=!0)})),e.PersonalHeading.length-1===e.selectedPersonalHeading.length&&(e.allPersonalHeadingsSelected=!0),e.$emit("update:personal-heading-list",e.PersonalHeading)}));case 2:case"end":return t.stop()}}),t)})))()},savePersonalHeading:function(){var e=this;this.insertData(d["a"].setPayrollPersonalHeadingReportSetting(this.$route.query.org_slug||this.getOrganizationSlug)+"?as=hr",{headings:this.selectedPersonalHeading}).then(Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getPersonalHeadingSetting();case 2:return t.next=4,e.getPayrollHeadingList();case 4:case"end":return t.stop()}}),t)}))))},getPayrollHeadingList:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getData(c["a"].getPackageHeading+"?organization__slug=".concat(e.$route.query.org_slug||e.getOrganizationSlug,"&is_archived=").concat(e.showArchivedHeading,"&as=hr")).then((function(t){e.$emit("update:all-heading-list",t),e.payrollHeadingsList=t}));case 2:case"end":return t.stop()}}),t)})))()},allPackagesSelected:function(){var e=this;this.selectedPayrollHeading=[];var t=this.payrollHeadingsList.concat(this.archivedHeadingLists);this.allHeadingsSelected&&t.forEach((function(t){e.selectedPayrollHeading.push(t.id)}))},allPersonalPackagesSelected:function(){var e=this;this.selectedPersonalHeading=[],this.allPersonalHeadingsSelected&&this.PersonalHeading.forEach((function(t){"Name"!==t.text&&e.selectedPersonalHeading.push(t.text)}))},fetchData:function(){var e=this;this.$http.get("/payroll/headings/choices/?organization__slug=".concat(this.getOrganizationSlug,"&is_archived=").concat(this.showArchivedHeading,"&as=hr")).then((function(t){e.$emit("update:all-heading-list",t),e.archivedHeadingLists=t}))}}},g=u,h=a("2877"),p=a("6544"),v=a.n(p),f=a("8336"),y=a("ac7c"),m=a("cc20"),b=a("62ad"),H=a("ce7e"),P=a("132d"),x=a("0fd9b"),w=Object(h["a"])(g,n,l,!1,null,null,null);t["a"]=w.exports;v()(w,{VBtn:f["a"],VCheckbox:y["a"],VChip:m["a"],VCol:b["a"],VDivider:H["a"],VIcon:P["a"],VRow:x["a"]})}}]);