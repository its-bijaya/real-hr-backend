(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages/admin/_slug/pa/settings/appraisal/_id/forms","chunk-2d22d378"],{"8cd3":function(e,t,a){"use strict";var n=a("5530"),r=(a("d3b7"),a("f0d5"));t["a"]={mixins:[r["a"]],data:function(){return{dataTableEndpoint:"",fetchedResults:[],response:null,footerProps:{itemsPerPageOptions:[10,20,30,40,50,100]},pagination:{sortBy:["modified_at"],descending:!1,totalItems:0,page:1,rowsPerPage:10,pageCount:0},loadTableOnInit:!0}},computed:{filterParams:function(){var e=Object(n["a"])(Object(n["a"])({},this.dataTableFilter),{},{offset:(this.pagination.page-1)*this.pagination.rowsPerPage,limit:this.pagination.rowsPerPage,ordering:this.pagination.descending?this.pagination.sortBy:"-"+this.pagination.sortBy});return this.convertToURLSearchParams(e,!1)}},watch:{filterParams:function(){var e=this;this.$nextTick((function(){e.fetchDataTable()}))},dataTableFilter:function(){this.pagination.page=1}},created:function(){var e=this;setTimeout((function(){e.loadTableOnInit&&e.fetchDataTable()}),0)},methods:{fetchDataTable:function(e,t){var a=this;return new Promise((function(n,r){!e&&!a.dataTableEndpoint||a.loading||(a.loadTableOnInit=!1,a.loading=!0,a.fetchedResults=[],a.$http.get(e||a.dataTableEndpoint,t||{params:a.filterParams}).then((function(e){a.response=e,a.fetchedResults=e.results,a.pagination.totalItems=e.count,a.processAfterTableLoad(e),n(e),a.loading=!1})).catch((function(e){a.pushErrors(e),a.notifyInvalidFormResponse(),r(e),a.loading=!1})))}))},processAfterTableLoad:function(){}}}},"931c":function(e,t,a){"use strict";a("99af");t["a"]={getFormSettings:function(e,t){return"/appraisal/".concat(e,"/year/slot/").concat(t,"/form-design/")},postFormSettings:function(e,t){return"/appraisal/".concat(e,"/year/slot/").concat(t,"/form-design/")},generateAppraiseeForms:function(e,t){return"/appraisal/".concat(e,"/year/slot/").concat(t,"/form-design/generate/question-set/")},getAppraiseeForms:function(e,t){return"appraisal/".concat(e,"/year/slot/").concat(t,"/question-set/count/")},getAppraiseeFormsById:function(e,t,a){return"appraisal/".concat(e,"/year/slot/").concat(t,"/appraisee/").concat(a,"/appraiser/")},getAppraiserFormsById:function(e,t,a){return"appraisal/".concat(e,"/year/slot/").concat(t,"/appraiser/").concat(a,"/appraisee/")},postAppraisedForm:function(e,t,a,n){return"appraisal/".concat(e,"/year/slot/").concat(t,"/appraiser/").concat(a,"/appraisee/").concat(n,"/answer/")},approveAppraisedForm:function(e,t,a,n){return"appraisal/".concat(e,"/year/slot/").concat(t,"/appraisee/").concat(a,"/appraiser/").concat(n,"/approve/")},resendAppraisedForm:function(e,t,a,n){return"appraisal/".concat(e,"/year/slot/").concat(t,"/appraisee/").concat(a,"/appraiser/").concat(n,"/resend/")},getAppraiseeFormDetailForAppraiser:function(e,t,a,n){return"appraisal/".concat(e,"/year/slot/").concat(t,"/appraisee/").concat(a,"/appraiser/").concat(n,"/question-set/")},getFormSubmissionStatus:function(e,t){return"/appraisal/".concat(e,"/year/slot/").concat(t,"/question-set/statistics/")},getFormSubmissionList:function(e,t,a){return"/appraisal/".concat(e,"/year/slot/").concat(t,"/appraisee/").concat(a,"/appraiser/")},getFormApprovalStatus:function(e,t){return"/appraisal/".concat(e,"/year/slot/").concat(t,"/question-set/approval/")},updateAppraisalFormDates:function(e,t){return"/appraisal/".concat(e,"/year/slot/").concat(t,"/mode/update/date-parameters/")},sendAppraisalForms:function(e,t){return"appraisal/".concat(e,"/year/slot/").concat(t,"/form-design/send/question-set/")},getKaarFormSubmissionList:function(e,t){return"appraisal/".concat(e,"/year/slot/").concat(t,"/kaar-appraiser")},KaarFormSettings:function(e,t){return"/appraisal/".concat(e,"/year/slot/").concat(t,"/kaar-form-design/")},generateKaarAppraiseeForms:function(e,t){return"/appraisal/".concat(e,"/year/slot/").concat(t,"/kaar-form-design/generate/question-set/")},getKaarAppraiseeFormsCount:function(e,t){return"appraisal/".concat(e,"/year/slot/").concat(t,"/kaar-question-set/count/")},getKaarAppraiserConfig:function(e,t,a){return"appraisal/".concat(e,"/year/slot/").concat(t,"/kaar-appraiser/").concat(a,"/")},getKaarFormSubmissionStatus:function(e,t){return"/appraisal/".concat(e,"/year/slot/").concat(t,"/kaar-question-set/statistics/")},sendKaarAppraisalForms:function(e,t){return"appraisal/".concat(e,"/year/slot/").concat(t,"/kaar-form-design/send/question-set/")},postKaarAppraisedForm:function(e,t,a){return"appraisal/".concat(e,"/year/slot/").concat(t,"/kaar-appraiser/").concat(a,"/submit-answer/")},assignKaarScoreSetting:function(e,t){return"appraisal/".concat(e,"/year/slot/").concat(t,"/setting/kaar-scaling-setting/")},updateKaarScoreSetting:function(e,t,a){return"appraisal/".concat(e,"/year/slot/").concat(t,"/setting/kaar-scaling-setting/").concat(a)},supervisorEvaluation:function(e,t){return"appraisal/".concat(e,"/year/slot/").concat(t,"/supervisor-evaluation")},reviewerEvaluation:function(e,t){return"appraisal/".concat(e,"/year/slot/").concat(t,"/reviewer-evaluation")},updateReviewerEvaluation:function(e,t,a){return"appraisal/".concat(e,"/year/slot/").concat(t,"/reviewer-evaluation/").concat(a)},exportPaStatusReport:function(e,t){return"appraisal/".concat(e,"/year/slot/").concat(t,"/kaar-question-set/statistics/export")}}},9369:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("vue-page-wrapper",{attrs:{"bread-crumbs":e.breadCrumbItems,title:e.htmlTitle}},[a("v-card",[a("vue-card-title",{attrs:{title:"Performance Appraisal Forms",subtitle:"Here you can generate and view list of forms of all employee.",icon:"mdi-account-check-outline"}},[a("template",{slot:"actions"},[e.fetchedResults.length?a("v-btn",{attrs:{depressed:"",color:"primary"},on:{click:function(t){e.sendForm=!0}}},[e._v(" Send ")]):e._e(),a("v-btn",{attrs:{depressed:"",color:"primary",outlined:!!e.fetchedResults.length},on:{click:function(t){e.confirmReGenerate.dialog=!0}}},[e._v(" "+e._s(e.fetchedResults.length?"Re-Generate":"Generate"))]),a("v-btn",{attrs:{icon:""},on:{click:function(t){e.showFilter=!e.showFilter}}},[a("v-icon",{attrs:{small:""},domProps:{textContent:e._s("mdi-filter-variant")}})],1)],1)],2),a("v-divider"),a("v-slide-y-transition",[e.showFilter?a("div",[a("pa-filters",{on:{filter:function(t){e.paFilter=t}}})],1):e._e()]),e.showFilter?a("v-divider"):e._e(),e.nonFieldErrors?a("non-field-form-errors",{attrs:{"non-field-errors":e.nonFieldErrors}}):e._e(),a("v-data-table",{attrs:{headers:e.heading,items:e.fetchedResults,"sort-desc":e.pagination.descending,"sort-by":e.pagination.sortBy,page:e.pagination.page,"items-per-page":e.pagination.rowsPerPage,"footer-props":e.footerProps,"server-items-length":e.pagination.totalItems,"mobile-breakpoint":0,"must-sort":""},on:{"update:sortDesc":function(t){return e.$set(e.pagination,"descending",t)},"update:sort-desc":function(t){return e.$set(e.pagination,"descending",t)},"update:sortBy":function(t){return e.$set(e.pagination,"sortBy",t)},"update:sort-by":function(t){return e.$set(e.pagination,"sortBy",t)},"update:page":function(t){return e.$set(e.pagination,"page",t)},"update:itemsPerPage":function(t){return e.$set(e.pagination,"rowsPerPage",t)},"update:items-per-page":function(t){return e.$set(e.pagination,"rowsPerPage",t)}},scopedSlots:e._u([{key:"item",fn:function(t){return[a("tr",[a("td",[a("vue-user",{attrs:{user:t.item}})],1),a("td",{staticClass:"text-center"},[a("div",{staticClass:"font-weight-bold text-h6 green--text pointer",on:{click:function(a){return e.viewQuestionSet(t.item)}}},[e._v(" "+e._s(t.item.question_set_count["Self Appraisal"])+" ")])]),a("td",{staticClass:"text-center"},[a("div",{staticClass:"font-weight-bold text-h6 cyan--text pointer",on:{click:function(a){return e.openEvaluatorForms(t.item,"Supervisor Appraisal")}}},[e._v(" "+e._s(t.item.question_set_count["Supervisor Appraisal"])+" ")])]),a("td",{staticClass:"text-center"},[a("div",{staticClass:"font-weight-bold text-h6 purple--text pointer",on:{click:function(a){return e.openEvaluatorForms(t.item,"Subordinate Appraisal")}}},[e._v(" "+e._s(t.item.question_set_count["Subordinate Appraisal"])+" ")])]),a("td",{staticClass:"text-center"},[a("div",{staticClass:"font-weight-bold text-h6 orange--text pointer",on:{click:function(a){return e.openEvaluatorForms(t.item,"Peer To Peer Feedback")}}},[e._v(" "+e._s(t.item.question_set_count["Peer To Peer Feedback"])+" ")])])])]}}])},[a("template",{slot:"no-data"},[a("data-table-no-data",{attrs:{loading:e.loading}})],1)],2),a("vue-dialog",{attrs:{notify:e.confirmReGenerate},on:{close:function(t){e.confirmReGenerate.dialog=!1},agree:e.reGenerate}}),e.showIndividualForm?a("v-dialog",{attrs:{scrollable:"","max-width":"960px"},model:{value:e.showIndividualForm,callback:function(t){e.showIndividualForm=t},expression:"showIndividualForm"}},[a("individual-forms",{attrs:{"appraisal-type":"self_appraisal","selected-appraisee":e.selectedAppraiser,"selected-appraiser":e.selectedAppraiser,"read-only":""},on:{close:function(t){e.showIndividualForm=!1}}})],1):e._e(),e.sendForm?a("v-dialog",{attrs:{width:"960",scrollable:"",presistent:""},on:{keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;e.sendForm=!1}},model:{value:e.sendForm,callback:function(t){e.sendForm=t},expression:"sendForm"}},[e.sendForm?a("send-appraisal-form",{attrs:{as:"hr","appraisal-id":e.$route.params.id},on:{close:function(t){e.sendForm=!1},refresh:function(t){e.sendForm=!1,e.fetchDataTable()}}}):e._e()],1):e._e()],1)],1)},r=[],o=a("5530"),i=(a("d3b7"),a("3ca3"),a("ddb0"),a("8cd3")),s=a("f70a"),c=a("931c"),l={components:{VueUser:function(){return Promise.resolve().then(a.bind(null,"02cb"))},VuePageWrapper:function(){return a.e("chunk-31f8a6e6").then(a.bind(null,"0549"))},DataTableNoData:function(){return a.e("chunk-26c51c79").then(a.bind(null,"a51f"))},IndividualForms:function(){return Promise.all([a.e("chunk-debbd02c"),a.e("chunk-5327bb52")]).then(a.bind(null,"1840"))},SendAppraisalForm:function(){return a.e("chunk-340d121c").then(a.bind(null,"cf7e"))},PaFilters:function(){return a.e("chunk-f25e646c").then(a.bind(null,"8113"))}},mixins:[i["a"],s["a"]],data:function(){return{htmlTitle:"Forms | Frequency and Mode | Settings | Performance Appraisal | Admin",breadCrumbItems:[{text:"Performance Appraisal",disabled:!1,to:{name:"admin-slug-pa-overview",params:{slug:this.$route.params.slug}}},{text:"Settings",disabled:!1,to:{name:"admin-slug-pa-settings",params:{slug:this.$route.params.slug}}},{text:"Frequency and Mode",disabled:!1,to:{name:"admin-slug-pa-settings-frequency-and-mode",params:{slug:this.$route.params.slug}}},{text:"Forms",disabled:!0}],showFilter:!1,paFilter:{},heading:[{text:"Name",value:"name"},{text:"Self Appraisal",value:"",sortable:!1,align:"center"},{text:"Supervisor Appraisal",value:"",sortable:!1,align:"center"},{text:"Subordinates Appraisal",value:"",sortable:!1,align:"center"},{text:"Peer To Peer Feedback",value:"",sortable:!1,align:"center"}],confirmReGenerate:{dialog:!1,heading:"Confirm ReGenerate",subheading:"You are about to regenerate the forms. Confirm your action.",text:"Are you sure you want to regenerate the forms for all the employee?"},showIndividualForm:!1,selectedAppraiser:null,sendForm:!1}},computed:{dataTableFilter:function(){return Object(o["a"])({},this.paFilter)}},created:function(){this.dataTableEndpoint=c["a"].getAppraiseeForms(this.getOrganizationSlug,this.$route.params.id)},methods:{reGenerate:function(){var e=this;this.crud.message="Successfully ".concat(this.fetchedResults.length?"Re-Generated":"Generated"," forms."),this.insertData(c["a"].generateAppraiseeForms(this.getOrganizationSlug,this.$route.params.id)).then((function(){e.fetchDataTable()})).finally((function(){e.confirmReGenerate.dialog=!1}))},openEvaluatorForms:function(e,t){0!==e.question_set_count[t]&&this.$router.push({name:"admin-slug-pa-settings-frequency-and-mode-id-forms-appraisee-userid-forms",params:{id:this.$route.params.id,slug:this.getOrganizationSlug,userid:e.id,as:"hr"},query:{appraisal_type:t}})},viewQuestionSet:function(e){0!==e.question_set_count["Self Appraisal"]&&(this.showIndividualForm=!0,this.selectedAppraiser=e)}}},u=l,p=a("2877"),d=a("6544"),f=a.n(d),m=a("8336"),g=a("b0af"),h=a("8fea"),v=a("169a"),b=a("ce7e"),F=a("132d"),y=a("0789"),w=Object(p["a"])(u,n,r,!1,null,null,null);t["default"]=w.exports;f()(w,{VBtn:m["a"],VCard:g["a"],VDataTable:h["a"],VDialog:v["a"],VDivider:b["a"],VIcon:F["a"],VSlideYTransition:y["g"]})},f0d5:function(e,t,a){"use strict";a("d3b7"),a("3ca3"),a("ddb0");var n=a("c44a");t["a"]={components:{NonFieldFormErrors:function(){return a.e("chunk-6441e173").then(a.bind(null,"ab8a"))}},mixins:[n["a"]],data:function(){return{crud:{name:"record",message:"",addAnother:!1},formValues:{},loading:!1}}}},f70a:function(e,t,a){"use strict";a("d3b7"),a("caad");t["a"]={methods:{insertData:function(e,t){var a=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.validate,o=void 0===r||r,i=n.clearForm,s=void 0===i||i,c=arguments.length>3?arguments[3]:void 0;return new Promise((function(n,r){!a.loading&&e&&(a.clearErrors(),a.$validator.validateAll().then((function(i){o||(i=!0),i&&(a.loading=!0,a.$http.post(e,t,c||{}).then((function(e){a.clearErrors(),s&&(a.formValues={}),a.crud.addAnother||a.$emit("create"),a.crud.message&&setTimeout((function(){a.notifyUser(a.crud.message)}),1e3),n(e),a.loading=!1})).catch((function(e){a.pushErrors(e),a.notifyInvalidFormResponse(),r(e),a.loading=!1})))})))}))},patchData:function(e,t){var a=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.validate,o=void 0===r||r,i=n.clearForm,s=void 0===i||i,c=arguments.length>3?arguments[3]:void 0;return new Promise((function(n,r){a.updateData(e,t,{validate:o,clearForm:s},"patch",c).then((function(e){n(e)})).catch((function(e){r(e)}))}))},putData:function(e,t){var a=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.validate,o=void 0===r||r,i=n.clearForm,s=void 0===i||i,c=arguments.length>3?arguments[3]:void 0;return new Promise((function(n,r){a.updateData(e,t,{validate:o,clearForm:s},"put",c).then((function(e){n(e)})).catch((function(e){r(e)}))}))},updateData:function(e,t){var a=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.validate,o=void 0===r||r,i=n.clearForm,s=void 0===i||i,c=arguments.length>3?arguments[3]:void 0,l=arguments.length>4?arguments[4]:void 0;return new Promise((function(n,r){!a.loading&&e&&["put","patch"].includes(c)&&(a.clearErrors(),a.$validator.validateAll().then((function(i){o||(i=!0),i&&(a.loading=!0,a.$http[c](e,t,l||{}).then((function(e){a.$emit("update"),a.clearErrors(),s&&(a.formValues={}),a.crud.message&&setTimeout((function(){a.notifyUser(a.crud.message)}),1e3),n(e),a.loading=!1})).catch((function(e){a.pushErrors(e),a.notifyInvalidFormResponse(),r(e),a.loading=!1})))})))}))},clearErrors:function(){this.clearNonFieldErrors(),this.$validator.errors.clear()}}}}}]);