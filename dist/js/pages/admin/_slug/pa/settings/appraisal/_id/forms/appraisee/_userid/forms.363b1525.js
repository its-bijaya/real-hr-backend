(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages/admin/_slug/pa/settings/appraisal/_id/forms/appraisee/_userid/forms","chunk-2d22d378"],{"0e16":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("vue-page-wrapper",{attrs:{"bread-crumbs":t.breadCrumbItems,title:t.htmlTitle}},[a("v-card",[a("vue-card-title",{attrs:{title:"Performance Appraisal Forms of Evaluator",subtitle:"Here you can generate and view list of forms for all employee.",icon:"mdi-account-check-outline"}}),a("v-divider"),a("v-card-text",[a("vue-user",{attrs:{user:t.selectedAppraisee}})],1),a("v-divider"),a("v-tabs",{attrs:{"show-arrows":"","slider-color":"blue"},model:{value:t.activeStatus,callback:function(e){t.activeStatus=e},expression:"activeStatus"}},t._l(t.tabs,(function(e){return a("v-tab",{key:e.tabName,attrs:{ripple:"",disabled:t.loading}},[a("span",{staticClass:"pr-2 text-capitalize"},[t._v(" "+t._s(e.tabName)+" ")])])})),1),a("v-data-table",{attrs:{headers:t.heading,items:t.computedFetchedResults,"sort-desc":t.pagination.descending,"sort-by":t.pagination.sortBy,page:t.pagination.page,"items-per-page":t.pagination.rowsPerPage,"footer-props":t.footerProps,"server-items-length":t.pagination.totalItems,"mobile-breakpoint":0,"must-sort":"","show-select":t.showCheckbox},on:{"update:sortDesc":function(e){return t.$set(t.pagination,"descending",e)},"update:sort-desc":function(e){return t.$set(t.pagination,"descending",e)},"update:sortBy":function(e){return t.$set(t.pagination,"sortBy",e)},"update:sort-by":function(e){return t.$set(t.pagination,"sortBy",e)},"update:page":function(e){return t.$set(t.pagination,"page",e)},"update:itemsPerPage":function(e){return t.$set(t.pagination,"rowsPerPage",e)},"update:items-per-page":function(e){return t.$set(t.pagination,"rowsPerPage",e)}},scopedSlots:t._u([{key:"item",fn:function(e){return[a("tr",[t.showCheckbox?a("td",{attrs:{"data-cy":"td-checkbox-"+(e.index+1)}},[a("v-checkbox",{staticClass:"mt-n2",attrs:{value:e.isSelected,"input-value":e.isSelected,"data-cy":"checkbox-"+(e.index+1),disabled:e.item.id===t.copyFromId,primary:"","hide-details":""},on:{change:function(t){return e.select(!e.isSelected)}}})],1):t._e(),a("td",[a("vue-user",{attrs:{user:e.item.appraiser}})],1),a("td",{staticClass:"text-center"},[a("div",[t._v(" "+t._s(e.item.question_set.title||"N/A")+" ")])]),a("td",{staticClass:"text-center"},[a("vue-context-menu",{attrs:{"context-list":[{name:"View Question Set",icon:"mdi-eye-outline",color:"info",disabled:t.showCheckbox},{name:"Edit Question Set",icon:"mdi-pencil-outline",color:"info",disabled:t.showCheckbox},{name:"Copy Question Set",icon:"mdi-content-copy",color:"green",disabled:t.showCheckbox,hide:t.showCheckbox&&e.item.id!==t.copyFromId}],small:""},on:{click0:function(a){return t.viewQuestionSet(e.item)},click1:function(a){return t.editQuestionSet(e.item)},click2:function(a){return t.activateCopyQuestionSet(e.item)}}})],1)])]}}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[t.showCheckbox?a("template",{slot:"footer"},[a("v-divider"),a("v-row",{staticClass:"ma-4 blueGrey--text text-subtitle-2",attrs:{align:"center"}},[a("span",{staticClass:"mr-2",domProps:{textContent:t._s("Selected Employees")}}),a("strong",{domProps:{textContent:t._s(t.selected.length)}}),a("v-spacer"),a("v-btn",{attrs:{small:"",text:""},domProps:{textContent:t._s("Cancel")},on:{click:t.resetSelectedCopy}}),a("v-btn",{attrs:{disabled:t.selected.length<=0,small:"",color:"primary"},domProps:{textContent:t._s("Copy Questions")},on:{click:function(e){t.showDialog=!0}}})],1)],1):t._e(),a("template",{slot:"no-data"},[a("data-table-no-data",{attrs:{loading:t.loading}})],1)],2),t.showIndividualForm?a("v-dialog",{attrs:{scrollable:"","max-width":"960px"},model:{value:t.showIndividualForm,callback:function(e){t.showIndividualForm=e},expression:"showIndividualForm"}},[a("individual-forms",{attrs:{"appraisal-type":t.tabs[t.activeStatus].value,"selected-appraisee":t.selectedAppraisee,"selected-appraiser":t.selectedAppraiser,"appraiser-appraisee-id":t.appraiserAppraiseeId,"read-only":"","edit-form":t.editForm,"enable-approve-resend-btn":t.enableApproveResendBtn},on:{close:function(e){t.showIndividualForm=!1},updatePaFormTable:t.fetchDataTable}})],1):t._e(),t.showDialog?a("v-dialog",{attrs:{persistent:"",width:"400"},model:{value:t.showDialog,callback:function(e){t.showDialog=e},expression:"showDialog"}},[a("v-card",[a("vue-card-title",{attrs:{title:"Copy Question Set to Selected Users",subtitle:"",icon:"mdi-content-copy",dark:"",closable:""},on:{close:function(e){t.showDialog=!1}}}),a("v-card-text",{staticClass:"pa-3 text-subtitle-2"},[a("span",[t._v(" You are about to copy question set of user ")]),a("strong",[t._v(t._s(t.selectedAppraiser.full_name))]),a("span",[t._v(" to all selected users. Please confirm copy.")])]),a("v-divider"),a("v-card-actions",{staticClass:"text-right py-0"},[a("v-col",[a("v-btn",{attrs:{"data-cy":"btn-cancel",text:"",small:""},domProps:{textContent:t._s("Cancel")},on:{click:function(e){t.showDialog=!1,t.resetSelectedCopy()}}}),a("v-btn",{attrs:{small:"",color:"primary"},on:{click:t.copyQuestionSet}},[t._v(" Copy ")])],1)],1)],1)],1):t._e()],1)],1)},o=[],i=a("5530"),s=(a("d3b7"),a("3ca3"),a("ddb0"),a("d81d"),a("7db0"),a("8cd3")),r=a("f70a"),c=a("931c"),u=a("1f4c"),l={components:{IndividualForms:function(){return Promise.all([a.e("chunk-debbd02c"),a.e("chunk-5327bb52")]).then(a.bind(null,"1840"))},VueContextMenu:function(){return a.e("chunk-2d2259e9").then(a.bind(null,"e4bf"))},VueUser:function(){return Promise.resolve().then(a.bind(null,"02cb"))},VuePageWrapper:function(){return a.e("chunk-31f8a6e6").then(a.bind(null,"0549"))},DataTableNoData:function(){return a.e("chunk-26c51c79").then(a.bind(null,"a51f"))}},mixins:[s["a"],r["a"]],data:function(){return{htmlTitle:"Forms | Frequency and Mode | Settings | Performance Appraisal | Admin",breadCrumbItems:[{text:"Performance Appraisal",disabled:!1,to:{name:"admin-slug-pa-overview",params:{slug:this.$route.params.slug}}},{text:"Settings",disabled:!1,to:{name:"admin-slug-pa-settings",params:{slug:this.$route.params.slug}}},{text:"Frequency and Mode",disabled:!1,to:{name:"admin-slug-pa-settings-frequency-and-mode",params:{slug:this.$route.params.slug}}},{text:"Forms",disabled:!1,to:{name:"admin-slug-pa-settings-frequency-and-mode-id-forms",params:{id:this.$route.params.id,slug:this.$route.params.slug}}},{text:"Appraisee Forms",disabled:!0}],heading:[{text:"Name",value:"name"},{text:"Set Name",value:"",sortable:!1,align:"center"},{text:"Action",value:"",sortable:!1,align:"center"}],selectedAppraiser:null,appraiserAppraiseeId:"",showIndividualForm:!1,activeStatus:0,tabs:[{tabName:"Self Appraisal",value:"self_appraisal",index:0},{tabName:"Supervisor Appraisal",value:"supervisor_appraisal",index:1},{tabName:"Subordinate Appraisal",value:"subordinate_appraisal",index:2},{tabName:"Peer To Peer Feedback",value:"peer_to_peer_feedback",index:3}],showCheckbox:!1,selected:[],copyFromId:"",showDialog:!1,editForm:!1,enableApproveResendBtn:!1}},computed:{dataTableFilter:function(){return{as:"hr",appraisal_type:this.tabs[this.activeStatus].value}},selectedAppraisee:function(){return this.response?this.response.appraisee:null},computedFetchedResults:function(){var t=this;return this.fetchedResults.map((function(e){return Object(i["a"])(Object(i["a"])({},e),{},{isSelectable:e.id!==t.copyFromId})}))}},watch:{activeStatus:function(){this.resetSelectedCopy()}},created:function(){this.dataTableEndpoint=c["a"].getAppraiseeFormsById(this.getOrganizationSlug,this.$route.params.id,this.$route.params.userid)},mounted:function(){var t=this,e=this.tabs.find((function(e){return e.tabName===t.$route.query.appraisal_type}));this.activeStatus=e?e.index:0},methods:{viewQuestionSet:function(t){this.showIndividualForm=!0,this.editForm=!1,this.selectedAppraiser=t.appraiser},editQuestionSet:function(t){this.showIndividualForm=!0,this.editForm=!0,this.selectedAppraiser=t.appraiser,this.appraiserAppraiseeId=t.id},activateCopyQuestionSet:function(t){this.showCheckbox=!0,this.selectedAppraiser=t.appraiser,this.copyFromId=t.id},copyQuestionSet:function(){var t=this;this.crud.message="Successfully copied questions to selected users.",this.insertData(u["a"].copyQuestionSet(this.getOrganizationSlug,this.$route.params.id),{copy_from:this.copyFromId,copy_to:this.selected.map((function(t){return t.id}))}).then((function(){t.resetSelectedCopy()})).finally((function(){t.showDialog=!1}))},resetSelectedCopy:function(){this.selected=[],this.showCheckbox=!1}}},p=l,d=a("2877"),m=a("6544"),f=a.n(m),h=a("8336"),g=a("b0af"),v=a("99d9"),b=a("ac7c"),y=a("62ad"),S=a("8fea"),F=a("169a"),w=a("ce7e"),x=a("0fd9b"),k=a("2fa4"),A=a("71a3"),C=a("fe57"),P=Object(d["a"])(p,n,o,!1,null,null,null);e["default"]=P.exports;f()(P,{VBtn:h["a"],VCard:g["a"],VCardActions:v["a"],VCardText:v["c"],VCheckbox:b["a"],VCol:y["a"],VDataTable:S["a"],VDialog:F["a"],VDivider:w["a"],VRow:x["a"],VSpacer:k["a"],VTab:A["a"],VTabs:C["a"]})},"1f4c":function(t,e,a){"use strict";a("99af");e["a"]={getQuestionSet:function(t){return"/appraisal/".concat(t,"/question-set/")},createQuestionSet:function(t){return"/appraisal/".concat(t,"/question-set/")},getQuestionSetDetail:function(t,e){return"appraisal/".concat(t,"/question-set/").concat(e,"/")},updateQuestionSet:function(t,e){return"/appraisal/".concat(t,"/question-set/").concat(e,"/")},deleteQuestionSet:function(t,e){return"/appraisal/".concat(t,"/question-set/").concat(e,"/")},deleteQuestion:function(t,e,a){return"/appraisal/".concat(t,"/question-set/").concat(e,"/question/").concat(a,"/")},getQuestionSetUserType:function(t,e,a){return"/appraisal/".concat(t,"/question-set/").concat(e,"/question/").concat(a,"/user-type/")},copyQuestionSet:function(t,e){return"/appraisal/".concat(t,"/year/slot/").concat(e,"/question-set/copy/")},getQuestionsBySection:function(t,e,a){return"appraisal/".concat(t,"/question-set/").concat(e,"/section/").concat(a,"/question/")},postQuestionsInSection:function(t,e,a){return"appraisal/".concat(t,"/question-set/").concat(e,"/section/").concat(a,"/question/")},removeQuestionSet:function(t,e){return"/appraisal/".concat(t,"/question-set/").concat(e,"/")},updateQuestionSection:function(t,e,a){return"/appraisal/".concat(t,"/question-set/").concat(e,"/section/").concat(a,"/")},removeQuestionSection:function(t,e,a){return"/appraisal/".concat(t,"/question-set/").concat(e,"/section/").concat(a,"/")},removeQuestionFromSection:function(t,e,a,n){return"/appraisal/".concat(t,"/question-set/").concat(e,"/section/").concat(a,"/question/").concat(n,"/")},getQuestionsOnQuestionSet:function(t,e){return"/appraisal/".concat(t,"/question-set/").concat(e,"/questions/")},createQuestionSection:function(t,e){return"/appraisal/".concat(t,"/question-set/").concat(e,"/section/")}}},"8cd3":function(t,e,a){"use strict";var n=a("5530"),o=(a("d3b7"),a("f0d5"));e["a"]={mixins:[o["a"]],data:function(){return{dataTableEndpoint:"",fetchedResults:[],response:null,footerProps:{itemsPerPageOptions:[10,20,30,40,50,100]},pagination:{sortBy:["modified_at"],descending:!1,totalItems:0,page:1,rowsPerPage:10,pageCount:0},loadTableOnInit:!0}},computed:{filterParams:function(){var t=Object(n["a"])(Object(n["a"])({},this.dataTableFilter),{},{offset:(this.pagination.page-1)*this.pagination.rowsPerPage,limit:this.pagination.rowsPerPage,ordering:this.pagination.descending?this.pagination.sortBy:"-"+this.pagination.sortBy});return this.convertToURLSearchParams(t,!1)}},watch:{filterParams:function(){var t=this;this.$nextTick((function(){t.fetchDataTable()}))},dataTableFilter:function(){this.pagination.page=1}},created:function(){var t=this;setTimeout((function(){t.loadTableOnInit&&t.fetchDataTable()}),0)},methods:{fetchDataTable:function(t,e){var a=this;return new Promise((function(n,o){!t&&!a.dataTableEndpoint||a.loading||(a.loadTableOnInit=!1,a.loading=!0,a.fetchedResults=[],a.$http.get(t||a.dataTableEndpoint,e||{params:a.filterParams}).then((function(t){a.response=t,a.fetchedResults=t.results,a.pagination.totalItems=t.count,a.processAfterTableLoad(t),n(t),a.loading=!1})).catch((function(t){a.pushErrors(t),a.notifyInvalidFormResponse(),o(t),a.loading=!1})))}))},processAfterTableLoad:function(){}}}},"931c":function(t,e,a){"use strict";a("99af");e["a"]={getFormSettings:function(t,e){return"/appraisal/".concat(t,"/year/slot/").concat(e,"/form-design/")},postFormSettings:function(t,e){return"/appraisal/".concat(t,"/year/slot/").concat(e,"/form-design/")},generateAppraiseeForms:function(t,e){return"/appraisal/".concat(t,"/year/slot/").concat(e,"/form-design/generate/question-set/")},getAppraiseeForms:function(t,e){return"appraisal/".concat(t,"/year/slot/").concat(e,"/question-set/count/")},getAppraiseeFormsById:function(t,e,a){return"appraisal/".concat(t,"/year/slot/").concat(e,"/appraisee/").concat(a,"/appraiser/")},getAppraiserFormsById:function(t,e,a){return"appraisal/".concat(t,"/year/slot/").concat(e,"/appraiser/").concat(a,"/appraisee/")},postAppraisedForm:function(t,e,a,n){return"appraisal/".concat(t,"/year/slot/").concat(e,"/appraiser/").concat(a,"/appraisee/").concat(n,"/answer/")},approveAppraisedForm:function(t,e,a,n){return"appraisal/".concat(t,"/year/slot/").concat(e,"/appraisee/").concat(a,"/appraiser/").concat(n,"/approve/")},resendAppraisedForm:function(t,e,a,n){return"appraisal/".concat(t,"/year/slot/").concat(e,"/appraisee/").concat(a,"/appraiser/").concat(n,"/resend/")},getAppraiseeFormDetailForAppraiser:function(t,e,a,n){return"appraisal/".concat(t,"/year/slot/").concat(e,"/appraisee/").concat(a,"/appraiser/").concat(n,"/question-set/")},getFormSubmissionStatus:function(t,e){return"/appraisal/".concat(t,"/year/slot/").concat(e,"/question-set/statistics/")},getFormSubmissionList:function(t,e,a){return"/appraisal/".concat(t,"/year/slot/").concat(e,"/appraisee/").concat(a,"/appraiser/")},getFormApprovalStatus:function(t,e){return"/appraisal/".concat(t,"/year/slot/").concat(e,"/question-set/approval/")},updateAppraisalFormDates:function(t,e){return"/appraisal/".concat(t,"/year/slot/").concat(e,"/mode/update/date-parameters/")},sendAppraisalForms:function(t,e){return"appraisal/".concat(t,"/year/slot/").concat(e,"/form-design/send/question-set/")},getKaarFormSubmissionList:function(t,e){return"appraisal/".concat(t,"/year/slot/").concat(e,"/kaar-appraiser")},KaarFormSettings:function(t,e){return"/appraisal/".concat(t,"/year/slot/").concat(e,"/kaar-form-design/")},generateKaarAppraiseeForms:function(t,e){return"/appraisal/".concat(t,"/year/slot/").concat(e,"/kaar-form-design/generate/question-set/")},getKaarAppraiseeFormsCount:function(t,e){return"appraisal/".concat(t,"/year/slot/").concat(e,"/kaar-question-set/count/")},getKaarAppraiserConfig:function(t,e,a){return"appraisal/".concat(t,"/year/slot/").concat(e,"/kaar-appraiser/").concat(a,"/")},getKaarFormSubmissionStatus:function(t,e){return"/appraisal/".concat(t,"/year/slot/").concat(e,"/kaar-question-set/statistics/")},sendKaarAppraisalForms:function(t,e){return"appraisal/".concat(t,"/year/slot/").concat(e,"/kaar-form-design/send/question-set/")},postKaarAppraisedForm:function(t,e,a){return"appraisal/".concat(t,"/year/slot/").concat(e,"/kaar-appraiser/").concat(a,"/submit-answer/")},assignKaarScoreSetting:function(t,e){return"appraisal/".concat(t,"/year/slot/").concat(e,"/setting/kaar-scaling-setting/")},updateKaarScoreSetting:function(t,e,a){return"appraisal/".concat(t,"/year/slot/").concat(e,"/setting/kaar-scaling-setting/").concat(a)},supervisorEvaluation:function(t,e){return"appraisal/".concat(t,"/year/slot/").concat(e,"/supervisor-evaluation")},reviewerEvaluation:function(t,e){return"appraisal/".concat(t,"/year/slot/").concat(e,"/reviewer-evaluation")},updateReviewerEvaluation:function(t,e,a){return"appraisal/".concat(t,"/year/slot/").concat(e,"/reviewer-evaluation/").concat(a)},exportPaStatusReport:function(t,e){return"appraisal/".concat(t,"/year/slot/").concat(e,"/kaar-question-set/statistics/export")}}},f0d5:function(t,e,a){"use strict";a("d3b7"),a("3ca3"),a("ddb0");var n=a("c44a");e["a"]={components:{NonFieldFormErrors:function(){return a.e("chunk-6441e173").then(a.bind(null,"ab8a"))}},mixins:[n["a"]],data:function(){return{crud:{name:"record",message:"",addAnother:!1},formValues:{},loading:!1}}}},f70a:function(t,e,a){"use strict";a("d3b7"),a("caad");e["a"]={methods:{insertData:function(t,e){var a=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.validate,i=void 0===o||o,s=n.clearForm,r=void 0===s||s,c=arguments.length>3?arguments[3]:void 0;return new Promise((function(n,o){!a.loading&&t&&(a.clearErrors(),a.$validator.validateAll().then((function(s){i||(s=!0),s&&(a.loading=!0,a.$http.post(t,e,c||{}).then((function(t){a.clearErrors(),r&&(a.formValues={}),a.crud.addAnother||a.$emit("create"),a.crud.message&&setTimeout((function(){a.notifyUser(a.crud.message)}),1e3),n(t),a.loading=!1})).catch((function(t){a.pushErrors(t),a.notifyInvalidFormResponse(),o(t),a.loading=!1})))})))}))},patchData:function(t,e){var a=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.validate,i=void 0===o||o,s=n.clearForm,r=void 0===s||s,c=arguments.length>3?arguments[3]:void 0;return new Promise((function(n,o){a.updateData(t,e,{validate:i,clearForm:r},"patch",c).then((function(t){n(t)})).catch((function(t){o(t)}))}))},putData:function(t,e){var a=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.validate,i=void 0===o||o,s=n.clearForm,r=void 0===s||s,c=arguments.length>3?arguments[3]:void 0;return new Promise((function(n,o){a.updateData(t,e,{validate:i,clearForm:r},"put",c).then((function(t){n(t)})).catch((function(t){o(t)}))}))},updateData:function(t,e){var a=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.validate,i=void 0===o||o,s=n.clearForm,r=void 0===s||s,c=arguments.length>3?arguments[3]:void 0,u=arguments.length>4?arguments[4]:void 0;return new Promise((function(n,o){!a.loading&&t&&["put","patch"].includes(c)&&(a.clearErrors(),a.$validator.validateAll().then((function(s){i||(s=!0),s&&(a.loading=!0,a.$http[c](t,e,u||{}).then((function(t){a.$emit("update"),a.clearErrors(),r&&(a.formValues={}),a.crud.message&&setTimeout((function(){a.notifyUser(a.crud.message)}),1e3),n(t),a.loading=!1})).catch((function(t){a.pushErrors(t),a.notifyInvalidFormResponse(),o(t),a.loading=!1})))})))}))},clearErrors:function(){this.clearNonFieldErrors(),this.$validator.errors.clear()}}}}}]);