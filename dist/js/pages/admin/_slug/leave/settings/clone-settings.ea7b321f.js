(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages/admin/_slug/leave/settings/clone-settings","chunk-2d2160c2","chunk-2d2160c2","chunk-2d2160c2","chunk-2d2160c2","chunk-2d2160c2"],{"34bf":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-form",{ref:"masterSettings",on:{submit:function(t){return t.preventDefault(),e.getFormAction.apply(null,arguments)}}},[e.nonFieldErrors?a("non-field-form-errors",{attrs:{"non-field-errors":e.nonFieldErrors}}):e._e(),a("div",[a("v-row",{staticClass:"pa-4"},[a("v-col",{attrs:{md:"4",cols:"12"}},[a("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{readonly:e.readOnly,counter:"150","prepend-inner-icon":"mdi-file-document-outline"},model:{value:e.formValues.name,callback:function(t){e.$set(e.formValues,"name",t)},expression:"formValues.name"}},"v-text-field",e.veeValidate("name","Setting Name *"),!1))],1),a("v-col",{attrs:{md:"4",cols:"12"}},[a("vue-date-picker",e._b({directives:[{name:"validate",rawName:"v-validate",value:"",expression:"''"}],attrs:{"read-only":e.readOnly},model:{value:e.formValues.effective_from,callback:function(t){e.$set(e.formValues,"effective_from",t)},expression:"formValues.effective_from"}},"vue-date-picker",e.veeValidate("effective_from","Effective From"),!1))],1),a("v-col",{attrs:{md:"12",cols:"12"}},[a("v-textarea",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required|max:600",expression:"'required|max:600'"}],attrs:{readonly:e.readOnly,counter:"600","prepend-inner-icon":"mdi-information-outline"},model:{value:e.formValues.description,callback:function(t){e.$set(e.formValues,"description",t)},expression:"formValues.description"}},"v-textarea",e.veeValidate("description","Description *"),!1))],1)],1),a("v-divider"),a("div",{staticClass:"pa-3"},[a("div",{staticClass:"text-body-1 font-weight-bold",domProps:{textContent:e._s(e.readOnly?"The following options are selected":"Select Options Below")}}),a("div",{staticClass:"grey--text",domProps:{textContent:e._s(e.readOnly?"List of selected options for "+e.formValues.name+" settings":"Select your required options from set of options available below.")}})]),a("v-divider"),a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{md:"6",cols:"12"}},[a("div",{staticClass:"pl-4"},[a("switch-value",e._b({directives:[{name:"validate",rawName:"v-validate"}],attrs:{"data-cy-variable":"accumulation","read-only":e.readOnly,heading:"Earned leave","sub-heading":"Determines whether or not leaves will earned."},model:{value:e.formValues.accumulation,callback:function(t){e.$set(e.formValues,"accumulation",t)},expression:"formValues.accumulation"}},"switch-value",e.veeValidate("accumulation",""),!1))],1),a("v-divider"),a("div",{staticClass:"pl-4"},[a("switch-value",e._b({directives:[{name:"validate",rawName:"v-validate"}],attrs:{"data-cy-variable":"paid","read-only":e.readOnly,heading:"Paid","sub-heading":"Determine whether paid or unpaid leave "},model:{value:e.formValues.paid,callback:function(t){e.$set(e.formValues,"paid",t)},expression:"formValues.paid"}},"switch-value",e.veeValidate("paid",""),!1))],1),a("v-divider"),a("div",{staticClass:"pl-4"},[a("switch-value",e._b({directives:[{name:"validate",rawName:"v-validate"}],attrs:{"data-cy-variable":"unpaid","read-only":e.readOnly,heading:"Unpaid","sub-heading":"Determine whether paid or unpaid leave "},model:{value:e.formValues.unpaid,callback:function(t){e.$set(e.formValues,"unpaid",t)},expression:"formValues.unpaid"}},"switch-value",e.veeValidate("unpaid",""),!1))],1),a("v-divider"),a("div",{staticClass:"pl-4"},[a("switch-value",e._b({directives:[{name:"validate",rawName:"v-validate"}],attrs:{"data-cy-variable":"renewal","read-only":e.readOnly,heading:"Renewal","sub-heading":"Determine renewal leave"},model:{value:e.formValues.renewal,callback:function(t){e.$set(e.formValues,"renewal",t)},expression:"formValues.renewal"}},"switch-value",e.veeValidate("renewal",""),!1))],1),a("v-divider"),a("div",{staticClass:"pl-4"},[a("switch-value",e._b({directives:[{name:"validate",rawName:"v-validate"}],attrs:{"data-cy-variable":"occurrences","read-only":e.readOnly,heading:"Occurrences/Frequency","sub-heading":"How many time leave can occur in specified duration"},model:{value:e.formValues.occurrences,callback:function(t){e.$set(e.formValues,"occurrences",t)},expression:"formValues.occurrences"}},"switch-value",e.veeValidate("occurrences",""),!1))],1),a("v-divider"),a("div",{staticClass:"pl-4"},[a("switch-value",e._b({directives:[{name:"validate",rawName:"v-validate"}],attrs:{"data-cy-variable":"holiday-inclusive","read-only":e.readOnly,heading:"Holiday Inclusive","sub-heading":"Determine leave is holiday inclusive"},model:{value:e.formValues.holiday_inclusive,callback:function(t){e.$set(e.formValues,"holiday_inclusive",t)},expression:"formValues.holiday_inclusive"}},"switch-value",e.veeValidate("holiday_inclusive",""),!1))],1),a("v-divider"),a("div",{staticClass:"pl-4"},[a("switch-value",e._b({directives:[{name:"validate",rawName:"v-validate"}],attrs:{"data-cy-variable":"deductible","read-only":e.readOnly,heading:"Deductible","sub-heading":"Determine leave will be deducted or not"},model:{value:e.formValues.deductible,callback:function(t){e.$set(e.formValues,"deductible",t)},expression:"formValues.deductible"}},"switch-value",e.veeValidate("deductible",""),!1))],1),a("v-divider"),a("div",{staticClass:"pl-4"},[a("switch-value",e._b({directives:[{name:"validate",rawName:"v-validate"}],attrs:{"data-cy-variable":"depletion-required","read-only":e.readOnly,heading:"Depletion Required","sub-heading":"Determines whether or not leaves will accumulate."},model:{value:e.formValues.depletion_required,callback:function(t){e.$set(e.formValues,"depletion_required",t)},expression:"formValues.depletion_required"}},"switch-value",e.veeValidate("depletion_required",""),!1))],1),a("v-divider"),a("div",{staticClass:"pl-4"},[a("switch-value",e._b({directives:[{name:"validate",rawName:"v-validate"}],attrs:{"data-cy-variable":"leave-limitations","read-only":e.readOnly,heading:"Leave Limitations","sub-heading":"Leave Limitations"},model:{value:e.formValues.leave_limitations,callback:function(t){e.$set(e.formValues,"leave_limitations",t)},expression:"formValues.leave_limitations"}},"switch-value",e.veeValidate("leave_limitations",""),!1))],1),a("v-divider"),a("div",{staticClass:"pl-4"},[a("switch-value",e._b({directives:[{name:"validate",rawName:"v-validate"}],attrs:{"data-cy-variable":"beyond-balance","read-only":e.readOnly,heading:"Employees can apply beyond the current leave balance","sub-heading":"late leave"},model:{value:e.formValues.beyond_balance,callback:function(t){e.$set(e.formValues,"beyond_balance",t)},expression:"formValues.beyond_balance"}},"switch-value",e.veeValidate("beyond_balance",""),!1))],1),a("v-divider"),a("div",{staticClass:"pl-4"},[a("switch-value",e._b({directives:[{name:"validate",rawName:"v-validate"}],attrs:{"data-cy-variable":"require-experience","read-only":e.readOnly,heading:"Require Experience","sub-heading":"Require Experience"},model:{value:e.formValues.require_experience,callback:function(t){e.$set(e.formValues,"require_experience",t)},expression:"formValues.require_experience"}},"switch-value",e.veeValidate("require_experience",""),!1))],1),a("v-divider"),a("div",{staticClass:"pl-4"},[a("switch-value",e._b({directives:[{name:"validate",rawName:"v-validate"}],attrs:{"data-cy-variable":"proportionate-leave","read-only":e.readOnly,heading:"Proportionate leaves","sub-heading":"Proportionate leaves"},model:{value:e.formValues.proportionate_leave,callback:function(t){e.$set(e.formValues,"proportionate_leave",t)},expression:"formValues.proportionate_leave"}},"switch-value",e.veeValidate("proportionate_leave",""),!1))],1),a("v-divider"),a("div",{staticClass:"pl-4"},[a("switch-value",e._b({directives:[{name:"validate",rawName:"v-validate"}],attrs:{"data-cy-variable":"half-shift-leave","read-only":e.readOnly,heading:"Can apply half-day leave","sub-heading":"Can apply half-day leave"},model:{value:e.formValues.half_shift_leave,callback:function(t){e.$set(e.formValues,"half_shift_leave",t)},expression:"formValues.half_shift_leave"}},"switch-value",e.veeValidate("half_shift_leave",""),!1))],1),a("v-divider"),a("div",{staticClass:"pl-4"},[a("switch-value",e._b({directives:[{name:"validate",rawName:"v-validate"}],attrs:{"data-cy-variable":"leave-irregularities","read-only":e.readOnly,heading:"Leave Irregularities","sub-heading":"Leave Irregularities"},model:{value:e.formValues.leave_irregularities,callback:function(t){e.$set(e.formValues,"leave_irregularities",t)},expression:"formValues.leave_irregularities"}},"switch-value",e.veeValidate("leave_irregularities",""),!1))],1),a("v-divider")],1),a("v-col",{attrs:{md:"6",cols:"12"}},[a("div",{staticClass:"pl-4"},[a("switch-value",e._b({directives:[{name:"validate",rawName:"v-validate"}],attrs:{"data-cy-variable":"require-document","read-only":e.readOnly,heading:"Require Documents  ","sub-heading":"Require Documents "},model:{value:e.formValues.require_document,callback:function(t){e.$set(e.formValues,"require_document",t)},expression:"formValues.require_document"}},"switch-value",e.veeValidate("require_document",""),!1))],1),a("v-divider"),a("div",{staticClass:"pl-4"},[a("switch-value",e._b({directives:[{name:"validate",rawName:"v-validate"}],attrs:{"data-cy-variable":"require-time-period","read-only":e.readOnly,heading:"Require Time -Period  ","sub-heading":"Require Time -Period "},model:{value:e.formValues.require_time_period,callback:function(t){e.$set(e.formValues,"require_time_period",t)},expression:"formValues.require_time_period"}},"switch-value",e.veeValidate("require_time_period",""),!1))],1),a("v-divider"),a("div",{staticClass:"pl-4"},[a("switch-value",e._b({directives:[{name:"validate",rawName:"v-validate"}],attrs:{"data-cy-variable":"require-prior-approval","read-only":e.readOnly,heading:"Require Prior Approval  ","sub-heading":"Require Prior Approval"},model:{value:e.formValues.require_prior_approval,callback:function(t){e.$set(e.formValues,"require_prior_approval",t)},expression:"formValues.require_prior_approval"}},"switch-value",e.veeValidate("require_prior_approval",""),!1))],1),a("v-divider"),a("div",{staticClass:"pl-4"},[a("switch-value",e._b({directives:[{name:"validate",rawName:"v-validate"}],attrs:{"data-cy-variable":"continuous","read-only":e.readOnly,heading:"Continuous","sub-heading":"Continuous"},model:{value:e.formValues.continuous,callback:function(t){e.$set(e.formValues,"continuous",t)},expression:"formValues.continuous"}},"switch-value",e.veeValidate("continuous",""),!1))],1),a("v-divider"),a("div",{staticClass:"pl-4 mt-4 black--text font-weight-bold"},[e._v(" At least one option must be selected ")]),a("div",{staticClass:"pl-5"},[a("switch-value",e._b({directives:[{name:"validate",rawName:"v-validate"}],attrs:{"data-cy-variable":"collapsible","read-only":e.readOnly,heading:"Collapse","sub-heading":"Collapse"},model:{value:e.formValues.collapsible,callback:function(t){e.$set(e.formValues,"collapsible",t)},expression:"formValues.collapsible"}},"switch-value",e.veeValidate("collapsible",""),!1))],1),a("div",{staticClass:"pl-5"},[a("switch-value",e._b({directives:[{name:"validate",rawName:"v-validate"}],attrs:{"data-cy-variable":"carry-forward","read-only":e.readOnly,heading:"Carry forward ","sub-heading":"Carry forward"},model:{value:e.formValues.carry_forward,callback:function(t){e.$set(e.formValues,"carry_forward",t)},expression:"formValues.carry_forward"}},"switch-value",e.veeValidate("carry_forward",""),!1))],1),a("div",{staticClass:"pl-5"},[a("switch-value",e._b({directives:[{name:"validate",rawName:"v-validate"}],attrs:{"data-cy-variable":"encashment","read-only":e.readOnly,heading:"Encashment","sub-heading":"Encashment"},model:{value:e.formValues.encashment,callback:function(t){e.$set(e.formValues,"encashment",t)},expression:"formValues.encashment"}},"switch-value",e.veeValidate("encashment",""),!1))],1),a("v-divider"),a("div",{staticClass:"pl-4 mt-4 black--text font-weight-bold"},[e._v(" At least one option must be selected ")]),a("div",{staticClass:"pl-5"},[a("switch-value",e._b({directives:[{name:"validate",rawName:"v-validate"}],attrs:{"data-cy-variable":"employees-can-apply","read-only":e.readOnly,heading:"Employees can apply for this leave type","sub-heading":"Employees can apply for this leave type"},model:{value:e.formValues.employees_can_apply,callback:function(t){e.$set(e.formValues,"employees_can_apply",t)},expression:"formValues.employees_can_apply"}},"switch-value",e.veeValidate("employees_can_apply",""),!1))],1),a("div",{staticClass:"pl-5"},[a("switch-value",e._b({directives:[{name:"validate",rawName:"v-validate"}],attrs:{"data-cy-variable":"admin-can-assign","read-only":e.readOnly,heading:"Admin can assign leave to employees","sub-heading":"Admin can assign leave to employees"},model:{value:e.formValues.admin_can_assign,callback:function(t){e.$set(e.formValues,"admin_can_assign",t)},expression:"formValues.admin_can_assign"}},"switch-value",e.veeValidate("admin_can_assign",""),!1))],1),a("v-divider"),a("div",{staticClass:"pl-4"},[a("switch-value",e._b({directives:[{name:"validate",rawName:"v-validate"}],attrs:{"data-cy-variable":"years-of-service","read-only":e.readOnly,heading:"Years Of Service","sub-heading":"Years Of service"},model:{value:e.formValues.years_of_service,callback:function(t){e.$set(e.formValues,"years_of_service",t)},expression:"formValues.years_of_service"}},"switch-value",e.veeValidate("years_of_service",""),!1))],1),a("v-divider"),a("div",{staticClass:"pl-4"},[a("switch-value",e._b({directives:[{name:"validate",rawName:"v-validate"}],attrs:{"data-cy-variable":"time-off","read-only":e.readOnly,heading:"Time Off","sub-heading":"Time Off"},model:{value:e.formValues.time_off,callback:function(t){e.$set(e.formValues,"time_off",t)},expression:"formValues.time_off"}},"switch-value",e.veeValidate("time_off",""),!1))],1),a("v-divider"),a("div",{staticClass:"pl-4"},[a("switch-value",e._b({directives:[{name:"validate",rawName:"v-validate"}],attrs:{"data-cy-variable":"compensatory","read-only":e.readOnly,heading:"Compensatory","sub-heading":"Compensatory"},model:{value:e.formValues.compensatory,callback:function(t){e.$set(e.formValues,"compensatory",t)},expression:"formValues.compensatory"}},"switch-value",e.veeValidate("compensatory",""),!1))],1),a("v-divider"),a("div",{staticClass:"pl-4"},[a("switch-value",e._b({directives:[{name:"validate",rawName:"v-validate"}],attrs:{"data-cy-variable":"credit-hour","read-only":e.readOnly,heading:"Credit Hour","sub-heading":"Determine credit hour."},model:{value:e.formValues.credit_hour,callback:function(t){e.$set(e.formValues,"credit_hour",t)},expression:"formValues.credit_hour"}},"switch-value",e.veeValidate("credit_hour",""),!1))],1)],1)],1)],1),"Idle"!==e.actionData.status&&e.readOnly?e._e():a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{depressed:"",color:"primary",type:"submit"}},[a("v-icon",{attrs:{size:"14"}},[e._v(" mdi-content-save-outline ")]),e._v(" Save ")],1),a("v-btn",{attrs:{outlined:""},on:{click:function(t){return e.clear(e.formValues)}}},[e._v(" Clear ")])],1)],1)},r=[],n=a("1da1"),s=(a("96cf"),a("b0c0"),a("ab8a")),l=a("c44a"),o=a("741f"),c=a("be65"),d=a("bc60"),u={components:{SwitchValue:c["a"],NonFieldFormErrors:s["default"],VueDatePicker:o["default"]},mixins:[l["a"]],props:{actionData:{type:Object,required:!1,default:function(){return{name:"",description:"",effective_from:null,accumulation:!1,renewal:!1,deductible:!1,paid:!1,unpaid:!1,half_shift_leave:!1,occurrences:!1,beyond_balance:!1,proportionate_leave:!1,depletion_required:!1,require_experience:!1,require_time_period:!1,require_prior_approval:!1,require_document:!1,leave_limitations:!1,employees_can_apply:!1,admin_can_assign:!1,continuous:!1,holiday_inclusive:!1,encashment:!1,carry_forward:!1,collapsible:!1,years_of_service:!1,leave_irregularities:!1,time_off:!1,compensatory:!1}}},slug:{type:String,required:!0},readOnly:{type:Boolean,default:!1},clone:{type:Boolean,default:!1}},data:function(){return{orgSlug:this.$route.params.slug,formValues:this.actionData}},watch:{actionData:function(e){this.formValues=e}},methods:{getFormAction:function(){if(this.deleteSettings)return this.deleteSettingsItem();this.clone?(this.formValues.cloned_from=this.formValues.id,this.createMasterSetting()):this.formValues.id?this.updateSettings():this.createMasterSetting()},clear:function(){this.$refs.masterSettings.reset(),this.clearNonFieldErrors(),this.$validator.errors.clear(),this.formValues.name=[]},createMasterSetting:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.validateAllFields();case 2:if(!t.sent){t.next=7;break}return a=d["a"].getMasterSettings(e.slug),""===e.formValues.effective_from&&(e.formValues.effective_from=null),t.next=7,e.$http.post(a,e.formValues).then((function(){e.$emit("dismissForm"),e.notifyUser("Successfully created Master Settings.")})).catch((function(t){e.notifyInvalidFormResponse(),e.pushErrors(t)}));case 7:case"end":return t.stop()}}),t)})))()},updateSettings:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.validateAllFields();case 2:if(!t.sent){t.next=7;break}return a=d["a"].getMasterSetting(e.slug,e.actionData.id),""===e.formValues.effective_from&&(e.formValues.effective_from=null),t.next=7,e.$http.put(a,e.formValues).then((function(){e.$emit("dismissForm"),e.notifyUser("Successfully updated Master  Settings.")})).catch((function(t){e.notifyInvalidFormResponse(),e.pushErrors(t)}));case 7:case"end":return t.stop()}}),t)})))()}}},v=u,p=a("2877"),m=a("6544"),f=a.n(m),h=a("8336"),g=a("99d9"),y=a("62ad"),_=a("ce7e"),b=a("4bd4"),w=a("132d"),V=a("0fd9b"),S=a("2fa4"),x=a("8654"),k=a("a844"),C=Object(p["a"])(v,i,r,!1,null,null,null);t["a"]=C.exports;f()(C,{VBtn:h["a"],VCardActions:g["a"],VCol:y["a"],VDivider:_["a"],VForm:b["a"],VIcon:w["a"],VRow:V["a"],VSpacer:S["a"],VTextField:x["a"],VTextarea:k["a"]})},"56a4":function(e,t,a){"use strict";a("a9e3"),a("d3b7"),a("25f0");var i=a("9d26"),r=a("a9ad"),n=a("3206"),s=a("5607"),l=a("58df"),o=Object(l["a"])(r["a"],Object(n["a"])("stepper","v-stepper-step","v-stepper"));t["a"]=o.extend().extend({name:"v-stepper-step",directives:{ripple:s["a"]},inject:["stepClick"],props:{color:{type:String,default:"primary"},complete:Boolean,completeIcon:{type:String,default:"$complete"},editable:Boolean,editIcon:{type:String,default:"$edit"},errorIcon:{type:String,default:"$error"},rules:{type:Array,default:function(){return[]}},step:[Number,String]},data:function(){return{isActive:!1,isInactive:!0}},computed:{classes:function(){return{"v-stepper__step--active":this.isActive,"v-stepper__step--editable":this.editable,"v-stepper__step--inactive":this.isInactive,"v-stepper__step--error error--text":this.hasError,"v-stepper__step--complete":this.complete}},hasError:function(){return this.rules.some((function(e){return!0!==e()}))}},mounted:function(){this.stepper&&this.stepper.register(this)},beforeDestroy:function(){this.stepper&&this.stepper.unregister(this)},methods:{click:function(e){e.stopPropagation(),this.$emit("click",e),this.editable&&this.stepClick(this.step)},genIcon:function(e){return this.$createElement(i["a"],e)},genLabel:function(){return this.$createElement("div",{staticClass:"v-stepper__label"},this.$slots.default)},genStep:function(){var e=!(this.hasError||!this.complete&&!this.isActive)&&this.color;return this.$createElement("span",this.setBackgroundColor(e,{staticClass:"v-stepper__step__step"}),this.genStepContent())},genStepContent:function(){var e=[];return this.hasError?e.push(this.genIcon(this.errorIcon)):this.complete?this.editable?e.push(this.genIcon(this.editIcon)):e.push(this.genIcon(this.completeIcon)):e.push(String(this.step)),e},toggle:function(e){this.isActive=e.toString()===this.step.toString(),this.isInactive=Number(e)<Number(this.step)}},render:function(e){return e("div",{staticClass:"v-stepper__step",class:this.classes,directives:[{name:"ripple",value:this.editable}],on:{click:this.click}},[this.genStep(),this.genLabel()])}})},"7e85":function(e,t,a){"use strict";var i=a("5530"),r=(a("a9e3"),a("b0c0"),a("4de4"),a("8836"),a("3206")),n=a("a452"),s=a("7560"),l=a("58df"),o=a("d9bd"),c=Object(l["a"])(Object(r["b"])("stepper"),n["a"],s["a"]);t["a"]=c.extend({name:"v-stepper",provide:function(){return{stepClick:this.stepClick,isVertical:this.vertical}},props:{altLabels:Boolean,nonLinear:Boolean,vertical:Boolean},data:function(){var e={isBooted:!1,steps:[],content:[],isReverse:!1};return e.internalLazyValue=null!=this.value?this.value:(e[0]||{}).step||1,e},computed:{classes:function(){return Object(i["a"])({"v-stepper--is-booted":this.isBooted,"v-stepper--vertical":this.vertical,"v-stepper--alt-labels":this.altLabels,"v-stepper--non-linear":this.nonLinear},this.themeClasses)}},watch:{internalValue:function(e,t){this.isReverse=Number(e)<Number(t),t&&(this.isBooted=!0),this.updateView()}},created:function(){this.$listeners.input&&Object(o["a"])("@input","@change",this)},mounted:function(){this.updateView()},methods:{register:function(e){"v-stepper-step"===e.$options.name?this.steps.push(e):"v-stepper-content"===e.$options.name&&(e.isVertical=this.vertical,this.content.push(e))},unregister:function(e){"v-stepper-step"===e.$options.name?this.steps=this.steps.filter((function(t){return t!==e})):"v-stepper-content"===e.$options.name&&(e.isVertical=this.vertical,this.content=this.content.filter((function(t){return t!==e})))},stepClick:function(e){var t=this;this.$nextTick((function(){return t.internalValue=e}))},updateView:function(){for(var e=this.steps.length;--e>=0;)this.steps[e].toggle(this.internalValue);for(var t=this.content.length;--t>=0;)this.content[t].toggle(this.internalValue,this.isReverse)}},render:function(e){return e("div",{staticClass:"v-stepper",class:this.classes},this.$slots.default)}})},8836:function(e,t,a){},"9c54":function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return o}));var i=a("80d2"),r=a("7e85"),n=a("56a4"),s=a("e516"),l=Object(i["i"])("v-stepper__header"),o=Object(i["i"])("v-stepper__items");r["a"],s["a"],n["a"]},b636:function(e,t,a){var i=a("746f");i("asyncIterator")},c197:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.divClass},[a("v-img",{class:e.imgClass,attrs:{src:"/svg/three-dots.svg",height:e.height,contain:""}}),a("h3",{staticClass:"text-center grey--text",domProps:{textContent:e._s(e.message)}})],1)},r=[],n={props:{message:{type:String,default:"Please wait. Fetching data just for you ..."},divClass:{type:String,default:"pa-12"},imgClass:{type:String,default:"my-6"},height:{type:String,default:"20"}},data:function(){return{}}},s=n,l=a("2877"),o=a("6544"),c=a.n(o),d=a("adda"),u=Object(l["a"])(s,i,r,!1,null,null,null);t["default"]=u.exports;c()(u,{VImg:d["a"]})},ce87:function(e,t,a){"use strict";var i=a("16b7"),r=a("f2e7"),n=a("58df"),s=a("d9bd");t["a"]=Object(n["a"])(i["a"],r["a"]).extend({name:"v-hover",props:{disabled:{type:Boolean,default:!1},value:{type:Boolean,default:void 0}},methods:{onMouseEnter:function(){this.runDelay("open")},onMouseLeave:function(){this.runDelay("close")}},render:function(){return this.$scopedSlots.default||void 0!==this.value?(this.$scopedSlots.default&&(e=this.$scopedSlots.default({hover:this.isActive})),Array.isArray(e)&&1===e.length&&(e=e[0]),e&&!Array.isArray(e)&&e.tag?(this.disabled||(e.data=e.data||{},this._g(e.data,{mouseenter:this.onMouseEnter,mouseleave:this.onMouseLeave})),e):(Object(s["c"])("v-hover should only contain a single element",this),e)):(Object(s["c"])("v-hover is missing a default scopedSlot or bound value",this),null);var e}})},e516:function(e,t,a){"use strict";a("a9e3"),a("d3b7"),a("25f0");var i=a("0789"),r=a("3206"),n=a("80d2"),s=a("58df"),l=Object(s["a"])(Object(r["a"])("stepper","v-stepper-content","v-stepper"));t["a"]=l.extend().extend({name:"v-stepper-content",inject:{isVerticalProvided:{from:"isVertical"}},props:{step:{type:[Number,String],required:!0}},data:function(){return{height:0,isActive:null,isReverse:!1,isVertical:this.isVerticalProvided}},computed:{computedTransition:function(){var e=this.$vuetify.rtl?!this.isReverse:this.isReverse;return e?i["h"]:i["i"]},styles:function(){return this.isVertical?{height:Object(n["g"])(this.height)}:{}}},watch:{isActive:function(e,t){e&&null==t?this.height="auto":this.isVertical&&(this.isActive?this.enter():this.leave())}},mounted:function(){this.$refs.wrapper.addEventListener("transitionend",this.onTransition,!1),this.stepper&&this.stepper.register(this)},beforeDestroy:function(){this.$refs.wrapper.removeEventListener("transitionend",this.onTransition,!1),this.stepper&&this.stepper.unregister(this)},methods:{onTransition:function(e){this.isActive&&"height"===e.propertyName&&(this.height="auto")},enter:function(){var e=this,t=0;requestAnimationFrame((function(){t=e.$refs.wrapper.scrollHeight})),this.height=0,setTimeout((function(){return e.isActive&&(e.height=t||"auto")}),450)},leave:function(){var e=this;this.height=this.$refs.wrapper.clientHeight,setTimeout((function(){return e.height=0}),10)},toggle:function(e,t){this.isActive=e.toString()===this.step.toString(),this.isReverse=t}},render:function(e){var t={staticClass:"v-stepper__content"},a={staticClass:"v-stepper__wrapper",style:this.styles,ref:"wrapper"};this.isVertical||(t.directives=[{name:"show",value:this.isActive}]);var i=e("div",a,[this.$slots.default]),r=e("div",t,[i]);return e(this.computedTransition,{on:this.$listeners},[r])}})},ed87:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("vue-page-wrapper",{attrs:{title:e.htmlTitle,"bread-crumbs":e.breadCrumbItems}},[a("setting-stepper")],1)},r=[],n=a("0549"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("vue-card-title",{attrs:{title:e.cardTitle[e.stepCount],subtitle:"Follow the steps to clone the leave master settings.",icon:"mdi-file-document-outline"}}),a("v-divider"),a("v-stepper",{model:{value:e.stepCount,callback:function(t){e.stepCount=t},expression:"stepCount"}},[a("v-stepper-header",[a("v-stepper-step",{attrs:{step:"1"}},[e._v(" Step 1 ")]),(e.stepCount,a("v-divider")),a("v-stepper-step",{attrs:{step:"2"}},[e._v(" Step 2 ")]),(e.stepCount,a("v-divider")),a("v-stepper-step",{attrs:{step:"3"}},[e._v(" Step 3 ")])],1),a("div",[a("v-row",[a("v-col",{staticClass:"ml-3",attrs:{md:"1",cols:"2"}},[a("v-icon",{attrs:{size:"50",color:"indigo accent-2"}},[e._v(" mdi-file-document-outline ")])],1),a("v-col",{attrs:{md:"9",cols:"9"}},[a("span",[e._v(e._s(e.stepDescription[e.stepCount]))])])],1)],1),a("v-divider"),a("v-stepper-content",{attrs:{step:"1"}},[a("master-settings",{on:{loadStepTwo:function(t){e.stepCount++,e.loadStepTwo=!0}}})],1),a("v-stepper-content",{attrs:{step:"2"}},[e.loadStepTwo?a("div",[a("leave-type",{on:{loadStepThree:function(t){e.stepCount++,e.loadStepThree=!0,e.loadStepTwo=!1}}})],1):e._e()]),a("v-stepper-content",{attrs:{step:"3"}},[e.loadStepThree?a("div",[a("leave-rule",{on:{loadStepTwo:function(t){e.stepCount--,e.loadStepTwo=!0,e.loadStepThree=!1}}})],1):e._e()]),a("v-divider")],1)],1)},l=[],o=a("2909"),c=a("1da1"),d=(a("96cf"),a("d81d"),a("b0c0"),a("a4d3"),a("e01a"),a("99af"),a("c44a")),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.invalidClone?a("v-row",[a("v-col",[a("span",{staticClass:"text-subtitle-1 red--text"},[e._v(" There is a non cloned Idle Master Setting. Please remove Idle Master setting to proceed further. ")])])],1):a("v-row",{attrs:{align:"center"}},[a("v-col",{attrs:{md:"12",cols:"12"}},[a("v-select",{attrs:{items:e.masterSettingList,"return-object":"","data-cy":"select-master-setting",label:"Select Master Settings","item-text":"name","item-value":"id","prepend-inner-icon":"mdi-text-box-outline"},on:{change:function(t){e.copiedMasterSetting=e.deepCopy(e.selectedMasterSetting)}},model:{value:e.selectedMasterSetting,callback:function(t){e.selectedMasterSetting=t},expression:"selectedMasterSetting"}})],1),a("v-col",{attrs:{md:"12"}},[a("create-master-settings",{attrs:{"action-data":e.copiedMasterSetting,slug:e.getOrganizationSlug,clone:""},on:{dismissForm:function(t){return e.$emit("loadStepTwo")}}})],1)],1)],1)},v=[],p=(a("4de4"),a("bc60")),m=a("34bf"),f={components:{CreateMasterSettings:m["a"]},data:function(){return{masterSettingList:[],invalidClone:!1,selectedMasterSetting:{},copiedMasterSetting:{}}},created:function(){var e=this;this.$http.get(p["a"].getMasterSettings(this.getOrganizationSlug)).then((function(t){e.masterSettingList=t.results,e.masterSettingList.filter((function(e){return"Idle"===e.status&&null!==e.cloned_from})).length>0?e.$emit("loadStepTwo"):e.masterSettingList.filter((function(e){return"Idle"===e.status&&null===e.cloned_from})).length>0&&(e.invalidClone=!0)}))}},h=f,g=a("2877"),y=a("6544"),_=a.n(y),b=a("62ad"),w=a("0fd9b"),V=a("b974"),S=Object(g["a"])(h,u,v,!1,null,null,null),x=S.exports;_()(S,{VCol:b["a"],VRow:w["a"],VSelect:V["a"]});var k=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[e.loading?a("default-svg-loader"):e._e(),e.loading?e._e():a("v-row",{attrs:{align:"center"}},[a("v-col",{attrs:{cols:"12"}},[a("span",[e._v("Idle master settings ")]),a("span",[e._v(e._s(e.idleMasterSetting.name))]),a("span",[e._v(" being cloned from ")]),a("span",[e._v(e._s(e.workingMasterSetting.name)+".")])]),a("v-col",{attrs:{cols:"12"}},[a("v-divider")],1),a("v-col",{attrs:{md:"12","align-self":"baseline"}},[a("v-row",{staticClass:"ml-1 mr-1"},e._l(e.workingLeaveTypeList,(function(t,i){return a("v-col",{key:i,attrs:{md:"4",sm:"6",cols:"12"}},[a("v-hover",{scopedSlots:e._u([{key:"default",fn:function(r){var n=r.hover;return a("v-card",{class:"elevation-"+(n?12:2),attrs:{height:"100%","data-cy":"work-leave-type-"+(i+1)},on:{click:function(a){return e.openBottomSheet(t)}}},[a("v-col",[a("v-icon",{attrs:{size:"20"}},[e._v(" mdi-calendar-month ")]),a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(i){var r=i.on;return[a("span",e._g({staticClass:"px-2"},r),[e._v(e._s(e._f("truncate")(t.name,18)))])]}}],null,!0)},[a("span",[e._v(" "+e._s(t.name)+" ")])]),a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(i){var r=i.on;return[a("v-icon",e._g({attrs:{color:e.isAlreadyCloned(t)?"green":"red",size:"17"},domProps:{textContent:e._s(e.isAlreadyCloned(t)?"mdi-check-circle":"mdi-cancel")}},r))]}}],null,!0)},[a("span",{domProps:{textContent:e._s("Setting has "+(e.isAlreadyCloned(t)?"been configured.":"not been configured."))}})])],1),a("v-divider"),a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(i){var r=i.on;return[a("v-card-text",e._g({},r),[a("p",[e._v(" "+e._s(t.description)+" ")])])]}}],null,!0)},[e.isAlreadyCloned(t)?a("span",{domProps:{textContent:e._s("Settings has already been cloned.")}}):a("span",{domProps:{textContent:e._s("Please click to clone the settings.")}})])],1)}}],null,!0)})],1)})),1)],1)],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",small:"",depressed:""},on:{click:function(t){return e.$emit("loadStepThree")}}},[e._v(" Next "),a("v-icon",[e._v("mdi-chevron-right")])],1)],1),a("v-row",{attrs:{justify:"center"}},[a("v-bottom-sheet",{attrs:{persistent:"",transition:"dialog-bottom-transition"},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.dismissForm.apply(null,arguments)}},model:{value:e.leaveTypeSheet,callback:function(t){e.leaveTypeSheet=t},expression:"leaveTypeSheet"}},[a("div",[e.leaveTypeSheet?a("create-leave-type",{attrs:{"action-data":e.selectedWorkingLeaveType,"master-setting":e.workingMasterSetting,slug:e.getOrganizationSlug,"clone-master-setting-id":e.idleMasterSetting.id,clone:e.cloneSettings},on:{next:e.dismissForm,close:e.dismissForm}}):e._e()],1)])],1)],1)])},C=[],L=(a("4e827"),a("caad"),a("2532"),a("cba9")),T=a("c197"),O={components:{CreateLeaveType:L["a"],DefaultSvgLoader:T["default"]},data:function(){return{idleMasterSetting:{},workingMasterSetting:{},idleLeaveTypeList:[],workingLeaveTypeList:[],leaveTypeSheet:!1,selectedWorkingLeaveType:{},cloneSettings:!0,loading:!1}},created:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.$http.get(p["a"].getMasterSettings(e.getOrganizationSlug)).then((function(t){e.idleMasterSetting=t.results.filter((function(e){return"Idle"===e.status}))[0],e.workingMasterSetting=t.results.filter((function(t){return t.id===e.idleMasterSetting.cloned_from}))[0]}));case 3:return t.next=5,e.loadIdleLeaveType();case 5:e.loadWorkingLeaveType();case 6:case"end":return t.stop()}}),t)})))()},methods:{loadWorkingLeaveType:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get(p["a"].getLeaveTypes(e.getOrganizationSlug)+"?master_setting=".concat(e.workingMasterSetting.id)).then((function(t){e.workingLeaveTypeList=t.results.sort((function(e,t){var a=e.name.toLowerCase(),i=t.name.toLowerCase();return a<i?-1:a>i?1:0}))}));case 2:e.loading=!1;case 3:case"end":return t.stop()}}),t)})))()},loadIdleLeaveType:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get(p["a"].getLeaveTypes(e.getOrganizationSlug)+"?master_setting=".concat(e.idleMasterSetting.id)).then((function(t){e.idleLeaveTypeList=t.results}));case 2:case"end":return t.stop()}}),t)})))()},isAlreadyCloned:function(e){return 0!==this.idleLeaveTypeList.length&&this.idleLeaveTypeList.map((function(e){return e.cloned_from})).includes(e.id)},dismissForm:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,e.leaveTypeSheet=!1,e.selectedWorkingLeaveType={},t.next=5,e.loadIdleLeaveType();case 5:e.loading=!1;case 6:case"end":return t.stop()}}),t)})))()},openBottomSheet:function(e){this.isAlreadyCloned(e)||(this.selectedWorkingLeaveType=e,this.leaveTypeSheet=!0,this.cloneSettings=!this.isAlreadyCloned(e))}}},$=O,R=a("288c"),I=a("8336"),M=a("b0af"),q=a("99d9"),A=a("ce7e"),N=a("ce87"),j=a("132d"),E=a("2fa4"),F=a("3a2f"),D=Object(g["a"])($,k,C,!1,null,null,null),P=D.exports;_()(D,{VBottomSheet:R["a"],VBtn:I["a"],VCard:M["a"],VCardActions:q["a"],VCardText:q["c"],VCol:b["a"],VDivider:A["a"],VHover:N["a"],VIcon:j["a"],VRow:w["a"],VSpacer:E["a"],VTooltip:F["a"]});var z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[e.loading?a("default-svg-loader"):e._e(),e.loading?e._e():a("v-row",{attrs:{align:"center"}},[a("v-col",{attrs:{cols:"12"}},[a("span",[e._v("Idle master settings ")]),a("span",[e._v(e._s(e.idleMasterSetting.name))]),a("span",[e._v(" being cloned from ")]),a("span",[e._v(e._s(e.workingMasterSetting.name)+".")])]),a("v-divider"),a("v-col",{attrs:{cols:"12"}}),a("v-col",{attrs:{md:"12","align-self":"baseline"}},[a("v-row",{staticClass:"ml-4 mr-4"},e._l(e.workingLeaveTypeList,(function(t,i){return a("v-col",{key:i,attrs:{md:"4",sm:"6"}},[a("v-hover",{scopedSlots:e._u([{key:"default",fn:function(i){var r=i.hover;return a("v-card",{class:"elevation-"+(r?12:2),attrs:{height:"100%"}},[a("v-col",[a("v-icon",{attrs:{size:"20"}},[e._v(" mdi-calendar-month ")]),a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(i){var r=i.on;return[a("span",e._g({},r),[e._v(e._s(e._f("truncate")(t.leave_type.name,25)))])]}}],null,!0)},[a("span",[e._v(" "+e._s(t.leave_type.name)+" ")])])],1),a("v-divider"),a("v-card-text",{class:t.rule.length>3?"scrollbar":"",staticStyle:{"max-height":"144px"}},e._l(t.rule,(function(i,r){return a("div",{key:r,staticClass:"pointer",on:{click:function(a){return e.cloneLeaveRule(t,i)}}},[a("div",[a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("span",e._g({},r),[a("a",[e._v(" "+e._s(e._f("truncate")(i.name,30))+" ")])])]}}],null,!0)},[a("span",[e._v(" "+e._s(i.name)+" ")])]),a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-icon",e._g({attrs:{color:e.isAlreadyCloned(i)?"green":"red",size:"18"},domProps:{textContent:e._s(e.isAlreadyCloned(i)?"mdi-check-circle":"mdi-cancel")}},r))]}}],null,!0)},[a("span",{domProps:{textContent:e._s("Setting has "+(e.isAlreadyCloned(i)?"been configured.":"not been configured."))}})])],1)])})),0)],1)}}],null,!0)})],1)})),1)],1)],1),a("v-divider"),a("v-card-actions",[a("v-btn",{attrs:{small:"",depressed:"",color:"primary"},on:{click:function(t){return e.$emit("loadStepTwo")}}},[a("v-icon",[e._v("mdi-chevron-left")]),e._v(" Previous ")],1),a("v-spacer"),a("v-btn",{attrs:{small:"",depressed:"",color:"primary"},on:{click:function(t){return e.$router.push("/admin/"+e.getOrganizationSlug+"/leave/settings/master-settings/leave-list?name="+e.idleMasterSetting.id)}}},[e._v(" Finish "),a("v-icon",[e._v("mdi-check")])],1)],1),a("v-row",{attrs:{justify:"center"}},[a("v-dialog",{attrs:{fullscreen:"",persistent:"",transition:"dialog-bottom-transition"},on:{keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;e.leaveRuleSheet=!1}},model:{value:e.leaveRuleSheet,callback:function(t){e.leaveRuleSheet=t},expression:"leaveRuleSheet"}},[e.leaveRuleSheet?a("leave-rules-form",{attrs:{"leave-rules-type":e.selectedLeaveRuleCategory,"leave-name":e.selectedLeaveTypeName,"master-settings":e.idleMasterSetting,"rule-id":e.selectedLeaveRuleId,"leave-id":e.selectedIdleLeaveTypeId,"idle-leave-type-list":e.idleLeaveTypeList,clone:""},on:{close:e.reloadPage,next:function(t){e.leaveRuleSheet=!1},back:function(t){e.active--}}}):e._e()],1)],1)],1)])},B=[];a("d3b7"),a("b636"),a("d28b"),a("3ca3"),a("ddb0");function W(e){var t;if("undefined"!==typeof Symbol&&(Symbol.asyncIterator&&(t=e[Symbol.asyncIterator]),null==t&&Symbol.iterator&&(t=e[Symbol.iterator])),null==t&&(t=e["@@asyncIterator"]),null==t&&(t=e["@@iterator"]),null==t)throw new TypeError("Object is not async iterable");return t.call(e)}var H=a("999e"),U={components:{LeaveRulesForm:H["a"],DefaultSvgLoader:T["default"]},data:function(){return{idleMasterSetting:{},workingMasterSetting:{},idleLeaveTypeList:[],workingLeaveTypeList:[],applicableWorkingLeaveTypeList:[],leaveRuleSheet:!1,selectedIdleLeaveTypeId:"",selectedLeaveRuleCategory:"",selectedLeaveTypeName:"",selectedLeaveRuleId:"",idleLeaveTypeClonedIds:[],loading:!1}},created:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.$http.get(p["a"].getMasterSettings(e.getOrganizationSlug)).then((function(t){e.idleMasterSetting=t.results.filter((function(e){return"Idle"===e.status}))[0],e.workingMasterSetting=t.results.filter((function(t){return t.id===e.idleMasterSetting.cloned_from}))[0]}));case 3:return t.next=5,e.loadIdleLeaveType();case 5:e.loadWorkingLeaveType();case 6:case"end":return t.stop()}}),t)})))()},methods:{loadWorkingLeaveType:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var a,i,r,n,s,l,o,c,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=[],t.next=3,e.$http.get(p["a"].getLeaveTypes(e.getOrganizationSlug)+"?master_setting=".concat(e.workingMasterSetting.id)).then((function(e){a=e.results.map((function(e){return{category:e.category,name:e.name,id:e.id}}))}));case 3:i=!0,r=!1,t.prev=5,s=regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=c,e.idleLeaveTypeClonedIds.includes(a.id)){t.next=3;break}return t.abrupt("return","continue");case 3:return t.next=5,e.$http.get(p["a"].getLeaveRules(e.getOrganizationSlug)+"?leave_type=".concat(a.id)).then((function(t){var i=t.results.map((function(e){return{name:e.name,id:e.id}}));e.workingLeaveTypeList.push({leave_type:a,rule:i})}));case 5:e.workingLeaveTypeList=e.workingLeaveTypeList.sort((function(e,t){var a=e.leave_type.name.toLowerCase(),i=t.leave_type.name.toLowerCase();return a<i?-1:a>i?1:0}));case 6:case"end":return t.stop()}}),t)})),l=W(a);case 8:return t.next=10,l.next();case 10:return o=t.sent,i=o.done,t.next=14,o.value;case 14:if(c=t.sent,i){t.next=23;break}return t.delegateYield(s(),"t0",17);case 17:if(d=t.t0,"continue"!==d){t.next=20;break}return t.abrupt("continue",20);case 20:i=!0,t.next=8;break;case 23:t.next=29;break;case 25:t.prev=25,t.t1=t["catch"](5),r=!0,n=t.t1;case 29:if(t.prev=29,t.prev=30,i||null==l.return){t.next=34;break}return t.next=34,l.return();case 34:if(t.prev=34,!r){t.next=37;break}throw n;case 37:return t.finish(34);case 38:return t.finish(29);case 39:e.loading=!1;case 40:case"end":return t.stop()}}),t,null,[[5,25,29,39],[30,,34,38]])})))()},loadIdleLeaveType:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var a,i,r,n,s,l,o,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.idleLeaveTypeList=[],a=[],t.next=4,e.$http.get(p["a"].getLeaveTypes(e.getOrganizationSlug)+"?master_setting=".concat(e.idleMasterSetting.id)).then((function(e){a=e.results.map((function(e){return{category:e.category,name:e.name,id:e.id,cloned_from:e.cloned_from}}))}));case 4:i=!0,r=!1,t.prev=6,s=regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=c,t.next=3,e.$http.get(p["a"].getLeaveRules(e.getOrganizationSlug)+"?leave_type=".concat(a.id)).then((function(t){var i=t.results.map((function(e){return{name:e.name,id:e.id,cloned_from:e.cloned_from}}));e.idleLeaveTypeList.push({leave_type:a,rule:i}),e.idleLeaveTypeClonedIds.push(a.cloned_from)}));case 3:case"end":return t.stop()}}),t)})),l=W(a);case 9:return t.next=11,l.next();case 11:return o=t.sent,i=o.done,t.next=15,o.value;case 15:if(c=t.sent,i){t.next=21;break}return t.delegateYield(s(),"t0",18);case 18:i=!0,t.next=9;break;case 21:t.next=27;break;case 23:t.prev=23,t.t1=t["catch"](6),r=!0,n=t.t1;case 27:if(t.prev=27,t.prev=28,i||null==l.return){t.next=32;break}return t.next=32,l.return();case 32:if(t.prev=32,!r){t.next=35;break}throw n;case 35:return t.finish(32);case 36:return t.finish(27);case 37:case"end":return t.stop()}}),t,null,[[6,23,27,37],[28,,32,36]])})))()},cloneLeaveRule:function(e,t){if(!this.isAlreadyCloned(t)){var a=this.idleLeaveTypeList.filter((function(t){return t.leave_type.cloned_from===e.leave_type.id}))[0];this.selectedIdleLeaveTypeId=a.leave_type.id,this.selectedLeaveRuleCategory=e.leave_type.category,this.selectedLeaveRuleId=t.id,this.selectedLeaveTypeName=e.leave_type.name,this.leaveRuleSheet=!0}},isAlreadyCloned:function(e){if(0===this.idleLeaveTypeList.length)return!1;var t=this.idleLeaveTypeList.map((function(e){return e.rule.map((function(e){return e.cloned_from}))})),a=[];return a=t.reduce((function(e,t){return e.push.apply(e,Object(o["a"])(t)),e}),[]),a.includes(e.id)},reloadPage:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.leaveRuleSheet=!1,e.loading=!0,t.next=4,e.loadIdleLeaveType();case 4:e.loading=!1;case 5:case"end":return t.stop()}}),t)})))()}}},Y=U,J=a("169a"),G=Object(g["a"])(Y,z,B,!1,null,null,null),K=G.exports;_()(G,{VBtn:I["a"],VCard:M["a"],VCardActions:q["a"],VCardText:q["c"],VCol:b["a"],VDialog:J["a"],VDivider:A["a"],VHover:N["a"],VIcon:j["a"],VRow:w["a"],VSpacer:E["a"],VTooltip:F["a"]});var Q={components:{LeaveRule:K,LeaveType:P,MasterSettings:x},mixins:[d["a"]],props:{endpoint:{type:String,default:""},template:{type:Object,default:function(){return{}}}},data:function(){return{stepCount:1,cardTitle:["","Master Settings Clone Page","Leave Type Clone Page","Leave Rule Clone Page",""],formValues:{name:"",description:""},stepDescription:["","Welcome to Step 1. Please select the previous Active or Expired Master Settings from which you want to clone. When done click on Save to go to the other step. Once you save you won't be able to edit the master settings until finished.","Welcome to Step 2. Please select the Leave Type you want to clone from previous master settings. When done click on Next to go to the other step.","Welcome to Step 3. Please select the Leave Rule you want to clone from previous master settings.  When done click on Finish to go to master settings list."],mainSelectedTable:{},selectedRelatedTable:[],selectedRelatedFields:[],selectedFilterList:[],loadStepTwo:!1,loadStepThree:!1}},created:function(){},methods:{saveReportTemplate:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var a,i,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.selectedRelatedFields.map((function(e){return{field_name:e.field,field_path:e.field_path,field_type:e.field_type,display:e.display||e.field_verbose,ordering:e.ordering,aggregate:e.aggregate}})),i=e.selectedFilterList.map((function(e){return{field_path:e.field_path,field_name:e.field,display:e.display||e.field_verbose,apply_not:"false",field_type:e.field_type,filter_value:e.filter_value,filter_value2:"",filter_type:e.filter_type,exclude:"false"}})),r=e.selectedRelatedTable.map((function(e){return{url:e.fields_url,field_verbose:e.field_verbose,field_path:e.field_path}})),n={display_fields:a,filter_fields:i,name:e.formValues.name,description:e.formValues.description,app:e.mainSelectedTable.app_label,model:e.mainSelectedTable.model,related_info:[].concat(Object(o["a"])(r),[{url:e.mainSelectedTable.fields_url,field_verbose:e.mainSelectedTable.field_verbose,field_path:e.mainSelectedTable.field_path}])},t.next=6,e.validateAllFields();case 6:if(!t.sent){t.next=8;break}e.endpoint?(n.model_url=e.endpoint,e.$http.post("/builder/report/",n).then((function(){e.notifyUser("Successfully build report.","green"),e.$router.push({name:"admin-slug-report-report-list",params:{slug:"".concat(e.getOrganizationSlug)}})})).catch((function(t){e.notifyInvalidFormResponse(),e.pushErrors(t)}))):(n.model_url=e.template.model_url,e.$http.put("/builder/report/".concat(e.template.id,"/"),n).then((function(){e.notifyUser("Successfully updated report.","green"),e.$emit("cancel")})).catch((function(t){e.notifyInvalidFormResponse(),e.pushErrors(t)})));case 8:case"end":return t.stop()}}),t)})))()}}},X=Q,Z=a("7e85"),ee=a("e516"),te=a("9c54"),ae=a("56a4"),ie=Object(g["a"])(X,s,l,!1,null,null,null),re=ie.exports;_()(ie,{VCard:M["a"],VCol:b["a"],VDivider:A["a"],VIcon:j["a"],VRow:w["a"],VStepper:Z["a"],VStepperContent:ee["a"],VStepperHeader:te["a"],VStepperStep:ae["a"]});var ne={components:{SettingStepper:re,VuePageWrapper:n["default"]},data:function(){return{htmlTitle:"Clone Leave Master Settings",breadCrumbItems:[{text:"Leave",disabled:!0},{text:"Master Settings",disabled:!1,to:{name:"admin-slug-leave-settings-master-settings",params:{slug:this.$route.params.slug}}},{text:"Clone Settings",disabled:!0}]}}},se=ne,le=Object(g["a"])(se,i,r,!1,null,null,null);t["default"]=le.exports}}]);