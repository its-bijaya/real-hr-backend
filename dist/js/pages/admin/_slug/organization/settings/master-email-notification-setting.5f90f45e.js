(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages/admin/_slug/organization/settings/master-email-notification-setting","chunk-31f8a6e6","chunk-da62e0c8","chunk-2d22d378"],{"0393":function(t,e,i){"use strict";var n=i("5530"),a=(i("0481"),i("210b"),i("604c")),s=i("d9bd");e["a"]=a["a"].extend({name:"v-expansion-panels",provide:function(){return{expansionPanels:this}},props:{accordion:Boolean,disabled:Boolean,flat:Boolean,hover:Boolean,focusable:Boolean,inset:Boolean,popout:Boolean,readonly:Boolean,tile:Boolean},computed:{classes:function(){return Object(n["a"])(Object(n["a"])({},a["a"].options.computed.classes.call(this)),{},{"v-expansion-panels":!0,"v-expansion-panels--accordion":this.accordion,"v-expansion-panels--flat":this.flat,"v-expansion-panels--hover":this.hover,"v-expansion-panels--focusable":this.focusable,"v-expansion-panels--inset":this.inset,"v-expansion-panels--popout":this.popout,"v-expansion-panels--tile":this.tile})}},created:function(){this.$attrs.hasOwnProperty("expand")&&Object(s["a"])("expand","multiple",this),Array.isArray(this.value)&&this.value.length>0&&"boolean"===typeof this.value[0]&&Object(s["a"])(':value="[true, false, true]"',':value="[0, 2]"',this)},methods:{updateItem:function(t,e){var i=this.getValue(t,e),n=this.getValue(t,e+1);t.isActive=this.toggleMethod(i),t.nextIsActive=this.toggleMethod(n)}}})},"0549":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("v-row",{staticClass:"mb-3",attrs:{"no-gutters":""}},[t.breadCrumbs?i("v-col",{attrs:{cols:"12"}},[i("v-card",{attrs:{flat:""}},[i("v-breadcrumbs",{staticClass:"text-body-1 pa-2",class:{"text-caption pa-1":t.$vuetify.breakpoint.xs},attrs:{items:t.breadCrumbs},scopedSlots:t._u([{key:"item",fn:function(e){return[i("span",{class:e.item.disabled?"grey--text":"baseColor--text text--accent-2 pointer",domProps:{textContent:t._s(e.item.text)},on:{click:function(i){return t.$router.push(e.item.to)}}})]}}],null,!1,1670153796)},[i("v-icon",{attrs:{slot:"divider"},slot:"divider"},[t._v("mdi-chevron-right")])],1)],1)],1):t._e()],1),i("v-row",{attrs:{"no-gutters":""}},[i("v-col",{attrs:{cols:"12"}},[t._t("default")],2)],1)],1)},a=[],s=i("5530"),o=(i("ac1f"),i("1276"),i("b0c0"),i("2f62")),r={props:{title:{type:String,required:!0},breadCrumbs:{type:Array,default:function(){return[]}}},computed:Object(s["a"])({},Object(o["c"])({getOrganizationName:"organization/getOrganizationName",getSupervisorSwitchedOrganization:"supervisor/getSwitchedOrganization"})),mounted:function(){document.title="".concat(this.title," | RealHRsoft");var t=this.$route.params.slug?"admin-slug-dashboard":"root",e=this.$route.name.split("-"),i=this.getOrganizationName;this.getSupervisorSwitchedOrganization&&"user"===e[0]&&"supervisor"===e[1]&&(i=this.getSupervisorSwitchedOrganization.name),this.breadCrumbs.unshift({text:i,disabled:!1,to:{name:t,params:{slug:this.$route.params.slug}}})}},l=r,c=i("2877"),d=i("6544"),u=i.n(d),h=i("2bc5"),m=i("b0af"),p=i("62ad"),f=i("132d"),v=i("0fd9b"),b=Object(c["a"])(l,n,a,!1,null,null,null);e["default"]=b.exports;u()(b,{VBreadcrumbs:h["a"],VCard:m["a"],VCol:p["a"],VIcon:f["a"],VRow:v["a"]})},"210b":function(t,e,i){},"2bc5":function(t,e,i){"use strict";var n=i("5530"),a=(i("a15b"),i("abd3"),i("ade3")),s=i("1c87"),o=i("58df"),r=Object(o["a"])(s["a"]).extend({name:"v-breadcrumbs-item",props:{activeClass:{type:String,default:"v-breadcrumbs__item--disabled"},ripple:{type:[Boolean,Object],default:!1}},computed:{classes:function(){return Object(a["a"])({"v-breadcrumbs__item":!0},this.activeClass,this.disabled)}},render:function(t){var e=this.generateRouteLink(),i=e.tag,a=e.data;return t("li",[t(i,Object(n["a"])(Object(n["a"])({},a),{},{attrs:Object(n["a"])(Object(n["a"])({},a.attrs),{},{"aria-current":this.isActive&&this.isLink?"page":void 0})}),this.$slots.default)])}}),l=i("80d2"),c=Object(l["i"])("v-breadcrumbs__divider","li"),d=i("7560");e["a"]=Object(o["a"])(d["a"]).extend({name:"v-breadcrumbs",props:{divider:{type:String,default:"/"},items:{type:Array,default:function(){return[]}},large:Boolean},computed:{classes:function(){return Object(n["a"])({"v-breadcrumbs--large":this.large},this.themeClasses)}},methods:{genDivider:function(){return this.$createElement(c,this.$slots.divider?this.$slots.divider:this.divider)},genItems:function(){for(var t=[],e=!!this.$scopedSlots.item,i=[],n=0;n<this.items.length;n++){var a=this.items[n];i.push(a.text),e?t.push(this.$scopedSlots.item({item:a})):t.push(this.$createElement(r,{key:i.join("."),props:a},[a.text])),n<this.items.length-1&&t.push(this.genDivider())}return t}},render:function(t){var e=this.$slots.default||this.genItems();return t("ul",{staticClass:"v-breadcrumbs",class:this.classes},e)}})},"49e2":function(t,e,i){"use strict";var n=i("0789"),a=i("9d65"),s=i("a9ad"),o=i("3206"),r=i("80d2"),l=i("58df"),c=Object(l["a"])(a["a"],s["a"],Object(o["a"])("expansionPanel","v-expansion-panel-content","v-expansion-panel"));e["a"]=c.extend().extend({name:"v-expansion-panel-content",computed:{isActive:function(){return this.expansionPanel.isActive}},created:function(){this.expansionPanel.registerContent(this)},beforeDestroy:function(){this.expansionPanel.unregisterContent()},render:function(t){var e=this;return t(n["a"],this.showLazyContent((function(){return[t("div",e.setBackgroundColor(e.color,{staticClass:"v-expansion-panel-content",directives:[{name:"show",value:e.isActive}]}),[t("div",{class:"v-expansion-panel-content__wrap"},Object(r["s"])(e))])]})))}})},"983c":function(t,e,i){"use strict";i("d3b7");e["a"]={methods:{getData:function(t,e,i){var n=this,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Promise((function(s,o){!n.loading&&t&&(n.clearNonFieldErrors(),n.$validator.errors.clear(),n.loading=a,n.$http.get(t,i||{params:e||{}}).then((function(t){s(t),n.loading=!1})).catch((function(t){n.pushErrors(t),n.notifyInvalidFormResponse(),o(t),n.loading=!1})))}))},getBlockingData:function(t,e,i){var n=this;return new Promise((function(a,s){n.getData(t,e,i,!0).then((function(t){a(t)})).catch((function(t){s(t)}))}))}}}},"98a4":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("vue-page-wrapper",{attrs:{"bread-crumbs":t.breadCrumbItems,title:t.htmlTitle}},[i("v-card",[i("vue-card-title",{attrs:{title:"Email Notification",subtitle:"Please refer to the following information on email notification associated with the organization.",icon:"mdi-email-outline"}},[i("template",{slot:"actions"},[t.isAdmin?i("v-btn",{attrs:{color:"primary",small:"",depressed:""},on:{click:function(e){t.resetNotification.dialog=!0}}},[t._v("Reset")]):t._e()],1)],2),i("v-divider"),i("v-card-text",[i("v-expansion-panels",{staticClass:"pa-0 ma-0",attrs:{accordion:""}},[i("v-expansion-panel",{staticClass:"px-8"},[i("v-row",{attrs:{justify:"space-between"}},[i("v-col",{staticClass:"text-dark-blue font-weight-bold"},[t._v("MODULES")]),i("v-col",{staticClass:"text-dark-blue text-right font-weight-bold"},[t._v("ACTION")])],1)],1),t._l(t.emailSettings,(function(e,n){return i("v-expansion-panel",{key:n,staticClass:"pa-0 ma-0",attrs:{md:"3"}},[e.length>0?i("v-expansion-panel-header",[i("span",{staticClass:"text-uppercase"},[i("v-icon",{staticClass:"mr-4"},[t._v(t._s(t.icons[n]))]),t._v(" "+t._s(n.replace("_"," "))+" ")],1)]):t._e(),i("v-expansion-panel-content",[i("v-data-table",{attrs:{headers:t.headers,items:e,"group-by":"category","item-key":"email_type","show-group-by":"",dense:"","hide-default-header":""},scopedSlots:t._u([{key:"group.header",fn:function(e){var n=e.items,a=e.isOpen,s=e.toggle;return[i("th",{staticClass:"py-2 pl-4",attrs:{width:"60%"}},[i("v-icon",[t._v(t._s(t.icons[n[0].category]))]),n[0].category?i("span",{staticClass:"\n                      pl-2\n                      text-dark-blue\n                      font-weight-bold\n                      text-subtitle-2\n                    "},[t._v(" "+t._s(t.formatTitle(n[0].category))+" ")]):i("span",{staticClass:"text-dark-blue font-weight-bold text-subtitle-2"},[t._v(" Title ")])],1),i("th",{staticClass:"py-0"},[i("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,o=e.attrs;return[i("div",t._g(t._b({},"div",o,!1),s),[a?i("v-checkbox",{staticClass:"my-2",attrs:{"hide-details":"",label:t.isAdmin?"Send email":"Receive email","input-value":t.isAllTicked(n,"send_email"),indeterminate:t.checkIfIndeterminate(n,"send_email")},on:{change:function(e){t.isAdmin?t.selectAll(n,"send_email",e):t.selectAllSubscribedEmails(n,e)}}}):t._e()],1)]}}],null,!0)},[t.isAdmin?i("span",[t._v(" enable this to send emails to users ")]):i("span",[t._v("enable this to receive emails")])])],1),i("th",{staticClass:"py-0"},[i("v-row",{attrs:{"no-gutters":""}},[i("v-col",{attrs:{cols:"11"}},[i("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,o=e.attrs;return[i("div",t._g(t._b({},"div",o,!1),s),[a?i("v-checkbox",{staticClass:"my-2",attrs:{"hide-details":"",label:t.isAdmin?"Allow unsubscribe":"Unsubscribe","input-value":t.isAllTicked(n,"allow_unsubscribe"),indeterminate:t.checkIfIndeterminate(n,"allow_unsubscribe"),disabled:!t.isAdmin},on:{change:function(e){return t.selectAll(n,"allow_unsubscribe",e)}}}):t._e()],1)]}}],null,!0)},[t.isAdmin?i("span",[t._v(" enable this to allow users to subscribe or unsubscribe to receive email ")]):i("span",[t._v("when enabled you can unsubscribe to emails")])])],1),i("v-col",{staticClass:"py-2",attrs:{cols:"1"}},[""!=n[0].category?i("v-icon",{on:{click:s}},[t._v(t._s(a?"mdi-chevron-up":"mdi-chevron-down")+" ")]):t._e()],1)],1)],1)]}},{key:"item.send_email",fn:function(e){return[i("v-checkbox",{staticClass:"my-2",attrs:{disabled:!(e.item.allow_unsubscribe||t.isAdmin),"hide-details":""},model:{value:e.item.send_email,callback:function(i){t.$set(e.item,"send_email",i)},expression:"props.item.send_email"}})]}},{key:"item.allow_unsubscribe",fn:function(e){return[i("v-checkbox",{staticClass:"my-2",attrs:{disabled:!t.isAdmin,"hide-details":""},model:{value:e.item.allow_unsubscribe,callback:function(i){t.$set(e.item,"allow_unsubscribe",i)},expression:"props.item.allow_unsubscribe"}})]}}],null,!0)})],1)],1)}))],2)],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{depressed:"",color:"primary"},on:{click:t.save}},[t._v("Save")])],1)],1),i("vue-dialog",{attrs:{notify:t.resetNotification,persistent:""},on:{close:function(e){t.resetNotification.dialog=!1},agree:t.resetEmailNotificationData,keydown:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;t.resetNotification.dialog=!1}}})],1)},a=[],s=i("2909"),o=(i("159b"),i("4de4"),i("ac1f"),i("5319"),i("fb6a"),i("f70a")),r=i("983c"),l=i("f0d5"),c=i("0549"),d={getAdminEmailNotification:function(t){return"org/".concat(t,"/setting/email/")},getUserEmailNotification:function(t){return"users/".concat(t,"/email-setting/")},postAdminEmailNotification:function(t){return"org/".concat(t,"/setting/email/")},postUserEmailNotification:function(t){return"users/".concat(t,"/email-setting/")},resetEmailNotification:function(t){return"org/".concat(t,"/setting/email/reset/")}},u={name:"EmailNotification",components:{VuePageWrapper:c["default"]},mixins:[o["a"],r["a"],l["a"]],data:function(){return{search:"",showFilters:!1,settingsName:"Email Notification",htmlTitle:"Email Notification | Settings | Organization | Admin",breadCrumbItems:null,isAdmin:this.$route.params.slug,breadCrumbItemsAdmin:[{text:"Organization",disabled:!1,to:{name:"admin-slug-organization-overview",params:{slug:this.$route.params.slug}}},{text:"Settings",disabled:!1,to:{name:"admin-slug-organization-settings",params:{slug:this.$route.params.slug}}},{text:"Email Notification",disabled:!0}],breadCrumbItemsUser:[{text:"Organization",disabled:!1,to:{name:"user-organization-overview"}},{text:"Email Notification",disabled:!0}],headers:[{text:"Title",value:"email_type_display",sortable:!1},{text:"Send Email",value:"send_email",sortable:!1},{text:"Category",value:"category",sortable:!1},{text:"Allow Unsubscribe",value:"allow_unsubscribe",sortable:!1}],resetNotification:{dialog:!1,heading:"Confirm Reset",subheading:"You are about to reset data. Confirm your action.",text:"Are you sure you want to reset this email notification setting?"},emailSettings:{},icons:{hris:"mdi-account-child",assessment:"mdi-text-box-multiple-outline",event:"mdi-calendar",training:"mdi-presentation-play",expense_management:"mdi-file",attendance:"mdi-fingerprint",adjustment:"mdi-fingerprint",credit_hour:"mdi-av-timer",travel:"mdi-train-car",overtime:"mdi-file-document-outline",penalty:"mdi-cash-remove",overtime_claim:"mdi-file-document-outline",payroll:"mdi-calculator",payroll_generate:"mdi-calculator-variant",payroll_rebate:"mdi-cash-multiple",advance_salary:"mdi-cash",leave:"mdi-calendar-remove"}}},created:function(){this.getEmailSettings()},methods:{getEmailSettings:function(){var t=this;this.isAdmin?(this.breadCrumbItems=this.breadCrumbItemsAdmin,this.dataTableEndpoint=d.getAdminEmailNotification(this.getOrganizationSlug)):(this.htmlTitle="Email Notification | Organization | User",this.breadCrumbItems=this.breadCrumbItemsUser,this.dataTableEndpoint=d.getUserEmailNotification(this.getAuthStateUserId)),this.getData(this.dataTableEndpoint).then((function(e){t.emailSettings=e.results}))},save:function(){var t=this;this.crud.message="Successfully Updated Email Notification Settings.";var e="";e=this.isAdmin?d.postAdminEmailNotification(this.getOrganizationSlug):d.postUserEmailNotification(this.getAuthStateUserId);var i=[];for(var n in this.emailSettings)i.push.apply(i,Object(s["a"])(this.emailSettings[n]));this.insertData(e,{email_settings:i}).catch((function(e){var i=e.response.data.email_settings,n={response:{data:i}};t.pushIndexedErrors(n,"",!1,"")}))},resetEmailNotificationData:function(){var t=this;this.crud.message="Successfully Reset Email Notification Settings.",this.insertData(d.resetEmailNotification(this.getOrganizationSlug)).then((function(){t.resetNotification.dialog=!1,t.getEmailSettings()}))},selectAll:function(t,e,i){t.forEach((function(t){t[e]=i}))},selectAllSubscribedEmails:function(t,e){var i=t.filter((function(t){return!0===t.allow_unsubscribe}));i.forEach((function(t){return t.send_email=e}))},checkIfIndeterminate:function(t,e){var i=t.filter((function(t){return!0===t[e]}));return i.length>0&&i.length!=t.length},isAllTicked:function(t,e){var i=t.filter((function(t){return!0===t[e]}));return i.length==t.length},formatTitle:function(t){return t=t.replace("_"," "),t.charAt(0).toUpperCase()+t.replace("_"," ").slice(1)}}},h=u,m=(i("d5fa"),i("2877")),p=i("6544"),f=i.n(p),v=i("8336"),b=i("b0af"),g=i("99d9"),x=i("ac7c"),_=i("62ad"),y=i("8fea"),C=i("ce7e"),w=i("cd55"),A=i("49e2"),E=i("c865"),k=i("0393"),O=i("132d"),S=i("0fd9b"),$=i("2fa4"),j=i("3a2f"),I=Object(m["a"])(h,n,a,!1,null,null,null);e["default"]=I.exports;f()(I,{VBtn:v["a"],VCard:b["a"],VCardActions:g["a"],VCardText:g["c"],VCheckbox:x["a"],VCol:_["a"],VDataTable:y["a"],VDivider:C["a"],VExpansionPanel:w["a"],VExpansionPanelContent:A["a"],VExpansionPanelHeader:E["a"],VExpansionPanels:k["a"],VIcon:O["a"],VRow:S["a"],VSpacer:$["a"],VTooltip:j["a"]})},abd3:function(t,e,i){},c865:function(t,e,i){"use strict";var n=i("5530"),a=i("0789"),s=i("9d26"),o=i("a9ad"),r=i("3206"),l=i("5607"),c=i("80d2"),d=i("58df"),u=Object(d["a"])(o["a"],Object(r["a"])("expansionPanel","v-expansion-panel-header","v-expansion-panel"));e["a"]=u.extend().extend({name:"v-expansion-panel-header",directives:{ripple:l["a"]},props:{disableIconRotate:Boolean,expandIcon:{type:String,default:"$expand"},hideActions:Boolean,ripple:{type:[Boolean,Object],default:!1}},data:function(){return{hasMousedown:!1}},computed:{classes:function(){return{"v-expansion-panel-header--active":this.isActive,"v-expansion-panel-header--mousedown":this.hasMousedown}},isActive:function(){return this.expansionPanel.isActive},isDisabled:function(){return this.expansionPanel.isDisabled},isReadonly:function(){return this.expansionPanel.isReadonly}},created:function(){this.expansionPanel.registerHeader(this)},beforeDestroy:function(){this.expansionPanel.unregisterHeader()},methods:{onClick:function(t){this.$emit("click",t)},genIcon:function(){var t=Object(c["s"])(this,"actions")||[this.$createElement(s["a"],this.expandIcon)];return this.$createElement(a["d"],[this.$createElement("div",{staticClass:"v-expansion-panel-header__icon",class:{"v-expansion-panel-header__icon--disable-rotate":this.disableIconRotate},directives:[{name:"show",value:!this.isDisabled}]},t)])}},render:function(t){var e=this;return t("button",this.setBackgroundColor(this.color,{staticClass:"v-expansion-panel-header",class:this.classes,attrs:{tabindex:this.isDisabled?-1:null,type:"button"},directives:[{name:"ripple",value:this.ripple}],on:Object(n["a"])(Object(n["a"])({},this.$listeners),{},{click:this.onClick,mousedown:function(){return e.hasMousedown=!0},mouseup:function(){return e.hasMousedown=!1}})}),[Object(c["s"])(this,"default",{open:this.isActive},!0),this.hideActions||this.genIcon()])}})},cd55:function(t,e,i){"use strict";var n=i("5530"),a=i("4e82"),s=i("3206"),o=i("80d2"),r=i("58df");e["a"]=Object(r["a"])(Object(a["a"])("expansionPanels","v-expansion-panel","v-expansion-panels"),Object(s["b"])("expansionPanel",!0)).extend({name:"v-expansion-panel",props:{disabled:Boolean,readonly:Boolean},data:function(){return{content:null,header:null,nextIsActive:!1}},computed:{classes:function(){return Object(n["a"])({"v-expansion-panel--active":this.isActive,"v-expansion-panel--next-active":this.nextIsActive,"v-expansion-panel--disabled":this.isDisabled},this.groupClasses)},isDisabled:function(){return this.expansionPanels.disabled||this.disabled},isReadonly:function(){return this.expansionPanels.readonly||this.readonly}},methods:{registerContent:function(t){this.content=t},unregisterContent:function(){this.content=null},registerHeader:function(t){this.header=t,t.$on("click",this.onClick)},unregisterHeader:function(){this.header=null},onClick:function(t){t.detail&&this.header.$el.blur(),this.$emit("click",t),this.isReadonly||this.isDisabled||this.toggle()},toggle:function(){var t=this;this.content&&(this.content.isBooted=!0),this.$nextTick((function(){return t.$emit("change")}))}},render:function(t){return t("div",{staticClass:"v-expansion-panel",class:this.classes,attrs:{"aria-expanded":String(this.isActive)}},Object(o["s"])(this))}})},cf9d:function(t,e,i){},d5fa:function(t,e,i){"use strict";i("cf9d")},f0d5:function(t,e,i){"use strict";i("d3b7"),i("3ca3"),i("ddb0");var n=i("c44a");e["a"]={components:{NonFieldFormErrors:function(){return i.e("chunk-6441e173").then(i.bind(null,"ab8a"))}},mixins:[n["a"]],data:function(){return{crud:{name:"record",message:"",addAnother:!1},formValues:{},loading:!1}}}},f70a:function(t,e,i){"use strict";i("d3b7"),i("caad");e["a"]={methods:{insertData:function(t,e){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.validate,s=void 0===a||a,o=n.clearForm,r=void 0===o||o,l=arguments.length>3?arguments[3]:void 0;return new Promise((function(n,a){!i.loading&&t&&(i.clearErrors(),i.$validator.validateAll().then((function(o){s||(o=!0),o&&(i.loading=!0,i.$http.post(t,e,l||{}).then((function(t){i.clearErrors(),r&&(i.formValues={}),i.crud.addAnother||i.$emit("create"),i.crud.message&&setTimeout((function(){i.notifyUser(i.crud.message)}),1e3),n(t),i.loading=!1})).catch((function(t){i.pushErrors(t),i.notifyInvalidFormResponse(),a(t),i.loading=!1})))})))}))},patchData:function(t,e){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.validate,s=void 0===a||a,o=n.clearForm,r=void 0===o||o,l=arguments.length>3?arguments[3]:void 0;return new Promise((function(n,a){i.updateData(t,e,{validate:s,clearForm:r},"patch",l).then((function(t){n(t)})).catch((function(t){a(t)}))}))},putData:function(t,e){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.validate,s=void 0===a||a,o=n.clearForm,r=void 0===o||o,l=arguments.length>3?arguments[3]:void 0;return new Promise((function(n,a){i.updateData(t,e,{validate:s,clearForm:r},"put",l).then((function(t){n(t)})).catch((function(t){a(t)}))}))},updateData:function(t,e){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.validate,s=void 0===a||a,o=n.clearForm,r=void 0===o||o,l=arguments.length>3?arguments[3]:void 0,c=arguments.length>4?arguments[4]:void 0;return new Promise((function(n,a){!i.loading&&t&&["put","patch"].includes(l)&&(i.clearErrors(),i.$validator.validateAll().then((function(o){s||(o=!0),o&&(i.loading=!0,i.$http[l](t,e,c||{}).then((function(t){i.$emit("update"),i.clearErrors(),r&&(i.formValues={}),i.crud.message&&setTimeout((function(){i.notifyUser(i.crud.message)}),1e3),n(t),i.loading=!1})).catch((function(t){i.pushErrors(t),i.notifyInvalidFormResponse(),a(t),i.loading=!1})))})))}))},clearErrors:function(){this.clearNonFieldErrors(),this.$validator.errors.clear()}}}}}]);