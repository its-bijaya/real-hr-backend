(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages/admin/_slug/organization/settings/equipment","chunk-2d0c8a11","chunk-aee42bec","chunk-2d0d6ae8"],{"03df":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card-title",{staticClass:"pa-0"},[e.exportGeneration.created_on?e.exportGeneration.url?a("span",[a("div",{staticClass:"grey--text text-caption",domProps:{textContent:e._s("Last Report was generated on")}}),a("div",{staticClass:"text-caption"},[e._v(" "+e._s(e.getGeneratedDate(e.exportGeneration.created_on))+" ")])]):e._e():a("span",{staticClass:"grey--text text-caption mr-2",domProps:{textContent:e._s("Report has not been generated yet")}}),a("v-btn",{staticClass:"mx-1",attrs:{small:"",depressed:"",color:"primary"},domProps:{textContent:e._s(e.exportGeneration.created_on?"Generate Again":e.buttonText)},on:{click:e.exportTasks}}),e.exportGeneration.url?a("v-btn",{attrs:{small:"",depressed:"",color:"primary"},domProps:{textContent:e._s("Download")},on:{click:e.downloadTask}}):e._e(),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{icon:""},on:{click:e.verifyExportGeneration}},i),[a("v-icon",{attrs:{color:"primary"},domProps:{textContent:e._s("mdi-cloud-sync")}})],1)]}}])},[a("span",[e._v("Refresh to see if report is generated.")])])],1)},n=[],s=a("5530"),o=(a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("a9e3"),a("fb6a"),a("63ea")),r=a.n(o),l=a("2f62"),c={props:{exportUrl:{type:String,required:!0},filters:{type:[Object,URLSearchParams],required:!0},triggerChange:{type:Object,required:!1,default:function(){return{}}},buttonText:{type:String,default:"Generate Now"}},data:function(){return{exportGeneration:{url:null,created_on:""},exportGenerated:!1,useNepaliDate:localStorage.useNepaliDate}},watch:{triggerChange:{handler:function(e,t){r()(e,t)||this.verifyExportGeneration()},deep:!0},"$route.query.export":{handler:function(e){e&&this.verifyExportGeneration()},immediate:!0}},created:function(){this.verifyExportGeneration()},methods:Object(s["a"])(Object(s["a"])({},Object(l["d"])({setSnackBar:"common/setSnackBar"})),{},{verifyExportGeneration:function(){var e=this,t={};if(this.filters instanceof URLSearchParams){var a=this.filters;a.delete("offset"),a.delete("limit"),t="?"+a}else t=this.convertToURLSearchParams(this.filters);this.$http.get(this.exportUrl+t).then((function(t){e.exportGeneration=t}))},exportTasks:function(){var e=this,t={};if(this.filters instanceof URLSearchParams){var a=this.filters;a.delete("offset"),a.delete("limit"),t="?"+a}else t=this.convertToURLSearchParams(this.filters);var i=this.exportUrl+t;this.$http.post(i).then(this.setSnackBar({text:"A new export will be generated soon",color:"green"})).catch((function(t){e.setSnackBar({text:t.response.data[0],color:"danger"})}))},downloadTask:function(){window.open(this.exportGeneration.url)},getGeneratedDate:function(e){var t=this.$dayjs(e).calendar(),a=Number(t.slice(0,2));return"true"===this.useNepaliDate&&a?this.$dayjs(this.ad2bs(t)).format("DD/MM/YYYY"):t}})},u=c,d=a("2877"),m=a("6544"),p=a.n(m),f=a("8336"),h=a("99d9"),g=a("132d"),v=a("3a2f"),b=Object(d["a"])(u,i,n,!1,null,null,null);t["a"]=b.exports;p()(b,{VBtn:f["a"],VCardTitle:h["d"],VIcon:g["a"],VTooltip:v["a"]})},"096a":function(e,t,a){"use strict";t["a"]={data:function(){return{settingsName:"",deleteItem:!1,tabs:[],actionData:null,showFilters:!1,displayForm:!1,activeTab:0,search:"",displayDetail:{display:!1,data:{}},deleteNotification:{dialog:!1,heading:"Confirm Delete",text:"Are you sure you want to delete this ".concat(this.settingsName,"?")}}},watch:{response:function(e){this.tabs.length&&(this.tabs[0].count=e.count)}},created:function(){this.cardText="List of ".concat(this.settingsName),this.deleteNotification.text="Are you sure you want to delete this ".concat(this.settingsName,"?")},methods:{triggerForm:function(e,t){var a={create:"Create ".concat(this.settingsName),update:"Update ".concat(this.settingsName),view:"View ".concat(this.settingsName)};this.cardText=a[e],this.displayForm=!0,this.showFilters=!1,this.actionData=t||void 0,this.deleteItem="delete"===e},triggerDelete:function(e){this.deleteNotification.dialog=!0,this.actionData=e},deleteData:function(){this.displayForm=!0,this.deleteItem=!0},openOrganizationSettings:function(){this.$router.push({name:"switch-organization",query:{isCommon:!0}})},dismissForm:function(){this.displayForm=!1,this.deleteItem=!1,this.deleteNotification.dialog=!1,this.displayDetail={display:!1,data:{}},this.actionData=null,this.viewSettingDetail=!1,this.cardText="List of  ".concat(this.settingsName),this.fetchDataTable()}}}},1229:function(e,t,a){"use strict";a("99af");t["a"]={getDivision:function(e){return"/org/".concat(e,"/division/")},postDivision:function(e){return"/org/".concat(e,"/division/")},getDivisionDetails:function(e,t){return"/org/".concat(e,"/division/").concat(t,"/")},putDivision:function(e,t){return"/org/".concat(e,"/division/").concat(t,"/")},deleteDivision:function(e,t){return"/org/".concat(e,"/division/").concat(t,"/")},importDivision:function(e){return"/org/".concat(e,"/division/import/")},downloadSampleDivision:function(e){return"/org/".concat(e,"/division/import/sample")}}},"149b":function(e,t,a){"use strict";a("99af");t["a"]={getAssets:function(e){return"/org/".concat(e,"/equipment/")},postAssets:function(e){return"/org/".concat(e,"/equipment/")},getAssetsDetails:function(e,t){return"/org/".concat(e,"/equipment/").concat(t,"/")},putAssets:function(e,t){return"/org/".concat(e,"/equipment/").concat(t,"/")},deleteAssets:function(e,t){return"/org/".concat(e,"/equipment/").concat(t,"/")},assignAssets:function(e){return"/org/".concat(e,"/equipment/assign/")},markDamaged:function(e,t,a){return"/org/".concat(e,"/equipment/").concat(t,"/").concat(a,"/")},getUserAssetsById:function(e,t){return"/org/".concat(e,"/equipment/assign/user/").concat(t,"/")},importEquipment:function(e){return"/org/".concat(e,"/equipment/import/")},downloadSampleEquipment:function(e){return"/org/".concat(e,"/equipment/import/sample")},equipmentHistory:function(e,t){return"org/".concat(e,"/equipment/").concat(t,"/history/")},exportAssets:function(e){return"/org/".concat(e,"/equipment/export")}}},"17cc":function(e,t,a){"use strict";var i=a("b85c"),n=a("1da1"),s=a("5530");a("96cf"),a("ac1f"),a("841c"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("b64b");t["a"]={data:function(){return{fetchedResults:[],response:{},extra_data:"",appliedFilters:{},footerProps:{itemsPerPageOptions:[10,20,30,40,50,100]},pagination:{sortBy:["modified_at"],descending:!1,totalItems:0,page:1,rowsPerPage:10,pageCount:0},triggerDataTable:!0,fullParams:""}},created:function(){this.getParams(this.DataTableFilter)},methods:{getParams:function(e){var t=Object(s["a"])(Object(s["a"])({},e),{},{offset:(this.pagination.page-1)*this.pagination.rowsPerPage,limit:this.pagination.rowsPerPage,ordering:this.pagination.descending?this.pagination.sortBy:"-"+this.pagination.sortBy});this.fullParams=this.convertToURLSearchParams(t)},loadDataTable:function(e){this.response=e,this.fetchedResults=e.results,this.pagination.totalItems=e.count,this.extra_data=e.extra_data,this.triggerDataTable=!0},fetchData:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var i,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return console.warn("DatatableMixin: fetchData has been deprecated. Please use the function in page itself."),i=Object(s["a"])(Object(s["a"])(Object(s["a"])({},e),t.appliedFilters),{},{search:t.search,offset:(t.pagination.page-1)*t.pagination.rowsPerPage,limit:t.pagination.rowsPerPage,ordering:t.pagination.descending?t.pagination.sortBy:"-"+t.pagination.sortBy}),n=t.convertToURLSearchParams(i),t.loading=!0,a.next=6,t.$http.get(t.endpoint,{params:n}).then((function(e){t.response=e,t.fetchedResults=e.results,t.pagination.totalItems=e.count})).finally((function(){t.loading=!1}));case 6:case"end":return a.stop()}}),a)})))()},applyFilters:function(e){this.appliedFilters=e,this.fetchData(e)},convertToURLSearchParams:function(e){for(var t=new URLSearchParams,a=0,n=Object.keys(e);a<n.length;a++){var s=n[a],o=e[s];if(void 0===o&&(o=""),Array.isArray(o)){var r,l=Object(i["a"])(o);try{for(l.s();!(r=l.n()).done;){var c=r.value;t.append(s,c)}}catch(u){l.e(u)}finally{l.f()}}else t.append(s,o)}return t},loadDataTableChange:function(){var e=this;this.triggerDataTable&&(this.getParams(this.DataTableFilter),this.$nextTick((function(){e.fetchDataTable()})))}},watch:{DataTableFilter:function(e){this.fetchedResults=[],this.getParams(e),this.fetchDataTable(),this.pagination.page=1},"pagination.sortBy":function(){this.fetchedResults=[],this.loadDataTableChange()},"pagination.descending":function(){this.fetchedResults=[],this.loadDataTableChange()},"pagination.page":function(){this.fetchedResults=[],this.loadDataTableChange()},"pagination.rowsPerPage":function(){this.fetchedResults=[],this.loadDataTableChange()}}}},"2c64":function(e,t,a){},"3d86":function(e,t,a){},"43a6":function(e,t,a){"use strict";var i=a("5530"),n=(a("a9e3"),a("ec29"),a("3d86"),a("c37a")),s=a("604c"),o=a("8547"),r=a("58df"),l=Object(r["a"])(o["a"],s["a"],n["a"]);t["a"]=l.extend({name:"v-radio-group",provide:function(){return{radioGroup:this}},props:{column:{type:Boolean,default:!0},height:{type:[Number,String],default:"auto"},name:String,row:Boolean,value:null},computed:{classes:function(){return Object(i["a"])(Object(i["a"])({},n["a"].options.computed.classes.call(this)),{},{"v-input--selection-controls v-input--radio-group":!0,"v-input--radio-group--column":this.column&&!this.row,"v-input--radio-group--row":this.row})}},methods:{genDefaultSlot:function(){return this.$createElement("div",{staticClass:"v-input--radio-group__input",attrs:{id:this.id,role:"radiogroup","aria-labelledby":this.computedId}},n["a"].options.methods.genDefaultSlot.call(this))},genInputSlot:function(){var e=n["a"].options.methods.genInputSlot.call(this);return delete e.data.on.click,e},genLabel:function(){var e=n["a"].options.methods.genLabel.call(this);return e?(e.data.attrs.id=this.computedId,delete e.data.attrs.for,e.tag="legend",e):null},onClick:s["a"].options.methods.onClick}})},5660:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"d-flex space-between"},[a("v-autocomplete",{key:e.componentKey,ref:"autoComplete",class:e.appliedClass,attrs:{id:e.id,items:e.itemsSorted,"search-input":e.search,loading:e.isLoading,multiple:e.multiple,label:e.label,error:e.errorMessages.length>0,"error-messages":e.errorMessages,disabled:e.disabled,readonly:e.readonly,"data-cy":"autocomplete-"+e.dataCyVariable,"prepend-inner-icon":e.prependInnerIcon,clearable:e.clearable&&!e.readonly,"hide-details":e.hideDetails,"item-text":e.itemText,"item-value":e.itemValue,"small-chips":e.multiple||e.chips,"deletable-chips":e.multiple,hint:e.hint,"persistent-hint":e.persistentHint,chips:e.chips,solo:e.solo,flat:e.flat,"cache-items":e.cacheItems,placeholder:e.placeholder,dense:e.dense,"hide-selected":"","hide-no-data":""},on:{"update:searchInput":function(t){e.search=t},"update:search-input":function(t){e.search=t},focus:e.populateOnFocus,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.searchText())},change:e.updateState,blur:function(t){return e.$emit("blur")}},scopedSlots:e._u([{key:"selection",fn:function(t){return[e._t("selection",(function(){return[e.itemText&&t.item?a("div",[e.multiple||e.chips?a("v-chip",{attrs:{close:(e.clearable||!e.clearable&&!e.multiple)&&!e.readonly,small:""},on:{"click:close":function(a){return e.remove(t.item)}}},[t.item[e.itemText]?a("div",[t.item[e.itemText].length>40?a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(i){var n=i.on;return[a("span",e._g({},n),[e._v(" "+e._s(e._f("truncate")(t.item[e.itemText],40)))])]}}],null,!0)},[a("span",[e._v(e._s(t.item[e.itemText]))])]):a("span",[e._v(e._s(t.item[e.itemText]))])],1):a("div",[a("span",[e._v(e._s(t.item))])])]):a("div",[t.item[e.itemText]?a("div",[t.item[e.itemText].length>40?a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(i){var n=i.on;return[a("span",e._g({},n),[e._v(" "+e._s(e._f("truncate")(t.item[e.itemText],40)))])]}}],null,!0)},[a("span",[e._v(e._s(t.item[e.itemText]))])]):a("span",[e._v(e._s(t.item[e.itemText]))])],1):a("div",[a("span",[e._v(e._s(t.item))])])])],1):e._e()]}),{props:t})]}},{key:"item",fn:function(t){return[a("v-list-item-content",[a("v-list-item-title",[e._t("item",(function(){return[e.itemText&&t.item?a("div",[t.item[e.itemText]?a("div",[t.item[e.itemText].length>40?a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(i){var n=i.on;return[a("span",e._g({},n),[e._v(" "+e._s(e._f("truncate")(t.item[e.itemText],40)))])]}}],null,!0)},[a("span",[e._v(e._s(t.item[e.itemText]))])]):a("span",[e._v(e._s(t.item[e.itemText]))])],1):a("div",[a("span",[e._v(e._s(t.item))])])]):e._e()]}),{props:t})],2)],1)]}},{key:"append-item",fn:function(){return[!e.fullyLoaded&&e.showMoreIcon?a("div",[a("v-list-item-content",{staticClass:"px-4 pointer primary--text font-weight-bold"},[a("v-list-item-title",{on:{click:function(t){return e.fetchData()}}},[e._v(" Load More Items ... ")])],1)],1):e._e()]},proxy:!0}],null,!0),model:{value:e.selectedData,callback:function(t){e.selectedData=t},expression:"selectedData"}}),e._t("default")],2)},n=[],s=a("2909"),o=a("5530"),r=a("53ca"),l=a("1da1"),c=(a("96cf"),a("a9e3"),a("ac1f"),a("841c"),a("7db0"),a("d81d"),a("159b"),a("4de4"),a("4e827"),a("2ca0"),a("d3b7"),a("c740"),a("a434"),a("3ca3"),a("ddb0"),a("2b3d"),a("caad"),a("2532"),a("63ea")),u=a.n(c),d={props:{value:{type:[Number,String,Array,Object],default:void 0},id:{type:String,default:""},dataCyVariable:{type:String,default:""},endpoint:{type:String,default:""},itemText:{type:String,required:!0},itemValue:{type:String,required:!0},params:{type:Object,required:!1,default:function(){return{}}},itemsToExclude:{type:[Array,Number],default:null},forceFetch:{type:Boolean,default:!1},staticItems:{type:Array,default:function(){return[]}},errorMessages:{type:[String,Array],default:function(){return[]}},label:{type:String,default:""},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},hint:{type:String,default:void 0},persistentHint:{type:Boolean,required:!1,default:!1},multiple:{type:Boolean,required:!1,default:!1},clearable:{type:Boolean,default:!0},hideDetails:{type:Boolean,default:!1},solo:{type:Boolean,default:!1},flat:{type:Boolean,default:!1},chips:{type:Boolean,default:!1},prependInnerIcon:{type:String,default:void 0},cacheItems:{type:Boolean,default:!1},appliedClass:{type:String,default:""},placeholder:{type:String,default:""},dense:{type:Boolean,default:!1}},data:function(){return{componentKey:0,items:[],selectedData:null,search:null,initialFetchStarted:!1,nextLimit:null,nextOffset:null,showMoreIcon:!1,fullyLoaded:!1,isLoading:!1}},computed:{itemsSorted:function(){return this.sortBySearch(this.items,this.search?this.search.toLowerCase():"")}},watch:{value:{handler:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var a,i,n,s,o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=10;break}if(!this.forceFetch||this.initialFetchStarted){e.next=6;break}return this.initialFetchStarted=!0,e.next=5,this.fetchData();case 5:this.removeDuplicateItem();case 6:Array.isArray(t)?(n=[],"object"===Object(r["a"])(t[0])?(this.selectedData=t.map((function(e){return e[o.itemValue]})),t.forEach((function(e){var t=o.items.find((function(t){return t===e}));t||n.push(e)}))):(t.forEach((function(e){var t=o.items.find((function(t){return t[o.itemValue]===e}));t||n.push(e)})),this.selectedData=t),n.length>0&&(s=this.items).push.apply(s,n)):"object"===Object(r["a"])(t)?(this.selectedData=t[this.itemValue],a=this.items.find((function(e){return e[o.itemValue]===t})),a||this.items.push(t)):(this.selectedData=t,i=this.items.find((function(e){return e===t})),i||this.items.push(t)),this.updateData(this.selectedData),e.next=11;break;case 10:t||(this.selectedData=null);case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),immediate:!0},selectedData:function(e){this.updateData(e)},params:{handler:function(e,t){u()(e,t)||(this.fullyLoaded=!1,this.initialFetchStarted=!1,this.items=[],this.componentKey+=1)},deep:!0}},methods:{sortBySearch:function(e,t){var a=this.itemText,i=e.filter((function(e){return"object"===Object(r["a"])(e)}));return i.sort((function(e,i){return e[a].toLowerCase().startsWith(t)&&i[a].toLowerCase().startsWith(t)?e[a].toLowerCase().localeCompare(i[a].toLowerCase()):e[a].toLowerCase().startsWith(t)?-1:i[a].toLowerCase().startsWith(t)?1:e[a].toLowerCase().localeCompare(i[a].toLowerCase())}))},populateOnFocus:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.initialFetchStarted){t.next=2;break}return t.abrupt("return");case 2:return e.initialFetchStarted=!0,t.next=5,e.fetchData();case 5:e.removeDuplicateItem();case 6:case"end":return t.stop()}}),t)})))()},fetchData:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.staticItems.length>0)){t.next=3;break}return e.items=e.staticItems,t.abrupt("return");case 3:return a=e.nextLimit,i=e.nextOffset,e.search&&(a=null,i=null),e.isLoading=!0,t.next=9,e.$http.get(e.endpoint,{params:Object(o["a"])(Object(o["a"])({},e.params),{},{search:e.search,limit:a,offset:i})}).then((function(t){var a;t.results||(t.results=t),t.next?(e.showMoreIcon=!0,e.extractLimitOffset(t.next)):(e.showMoreIcon=!1,e.search||(e.fullyLoaded=!0)),e.itemsToExclude&&(t.results=e.excludeRecord(t.results)),(a=e.items).push.apply(a,Object(s["a"])(t.results))})).finally((function(){e.isLoading=!1}));case 9:case"end":return t.stop()}}),t)})))()},removeDuplicateItem:function(){var e=this,t=this.items.indexOf(this.selectedData);if(t>=0){var a=this.items.findIndex((function(t){return t[e.itemValue]===e.selectedData}));a>=0&&(this.items.splice(t,1),this.componentKey+=1)}},updateData:function(e){var t=this,a=[];e instanceof Array?e.forEach((function(e){a.unshift(t.items.find((function(a){return a[t.itemValue]===e})))})):a=this.items.find((function(a){return a[t.itemValue]===e})),this.$emit("input",e),this.$emit("update:selectedFullData",a)},searchText:function(){0!==this.$refs.autoComplete.filteredItems.length||this.fullyLoaded||this.fetchData()},extractLimitOffset:function(e){var t=new URL(e);this.nextLimit=t.searchParams.get("limit"),this.nextOffset=t.searchParams.get("offset")},excludeRecord:function(e){var t=this,a=[];return"number"===typeof this.itemsToExclude?a.push(this.itemsToExclude):a=this.itemsToExclude,e.filter((function(e){if(e[t.itemValue])return!a.includes(e[t.itemValue])}))},remove:function(e){if(this.selectedData instanceof Object){var t=this.selectedData.indexOf(e[this.itemValue]);t>=0&&this.selectedData.splice(t,1)}else this.selectedData=null},updateState:function(){this.search="",this.nextLimit&&(this.showMoreIcon=!0)}}},m=d,p=a("2877"),f=a("6544"),h=a.n(f),g=a("c6a6"),v=a("cc20"),b=a("5d23"),_=a("3a2f"),y=Object(p["a"])(m,i,n,!1,null,null,null);t["default"]=y.exports;h()(y,{VAutocomplete:g["a"],VChip:v["a"],VListItemContent:b["a"],VListItemTitle:b["c"],VTooltip:_["a"]})},"67b6":function(e,t,a){"use strict";var i=a("5530"),n=(a("b0c0"),a("2c64"),a("ba87")),s=a("9d26"),o=a("c37a"),r=a("7e2b"),l=a("a9ad"),c=a("4e82"),u=a("5311"),d=a("7560"),m=a("fe09"),p=a("80d2"),f=a("58df"),h=a("d9f7"),g=Object(f["a"])(r["a"],l["a"],u["a"],Object(c["a"])("radioGroup"),d["a"]);t["a"]=g.extend().extend({name:"v-radio",inheritAttrs:!1,props:{disabled:Boolean,id:String,label:String,name:String,offIcon:{type:String,default:"$radioOff"},onIcon:{type:String,default:"$radioOn"},readonly:Boolean,value:{default:null}},data:function(){return{isFocused:!1}},computed:{classes:function(){return Object(i["a"])(Object(i["a"])({"v-radio--is-disabled":this.isDisabled,"v-radio--is-focused":this.isFocused},this.themeClasses),this.groupClasses)},computedColor:function(){return m["a"].options.computed.computedColor.call(this)},computedIcon:function(){return this.isActive?this.onIcon:this.offIcon},computedId:function(){return o["a"].options.computed.computedId.call(this)},hasLabel:o["a"].options.computed.hasLabel,hasState:function(){return(this.radioGroup||{}).hasState},isDisabled:function(){return this.disabled||!!this.radioGroup&&this.radioGroup.isDisabled},isReadonly:function(){return this.readonly||!!this.radioGroup&&this.radioGroup.isReadonly},computedName:function(){return this.name||!this.radioGroup?this.name:this.radioGroup.name||"radio-".concat(this.radioGroup._uid)},rippleState:function(){return m["a"].options.computed.rippleState.call(this)},validationState:function(){return(this.radioGroup||{}).validationState||this.computedColor}},methods:{genInput:function(e){return m["a"].options.methods.genInput.call(this,"radio",e)},genLabel:function(){return this.hasLabel?this.$createElement(n["a"],{on:{click:m["b"]},attrs:{for:this.computedId},props:{color:this.validationState,focused:this.hasState}},Object(p["s"])(this,"label")||this.label):null},genRadio:function(){return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.$createElement(s["a"],this.setTextColor(this.validationState,{props:{dense:this.radioGroup&&this.radioGroup.dense}}),this.computedIcon),this.genInput(Object(i["a"])({name:this.computedName,value:this.value},this.attrs$)),this.genRipple(this.setTextColor(this.rippleState))])},onFocus:function(e){this.isFocused=!0,this.$emit("focus",e)},onBlur:function(e){this.isFocused=!1,this.$emit("blur",e)},onChange:function(){this.isDisabled||this.isReadonly||this.isActive||this.toggle()},onKeydown:function(){}},render:function(e){var t={staticClass:"v-radio",class:this.classes,on:Object(h["c"])({click:this.onChange},this.listeners$)};return e("div",t,[this.genRadio(),this.genLabel()])}})},"741f":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return["true"!==e.useNepaliDate?a("v-text-field",e._g({class:e.appliedClass,attrs:{id:e.id,clearable:!e.readOnly,"data-cy":"date-picker-"+e.dataCyVariable,disabled:e.disabled,error:e.errorMessages.length>0,"error-messages":e.errorMessages,"hide-details":e.hideDetails,hint:e.hint,label:e.label,"prepend-inner-icon":e.prependInnerIcon,"single-line":e.singleLine,value:e.value,readonly:""},on:{paste:function(e){e.preventDefault()},"click:clear":function(t){return e.$emit("close")}},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}},i)):a("v-text-field",e._g({class:e.appliedClass,attrs:{id:e.id,label:e.label,value:e.value,"data-cy":"date-picker-"+e.dataCyVariable,error:e.errorMessages.length>0,"error-messages":e.errorMessages,disabled:e.disabled,clearable:!e.readOnly,hint:e.hint,"hide-details":e.hideDetails,"single-line":e.singleLine,"prepend-inner-icon":e.prependInnerIcon,readonly:""},on:{paste:function(e){e.preventDefault()},"click:clear":function(t){return e.$emit("close")}},model:{value:e.nepaliDate,callback:function(t){e.nepaliDate=t},expression:"nepaliDate"}},i))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},["true"===e.showCalendarChoice?a("v-btn",{attrs:{block:"",depressed:"",tile:"",color:"shade primary--text font-weight-bold"},on:{click:function(t){e.international=!e.international}}},[e._v(" "+e._s(e.international?"NE":"EN")+" ")]):e._e(),e.readOnly||e.international?e._e():a("localized-calendar",{ref:"datePicker",attrs:{"fiscal-year":[],"localized-date":e.localizedDate},on:{"update:localizedDate":function(t){e.localizedDate=t},"update:localized-date":function(t){e.localizedDate=t},"limit-mapping":function(t){e.limitMapping=t}},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}}),!e.readOnly&&e.international?a("v-date-picker",{attrs:{type:e.type,"allowed-dates":e.allowedDates,"no-title":""},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}}):e._e()],1)],1)},n=[],s=a("1da1"),o=(a("b64b"),a("99af"),a("96cf"),a("3bce")),r=a("338b"),l=a("cf45"),c={components:{LocalizedCalendar:o["a"]},mixins:[r["a"]],props:{value:{type:String,default:""},id:{type:String,default:""},type:{type:String,default:"date"},label:{type:String,default:""},disabled:{type:Boolean,default:!1},errorMessages:{type:[String,Array],default:function(){return[]}},dataCyVariable:{type:String,default:""},readOnly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},hint:{type:String,default:""},hideDetails:{type:Boolean,default:!1},singleLine:{type:Boolean,default:!1},appliedClass:{type:String,default:""},prependInnerIcon:{type:String,default:"mdi-calendar-month-outline"}},data:function(){return{menu:!1,date:this.value,nepaliDate:this.value,localizedDate:"",international:"English"===Object(l["f"])("VUE_APP_SET_DEFAULT_CALENDAR_TO"),showCalendarChoice:Object(l["f"])("VUE_APP_SHOW_CALENDAR_CHOICE"),useNepaliDate:localStorage.useNepaliDate,hasConverted:!1}},watch:{value:function(e){this.date=e},date:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e&&"true"===t.useNepaliDate&&t.hasConverted?t.nepaliDate=t.ad2bs(e):t.nepaliDate=e,a.next=3,t.$emit("input",e);case 3:return a.next=5,t.$emit("update:localizedDate",t.localizedDate);case 5:if(!e){a.next=8;break}return a.next=8,t.$emit("blur");case 8:case"end":return a.stop()}}),a)})))()},international:function(e){this.$emit("update:international",e)}},created:function(){this.date&&"true"===this.useNepaliDate&&!this.hasConverted?(this.hasConverted=!0,this.date=this.bs2ad(this.date)):this.date||"true"!==this.useNepaliDate||(this.hasConverted=!0)},methods:{allowedDates:function(e){if("false"===this.showCalendarChoice&&"English"===Object(l["f"])("VUE_APP_SET_DEFAULT_CALENDAR_TO"))return!0;var t=[],a="",i="";t=Object.keys(this.bs),a=t[0],i=t[t.length-1];var n={max:this.bs2ad("".concat(i,"-12-").concat(this.bs[i][11])),min:this.bs2ad("".concat(a,"-01-01"))};return e<=n.max&&e>=n.min}}},u=c,d=a("2877"),m=a("6544"),p=a.n(m),f=a("8336"),h=a("2e4b"),g=a("e449"),v=a("8654"),b=Object(d["a"])(u,i,n,!1,null,null,null);t["default"]=b.exports;p()(b,{VBtn:f["a"],VDatePicker:h["a"],VMenu:g["a"],VTextField:v["a"]})},"878b":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-card-actions",[a("v-spacer"),e.hideClear?e._e():a("v-btn",{attrs:{text:"",small:""},domProps:{textContent:e._s("Clear")},on:{click:function(t){return e.$emit("clearForm")}}}),a("v-btn",{attrs:{disabled:e.formErrors||e.disabled,color:e.deleteInstance?"red":"primary",depressed:"",small:"",loading:e.loading,type:"submit"}},[a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v(" mdi-content-save-outline ")]),e._v(" "+e._s(e.deleteInstance?"Delete":"Save")+" ")],1)],1)],1)},n=[],s={props:{hideClear:{type:Boolean,default:!1},formErrors:{type:Boolean,required:!0},disabled:{type:Boolean,default:!1},deleteInstance:{type:Boolean,required:!1,default:!1},loading:{type:Boolean,default:!1}}},o=s,r=a("2877"),l=a("6544"),c=a.n(l),u=a("8336"),d=a("99d9"),m=a("132d"),p=a("2fa4"),f=Object(r["a"])(o,i,n,!1,null,null,null);t["a"]=f.exports;c()(f,{VBtn:u["a"],VCardActions:d["a"],VIcon:m["a"],VSpacer:p["a"]})},a79c:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return s}));var i=a("53ca");a("b0c0");function n(e,t,a){var o,r,l=t||new FormData;for(var c in e)if(Object.prototype.hasOwnProperty.call(e,c))if(o=a?a+"."+c:c,r=e[c],"boolean"===typeof r||"number"===typeof r)l.append(o,r);else if(Array.isArray(r))for(var u=0;u<r.length;u++)l.append(o,r[u]);else"object"!==Object(i["a"])(r)||s(r)?s(r)?l.append(o,r,r.name):r?l.append(o,r):r||"undefined"!==typeof r&&l.append(o,""):n(r,l,c);return l}function s(e){return e instanceof File||e instanceof Blob}},e4a9:function(e,t,a){"use strict";a("99af");t["a"]={Meetings:function(e){return"/org/".concat(e,"/meeting-room/")},singleMeeting:function(e,t){return"/org/".concat(e,"/meeting-room/").concat(t,"/")},availableMeeting:function(e){return"/org/".concat(e,"/meeting-room/available_rooms/")},importMeetingRoom:function(e){return"/org/".concat(e,"/meeting-room/import/")},downloadSampleMeetingRoom:function(e){return"/org/".concat(e,"/meeting-room/import/sample")}}},e59e:function(e,t,a){"use strict";a("99af");t["a"]={getBranch:function(e){return"/org/".concat(e,"/branch/")},postBranch:function(e){return"/org/".concat(e,"/branch/")},getBranchDetail:function(e,t){return"/org/".concat(e,"/branch/").concat(t,"/")},updateBranch:function(e,t){return"/org/".concat(e,"/branch/").concat(t,"/")},deleteBranch:function(e,t){return"/org/".concat(e,"/branch/").concat(t,"/")},importBranch:function(e){return"/org/".concat(e,"/branch/import/")},downloadSampleBranch:function(e){return"/org/".concat(e,"/branch/import/sample")},exportBranch:function(e){return"/org/".concat(e,"/branch/export")},branchType:function(e){return"/org/".concat(e,"/branch-type")},branchTypeDetail:function(e,t){return"org/".concat(e,"/branch-type/").concat(t)}}},ea9f:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("vue-page-wrapper",{attrs:{title:e.htmlTitle,"bread-crumbs":e.breadCrumbItems}},[a("v-card",[a("vue-card-title",{attrs:{title:"Office Equipments",subtitle:"List of Office Equipments.",icon:"mdi-inbox-multiple"}},[a("template",{slot:"actions"},[!e.displayForm&&e.verifyPermission(e.allPermissions.OFFICE_EQUIPMENTS_PERMISSION)?a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("a",e._g({staticClass:"mr-3 text-body-1 font-weight-bold",on:{click:function(t){e.genericUploadBottomSheet=!0}}},i),[a("v-icon",{attrs:{size:"16",color:"primary"}},[e._v("mdi-download")]),e._v(" Import ")],1),a("export-report",{attrs:{"export-url":e.getExportUrl,filters:e.DataTableFilter}})]}}],null,!1,1352232528)},[a("span",[e._v(" Upload Equipment list in excel format. ")])]):e._e(),e.verifyPermission(e.allPermissions.OFFICE_EQUIPMENTS_PERMISSION)?a("v-btn",{attrs:{small:"",color:"primary",depressed:""},on:{click:function(t){return e.openDialog("createAsset")}}},[e._v(" Create New ")]):e._e(),a("v-btn",{attrs:{icon:""},on:{click:function(t){e.showFilters=!e.showFilters}}},[a("v-icon",{attrs:{small:""},domProps:{textContent:e._s("mdi-filter-variant")}})],1)],1)],2),a("v-divider"),a("v-slide-y-transition",[e.showFilters?a("v-row",{staticClass:"px-3"},[a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{value:e.filter.search,placeholder:"Search for Name/ Code","prepend-inner-icon":"mdi-magnify"},on:{change:function(t){e.filter.search=t}}})],1),a("v-col",{attrs:{cols:"4"}},[a("vue-auto-complete",{attrs:{endpoint:e.branchEndpoint,params:{is_archived:"false"},label:"Filter with Branch","prepend-inner-icon":"mdi-account-multiple-outline","item-text":"name","item-value":"slug"},model:{value:e.filter.branch,callback:function(t){e.$set(e.filter,"branch",t)},expression:"filter.branch"}})],1),a("v-col",{attrs:{cols:"4"}},[a("vue-auto-complete",{attrs:{endpoint:e.divisionEndpoint,params:{is_archived:"false"},label:"Filter with Division","prepend-inner-icon":"mdi-account-multiple-outline","item-text":"name","item-value":"slug"},model:{value:e.filter.division,callback:function(t){e.$set(e.filter,"division",t)},expression:"filter.division"}})],1),a("v-col",{attrs:{cols:"4"}},[a("vue-users-auto-complete",{attrs:{params:{organization:e.getOrganizationSlug},clearable:""},model:{value:e.filter.user,callback:function(t){e.$set(e.filter,"user",t)},expression:"filter.user"}})],1),a("v-col",{attrs:{cols:"4"}},[a("vue-auto-complete",{attrs:{endpoint:e.equipmentCategoryEndpoint,label:"Filter with Equipment Category","prepend-inner-icon":"mdi-account-multiple-outline","item-text":"name","item-value":"slug"},model:{value:e.filter.category,callback:function(t){e.$set(e.filter,"category",t)},expression:"filter.category"}})],1)],1):e._e()],1),e.showFilters?a("v-divider"):e._e(),a("v-row",[a("v-col",{attrs:{md:"8"}},[a("v-tabs",{attrs:{"show-arrows":"","slider-color":"primary"},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[e._l(e.tabs,(function(t,i){return[a("v-tab",{key:i,attrs:{ripple:"",disabled:e.loading},on:{click:function(a){return e.changeStatus(t.text)}}},[a("span",{staticClass:"text-capitalize mr-2"},[e._v(" "+e._s(t.text)+" ")]),a("v-chip",{staticClass:"white--text",attrs:{color:t.color,small:""}},[e._v(" "+e._s(e.stats[t.value])+" ")])],1)]}))],2)],1),a("v-col",{attrs:{md:"4"}},[a("v-tabs",{attrs:{right:"",optional:"","show-arrows":""}},[a("v-tab",{staticClass:"text-center",on:{click:function(t){""===e.filter.status||"Idle"===e.filter.status||"Damaged"===e.filter.status?e.filter.status="Used":e.filter.status=""}}},[e._v(" Used"),a("span",{staticClass:"warning--text mx-1"},[e._v("("+e._s(e.stats.used)+")")])]),a("v-tab",{staticClass:"text-center",on:{click:function(t){""===e.filter.status||"Used"===e.filter.status||"Damaged"===e.filter.status?e.filter.status="Idle":e.filter.status=""}}},[e._v(" Idle"),a("span",{staticClass:"success--text mx-1"},[e._v("("+e._s(e.stats.idle)+")")])]),a("v-tab",{staticClass:"text-center",on:{click:function(t){""===e.filter.status||"Used"===e.filter.status||"Idle"===e.filter.status?e.filter.status="Damaged":e.filter.status=""}}},[e._v(" Damaged"),a("span",{staticClass:"danger--text mx-1"},[e._v("("+e._s(e.stats.damaged)+")")])])],1)],1)],1),a("v-divider"),a("v-data-table",{attrs:{headers:e.headers,items:e.fetchedResults,"sort-desc":e.pagination.descending,"sort-by":e.pagination.sortBy,page:e.pagination.page,"items-per-page":e.pagination.rowsPerPage,"footer-props":e.footerProps,"server-items-length":e.pagination.totalItems,"mobile-breakpoint":0,"must-sort":"","single-expand":"","item-key":"name"},on:{"update:sortDesc":function(t){return e.$set(e.pagination,"descending",t)},"update:sort-desc":function(t){return e.$set(e.pagination,"descending",t)},"update:sortBy":function(t){return e.$set(e.pagination,"sortBy",t)},"update:sort-by":function(t){return e.$set(e.pagination,"sortBy",t)},"update:page":function(t){return e.$set(e.pagination,"page",t)},"update:itemsPerPage":function(t){return e.$set(e.pagination,"rowsPerPage",t)},"update:items-per-page":function(t){return e.$set(e.pagination,"rowsPerPage",t)}},scopedSlots:e._u([{key:"item",fn:function(t){return[a("tr",[a("td",{staticClass:"py-2"},[a("a",{domProps:{textContent:e._s(t.item.name)},on:{click:function(a){e.actionData=t.item,e.openBottomSheet("viewDetails")}}})]),t.item.category?a("td",{domProps:{textContent:e._s(t.item.category.name)}}):a("td",{domProps:{textContent:e._s("N/A")}}),a("td",{domProps:{textContent:e._s(t.item.code)}}),a("td",[t.item.assigned_detail?[t.item.assigned_detail.division||t.item.assigned_detail.branch?a("div",[e._v(" "+e._s(t.item.assigned_detail.division?t.item.assigned_detail.division.name:"")+" "+e._s(t.item.assigned_detail.division&&t.item.assigned_detail.branch?" / ":"")+" "+e._s(t.item.assigned_detail.branch?t.item.assigned_detail.branch.name:"")+" ")]):t.item.assigned_detail.user?a("div",[a("vue-user",{attrs:{user:t.item.assigned_detail.user}})],1):t.item.assigned_detail.meeting_room?a("div",[e._v(" "+e._s(t.item.assigned_detail.meeting_room.name)+" ")]):e._e()]:[e._v(" N/A ")]],2),a("td",[t.item.assigned_detail?a("div",[e._v(" "+e._s(t.item.assigned_detail.assigned_date||"N/A")+" ")]):e._e()]),a("td",[a("div",{staticClass:"font-weight-bold",class:e.statusColor[t.item.status]+"--text",domProps:{textContent:e._s(t.item.status)}})]),a("td",[a("vue-context-menu",{attrs:{"context-list":[{name:"View Details",icon:"mdi-eye-outline",color:"grey darken-2",disabled:!e.verifyPermission([e.allPermissions.OFFICE_EQUIPMENTS_PERMISSION,e.allPermissions.ORGANIZATION_SETTINGS_VIEW_PERMISSION]),disable_message:"Not Allowed"},{name:"Assign",icon:"mdi-account-outline",color:"grey darken-2",disabled:["Used","Damaged"].includes(t.item.status),disable_message:"Not Allowed"},{name:"Update Details",icon:"mdi-pencil-outline",color:"grey darken-2",disabled:!e.verifyPermission(e.allPermissions.OFFICE_EQUIPMENTS_PERMISSION),disable_message:"Not Allowed"},{name:"Damaged"===t.item.status?"Unmark As Damaged":"Mark As Damaged",icon:"mdi-close",color:"grey darken-2",disabled:!["Used","Idle","Damaged"].includes(t.item.status),disable_message:"Not Allowed"},{name:"Delete Details",icon:"mdi-delete-outline",color:"grey darken-2",disabled:!("Used"!==t.item.status&&e.verifyPermission(e.allPermissions.OFFICE_EQUIPMENTS_PERMISSION)),disable_message:"Not Allowed"},{name:"Unassign",icon:"mdi-close",color:"grey darken-2",disabled:!("Used"===t.item.status&&e.verifyPermission(e.allPermissions.OFFICE_EQUIPMENTS_PERMISSION)),disable_message:"Not Allowed"}]},on:{click0:function(a){e.actionData=t.item,e.openBottomSheet("viewDetails")},click1:function(a){e.actionData=t.item,e.openDialog("assign")},click2:function(a){e.actionData=t.item,e.openDialog("createAsset")},click3:function(a){e.assetSlug=t.item.slug,e.unDamaged("Damaged"===t.item.status?"unassign":"damaged")},click4:function(a){e.assetSlug=t.item.slug,e.deleteNotification.dialog=!0},click5:function(a){e.assetSlug=t.item.slug,e.unassignNotification.dialog=!0}}})],1)])]}},{key:"expanded-item",fn:function(t){var i=t.item,n=t.headers;return[a("td",{attrs:{colspan:n.length}},[a("v-card",{attrs:{flat:""}},[a("v-card-text",[a("p",[a("v-icon",{attrs:{left:"",small:""},domProps:{textContent:e._s("mdi-information-outline")}}),e._v(" Description ")],1),a("v-col",{domProps:{textContent:e._s(i.description||"N/A")}})],1)],1)],1)]}}])},[a("template",{slot:"no-data"},[a("data-table-no-data",{attrs:{loading:e.loading}})],1)],2)],1),a("v-dialog",{attrs:{"max-width":"920px",scrollable:"",persistent:""},model:{value:e.displayForm,callback:function(t){e.displayForm=t},expression:"displayForm"}},[e.actionData&&e.displayForm?a(e.dialogComponent,{tag:"component",attrs:{"action-data":e.actionData},on:{close:e.dismissForm}}):e._e(),e.displayForm&&!e.actionData?a(e.dialogComponent,{tag:"component",on:{close:e.dismissForm}}):e._e()],1),a("v-bottom-sheet",{attrs:{scrollable:"",persistent:""},model:{value:e.display,callback:function(t){e.display=t},expression:"display"}},[e.actionData&&e.display?a(e.bottomSheetComponent,{tag:"component",attrs:{"action-data":e.actionData},on:{close:e.dismissForm}}):e._e(),e.display&&!e.actionData?a(e.bottomSheetComponent,{tag:"component",on:{close:e.dismissForm}}):e._e()],1),a("vue-dialog",{attrs:{notify:e.deleteNotification},on:{close:function(t){e.deleteNotification.dialog=!1},agree:e.deleteAssetItem}}),a("vue-dialog",{attrs:{notify:e.damagedNotification},on:{close:function(t){e.damagedNotification.dialog=!1},agree:e.markUnmarkasDamaged}}),a("vue-dialog",{attrs:{notify:e.unassignNotification},on:{close:function(t){e.unassignNotification.dialog=!1},agree:function(t){return e.unAssignEmployee()}}}),a("v-dialog",{attrs:{persistent:"","max-width":"520"},on:{keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;e.bottomSheetForm=!1}},model:{value:e.genericUploadBottomSheet,callback:function(t){e.genericUploadBottomSheet=t},expression:"genericUploadBottomSheet"}},[e.genericUploadBottomSheet?a("v-card",[a("vue-card-title",{attrs:{title:"Import Equipment",subtitle:"import equipment file",icon:"mdi-download",closable:""},on:{close:function(t){e.genericUploadBottomSheet=!1,e.$router.push({name:"admin-slug-organization-settings-equipment"})}}}),a("v-divider"),a("generic-upload",{attrs:{"sample-file-name":"equipment-import-sample","request-api":e.requestApi()},on:{uploadSuccess:e.dismissForm}})],1):e._e()],1)],1)},n=[],s=a("1da1"),o=(a("96cf"),a("ac1f"),a("841c"),a("4de4"),a("d3b7"),a("17cc")),r=a("0549"),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.deleteAsset?e._e():a("v-form",{ref:"assetForm",on:{submit:function(t){return t.preventDefault(),e.getFormAction.apply(null,arguments)}}},[a("v-card",[a("vue-card-title",{attrs:{icon:e.actionData.slug?"mdi-pencil-outline":"mdi-inbox-multiple",title:e.actionData.slug?"Update Office Equipments":"Create Office Equipments",subtitle:e.actionData.slug?"Here you can update Office Equipments":"Here you can create Office Equipments",closable:""},on:{close:function(t){e.clearForm(),e.$emit("close")}}}),a("v-divider"),e.nonFieldErrors?a("non-field-form-errors",{attrs:{"non-field-errors":e.nonFieldErrors}}):e._e(),a("v-card-text",{staticClass:"scrollbar-md"},[a("v-row",[a("v-col",{attrs:{md:"4",cols:"12"}},[a("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required|max:150",expression:"'required|max:150'"}],attrs:{counter:150,"prepend-inner-icon":"mdi-folder-outline"},model:{value:e.formValues.name,callback:function(t){e.$set(e.formValues,"name",t)},expression:"formValues.name"}},"v-text-field",e.veeValidate("name","Name *"),!1))],1),a("v-col",{attrs:{md:"4",cols:"12"}},[a("vue-auto-complete",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{endpoint:e.categoryEndpoint,"item-text":"name","item-value":"slug"},model:{value:e.formValues.category,callback:function(t){e.$set(e.formValues,"category",t)},expression:"formValues.category"}},"vue-auto-complete",e.veeValidate("category","Category *"),!1))],1),a("v-col",{attrs:{md:"4",cols:"12"}},[a("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"max:150",expression:"'max:150'"}],attrs:{counter:150,"prepend-inner-icon":"mdi-information-outline"},model:{value:e.formValues.brand_name,callback:function(t){e.$set(e.formValues,"brand_name",t)},expression:"formValues.brand_name"}},"v-text-field",e.veeValidate("brand_name","Brand Name"),!1))],1),a("v-col",{attrs:{md:"4",cols:"12"}},[a("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required|max:50",expression:"'required|max:50'"}],attrs:{counter:50,"prepend-inner-icon":"mdi-folder-outline"},model:{value:e.formValues.code,callback:function(t){e.$set(e.formValues,"code",t)},expression:"formValues.code"}},"v-text-field",e.veeValidate("code","Code *"),!1))],1),a("v-col",{attrs:{md:"4",cols:"12"}},[a("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"",expression:"''"}],attrs:{min:"0","prepend-inner-icon":"mdi-folder-outline"},model:{value:e.formValues.amount,callback:function(t){e.$set(e.formValues,"amount",t)},expression:"formValues.amount"}},"v-text-field",e.veeValidate("amount","Amount"),!1))],1),a("v-col",{attrs:{md:"4",cols:"12"}},[a("vue-date-picker",e._b({directives:[{name:"validate",rawName:"v-validate",value:"",expression:"''"}],model:{value:e.formValues.purchased_date,callback:function(t){e.$set(e.formValues,"purchased_date",t)},expression:"formValues.purchased_date"}},"vue-date-picker",e.veeValidate("purchased_date","Purchased Date"),!1))],1),a("v-col",{attrs:{md:"4",cols:"12"}},[a("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"max:50",expression:"'max:50'"}],attrs:{counter:50},model:{value:e.formValues.service_order,callback:function(t){e.$set(e.formValues,"service_order",t)},expression:"formValues.service_order"}},"v-text-field",e.veeValidate("service_order","Service Order"),!1))],1),a("v-col",{attrs:{md:"4",cols:"12"}},[a("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"max:50",expression:"'max:50'"}],attrs:{counter:50},model:{value:e.formValues.bill_number,callback:function(t){e.$set(e.formValues,"bill_number",t)},expression:"formValues.bill_number"}},"v-text-field",e.veeValidate("bill_number","Bill Number"),!1))],1),a("v-col",{attrs:{md:"4",cols:"12"}},[a("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"max:16",expression:"'max:16'"}],attrs:{counter:16},model:{value:e.formValues.reference_number,callback:function(t){e.$set(e.formValues,"reference_number",t)},expression:"formValues.reference_number"}},"v-text-field",e.veeValidate("reference_number","Reference Number"),!1))],1),a("v-col",{attrs:{md:"4",cols:"12"}},[a("v-radio-group",{directives:[{name:"validate",rawName:"v-validate",value:"",expression:"''"}],attrs:{"data-cy":"radio-group-office-equipment",disabled:"Used"===e.formValues.status,mandatory:""},model:{value:e.formValues.assigned_to,callback:function(t){e.$set(e.formValues,"assigned_to",t)},expression:"formValues.assigned_to"}},[a("p",[e._v("Assign To:")]),a("v-radio",{attrs:{"data-cy":"radio-user",label:"User",value:"User"}}),a("v-radio",{attrs:{"data-cy":"radio-division",label:"Division / Branch",value:"Division / Branch"}}),a("v-radio",{attrs:{"data-cy":"radio-meeting-room",label:"Meeting Room",value:"Meeting Room"}})],1)],1),a("v-col",{attrs:{md:"4",cols:"12"}},[a("file-upload",e._b({attrs:{default:e.formValues.equipment_picture},model:{value:e.formValues.equipment_picture,callback:function(t){e.$set(e.formValues,"equipment_picture",t)},expression:"formValues.equipment_picture"}},"file-upload",e.veeValidate("equipment_picture","Image"),!1))],1),a("v-col",{attrs:{md:"4",cols:"12"}},[a("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"max:512",expression:"'max:512'"}],attrs:{counter:"512"},model:{value:e.formValues.remark,callback:function(t){e.$set(e.formValues,"remark",t)},expression:"formValues.remark"}},"v-text-field",e.veeValidate("remark","Remarks"),!1))],1),a("v-col",{attrs:{md:"12",cols:"12"}},[a("div",[e._v("Specifications / Configurations:")]),a("vue-trumbowyg",e._b({directives:[{name:"validate",rawName:"v-validate",value:"max:100000",expression:"'max:100000'"}],attrs:{"data-cy-variable":"specification"},model:{value:e.formValues.specifications,callback:function(t){e.$set(e.formValues,"specifications",t)},expression:"formValues.specifications"}},"vue-trumbowyg",e.veeValidate("specifications","Specifications"),!1))],1)],1)],1),a("v-divider"),a("form-submit",{attrs:{"form-errors":e.errors.any()},on:{clearForm:e.clearForm,submit:e.getFormAction}})],1)],1)},c=[],u=a("c44a"),d=a("a23a"),m=a("ab8a"),p=a("878b"),f=a("149b"),h=a("741f"),g=a("1467"),v=a("f82f"),b=a("a79c"),_=a("5660"),y={components:{VueAutoComplete:_["default"],FileUpload:v["a"],VueTrumbowyg:g["default"],VueDatePicker:h["default"],NonFieldFormErrors:m["default"],FormSubmit:p["a"]},mixins:[u["a"]],props:{actionData:{type:Object,required:!1,default:function(){return{name:"",category:null,brand_name:"",code:"",amount:null,purchased_date:"",service_order:"",bill_number:"",reference_number:"",assigned_to:"",status:null,specifications:"",equipment_picture:null,remark:""}}},deleteAsset:{type:Boolean,default:!1}},data:function(){return{formValues:this.deepCopy(this.actionData),orgSlug:this.$route.params.slug,categoryEndpoint:"",assetTypes:[{text:"Fixed",value:"Fixed"},{text:"Tangible",value:"Tangible"},{text:"Intangible",value:"Intangible"},{text:"Current",value:"Current"},{text:"Financial",value:"Financial"}],statusChoices:[{text:"Idle",value:"Idle"},{text:"Used",value:"Used"},{text:"Damaged",value:"Damaged"}],dialog:!1}},created:function(){this.categoryEndpoint=d["a"].equipmentCategories,this.deleteAsset&&this.getFormAction(),this.actionData.slug&&this.getDetails()},methods:{getFormAction:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.validateAllFields();case 2:if(!t.sent){t.next=6;break}if(!e.deleteAsset){t.next=5;break}return t.abrupt("return",e.deleteAssetItem());case 5:return t.abrupt("return",e.formValues.slug?e.updateAsset():e.createAsset());case 6:case"end":return t.stop()}}),t)})))()},getDetails:function(){var e=this;this.$http.get(f["a"].getAssetsDetails(this.getOrganizationSlug,this.actionData.slug)).then((function(t){e.actionData=t,e.actionData.category=t.category.slug,e.formValues=e.deepCopy(e.actionData)}))},createAsset:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.validateAllFields();case 2:if(!t.sent){t.next=4;break}e.$http.post(f["a"].postAssets(e.orgSlug),Object(b["b"])(e.formValues)).then((function(){e.notifyUser("Successfully created Equipment","green"),e.clearForm(),e.$emit("close")})).catch((function(t){e.notifyInvalidFormResponse(),e.pushErrors(t)}));case 4:case"end":return t.stop()}}),t)})))()},updateAsset:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.validateAllFields();case 2:if(!t.sent){t.next=5;break}e.formValues.equipment_picture instanceof File||delete e.formValues.equipment_picture,e.$http.put(f["a"].putAssets(e.orgSlug,e.actionData.slug),Object(b["b"])(e.formValues)).then((function(){e.notifyUser("Successfully updated Equipment","green"),e.clearForm(),e.$emit("close")})).catch((function(t){e.notifyInvalidFormResponse(),e.pushErrors(t)}));case 5:case"end":return t.stop()}}),t)})))()},clearForm:function(){this.errors.clear(),this.$refs.assetForm.reset(),this.formValues.specifications="",this.clearNonFieldErrors()}}},x=y,D=a("2877"),C=a("6544"),w=a.n(C),S=a("b0af"),V=a("99d9"),k=a("62ad"),E=a("ce7e"),A=a("4bd4"),O=a("67b6"),I=a("43a6"),T=a("0fd9b"),q=a("8654"),N=Object(D["a"])(x,l,c,!1,null,null,null),P=N.exports;w()(N,{VCard:S["a"],VCardText:V["c"],VCol:k["a"],VDivider:E["a"],VForm:A["a"],VRadio:O["a"],VRadioGroup:I["a"],VRow:T["a"],VTextField:q["a"]});var F=a("ea98"),U=a("a51f"),$=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("vue-card-title",{attrs:{icon:"mdi-eye-outline",title:"View Office Equipment Detail",subtitle:"Here you can view the details about Office Equipment",closable:"",dark:""},on:{close:function(t){return e.$emit("close")}}}),a("v-divider"),a("v-card-text",{staticClass:"scrollbar-md"},[a("v-row",[a("v-col",{attrs:{md:"2"}},[a("v-img",{staticClass:"grey lighten-5",attrs:{src:e.equipmentDetails.equipment_picture,contain:"","aspect-ratio":"1"},on:{click:function(t){return e.openDocument()}}})],1),a("v-col",{attrs:{md:"10"}},[a("v-row",[a("v-col",{attrs:{md:"3"}},[a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("span",[a("v-icon",{attrs:{small:""},domProps:{textContent:e._s("mdi-account-outline")}})],1),a("span",{staticClass:"font-weight-medium"},[e._v("Name :")])]),a("v-col",{attrs:{cols:"8"}},[a("span",[a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("span",e._g({domProps:{textContent:e._s(e.equipmentDetails.name?e.equipmentDetails.name:"Not Available")}},i))]}}])},[a("span",{domProps:{textContent:e._s(e.equipmentDetails.name?e.equipmentDetails.name:"Not Available")}})])],1)])],1),a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("span",[a("v-icon",{attrs:{small:""},domProps:{textContent:e._s("mdi-list-status")}})],1),a("span",{staticClass:"font-weight-medium"},[e._v("Status :")])]),a("v-col",{attrs:{cols:"8"}},[a("span",[e._v(" "+e._s(e.equipmentDetails.status||"N/A"))])])],1),a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("span",[a("v-icon",{attrs:{small:""},domProps:{textContent:e._s("mdi-file-document-outline")}})],1),a("span",{staticClass:"font-weight-medium"},[e._v(" Code :")])]),a("v-col",{attrs:{cols:"8"}},[a("span",[e._v(" "+e._s(e.equipmentDetails.code)+" ")])])],1),a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("span",[a("v-icon",{attrs:{small:""},domProps:{textContent:e._s("mdi-file-document-outline")}})],1),a("span",{staticClass:"font-weight-medium"},[e._v(" Amount :")])]),a("v-col",{attrs:{cols:"8"}},[e.equipmentDetails.amount?a("span",{domProps:{textContent:e._s("Rs "+e.equipmentDetails.amount.toLocaleString())}}):a("span",{domProps:{textContent:e._s("N/A")}})])],1)],1),a("v-col",{attrs:{md:"4"}},[a("v-row",[a("v-col",[a("span",[a("v-icon",{attrs:{small:""},domProps:{textContent:e._s("mdi-file-document-outline")}})],1),a("span",{staticClass:"font-weight-medium"},[e._v(" Brand Name :")])]),a("v-col",[a("span",[e._v(" "+e._s(e.equipmentDetails.brand_name||"N/A")+" ")])])],1),a("v-row",[a("v-col",[a("span",[a("v-icon",{attrs:{small:""},domProps:{textContent:e._s("mdi-file-document-outline")}})],1),a("span",{staticClass:"font-weight-medium"},[e._v("Bill Number :")])]),a("v-col",[a("span",[e._v(" "+e._s(e.equipmentDetails.bill_number||"N/A"))])])],1),a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-icon",{attrs:{small:""},domProps:{textContent:e._s("mdi-file-document-outline")}}),a("span",{staticClass:"font-weight-medium"},[e._v("Service Order Number :")])],1),a("v-col",{attrs:{cols:"6"}},[a("span",[e._v(e._s(e.equipmentDetails.service_order||"N/A"))])])],1),a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("span",[a("v-icon",{attrs:{small:""},domProps:{textContent:e._s("mdi-file-document-outline")}})],1),a("span",{staticClass:"font-weight-medium"},[e._v("Equipment Category :")])]),a("v-col",{attrs:{cols:"6"}},[a("span",[e._v(e._s(e.get(e.equipmentDetails.category,"name")))])])],1)],1),a("v-col",{attrs:{md:"4"}},[a("v-row",[a("v-col",[a("span",[a("v-icon",{attrs:{small:""},domProps:{textContent:e._s("mdi-calendar-month-outline")}})],1),a("span",{staticClass:"font-weight-medium mx-2"},[e._v(" Purchased Date :")])]),a("v-col",[a("span",[e._v(" "+e._s(e.equipmentDetails.purchased_date||"N/A")+" ")])])],1),a("v-row",[a("v-col",[a("span",[a("v-icon",{attrs:{small:""},domProps:{textContent:e._s("mdi-file-document-outline")}})],1),a("span",{staticClass:"font-weight-medium"},[e._v(" Reference Number :")])]),a("v-col",[a("span",[e._v(" "+e._s(e.equipmentDetails.reference_number||"N/A")+" ")])])],1),a("v-row",[a("v-col",[a("span",[a("v-icon",{attrs:{small:""},domProps:{textContent:e._s("mdi-account-outline")}})],1),a("span",{staticClass:"font-weight-medium"},[e._v(" Assigned To :")])]),a("v-col",[a("span",[e._v(" "+e._s(e.assignedTo||"N/A")+" ")])])],1),a("v-row",[a("v-col",[a("span",[a("v-icon",{attrs:{small:""},domProps:{textContent:e._s("mdi-file-document-outline")}})],1),a("span",{staticClass:"font-weight-medium"},[e._v(" Equipment Type :")])]),a("v-col",[a("span",[e._v(" "+e._s(e.get(e.equipmentDetails.category,"type")||"N/A")+" ")])])],1)],1)],1)],1),a("v-col",{attrs:{md:"12"}},[a("div",{staticClass:"py-2"},[a("v-icon",{attrs:{size:"20"},domProps:{textContent:e._s("mdi-calendar-check-outline")}}),e._v(" Specifications/Configurations ")],1),a("div",{staticClass:"border pa-3",staticStyle:{"max-height":"200px"},domProps:{innerHTML:e._s(e.$sanitize(e.equipmentDetails.specifications)||"N/A")}})]),a("v-col",{attrs:{cols:"12"}},[a("div",{staticClass:"py-2"},[a("v-icon",{attrs:{size:"20"},domProps:{textContent:e._s("mdi-calendar-check-outline")}}),e._v(" Remarks ")],1),a("div",{staticClass:"border pa-3",domProps:{textContent:e._s(e.equipmentDetails.remark||"N/A")}}),a("v-btn",{attrs:{color:"primary",outlined:"",small:""},on:{click:e.showEquipmentHistory}},[e._v(e._s(e.showAssignHistory?"Hide":"Show")+" Equipment Assign History")])],1)],1),e.showAssignHistory?[a("v-row",[a("v-col",[a("v-simple-table",{attrs:{height:"300"},scopedSlots:e._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[e._v("Employee Name")]),a("th",{staticClass:"text-left"},[e._v("Assign From")]),a("th",{staticClass:"text-left"},[e._v("Assign Till")])])]),a("tbody",{ref:"assignHistoryTable"},e._l(e.equipmentHistory,(function(t){return a("tr",{key:t.name},[a("td",{staticClass:"text-left"},[a("vue-user",{attrs:{user:t.user}})],1),a("td",{staticClass:"text-left"},[e._v(e._s(t.assigned_date))]),a("td",{staticClass:"text-left"},[e._v(e._s(t.released_date))])])})),0)]},proxy:!0}],null,!1,3913766160)})],1)],1)]:e._e()],2)],1)},B=[],R=(a("b0c0"),a("99af"),a("02cb")),j=a("f0d5"),L=a("983c"),z={components:{VueUser:R["default"]},mixins:[j["a"],L["a"]],props:{actionData:{type:Object,default:function(){return{}}}},data:function(){return{equipmentDetails:{},equipmentHistory:{},showAssignHistory:!1}},computed:{assignedTo:function(){var e="";return this.equipmentDetails.assigned_detail&&(this.equipmentDetails.assigned_detail.user?e=this.equipmentDetails.assigned_detail.user.full_name:this.equipmentDetails.assigned_detail.branch||this.equipmentDetails.assigned_detail.division?(e=this.equipmentDetails.assigned_detail.division?this.equipmentDetails.assigned_detail.division.name:"",e+=this.equipmentDetails.assigned_detail.division&&this.equipmentDetails.assigned_detail.branch?" / ":"",e+=this.equipmentDetails.assigned_detail.branch?this.equipmentDetails.assigned_detail.branch.name:""):this.equipmentDetails.assigned_detail.meeting_room&&(e=this.equipmentDetails.assigned_detail.meeting_room.name)),""!==e?"".concat(this.equipmentDetails.assigned_to," (").concat(e,")"):this.equipmentDetails.assigned_to}},created:function(){this.getEquipmentDetails(),this.getEquipmentHistory()},methods:{getEquipmentDetails:function(){var e=this;this.getData(f["a"].getAssetsDetails(this.getOrganizationSlug,this.actionData.slug)).then((function(t){e.equipmentDetails=t}))},openDocument:function(){window.open(this.equipmentDetails.equipment_picture,"_blank")},getEquipmentHistory:function(){var e=this;this.$http.get(f["a"].equipmentHistory(this.getOrganizationSlug,this.actionData.slug)).then((function(t){e.equipmentHistory=t.results}))},showEquipmentHistory:function(){var e=this;this.showAssignHistory=!this.showAssignHistory,this.$nextTick((function(){var t=e.$refs.assignHistoryTable;t&&t.scrollIntoView({behavior:"smooth"})}))}}},M=z,G=a("8336"),H=a("132d"),W=a("adda"),Q=a("1f4f"),K=a("3a2f"),Y=Object(D["a"])(M,$,B,!1,null,null,null),J=Y.exports;w()(Y,{VBtn:G["a"],VCard:S["a"],VCardText:V["c"],VCol:k["a"],VDivider:E["a"],VIcon:H["a"],VImg:W["a"],VRow:T["a"],VSimpleTable:Q["a"],VTooltip:K["a"]});var Z=a("096a"),X=a("1229"),ee=a("e59e"),te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("vue-card-title",{attrs:{icon:"mdi-file-document-outline",title:"Assign office Equipment",subtitle:"Here you can assign office Equipment",closable:""},on:{close:function(t){return e.$emit("close")}}}),a("v-divider"),a("v-card-text",[e.nonFieldErrors?a("non-field-form-errors",{attrs:{"non-field-errors":e.nonFieldErrors}}):e._e(),a("v-row",["User"===e.actionData.assigned_to?a("v-col",{attrs:{md:"4",sm:"12"}},[a("vue-users-auto-complete",e._b({directives:[{name:"validate",rawName:"v-validate",value:"",expression:"''"}],attrs:{params:{organization:e.getOrganizationSlug}},model:{value:e.formValues.user,callback:function(t){e.$set(e.formValues,"user",t)},expression:"formValues.user"}},"vue-users-auto-complete",e.veeValidate("assigned_to","Assigned To"),!1))],1):e._e(),"Division / Branch"===e.actionData.assigned_to?a("v-col",{attrs:{md:"4",sm:"12"}},[a("vue-auto-complete",e._b({attrs:{endpoint:e.divisionEndpoint,params:{is_archived:"false"},"prepend-inner-icon":"mdi-account-multiple-outline","item-text":"name","item-value":"slug"},model:{value:e.formValues.division,callback:function(t){e.$set(e.formValues,"division",t)},expression:"formValues.division"}},"vue-auto-complete",e.veeValidate("division","Division"),!1))],1):e._e(),"Division / Branch"===e.actionData.assigned_to?a("v-col",{attrs:{md:"4",sm:"12"}},[a("vue-auto-complete",e._b({attrs:{endpoint:e.branchEndpoint,params:{is_archived:"false"},"prepend-inner-icon":"mdi-account-multiple-outline","item-text":"name","item-value":"slug"},model:{value:e.formValues.branch,callback:function(t){e.$set(e.formValues,"branch",t)},expression:"formValues.branch"}},"vue-auto-complete",e.veeValidate("branch","Branch"),!1))],1):e._e(),"Meeting Room"===e.actionData.assigned_to?a("v-col",{attrs:{md:"4",sm:"12"}},[a("vue-auto-complete",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{endpoint:e.meetingRoomEndpoint,"item-text":"name","item-value":"id"},model:{value:e.formValues.meeting_room,callback:function(t){e.$set(e.formValues,"meeting_room",t)},expression:"formValues.meeting_room"}},"vue-auto-complete",e.veeValidate("meeting_room","Meeting Room *"),!1))],1):e._e(),a("v-col",{attrs:{md:"4",sm:"12"}},[a("vue-date-picker",e._b({directives:[{name:"validate",rawName:"v-validate",value:"",expression:"''"}],model:{value:e.formValues.assigned_date,callback:function(t){e.$set(e.formValues,"assigned_date",t)},expression:"formValues.assigned_date"}},"vue-date-picker",e.veeValidate("assigned_date","Assigned Date"),!1))],1)],1)],1),a("v-divider"),a("v-card-actions",{attrs:{dense:""}},[a("v-col",{staticClass:"text-right"},[a("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.assignAssets()}}},[e._v(" Save ")])],1)],1)],1)},ae=[],ie=a("ef8c"),ne=a("e4a9"),se={components:{VueDatePicker:h["default"],VueAutoComplete:_["default"],VueUsersAutoComplete:ie["default"],NonFieldFormErrors:m["default"]},mixins:[u["a"]],props:{actionData:{type:Object,default:function(){return{}}}},data:function(){return{formValues:{assigned_to:null,division:null,branch:null,assigned_date:null,equipment:""},divisionEndpoint:"",branchEndpoint:"",meetingRoomEndpoint:""}},created:function(){this.initializeUrls()},methods:{initializeUrls:function(){this.divisionEndpoint=X["a"].getDivision(this.getOrganizationSlug),this.branchEndpoint=ee["a"].getBranch(this.getOrganizationSlug),this.meetingRoomEndpoint=ne["a"].Meetings(this.getOrganizationSlug)},assignAssets:function(){var e=this;this.formValues.equipment=this.actionData.id,this.$http.post(f["a"].assignAssets(this.getOrganizationSlug),this.formValues).then((function(){e.notifyUser("Successfully Assigned Asset."),e.$emit("close")})).catch((function(t){e.pushErrors(t)}))}}},oe=se,re=Object(D["a"])(oe,te,ae,!1,null,null,null),le=re.exports;w()(re,{VBtn:G["a"],VCard:S["a"],VCardActions:V["a"],VCardText:V["c"],VCol:k["a"],VDivider:E["a"],VRow:T["a"]});var ce=a("36da"),ue=a("e4bf"),de=a("03df"),me={components:{ExportReport:de["a"],VueUsersAutoComplete:ie["default"],VueUser:R["default"],AssignEquipment:le,AssetForm:P,VueDialog:F["a"],VueAutoComplete:_["default"],AssetDetails:J,DataTableNoData:U["default"],VuePageWrapper:r["default"],GenericUpload:ce["a"],VueContextMenu:ue["default"]},mixins:[o["a"],Z["a"],u["a"]],data:function(){return{display:!1,htmlTitle:"Office Equipments | Settings | Organization | Admin",breadCrumbItems:[{text:"Organization",disabled:!1,to:{name:"admin-slug-organization-overview",params:{slug:this.$route.params.slug}}},{text:"Settings",disabled:!1,to:{name:"admin-slug-organization-settings",params:{slug:this.$route.params.slug}}},{text:"Equipment",disabled:!0}],activeTab:0,dialogComponent:"",bottomSheetComponent:"",damagedStatus:"",damagedNotification:{dialog:!1,heading:"Confirm Delete",text:"Are you sure you want to delete this Heading?"},unassignNotification:{dialog:!1,heading:"Confirm Unassign",subheading:"Confirm Unassign",text:"Are you sure you want to unassign this Equipment?"},loading:!1,filter:{status:"",user:"",search:"",division:"",branch:"",code:"",category:""},statusChoices:[{text:"Idle",value:"Idle"},{text:"Used",value:"Used"},{text:"Damaged",value:"Damaged"}],assetSlug:"",tabs:[{text:"All",value:"all",color:"info"},{text:"Fixed",value:"fixed",color:"primary"},{text:"Tangible",value:"tangible",color:"warning"},{text:"Intangible",value:"intangible",color:"pink"},{text:"Current",value:"current",color:"error"},{text:"Financial",value:"financial",color:"success"}],stats:{all:0,fixed:0,tangible:0,intangible:0,current:0,financial:0},headers:[{text:"Name",value:"name",width:"25%"},{text:"Category",value:"category"},{text:"Code",value:"code",width:"",sortable:!1},{text:"Assigned To",value:"user"},{text:"Assigned Date",value:"assigned_date",width:"15%"},{text:"Status",value:"modified_at",sortable:!1},{text:"Action",sortable:!1}],mapComponent:{viewDetails:"asset-details",createAsset:"asset-form",assign:"assign-equipment"},statusColor:{Used:"warning",Idle:"success",Damaged:"danger"},type:"",divisionEndpoint:"",branchEndpoint:"",genericUploadBottomSheet:!1}},computed:{DataTableFilter:function(){return{search:this.filter.search||"",division:this.filter.division||"",branch:this.filter.branch||"",user:this.filter.user||"",status:this.filter.status||"",category:this.filter.category||"",type:this.type}},getExportUrl:function(){return f["a"].exportAssets(this.getOrganizationSlug)}},watch:{"$route.query.status":{handler:function(e){"failed"==e&&(this.genericUploadBottomSheet=!0)},immediate:!0}},created:function(){this.initializeUrls()},methods:{fetchDataTable:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.loading=!0,e.$http.get(f["a"].getAssets(e.getOrganizationSlug),{params:e.fullParams}).then((function(t){e.loadDataTable(t),e.stats=t.stats})).finally((function(){e.loading=!1}));case 2:case"end":return t.stop()}}),t)})))()},initializeUrls:function(){this.divisionEndpoint=X["a"].getDivision(this.getOrganizationSlug),this.branchEndpoint=ee["a"].getBranch(this.getOrganizationSlug),this.equipmentCategoryEndpoint=d["a"].equipmentCategories,this.loadDataTableChange()},changeStatus:function(e){this.pagination.page=1,this.type="All"===e?"":e},openDialog:function(e){this.dialogComponent=this.mapComponent[e],this.displayForm=!0},openBottomSheet:function(e){this.bottomSheetComponent=this.mapComponent[e],this.display=!0},unDamaged:function(e){this.damagedStatus=e,this.damagedNotification={dialog:!0,heading:"unassign"===e?"Confirm Unmark":"Confirm Damaged",subheading:"unassign"===e?"Confirm Unmark":"Confirm Damaged",text:"Are you sure you want to ".concat("unassign"===e?"unmark":"mark"," this equipment as Damaged?")}},markUnmarkasDamaged:function(){var e=this;"unassign"===this.damagedStatus?this.$http.patch(f["a"].putAssets(this.getOrganizationSlug,this.assetSlug),{status:"Idle"}).then((function(){e.fetchDataTable(),e.notifyUser("Successfully Unmark as damaged."),e.damagedNotification.dialog=!1})):this.$http.post(f["a"].markDamaged(this.getOrganizationSlug,this.assetSlug,this.damagedStatus)).then((function(){e.notifyUser("Successfully mark as damaged."),e.fetchDataTable(),e.damagedNotification.dialog=!1}))},unAssignEmployee:function(){var e=this;this.$http.post(f["a"].markDamaged(this.getOrganizationSlug,this.assetSlug,"unassign"),{}).then((function(){e.fetchDataTable(),e.notifyUser("Successfully Unassigned Employee."),e.unassignNotification.dialog=!1})).catch((function(t){e.notifyInvalidFormResponse(),e.pushErrors(t)}))},deleteAssetItem:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$http.delete(f["a"].deleteAssets(e.getOrganizationSlug,e.assetSlug)).then((function(){e.fetchDataTable(),e.notifyUser("Successfully deleted Equipment","green"),e.deleteNotification.dialog=!1})).catch((function(t){e.notifyInvalidFormResponse(),e.pushErrors(t)}));case 1:case"end":return t.stop()}}),t)})))()},dismissForm:function(){this.displayForm=!1,this.display=!1,this.actionData=null,this.genericUploadBottomSheet=!1,this.fetchDataTable(),this.$router.push(this.$route.path)},requestApi:function(){return{download_sample_url:f["a"].downloadSampleEquipment(this.getOrganizationSlug),post_and_status_url:f["a"].importEquipment(this.getOrganizationSlug)}}}},pe=me,fe=a("288c"),he=a("cc20"),ge=a("8fea"),ve=a("169a"),be=a("0789"),_e=a("71a3"),ye=a("fe57"),xe=Object(D["a"])(pe,i,n,!1,null,null,null);t["default"]=xe.exports;w()(xe,{VBottomSheet:fe["a"],VBtn:G["a"],VCard:S["a"],VCardText:V["c"],VChip:he["a"],VCol:k["a"],VDataTable:ge["a"],VDialog:ve["a"],VDivider:E["a"],VIcon:H["a"],VRow:T["a"],VSlideYTransition:be["g"],VTab:_e["a"],VTabs:ye["a"],VTextField:q["a"],VTooltip:K["a"]})},ef8c:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-autocomplete",{class:e.appliedClass,attrs:{items:e.itemsSorted,loading:e.isLoading,"search-input":e.search,multiple:e.multiple,label:e.label,error:e.errorMessages.length>0,"error-messages":e.errorMessages,disabled:e.disabled,"prepend-inner-icon":e.prependInnerIcon,clearable:e.clearable&&!e.readonly,readonly:!!e.readonly,"hide-details":e.hideDetails,"data-cy":"input-user-autocomplete-"+e.dataCyVariable,placeholder:e.placeholder,"hide-selected":"","hide-no-data":"","item-text":"full_name","item-value":"id"},on:{"update:searchInput":function(t){e.search=t},"update:search-input":function(t){e.search=t},blur:function(t){return e.$emit("blur")}},scopedSlots:e._u([{key:"selection",fn:function(t){return[a("v-chip",{attrs:{"input-value":t.selected,close:(e.clearable||!e.clearable&&!e.multiple)&&!e.readonly,small:""},on:{"click:close":function(a){return e.remove(t.item)}}},[a("v-avatar",{attrs:{left:""}},[a("v-img",{attrs:{src:t.item.profile_picture,cover:""}})],1),e._v(" "+e._s(e._f("truncate")(t.item.full_name,e.truncate))+" ")],1)]}},{key:"item",fn:function(t){var i=t.item;return[a("v-list-item-avatar",[a("v-avatar",{attrs:{size:"30"}},[a("v-img",{attrs:{src:i.profile_picture,cover:""}})],1)],1),a("v-list-item-content",[a("v-list-item-title",[e._v(" "+e._s(e._f("truncate")(i.full_name,20))+" "),i.employee_code?a("span",[e._v("("+e._s(i.employee_code)+")")]):e._e()]),i.division?a("v-list-item-subtitle",{domProps:{textContent:e._s(i.division)}}):e._e()],1)]}}]),model:{value:e.selectedData,callback:function(t){e.selectedData=t},expression:"selectedData"}})],1)},n=[],s=a("53ca"),o=(a("a9e3"),a("ac1f"),a("841c"),a("4e827"),a("2ca0"),a("d81d"),a("a434"),a("d3b7"),a("159b"),a("7db0"),a("4de4"),a("caad"),a("2532"),a("fab2")),r=a("63ea"),l=a.n(r),c={props:{value:{type:[Number,String,Array,Object],required:!1,default:function(){return null}},dataCyVariable:{type:String,default:""},userObject:{type:[Object,Array],required:!1,default:function(){return{}}},params:{type:[Object,Array],required:!1,default:function(){return{}}},multiple:{type:Boolean,required:!1,default:!1},disabled:{type:Boolean,required:!1,default:!1},errorMessages:{type:[String,Array],default:function(){return[]}},label:{type:String,default:"Select Employee"},prependInnerIcon:{type:String,default:"mdi-account-plus-outline"},itemsToExclude:{type:[Array,Number],default:null},itemsToInclude:{type:[Array,Number],default:null},clearable:{type:Boolean,default:!0},readonly:{type:Boolean,default:!1},hideDetails:{type:Boolean,default:!1},appliedClass:{type:String,default:""},truncate:{type:Number,default:10},placeholder:{type:String,default:""}},data:function(){return{isLoading:!1,items:[],allUsers:[],selectedData:null,search:null}},computed:{itemsSorted:function(){return this.sortBySearch(this.items,this.search?this.search.toLowerCase():"")}},watch:{value:{handler:function(e,t){!e&&t&&(this.selectedData="",this.populateInitialUsers()),!t&&e&&this.populateInitialUsers()},immediate:!0},search:function(e){!e||this.items.length>0||this.fetchUsers()},selectedData:function(e){this.search="",this.syncUserData(e),this.$emit("input",e)},itemsToExclude:function(){this.items=this.excludeRecord(this.allUsers)},itemsToInclude:function(){this.items=this.includeRecord(this.allUsers)},params:{handler:function(e,t){l()(e,t)||this.fetchUsers()},deep:!0}},methods:{sortBySearch:function(e,t){return e.sort((function(e,a){return e.full_name.toLowerCase().startsWith(t)&&a.full_name.toLowerCase().startsWith(t)?e.full_name.toLowerCase().localeCompare(a.full_name.toLowerCase()):e.full_name.toLowerCase().startsWith(t)?-1:a.full_name.toLowerCase().startsWith(t)?1:e.full_name.toLowerCase().localeCompare(a.full_name.toLowerCase())}))},populateInitialUsers:function(){this.fetchUsers(this.value),Array.isArray(this.value)?"object"===Object(s["a"])(this.value[0])?this.selectedData=this.value.map((function(e){return e.user.id})):this.selectedData=this.value:null===this.value?this.selectedData="":"object"===Object(s["a"])(this.value)?this.selectedData=this.value.id:this.selectedData=this.value,this.$emit("input",this.selectedData)},remove:function(e){if(this.selectedData instanceof Object){var t=this.selectedData.indexOf(e.id);t>=0&&this.selectedData.splice(t,1),this.$emit("remove",e)}else this.selectedData=""},fetchUsers:function(e){var t=this;this.isLoading||(this.isLoading=!0,this.$http.get(o["a"].autocomplete,{params:this.params}).then((function(a){t.allUsers=a,t.itemsToExclude&&(a=t.excludeRecord(a)),t.itemsToInclude&&(a=t.includeRecord(a)),t.items=a,e&&t.syncUserData(e)})).finally((function(){return t.isLoading=!1})))},syncUserData:function(e){var t=this;if(e instanceof Array){var a=[];e.forEach((function(e){a.unshift(t.items.find((function(t){return t.id===e})))})),this.$emit("update:userObject",a)}else{var i=this.items.find((function(t){return t.id===e}));this.$emit("update:userObject",i)}},excludeRecord:function(e){var t=[];return"number"===typeof this.itemsToExclude?t.push(this.itemsToExclude):t=this.itemsToExclude,e.filter((function(e){return!t.includes(e.id)}))},includeRecord:function(e){var t=this;return e.filter((function(e){return t.itemsToInclude.includes(e.id)}))}}},u=c,d=a("2877"),m=a("6544"),p=a.n(m),f=a("c6a6"),h=a("8212"),g=a("cc20"),v=a("adda"),b=a("8270"),_=a("5d23"),y=Object(d["a"])(u,i,n,!1,null,null,null);t["default"]=y.exports;p()(y,{VAutocomplete:f["a"],VAvatar:h["a"],VChip:g["a"],VImg:v["a"],VListItemAvatar:b["a"],VListItemContent:_["a"],VListItemSubtitle:_["b"],VListItemTitle:_["c"]})},fab2:function(e,t,a){"use strict";t["a"]={getUserList:"/users/",postUser:"/users/",autocomplete:"/users/autocomplete/",postImportUser:"/users/import/",downloadUserImportSample:function(e){return"/users/import/sample/?organization=".concat(e)},getUserDetail:function(e){return"/users/".concat(e,"/")},getInternalUserDetail:function(e){return"/users/".concat(e,"/internal-detail")},deleteUser:function(e){return"/users/".concat(e,"/")},updateUser:function(e){return"/users/".concat(e,"/")},changePassword:function(e){return"/users/".concat(e,"/change-password/")},getUserCV:function(e){return"/users/".concat(e,"/cv/")},getProfileCompleteness:function(e){return"users/".concat(e,"/profile-completeness/")}}}}]);