(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages/admin/_slug/attendance/settings/timesheet-approval"],{1994:function(e,t,a){"use strict";a("adfa")},"299c":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("vue-page-wrapper",{attrs:{title:e.htmlTitle,"bread-crumbs":e.breadCrumbItems}},[a("v-card",[a("vue-card-title",{attrs:{title:"Timesheet Approval Settings",subtitle:"Here you can set timesheet approval settings.",icon:"mdi-calendar-check-outline"}}),a("v-divider"),Object.keys(e.configData).length>0?a("v-card-text",{staticClass:"pb-0 mb-0 pt-5"},[e.nonFieldErrors?a("non-field-form-errors",{attrs:{"non-field-errors":e.nonFieldErrors}}):e._e(),a("v-row",{attrs:{dense:""}},[a("v-col",{staticClass:"pb-4"},[a("v-chip",{staticClass:"text-subtitle-1 blue-grey white--text",attrs:{label:"",small:""}},[e._v(" Configure Approval ")]),a("v-checkbox",{attrs:{label:"Enable Approval Process",dense:"","hide-details":""},model:{value:e.configData.approval_required,callback:function(t){e.$set(e.configData,"approval_required",t)},expression:"configData.approval_required"}})],1),a("v-col",{staticClass:"pb-4"},[a("v-chip",{staticClass:"text-subtitle-1 blue-grey white--text",attrs:{label:"",small:""}},[e._v(" Configure Fiscal Year ")]),a("v-select",{attrs:{items:[{text:"Global",value:"global"},{text:"Leave",value:"leave"}],"item-text":"text","item-value":"value","hide-details":""},model:{value:e.configData.fiscal_year_category,callback:function(t){e.$set(e.configData,"fiscal_year_category",t)},expression:"configData.fiscal_year_category"}})],1),a("v-col",[a("v-chip",{staticClass:"text-subtitle-1 blue-grey white--text",attrs:{label:"",small:""}},[e._v(" Round Off Total Working Hour ")]),a("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required|min_value:0|max_value:59",expression:"'required|min_value:0|max_value:59'"}],model:{value:e.configData.worked_hours_ceil_limit,callback:function(t){e.$set(e.configData,"worked_hours_ceil_limit",t)},expression:"configData.worked_hours_ceil_limit"}},"v-text-field",e.veeValidate("worked_hours_ceil_limit","Limit in Minutes *"),!1))],1),a("v-col",{staticClass:"pb-4",attrs:{md:"5",cols:"12"}},[a("v-chip",{staticClass:"text-subtitle-1 blue-grey white--text",attrs:{label:"",small:""}},[e._v(" Select Leave Types For Display ")]),a("v-autocomplete",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"pr-8",attrs:{items:e.leaveTypes,"item-value":"id","item-text":"name","deletable-chips":"","small-chips":"",multiple:""},model:{value:e.configData.selected_leave_types,callback:function(t){e.$set(e.configData,"selected_leave_types",t)},expression:"configData.selected_leave_types"}},"v-autocomplete",e.veeValidate("selected_leave_types","Leave Types *"),!1))],1)],1),a("v-row",{attrs:{dense:""}},[a("v-col",{staticClass:"pb-4"},[a("v-chip",{staticClass:"text-subtitle-1 blue-grey white--text",attrs:{label:"",small:""}},[e._v(" Configure Headers ")])],1)],1),a("v-row",{attrs:{dense:""}},e._l(e.configData.headers,(function(t,s){return a("v-col",{key:s,staticClass:"px-2",attrs:{md:"report_title"===s?"4":"2",cols:"6"}},[a("v-text-field",{attrs:{label:s.split("_").map((function(e){return e[0].toUpperCase()+e.substr(1).toLowerCase()})).join(" "),dense:""},model:{value:e.configData.headers[s],callback:function(t){e.$set(e.configData.headers,s,t)},expression:"configData.headers[key]"}})],1)})),1),a("v-row",{staticClass:"pb-4",attrs:{dense:""}},[a("v-col",{staticClass:"scrollbar-thin",staticStyle:{height:"350px"},attrs:{md:"8",cols:"12"}},[a("v-row",{attrs:{dense:""}},[a("v-col",{staticClass:"pb-4"},[a("v-chip",{staticClass:"text-subtitle-1 blue-grey white--text",attrs:{label:"",small:""}},[e._v(" Configure Primary Legends ")])],1)],1),e._l(e.configData.primary_legend,(function(t,s){return a("v-row",{key:"primary_legend-"+s},[a("v-col",{staticClass:"py-0",attrs:{cols:"4"}},[a("table",{staticClass:"table custom-legend-layout"},[a("tr",[a("th",{staticClass:"first",style:"background-color: "+t.color+";"},[e._v(" "+e._s(t.letter)+" ")]),a("th",{staticClass:"second"},[e._v(e._s(t.text))])])])]),a("v-col",{staticClass:"py-0"},[a("v-text-field",{attrs:{label:"Display Text",dense:""},model:{value:t.text,callback:function(a){e.$set(t,"text",a)},expression:"item.text"}})],1),a("v-col",{staticClass:"py-0"},[a("v-text-field",{attrs:{label:"Legend Color",dense:""},model:{value:t.color,callback:function(a){e.$set(t,"color",a)},expression:"item.color"}})],1),a("v-col",{staticClass:"py-0"},[a("v-text-field",{attrs:{label:"Legend Letter",dense:""},model:{value:t.letter,callback:function(a){e.$set(t,"letter",a)},expression:"item.letter"}})],1)],1)})),a("v-row",{attrs:{dense:""}},[a("v-col",{staticClass:"pb-4"},[a("v-chip",{staticClass:"text-subtitle-1 blue-grey white--text",attrs:{label:"",small:""}},[e._v(" Configure Leave Type Legends ")])],1)],1),e._l(e.configData.leave_legend,(function(t,s){return a("v-row",{key:"leave-type-"+s},[a("v-col",{staticClass:"py-0",attrs:{cols:"4"}},[a("table",{staticClass:"table custom-legend-layout"},[a("tr",[a("th",{staticClass:"first",style:"background-color: "+t.color+";"},[e._v(" "+e._s(t.letter)+" ")]),a("th",{staticClass:"second"},[e._v(e._s(t.text))])])])]),a("v-col",{staticClass:"py-0"},[a("v-text-field",{attrs:{label:"Display Text",dense:""},model:{value:t.text,callback:function(a){e.$set(t,"text",a)},expression:"item.text"}})],1),a("v-col",{staticClass:"py-0"},[a("v-text-field",{attrs:{label:"Legend Color",dense:""},model:{value:t.color,callback:function(a){e.$set(t,"color",a)},expression:"item.color"}})],1),a("v-col",{staticClass:"py-0"},[a("v-text-field",{attrs:{label:"Legend Letter",dense:""},model:{value:t.letter,callback:function(a){e.$set(t,"letter",a)},expression:"item.letter"}})],1)],1)}))],2),a("v-col",{attrs:{md:"4",cols:"12"}},[a("v-row",{attrs:{justify:"center"}},[a("v-color-picker",{attrs:{mode:"hexa","show-swatches":"","hide-mode-switch":"","canvas-height":"100","swatches-max-height":"100"}})],1)],1)],1)],1):a("default-svg-loader"),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{loading:e.loading,depressed:"",color:"primary"},on:{click:e.updateData}},[a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v(" mdi-content-save-outline ")]),e._v(" Save ")],1)],1)],1)],1)},i=[],r=a("1da1"),n=(a("96cf"),a("b0c0"),a("159b"),a("7db0"),a("0549")),l=a("4f4a"),c=a("5f10"),o=a("c197"),u={components:{DefaultSvgLoader:o["default"],VuePageWrapper:n["default"]},mixins:[l["a"]],data:function(){return{htmlTitle:"Timesheet Approval | Settings | Attendance | Admin",breadCrumbItems:[{text:"Attendance",disabled:!1,to:{name:"admin-slug-attendance-overview",params:{slug:this.$route.params.slug}}},{text:"Settings",disabled:!1,to:{name:"admin-slug-attendance-settings",params:{slug:this.$route.params.slug}}},{text:"Timesheet Approval",disabled:!0}],leaveTypes:[],configData:{}}},created:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.$http.get("/leave/".concat(e.getOrganizationSlug,"/leave-types/?active_status=active")).then((function(t){e.leaveTypes=t.results,e.loading=!1}));case 3:e.crud.name="Timesheet Settings",a=c["a"].getTimesheetReportSettings(e.getOrganizationSlug),e.crud.endpoint.common=a,e.crud.endpoint.put=a,e.getData();case 8:case"end":return t.stop()}}),t)})))()},methods:{processAfterGet:function(){var e=this;this.configData=this.response;var t=["#FC766AFF","#5B84B1FF","#5F4B8BFF","#E69A8DFF","#00A4CCFF","#F95700FF","#4B878BFF","#ADEFD1FF","#606060FF","#D6ED17FF","#ED2B33FF","#2C5F2D","#00539CFF","#EEA47FFF","#0063B2FF","#97BC62FF","#FEE715FF","#B1624EFF","#9CC3D5FF","#89ABE3FF","#F2AA4CFF","#603F83FF","#C7D3D4FF","#2BAE66FF","#F95700FF"];this.leaveTypes.forEach((function(a,s){e.configData.leave_legend.find((function(e){return e.leave_type_id===a.id}))||e.configData.leave_legend.push({letter:a.name.substring(0,1).toUpperCase(),color:"".concat(s>25?"#"+Math.floor(1e5+9e5*Math.random()):t[s]),text:a.name,leave_type_id:a.id})}))},getFormValues:function(){return this.configData}}},d=u,v=(a("1994"),a("2877")),p=a("6544"),m=a.n(p),f=a("c6a6"),g=a("8336"),h=a("b0af"),b=a("99d9"),x=a("ac7c"),_=a("cc20"),y=a("62ad"),F=a("03a4"),C=a("ce7e"),D=a("132d"),w=a("0fd9b"),T=a("b974"),k=a("2fa4"),A=a("8654"),E=Object(v["a"])(d,s,i,!1,null,null,null);t["default"]=E.exports;m()(E,{VAutocomplete:f["a"],VBtn:g["a"],VCard:h["a"],VCardActions:b["a"],VCardText:b["c"],VCheckbox:x["a"],VChip:_["a"],VCol:y["a"],VColorPicker:F["a"],VDivider:C["a"],VIcon:D["a"],VRow:w["a"],VSelect:T["a"],VSpacer:k["a"],VTextField:A["a"]})},"4f4a":function(e,t,a){"use strict";var s=a("8b61"),i=a("cfa3"),r=a("a09e"),n=a("c13e");t["a"]={mixins:[s["a"],i["a"],r["a"],n["a"]]}},"5f10":function(e,t,a){"use strict";a("99af");t["a"]={getTimeSheet:function(e){return"/attendance/users/".concat(e,"/timesheets/")},getTimeSheetEntries:function(e,t){return"/attendance/users/".concat(e,"/timesheets/").concat(t,"/entries/")},getTimesheetReportSettings:function(e){return"/attendance/".concat(e,"/timesheet-record-report-settings/")},getUserTimesheetYearlyReport:function(e,t){return"/attendance/".concat(e,"/reports/yearly-report/").concat(t,"/")},getTimesheetRequests:function(e){return"/attendance/".concat(e,"/timesheet-report-requests/")},getTimesheetRequestDetail:function(e,t){return"/attendance/".concat(e,"/timesheet-report-requests/").concat(t,"/")},getTimesheetRequestHistory:function(e,t){return"/attendance/".concat(e,"/timesheet-report-requests/").concat(t,"/histories/")},actionOnTimesheetRequest:function(e,t,a){return"/attendance/".concat(e,"/timesheet-report-requests/").concat(t,"/").concat(a,"/")},regenerateTimeSheetReport:function(e,t){return"/attendance/".concat(e,"/timesheet-report-requests/").concat(t,"/regenerate/")},getTimesheetRoster:function(e){return"attendance/".concat(e,"/timesheet-roster/")},postTimesheetRoster:function(e){return"attendance/".concat(e,"/timesheet-roster/")}}},adfa:function(e,t,a){},c13e:function(e,t,a){"use strict";a("99af"),a("d3b7"),a("b0c0");t["a"]={data:function(){return{deleteNotification:{dialog:!1,heading:"Confirm Delete",text:"Are you sure you want to delete ?"}}},methods:{deleteData:function(e){var t=this;if(!this.loading){var a=this.actionData?this.actionData[this.crud.id]:"",s=e||this.crud.endpoint.delete||"".concat(this.crud.endpoint.common).concat(a,"/");return this.loading=!0,new Promise((function(e,a){t.$http.delete(s,{params:t.crud.urlParams}).then((function(a){e(a),setTimeout((function(){t.notifyUser(t.crud.message||"Successfully Deleted ".concat(t.crud.name))}),1e3),t.deleteNotification.dialog=!1,t.loading=!1,"undefined"!==typeof t.dataTableFetch&&t.loadDataTableChange(),t.actionData={},t.processAfterDeleteSuccess()})).catch((function(e){a(e),t.pushErrors(e),t.processOnDeleteError(e),t.notifyInvalidFormResponse()})).finally((function(){t.loading=!1,t.processAfterDelete()}))}))}},processAfterDelete:function(){},processAfterDeleteSuccess:function(){},processOnDeleteError:function(){}}}}}]);