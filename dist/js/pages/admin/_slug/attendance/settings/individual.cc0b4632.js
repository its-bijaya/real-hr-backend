(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages/admin/_slug/attendance/settings/individual","chunk-2d0c8a11","chunk-2d2259e9","chunk-2d0d6ae8"],{1229:function(e,t,n){"use strict";n("99af");t["a"]={getDivision:function(e){return"/org/".concat(e,"/division/")},postDivision:function(e){return"/org/".concat(e,"/division/")},getDivisionDetails:function(e,t){return"/org/".concat(e,"/division/").concat(t,"/")},putDivision:function(e,t){return"/org/".concat(e,"/division/").concat(t,"/")},deleteDivision:function(e,t){return"/org/".concat(e,"/division/").concat(t,"/")},importDivision:function(e){return"/org/".concat(e,"/division/import/")},downloadSampleDivision:function(e){return"/org/".concat(e,"/division/import/sample")}}},"1fe7":function(e,t,n){"use strict";n("99af");t["a"]={getCreditHour:function(e){return"/attendance/".concat(e,"/credit-hour/settings/")},getCreditHourDetail:function(e,t){return"/attendance/".concat(e,"/credit-hour/settings/").concat(t,"/")},getCreditHourPreApproval:function(e){return"/attendance/".concat(e,"/credit-hour/pre-approval/")},getCreditHourPreApprovalAsHr:function(e){return"/attendance/".concat(e,"/credit-hour/pre-approval/request-on-behalf/")},getCreditHourPreApprovalDetail:function(e,t){return"/attendance/".concat(e,"/credit-hour/pre-approval/").concat(t,"/")},cancelRequest:function(e,t){return"/attendance/".concat(e,"/credit-hour/pre-approval/").concat(t,"/cancel/")},updateRequest:function(e,t){return"/attendance/".concat(e,"/credit-hour/pre-approval/").concat(t,"/edit/")},requestAction:function(e,t,n){return"/attendance/".concat(e,"/credit-hour/pre-approval/").concat(t,"/").concat(n,"/")},postCreditHourPreApprovalBulk:function(e){return"attendance/".concat(e,"/credit-hour/pre-approval/request-bulk")}}},"2c2a":function(e,t,n){"use strict";n("99af");t["a"]={getEmploymentLevel:function(e){return"/org/".concat(e,"/employment/level/")},postEmploymentLevel:function(e){return"/org/".concat(e,"/employment/level/")},getEmploymentLevelDetail:function(e,t){return"/org/".concat(e,"/employment/level/").concat(t,"/")},updateEmploymentLevel:function(e,t){return"/org/".concat(e,"/employment/level/").concat(t,"/")},deleteEmploymentLevel:function(e,t){return"/org/".concat(e,"/employment/level/").concat(t,"/")},importEmploymentLevel:function(e){return"/org/".concat(e,"/employment/level/import/")},downloadSampleEmploymentLevel:function(e){return"/org/".concat(e,"/employment/level/import/sample")}}},"44ac":function(e,t,n){"use strict";n("99af");t["a"]={getTemplate:function(e){return"/org/".concat(e,"/templates/")},postTemplate:function(e){return"/org/".concat(e,"/templates/")},getTemplateDetails:function(e,t){return"/org/".concat(e,"/templates/").concat(t,"/")},putTemplate:function(e,t){return"/org/".concat(e,"/templates/").concat(t,"/")},deleteTemplate:function(e,t){return"/org/".concat(e,"/templates/").concat(t,"/")}}},5660:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex space-between"},[n("v-autocomplete",{key:e.componentKey,ref:"autoComplete",class:e.appliedClass,attrs:{id:e.id,items:e.itemsSorted,"search-input":e.search,loading:e.isLoading,multiple:e.multiple,label:e.label,error:e.errorMessages.length>0,"error-messages":e.errorMessages,disabled:e.disabled,readonly:e.readonly,"data-cy":"autocomplete-"+e.dataCyVariable,"prepend-inner-icon":e.prependInnerIcon,clearable:e.clearable&&!e.readonly,"hide-details":e.hideDetails,"item-text":e.itemText,"item-value":e.itemValue,"small-chips":e.multiple||e.chips,"deletable-chips":e.multiple,hint:e.hint,"persistent-hint":e.persistentHint,chips:e.chips,solo:e.solo,flat:e.flat,"cache-items":e.cacheItems,placeholder:e.placeholder,dense:e.dense,"hide-selected":"","hide-no-data":""},on:{"update:searchInput":function(t){e.search=t},"update:search-input":function(t){e.search=t},focus:e.populateOnFocus,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.searchText())},change:e.updateState,blur:function(t){return e.$emit("blur")}},scopedSlots:e._u([{key:"selection",fn:function(t){return[e._t("selection",(function(){return[e.itemText&&t.item?n("div",[e.multiple||e.chips?n("v-chip",{attrs:{close:(e.clearable||!e.clearable&&!e.multiple)&&!e.readonly,small:""},on:{"click:close":function(n){return e.remove(t.item)}}},[t.item[e.itemText]?n("div",[t.item[e.itemText].length>40?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(a){var i=a.on;return[n("span",e._g({},i),[e._v(" "+e._s(e._f("truncate")(t.item[e.itemText],40)))])]}}],null,!0)},[n("span",[e._v(e._s(t.item[e.itemText]))])]):n("span",[e._v(e._s(t.item[e.itemText]))])],1):n("div",[n("span",[e._v(e._s(t.item))])])]):n("div",[t.item[e.itemText]?n("div",[t.item[e.itemText].length>40?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(a){var i=a.on;return[n("span",e._g({},i),[e._v(" "+e._s(e._f("truncate")(t.item[e.itemText],40)))])]}}],null,!0)},[n("span",[e._v(e._s(t.item[e.itemText]))])]):n("span",[e._v(e._s(t.item[e.itemText]))])],1):n("div",[n("span",[e._v(e._s(t.item))])])])],1):e._e()]}),{props:t})]}},{key:"item",fn:function(t){return[n("v-list-item-content",[n("v-list-item-title",[e._t("item",(function(){return[e.itemText&&t.item?n("div",[t.item[e.itemText]?n("div",[t.item[e.itemText].length>40?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(a){var i=a.on;return[n("span",e._g({},i),[e._v(" "+e._s(e._f("truncate")(t.item[e.itemText],40)))])]}}],null,!0)},[n("span",[e._v(e._s(t.item[e.itemText]))])]):n("span",[e._v(e._s(t.item[e.itemText]))])],1):n("div",[n("span",[e._v(e._s(t.item))])])]):e._e()]}),{props:t})],2)],1)]}},{key:"append-item",fn:function(){return[!e.fullyLoaded&&e.showMoreIcon?n("div",[n("v-list-item-content",{staticClass:"px-4 pointer primary--text font-weight-bold"},[n("v-list-item-title",{on:{click:function(t){return e.fetchData()}}},[e._v(" Load More Items ... ")])],1)],1):e._e()]},proxy:!0}],null,!0),model:{value:e.selectedData,callback:function(t){e.selectedData=t},expression:"selectedData"}}),e._t("default")],2)},i=[],r=n("2909"),o=n("5530"),s=n("53ca"),c=n("1da1"),l=(n("96cf"),n("a9e3"),n("ac1f"),n("841c"),n("7db0"),n("d81d"),n("159b"),n("4de4"),n("4e827"),n("2ca0"),n("d3b7"),n("c740"),n("a434"),n("3ca3"),n("ddb0"),n("2b3d"),n("caad"),n("2532"),n("63ea")),u=n.n(l),d={props:{value:{type:[Number,String,Array,Object],default:void 0},id:{type:String,default:""},dataCyVariable:{type:String,default:""},endpoint:{type:String,default:""},itemText:{type:String,required:!0},itemValue:{type:String,required:!0},params:{type:Object,required:!1,default:function(){return{}}},itemsToExclude:{type:[Array,Number],default:null},forceFetch:{type:Boolean,default:!1},staticItems:{type:Array,default:function(){return[]}},errorMessages:{type:[String,Array],default:function(){return[]}},label:{type:String,default:""},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},hint:{type:String,default:void 0},persistentHint:{type:Boolean,required:!1,default:!1},multiple:{type:Boolean,required:!1,default:!1},clearable:{type:Boolean,default:!0},hideDetails:{type:Boolean,default:!1},solo:{type:Boolean,default:!1},flat:{type:Boolean,default:!1},chips:{type:Boolean,default:!1},prependInnerIcon:{type:String,default:void 0},cacheItems:{type:Boolean,default:!1},appliedClass:{type:String,default:""},placeholder:{type:String,default:""},dense:{type:Boolean,default:!1}},data:function(){return{componentKey:0,items:[],selectedData:null,search:null,initialFetchStarted:!1,nextLimit:null,nextOffset:null,showMoreIcon:!1,fullyLoaded:!1,isLoading:!1}},computed:{itemsSorted:function(){return this.sortBySearch(this.items,this.search?this.search.toLowerCase():"")}},watch:{value:{handler:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var n,a,i,r,o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=10;break}if(!this.forceFetch||this.initialFetchStarted){e.next=6;break}return this.initialFetchStarted=!0,e.next=5,this.fetchData();case 5:this.removeDuplicateItem();case 6:Array.isArray(t)?(i=[],"object"===Object(s["a"])(t[0])?(this.selectedData=t.map((function(e){return e[o.itemValue]})),t.forEach((function(e){var t=o.items.find((function(t){return t===e}));t||i.push(e)}))):(t.forEach((function(e){var t=o.items.find((function(t){return t[o.itemValue]===e}));t||i.push(e)})),this.selectedData=t),i.length>0&&(r=this.items).push.apply(r,i)):"object"===Object(s["a"])(t)?(this.selectedData=t[this.itemValue],n=this.items.find((function(e){return e[o.itemValue]===t})),n||this.items.push(t)):(this.selectedData=t,a=this.items.find((function(e){return e===t})),a||this.items.push(t)),this.updateData(this.selectedData),e.next=11;break;case 10:t||(this.selectedData=null);case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),immediate:!0},selectedData:function(e){this.updateData(e)},params:{handler:function(e,t){u()(e,t)||(this.fullyLoaded=!1,this.initialFetchStarted=!1,this.items=[],this.componentKey+=1)},deep:!0}},methods:{sortBySearch:function(e,t){var n=this.itemText,a=e.filter((function(e){return"object"===Object(s["a"])(e)}));return a.sort((function(e,a){return e[n].toLowerCase().startsWith(t)&&a[n].toLowerCase().startsWith(t)?e[n].toLowerCase().localeCompare(a[n].toLowerCase()):e[n].toLowerCase().startsWith(t)?-1:a[n].toLowerCase().startsWith(t)?1:e[n].toLowerCase().localeCompare(a[n].toLowerCase())}))},populateOnFocus:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.initialFetchStarted){t.next=2;break}return t.abrupt("return");case 2:return e.initialFetchStarted=!0,t.next=5,e.fetchData();case 5:e.removeDuplicateItem();case 6:case"end":return t.stop()}}),t)})))()},fetchData:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.staticItems.length>0)){t.next=3;break}return e.items=e.staticItems,t.abrupt("return");case 3:return n=e.nextLimit,a=e.nextOffset,e.search&&(n=null,a=null),e.isLoading=!0,t.next=9,e.$http.get(e.endpoint,{params:Object(o["a"])(Object(o["a"])({},e.params),{},{search:e.search,limit:n,offset:a})}).then((function(t){var n;t.results||(t.results=t),t.next?(e.showMoreIcon=!0,e.extractLimitOffset(t.next)):(e.showMoreIcon=!1,e.search||(e.fullyLoaded=!0)),e.itemsToExclude&&(t.results=e.excludeRecord(t.results)),(n=e.items).push.apply(n,Object(r["a"])(t.results))})).finally((function(){e.isLoading=!1}));case 9:case"end":return t.stop()}}),t)})))()},removeDuplicateItem:function(){var e=this,t=this.items.indexOf(this.selectedData);if(t>=0){var n=this.items.findIndex((function(t){return t[e.itemValue]===e.selectedData}));n>=0&&(this.items.splice(t,1),this.componentKey+=1)}},updateData:function(e){var t=this,n=[];e instanceof Array?e.forEach((function(e){n.unshift(t.items.find((function(n){return n[t.itemValue]===e})))})):n=this.items.find((function(n){return n[t.itemValue]===e})),this.$emit("input",e),this.$emit("update:selectedFullData",n)},searchText:function(){0!==this.$refs.autoComplete.filteredItems.length||this.fullyLoaded||this.fetchData()},extractLimitOffset:function(e){var t=new URL(e);this.nextLimit=t.searchParams.get("limit"),this.nextOffset=t.searchParams.get("offset")},excludeRecord:function(e){var t=this,n=[];return"number"===typeof this.itemsToExclude?n.push(this.itemsToExclude):n=this.itemsToExclude,e.filter((function(e){if(e[t.itemValue])return!n.includes(e[t.itemValue])}))},remove:function(e){if(this.selectedData instanceof Object){var t=this.selectedData.indexOf(e[this.itemValue]);t>=0&&this.selectedData.splice(t,1)}else this.selectedData=null},updateState:function(){this.search="",this.nextLimit&&(this.showMoreIcon=!0)}}},m=d,p=n("2877"),v=n("6544"),f=n.n(v),h=n("c6a6"),g=n("cc20"),b=n("5d23"),y=n("3a2f"),_=Object(p["a"])(m,a,i,!1,null,null,null);t["default"]=_.exports;f()(_,{VAutocomplete:h["a"],VChip:g["a"],VListItemContent:b["a"],VListItemTitle:b["c"],VTooltip:y["a"]})},"741f":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return["true"!==e.useNepaliDate?n("v-text-field",e._g({class:e.appliedClass,attrs:{id:e.id,clearable:!e.readOnly,"data-cy":"date-picker-"+e.dataCyVariable,disabled:e.disabled,error:e.errorMessages.length>0,"error-messages":e.errorMessages,"hide-details":e.hideDetails,hint:e.hint,label:e.label,"prepend-inner-icon":e.prependInnerIcon,"single-line":e.singleLine,value:e.value,readonly:""},on:{paste:function(e){e.preventDefault()},"click:clear":function(t){return e.$emit("close")}},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}},a)):n("v-text-field",e._g({class:e.appliedClass,attrs:{id:e.id,label:e.label,value:e.value,"data-cy":"date-picker-"+e.dataCyVariable,error:e.errorMessages.length>0,"error-messages":e.errorMessages,disabled:e.disabled,clearable:!e.readOnly,hint:e.hint,"hide-details":e.hideDetails,"single-line":e.singleLine,"prepend-inner-icon":e.prependInnerIcon,readonly:""},on:{paste:function(e){e.preventDefault()},"click:clear":function(t){return e.$emit("close")}},model:{value:e.nepaliDate,callback:function(t){e.nepaliDate=t},expression:"nepaliDate"}},a))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},["true"===e.showCalendarChoice?n("v-btn",{attrs:{block:"",depressed:"",tile:"",color:"shade primary--text font-weight-bold"},on:{click:function(t){e.international=!e.international}}},[e._v(" "+e._s(e.international?"NE":"EN")+" ")]):e._e(),e.readOnly||e.international?e._e():n("localized-calendar",{ref:"datePicker",attrs:{"fiscal-year":[],"localized-date":e.localizedDate},on:{"update:localizedDate":function(t){e.localizedDate=t},"update:localized-date":function(t){e.localizedDate=t},"limit-mapping":function(t){e.limitMapping=t}},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}}),!e.readOnly&&e.international?n("v-date-picker",{attrs:{type:e.type,"allowed-dates":e.allowedDates,"no-title":""},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}}):e._e()],1)],1)},i=[],r=n("1da1"),o=(n("b64b"),n("99af"),n("96cf"),n("3bce")),s=n("338b"),c=n("cf45"),l={components:{LocalizedCalendar:o["a"]},mixins:[s["a"]],props:{value:{type:String,default:""},id:{type:String,default:""},type:{type:String,default:"date"},label:{type:String,default:""},disabled:{type:Boolean,default:!1},errorMessages:{type:[String,Array],default:function(){return[]}},dataCyVariable:{type:String,default:""},readOnly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},hint:{type:String,default:""},hideDetails:{type:Boolean,default:!1},singleLine:{type:Boolean,default:!1},appliedClass:{type:String,default:""},prependInnerIcon:{type:String,default:"mdi-calendar-month-outline"}},data:function(){return{menu:!1,date:this.value,nepaliDate:this.value,localizedDate:"",international:"English"===Object(c["f"])("VUE_APP_SET_DEFAULT_CALENDAR_TO"),showCalendarChoice:Object(c["f"])("VUE_APP_SHOW_CALENDAR_CHOICE"),useNepaliDate:localStorage.useNepaliDate,hasConverted:!1}},watch:{value:function(e){this.date=e},date:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e&&"true"===t.useNepaliDate&&t.hasConverted?t.nepaliDate=t.ad2bs(e):t.nepaliDate=e,n.next=3,t.$emit("input",e);case 3:return n.next=5,t.$emit("update:localizedDate",t.localizedDate);case 5:if(!e){n.next=8;break}return n.next=8,t.$emit("blur");case 8:case"end":return n.stop()}}),n)})))()},international:function(e){this.$emit("update:international",e)}},created:function(){this.date&&"true"===this.useNepaliDate&&!this.hasConverted?(this.hasConverted=!0,this.date=this.bs2ad(this.date)):this.date||"true"!==this.useNepaliDate||(this.hasConverted=!0)},methods:{allowedDates:function(e){if("false"===this.showCalendarChoice&&"English"===Object(c["f"])("VUE_APP_SET_DEFAULT_CALENDAR_TO"))return!0;var t=[],n="",a="";t=Object.keys(this.bs),n=t[0],a=t[t.length-1];var i={max:this.bs2ad("".concat(a,"-12-").concat(this.bs[a][11])),min:this.bs2ad("".concat(n,"-01-01"))};return e<=i.max&&e>=i.min}}},u=l,d=n("2877"),m=n("6544"),p=n.n(m),v=n("8336"),f=n("2e4b"),h=n("e449"),g=n("8654"),b=Object(d["a"])(u,a,i,!1,null,null,null);t["default"]=b.exports;p()(b,{VBtn:v["a"],VDatePicker:f["a"],VMenu:h["a"],VTextField:g["a"]})},"7e77":function(e,t,n){"use strict";n("99af");t["a"]={getEmploymentType:function(e){return"/org/".concat(e,"/employment/status/")},postEmploymentType:function(e){return"/org/".concat(e,"/employment/status/")},getEmploymentStatusDetail:function(e,t){return"/org/".concat(e,"/employment/status/").concat(t,"/")},updateEmploymentType:function(e,t){return"/org/".concat(e,"/employment/status/").concat(t,"/")},deleteEmploymentType:function(e,t){return"/org/".concat(e,"/employment/status/").concat(t,"/")},downloadSampleEmploymentType:function(e){return"/org/".concat(e,"/employment/status/import/sample")},importEmploymentType:function(e){return"/org/".concat(e,"/employment/status/import/")}}},"8cd3":function(e,t,n){"use strict";var a=n("5530"),i=(n("d3b7"),n("f0d5"));t["a"]={mixins:[i["a"]],data:function(){return{dataTableEndpoint:"",fetchedResults:[],response:null,footerProps:{itemsPerPageOptions:[10,20,30,40,50,100]},pagination:{sortBy:["modified_at"],descending:!1,totalItems:0,page:1,rowsPerPage:10,pageCount:0},loadTableOnInit:!0}},computed:{filterParams:function(){var e=Object(a["a"])(Object(a["a"])({},this.dataTableFilter),{},{offset:(this.pagination.page-1)*this.pagination.rowsPerPage,limit:this.pagination.rowsPerPage,ordering:this.pagination.descending?this.pagination.sortBy:"-"+this.pagination.sortBy});return this.convertToURLSearchParams(e,!1)}},watch:{filterParams:function(){var e=this;this.$nextTick((function(){e.fetchDataTable()}))},dataTableFilter:function(){this.pagination.page=1}},created:function(){var e=this;setTimeout((function(){e.loadTableOnInit&&e.fetchDataTable()}),0)},methods:{fetchDataTable:function(e,t){var n=this;return new Promise((function(a,i){!e&&!n.dataTableEndpoint||n.loading||(n.loadTableOnInit=!1,n.loading=!0,n.fetchedResults=[],n.$http.get(e||n.dataTableEndpoint,t||{params:n.filterParams}).then((function(e){n.response=e,n.fetchedResults=e.results,n.pagination.totalItems=e.count,n.processAfterTableLoad(e),a(e),n.loading=!1})).catch((function(e){n.pushErrors(e),n.notifyInvalidFormResponse(),i(e),n.loading=!1})))}))},processAfterTableLoad:function(){}}}},"8dee":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("vue-card-title",{attrs:{title:"Assign Bulk Attendance Settings",subtitle:"Assign attendance settings to multiple employees in bulk.",icon:"mdi-fingerprint",dark:"",closable:""},on:{close:function(t){return e.$emit("close-form")}}}),n("v-divider"),n("v-card-text",{staticClass:"scrollbar-md"},[n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{md:"12"}},[e.nonFieldErrors?n("non-field-form-errors",{attrs:{"non-field-errors":e.nonFieldErrors}}):e._e(),n("v-divider")],1),n("v-col",{staticClass:"mt-5",attrs:{"data-cy":"container-attendance-settings",md:"6",sm:"12",cols:"12"}},[n("v-chip",{attrs:{label:"",small:"",color:"green white--text"}},[e._v(" Attendance Settings ")]),n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{md:"6",cols:"12"}},[n("v-switch",{attrs:{"data-cy":"switch-assign-shift",disabled:e.assignHourly||e.removeShift,color:"green",label:"Assign Shift"},model:{value:e.assignShift,callback:function(t){e.assignShift=t},expression:"assignShift"}})],1),n("v-col",{attrs:{md:"6",cols:"12"}},[e.assignShift?n("vue-auto-complete",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{endpoint:e.workShiftEndpoint,label:"Select Shift","item-text":"name","item-value":"id"},model:{value:e.currentShift,callback:function(t){e.currentShift=t},expression:"currentShift"}},"vue-auto-complete",e.veeValidate("work_shift","Work Shift"),!1)):n("span",[n("v-switch",{attrs:{"data-cy":"switch-remove-shift",color:"red",label:"Remove Assigned Shift"},model:{value:e.removeShift,callback:function(t){e.removeShift=t},expression:"removeShift"}})],1)],1)],1),n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{md:"6",cols:"12"}},[n("v-switch",{attrs:{"data-cy":"switch-assign-overtime",disabled:e.removeOT,color:"green",label:"Assign Overtime"},model:{value:e.assignOT,callback:function(t){e.assignOT=t},expression:"assignOT"}})],1),n("v-col",{attrs:{md:"6",cols:"12"}},[e.assignOT?n("vue-auto-complete",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{endpoint:e.overtimeEndpoint,label:"Select Overtime Settings","item-text":"name","item-value":"slug"},model:{value:e.currentOverTimeSettings,callback:function(t){e.currentOverTimeSettings=t},expression:"currentOverTimeSettings"}},"vue-auto-complete",e.veeValidate("overtime_setting","Overtime Setting"),!1)):n("span",[n("v-switch",{attrs:{"data-cy":"switch-remove-overtime",color:"red",label:"Remove Applied Overtime settings"},model:{value:e.removeOT,callback:function(t){e.removeOT=t},expression:"removeOT"}})],1)],1)],1),n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{md:"6",cols:"12"}},[n("v-switch",{attrs:{"data-cy":"switch-assign-credit-hour",disabled:e.removeCreditHour,color:"green",label:"Assign Credit Hour"},model:{value:e.assignCreditHour,callback:function(t){e.assignCreditHour=t},expression:"assignCreditHour"}})],1),n("v-col",{attrs:{md:"6",cols:"12"}},[e.assignCreditHour?n("vue-auto-complete",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{endpoint:e.creditHourEndpoint,label:"Credit Hour Setting","item-text":"name","item-value":"slug"},model:{value:e.currentCreditHourSetting,callback:function(t){e.currentCreditHourSetting=t},expression:"currentCreditHourSetting"}},"vue-auto-complete",e.veeValidate("credit_hour","Credit Hour Setting"),!1)):n("span",[n("v-switch",{attrs:{"data-cy":"switch-remove-credit-hour",color:"red",label:"Remove Applied Credit Hour settings"},model:{value:e.removeCreditHour,callback:function(t){e.removeCreditHour=t},expression:"removeCreditHour"}})],1)],1)],1),n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{md:"6",cols:"12"}},[n("v-switch",{attrs:{"data-cy":"switch-assign-hourly",disabled:e.assignShift||e.removeHourly,color:"green",label:"Assign Hourly"},model:{value:e.assignHourly,callback:function(t){e.assignHourly=t},expression:"assignHourly"}})],1),n("v-col",{attrs:{md:"6",cols:"12"}},[e.assignHourly?n("v-row",[n("v-col",[n("v-select",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{items:[{value:"Daily",display_name:"Daily"},{value:"Weekly",display_name:"Weekly"},{value:"Monthly",display_name:"Monthly"}],"item-text":"display_name","item-value":"value"},model:{value:e.workingHoursDuration,callback:function(t){e.workingHoursDuration=t},expression:"workingHoursDuration"}},"v-select",e.veeValidate("working_hours_duration","Working Hours *"),!1))],1),n("v-col",[n("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{type:"number"},model:{value:e.workingHours,callback:function(t){e.workingHours=t},expression:"workingHours"}},"v-text-field",e.veeValidate("working_hours","Hours *"),!1))],1)],1):n("span",[n("v-switch",{attrs:{"data-cy":"switch-remove-hourly",color:"red",label:"Remove Applied Hourly settings"},model:{value:e.removeHourly,callback:function(t){e.removeHourly=t},expression:"removeHourly"}})],1)],1)],1),n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{md:"6",cols:"12"}},[n("v-switch",{attrs:{"data-cy":"switch-penalty-setting",color:"green",label:"Assign Penalty Setting"},model:{value:e.assignPenaltySetting,callback:function(t){e.assignPenaltySetting=t},expression:"assignPenaltySetting"}})],1),n("v-col",{attrs:{md:"6",cols:"12"}},[e.assignPenaltySetting?n("vue-auto-complete",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{endpoint:e.penaltySettingEndpoint,label:"Select Penalty Settings","item-text":"title","item-value":"id"},model:{value:e.currentPenaltySetting,callback:function(t){e.currentPenaltySetting=t},expression:"currentPenaltySetting"}},"vue-auto-complete",e.veeValidate("penalty_setting","Penalty Settings"),!1)):n("span",[n("v-switch",{attrs:{"data-cy":"switch-remove-shift",color:"red",label:"Remove Penalty Settings"},model:{value:e.removePenaltySetting,callback:function(t){e.removePenaltySetting=t},expression:"removePenaltySetting"}})],1)],1)],1),n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"12",md:"6"}},[n("v-switch",{attrs:{disabled:e.remove_web_attendance,"data-cy":"switch-web-attendance",color:"green",label:"Allow Web Attendance for employee"},model:{value:e.web_attendance,callback:function(t){e.web_attendance=t},expression:"web_attendance"}})],1),n("v-col",{attrs:{cols:"12",md:"6"}},[e.web_attendance?n("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],model:{value:e.cidr,callback:function(t){e.cidr=t},expression:"cidr"}},"v-text-field",e.veeValidate("cidr","CIDR (IP Address)+"),!1)):n("span",[n("v-switch",{attrs:{"data-cy":"switch-remove-shift",color:"red",label:"Remove Web Attendance"},model:{value:e.remove_web_attendance,callback:function(t){e.remove_web_attendance=t},expression:"remove_web_attendance"}})],1)],1)],1)],1),n("v-col",{staticClass:"mt-5",attrs:{"offset-md":"1",md:"5",sm:"12",cols:"12"}},[n("v-chip",{attrs:{label:"",small:"",color:"blue white--text"}},[e._v(" Email Notification ")]),n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{sm:"6"}},[n("v-checkbox",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{disabled:e.removeLateInNotification,label:"Late In"},on:{change:function(t){return e.checkEmailTemplate(t,"Late In Email","late_in_notification_email")}},model:{value:e.lateInNotification,callback:function(t){e.lateInNotification=t},expression:"lateInNotification"}},"v-checkbox",e.veeValidate("late_in_notification_email","Late In Notification"),!1))],1),n("v-col",{attrs:{sm:"6"}},[n("v-switch",{attrs:{"data-cy":"switch-remove-late-in-notification",disabled:e.lateInNotification,color:"red",label:"Remove Late In Notification"},model:{value:e.removeLateInNotification,callback:function(t){e.removeLateInNotification=t},expression:"removeLateInNotification"}})],1)],1),n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{sm:"6"}},[n("v-checkbox",e._b({directives:[{name:"validate",rawName:"v-validate",value:"",expression:"''"}],attrs:{disabled:e.removeOvertimeNotification,label:"Overtime"},on:{change:function(t){return e.checkEmailTemplate(t,"Overtime Email","overtime_remainder_email")}},model:{value:e.overtimeNotification,callback:function(t){e.overtimeNotification=t},expression:"overtimeNotification"}},"v-checkbox",e.veeValidate("overtime_remainder_email","Overtime Notification Email"),!1))],1),n("v-col",{attrs:{sm:"6"}},[n("v-switch",{attrs:{"data-cy":"switch-remove-overtime-notification",disabled:e.overtimeNotification,color:"red",label:"Remove Overtime Notification"},model:{value:e.removeOvertimeNotification,callback:function(t){e.removeOvertimeNotification=t},expression:"removeOvertimeNotification"}})],1)],1),n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{sm:"6"}},[n("v-checkbox",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{disabled:e.removeAbsentNotification,label:"Absent"},on:{change:function(t){return e.checkEmailTemplate(t,"Absent Email","absent_notification_email")}},model:{value:e.absentNotification,callback:function(t){e.absentNotification=t},expression:"absentNotification"}},"v-checkbox",e.veeValidate("absent_notification_email","Absent Notification Email"),!1))],1),n("v-col",{attrs:{sm:"6"}},[n("v-switch",{attrs:{"data-cy":"switch-remove-absent-notification",disabled:e.absentNotification,color:"red",label:"Remove Absent Notification"},model:{value:e.removeAbsentNotification,callback:function(t){e.removeAbsentNotification=t},expression:"removeAbsentNotification"}})],1)],1),n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{sm:"6"}},[n("v-checkbox",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{disabled:e.removeWeeklyAttendanceReport,label:"Weekly Attendance Report Notification"},on:{change:function(t){return e.checkEmailTemplate(t,"Weekly Attendance Report Email","weekly_attendance_report_email")}},model:{value:e.weeklyAttendanceReport,callback:function(t){e.weeklyAttendanceReport=t},expression:"weeklyAttendanceReport"}},"v-checkbox",e.veeValidate("weekly_attendance_report_email","Weekly Attendance Report Email"),!1))],1),n("v-col",{attrs:{sm:"6"}},[n("v-switch",{attrs:{"data-cy":"switch-remove-weekly-attendance-report-notification",disabled:e.weeklyAttendanceReport,color:"red",label:"Remove Weekly Attendance Report Notification"},model:{value:e.removeWeeklyAttendanceReport,callback:function(t){e.removeWeeklyAttendanceReport=t},expression:"removeWeeklyAttendanceReport"}})],1)],1)],1)],1)],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{text:"",outlined:""},domProps:{textContent:e._s("Clear")},on:{click:e.clearForm}}),n("v-btn",{attrs:{color:"primary"},on:{click:e.assignAttendanceSettings}},[n("v-icon",{attrs:{size:"14",left:""},domProps:{textContent:e._s("mdi-content-save-outline")}}),e._v(" Save ")],1)],1)],1)},i=[],r=n("1da1"),o=(n("96cf"),n("c44a")),s=n("ab8a"),c=n("5660"),l=n("9192"),u=n("ad9d"),d=n("d132"),m=n("44ac"),p=n("1fe7"),v=n("d80e"),f={components:{NonFieldFormErrors:s["default"],VueAutoComplete:c["default"]},mixins:[o["a"]],props:{userList:{type:Array,required:!0}},data:function(){return{assignShift:!1,removeShift:!1,currentShift:"",workShiftEndpoint:"",assignOT:!1,assignCreditHour:!1,removeCreditHour:!1,removeOT:!1,currentCreditHourSetting:"",currentOverTimeSettings:"",overtimeEndpoint:"",creditHourEndpoint:"",assignHourly:!1,removeHourly:!1,workingHoursDuration:"",workingHours:0,assignPenaltySetting:!1,removePenaltySetting:!1,currentPenaltySetting:"",penaltySettingEndpoint:"",lateInNotification:!1,removeLateInNotification:!1,overtimeNotification:!1,removeOvertimeNotification:!1,absentNotification:!1,removeAbsentNotification:!1,weeklyAttendanceReport:!1,removeWeeklyAttendanceReport:!1,web_attendance:!1,cidr:"0.0.0.0/0",remove_web_attendance:!1}},created:function(){this.initializeDynamicUrls()},methods:{assignAttendanceSettings:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.clearNonFieldErrors(),t.next=3,e.validateAllFields();case 3:if(!t.sent){t.next=7;break}n={remove_shift:!!e.removeShift||null,remove_working_hours:!!e.removeHourly||null,remove_overtime:!!e.removeOT||null,remove_credit_hour:!!e.removeCreditHour||null,remove_penalty_setting:!!e.removePenaltySetting||null,users:e.userList,overtime_setting:e.assignOT?e.currentOverTimeSettings:null,credit_hour_setting:e.assignCreditHour?e.currentCreditHourSetting:null,work_shift:e.assignShift?e.currentShift:null,penalty_setting:e.assignPenaltySetting?e.currentPenaltySetting:null,late_in_notification_email:!!e.lateInNotification||!e.removeLateInNotification&&null,absent_notification_email:!!e.absentNotification||!e.removeAbsentNotification&&null,weekly_attendance_report_email:!!e.weeklyAttendanceReport||!e.removeWeeklyAttendanceReport&&null,overtime_remainder_email:!!e.overtimeNotification||!e.removeOvertimeNotification&&null,working_hours:e.assignHourly?e.workingHours:null,working_hours_duration:e.assignHourly?e.workingHoursDuration:null,web_attendance:e.web_attendance,remove_web_attendance:e.remove_web_attendance,ip_filters:[]},e.web_attendance&&n.ip_filters.push({allow:!0,cidr:e.cidr}),e.$http.post(d["a"].postUserSetting(e.getOrganizationSlug),n).then((function(){e.clearForm(),e.$emit("refresh"),e.notifyUser("Successfully assigned the Attendance Settings."),e.clearNonFieldErrors()})).catch((function(t){e.notifyInvalidFormResponse(),e.pushErrors(t)}));case 7:case"end":return t.stop()}}),t)})))()},checkEmailTemplate:function(e,t,n){var a=this;e?this.$http.get(m["a"].getTemplate(this.getOrganizationSlug)+"?template_type="+t+"&is_active=true").then((function(e){e.count<1&&a.displayErrors(n,"No email will be sent to employee unless email template for ".concat(t," is created and activated. Either email template has not been created or has not been activated yet. Please confirm."))})).catch((function(e){a.notifyInvalidFormResponse(),a.pushErrors(e)})):this.$validator.errors.remove(n)},initializeDynamicUrls:function(){this.workShiftEndpoint=l["a"].getWorkShift(this.getOrganizationSlug),this.overtimeEndpoint=u["a"].getOvertimeSettings(this.getOrganizationSlug),this.creditHourEndpoint=p["a"].getCreditHour(this.getOrganizationSlug),this.penaltySettingEndpoint=v["a"].getPenaltySettings(this.getOrganizationSlug)},clearForm:function(){Object.assign(this.$data,this.$options.data.apply(this)),this.initializeDynamicUrls()}}},h=f,g=n("2877"),b=n("6544"),y=n.n(b),_=n("8336"),x=n("b0af"),w=n("99d9"),k=n("ac7c"),S=n("cc20"),C=n("62ad"),D=n("ce7e"),E=n("132d"),T=n("0fd9b"),O=n("b974"),A=n("2fa4"),I=n("b73d"),N=n("8654"),V=Object(g["a"])(h,a,i,!1,null,null,null);t["default"]=V.exports;y()(V,{VBtn:_["a"],VCard:x["a"],VCardActions:w["a"],VCardText:w["c"],VCheckbox:k["a"],VChip:S["a"],VCol:C["a"],VDivider:D["a"],VIcon:E["a"],VRow:T["a"],VSelect:O["a"],VSpacer:A["a"],VSwitch:I["a"],VTextField:N["a"]})},ac23:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("vue-page-wrapper",{attrs:{title:e.htmlTitle,"bread-crumbs":e.breadCrumbItems}},[n("v-card",[n("vue-card-title",{attrs:{title:"Attendance Settings",subtitle:e.displayForm?e.cardText:"The list below contains Attendance Settings of Employee.",icon:"mdi-account-cog-outline"}},[n("template",{slot:"actions"},[e.displayForm?n("v-btn",{attrs:{small:"",color:"primary"},on:{click:e.dismissForm}},[e._v(" Cancel ")]):e._e(),e.displayForm?e._e():n("v-btn",{attrs:{"data-cy":"btn-filter",icon:""},on:{click:function(t){e.showFilters=!e.showFilters}}},[n("v-icon",{attrs:{small:""},domProps:{textContent:e._s("mdi-filter-variant")}})],1)],1)],2),n("v-divider"),n("v-slide-y-transition",[e.showFilters&&!e.displayForm?n("div",[n("v-row",{staticClass:"mx-3",attrs:{"no-gutters":""}},[n("v-col",{staticClass:"pa-2",attrs:{md:"4",cols:"6"}},[n("vue-search",{staticClass:"py-3",attrs:{search:e.search,label:"Search By Name or Username"},on:{"update:search":function(t){e.search=t}},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),n("v-col",{staticClass:"pa-2",attrs:{md:"4",cols:"6"}},[n("vue-auto-complete",{attrs:{endpoint:e.branchesEndpoint,params:{is_archived:"false"},label:"Select Branch","item-text":"name","item-value":"slug"},model:{value:e.currentBranch,callback:function(t){e.currentBranch=t},expression:"currentBranch"}})],1),n("v-col",{staticClass:"pa-2",attrs:{md:"4",cols:"6"}},[n("vue-auto-complete",{attrs:{endpoint:e.divisionEndpoint,params:{is_archived:"false"},label:"Select Division","item-text":"name","item-value":"slug"},model:{value:e.currentDivision,callback:function(t){e.currentDivision=t},expression:"currentDivision"}})],1),n("v-col",{staticClass:"pa-2",attrs:{md:"4",cols:"6"}},[n("vue-auto-complete",{attrs:{endpoint:e.employment_levelEndpoint,params:{is_archived:"false"},label:"Select Employment Level","item-text":"title","item-value":"slug"},model:{value:e.currentEmploymentLevel,callback:function(t){e.currentEmploymentLevel=t},expression:"currentEmploymentLevel"}})],1),n("v-col",{staticClass:"pa-2",attrs:{md:"4",cols:"6"}},[n("vue-auto-complete",{attrs:{endpoint:e.employmentTypeEndpoint,"item-text":"title","item-value":"slug",label:"Filter by Employment Type"},model:{value:e.employmentType,callback:function(t){e.employmentType=t},expression:"employmentType"}})],1),n("v-col",{staticClass:"pa-4",attrs:{md:"4",cols:"6"}},[n("v-checkbox",{attrs:{label:"Past Employee","hide-details":""},on:{change:function(t){e.userStatus="current"===e.userStatus?"past":"current",e.selected=[]}}})],1)],1),n("v-divider")],1):e._e()]),e.displayForm?n("attendance-settings",{attrs:{"action-data":e.actionData},on:{"dismiss-form":e.dismissForm}}):n("v-data-table",{attrs:{headers:e.headers,items:e.fetchedResults,"sort-desc":e.pagination.descending,"sort-by":e.pagination.sortBy,page:e.pagination.page,"items-per-page":e.pagination.rowsPerPage,"footer-props":e.footerProps,"server-items-length":e.pagination.totalItems,"mobile-breakpoint":0,"must-sort":"","show-select":"past"!==e.userStatus},on:{"update:sortDesc":function(t){return e.$set(e.pagination,"descending",t)},"update:sort-desc":function(t){return e.$set(e.pagination,"descending",t)},"update:sortBy":function(t){return e.$set(e.pagination,"sortBy",t)},"update:sort-by":function(t){return e.$set(e.pagination,"sortBy",t)},"update:page":function(t){return e.$set(e.pagination,"page",t)},"update:itemsPerPage":function(t){return e.$set(e.pagination,"rowsPerPage",t)},"update:items-per-page":function(t){return e.$set(e.pagination,"rowsPerPage",t)}},scopedSlots:e._u([{key:"item",fn:function(t){return[n("tr",["past"!==e.userStatus?n("td",[n("v-checkbox",{staticClass:"mt-n2",attrs:{"data-cy":"td-checkbox-"+(t.index+1),"input-value":t.isSelected,primary:"","hide-details":""},on:{change:function(e){return t.select(!t.isSelected)}}})],1):e._e(),n("td",[n("v-responsive",{attrs:{width:"220"}},[n("user-detail-box",{attrs:{user:t.item.user}})],1)],1),n("td",[e._v(" "+e._s(t.item.user.username)+" ")]),n("td",{staticClass:"text-center"},[n("v-responsive",{attrs:{width:"120"}},[n("div",[n("v-avatar",[n("v-icon",{attrs:{color:t.item.web_attendance?"success":"danger",left:""},domProps:{textContent:e._s(t.item.web_attendance?"mdi-check-circle":"mdi-close")}})],1)],1)])],1),n("td",{staticClass:"text-center"},[n("v-responsive",{attrs:{width:"100"}},[t.item.work_shift?n("div",{class:t.item.work_shift.is_expiring?"danger--text":"info--text"},[e._v(" "+e._s(t.item.work_shift.name||"N/A")+" ")]):n("div",[e._v("No Shift")])]),n("div",[n("v-responsive",{attrs:{width:"100"}},[t.item.upcoming_shift.length>0?n("div",{staticClass:"info--text"},[e._v(" "+e._s(t.item.upcoming_shift[0].name||"N/A")+" ")]):n("div",[e._v("N/A")])])],1)],1),n("td",{staticClass:"text-center"},[e._v(" "+e._s(t.item.credit_hour_setting?t.item.credit_hour_setting.name:"N/A")+" ")]),n("td",{staticClass:"text-center"},[n("v-responsive",{attrs:{width:"110"}},[t.item.overtime_setting?n("div",{staticClass:"info--text"},[e._v(" "+e._s(t.item.overtime_setting.name||"N/A")+" ")]):n("div",[e._v("N/A")])])],1),n("td",{staticClass:"text-center"},[n("v-responsive",{attrs:{width:"110"}},[n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(a){var i=a.on;return[t.item.absent_notification_email?n("v-avatar",e._g({attrs:{size:"25",color:"success"}},i),[n("span",{staticClass:"white--text"},[e._v(" A ")])]):e._e()]}}],null,!0)},[n("span",{domProps:{textContent:e._s("Absent Notification Email Activated")}})]),n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(a){var i=a.on;return[t.item.weekly_attendance_report_email?n("v-avatar",e._g({attrs:{size:"25",color:"success"}},i),[n("span",{staticClass:"white--text"},[e._v(" W ")])]):e._e()]}}],null,!0)},[n("span",{domProps:{textContent:e._s("Weekly Attendance Report Email Activated")}})]),n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(a){var i=a.on;return[t.item.overtime_remainder_email?n("v-avatar",e._g({attrs:{size:"25",color:"success"}},i),[n("span",{staticClass:"white--text"},[e._v(" O ")])]):e._e()]}}],null,!0)},[n("span",{domProps:{textContent:e._s("Overtime Notification Email Activated")}})]),n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(a){var i=a.on;return[t.item.late_in_notification_email?n("v-avatar",e._g({attrs:{size:"25",color:"success"}},i),[n("span",{staticClass:"white--text"},[e._v(" L ")])]):e._e()]}}],null,!0)},[n("span",{domProps:{textContent:e._s("Late In Notification Email Activated")}})]),t.item.late_in_notification_email||t.item.absent_notification_email||t.item.weekly_attendance_report_email||t.item.overtime_remainder_email?e._e():n("v-chip",{attrs:{small:"",color:"danger"}},[n("span",{staticClass:"white--text"},[e._v(" N/A ")])])],1)],1),n("td",[n("vue-context-menu",{attrs:{"context-list":[{name:"Assign To Device",icon:"mdi-devices",color:"blue"},{name:"Update Web Attendance",icon:"mdi-pencil-outline",color:"blue",disabled:"past"===e.userStatus,disable_message:"Past user selected"}]},on:{click0:function(n){return e.openDialog(t.item.user,t.item.id)},click1:function(n){return e.triggerForm("update",t.item)}}})],1)])]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},[n("template",{slot:"footer"},[n("v-divider"),n("v-row",{staticClass:"ma-4",attrs:{align:"center"}},[n("span",{staticClass:"mr-2",domProps:{textContent:e._s("Selected Employees")}}),n("strong",{domProps:{textContent:e._s(e.selected.length)}}),n("v-spacer"),n("v-btn",{attrs:{disabled:e.selected.length<=0||"past"===e.userStatus,small:"",color:"primary"},domProps:{textContent:e._s("Assign Selected")},on:{click:function(t){e.sheet=!0}}})],1)],1),n("template",{slot:"no-data"},[n("data-table-no-data",{attrs:{loading:e.loading}})],1)],2)],1),n("v-bottom-sheet",{on:{keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;e.dialog=!1}},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[e.dialog?n("v-card",[n("vue-card-title",{attrs:{title:"Assign Employee to Device",subtitle:"-",icon:"mdi-file-document-outline",dark:"",closable:""},on:{close:function(t){e.dialog=!1}}}),n("v-divider"),n("v-card-text",[n("assign-device",{attrs:{"setting-id":e.settingId,"past-employee":"past"===e.userStatus,user:e.user}})],1)],1):e._e()],1),n("v-bottom-sheet",{attrs:{persistent:""},on:{keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;e.sheet=!1}},model:{value:e.sheet,callback:function(t){e.sheet=t},expression:"sheet"}},[e.sheet?n("bulk-attendance-setting",{attrs:{"user-list":e.selectedUserIds},on:{"close-form":function(t){e.sheet=!1},refresh:e.dismissForm}}):e._e()],1)],1)},i=[],r=n("1da1"),o=(n("96cf"),n("ac1f"),n("841c"),n("d81d"),n("b624")),s=n("02cb"),c=n("8cd3"),l=n("5660"),u=n("c44a"),d=n("ecb6"),m=n("8dee"),p=n("d132"),v=n("1229"),f=n("e59e"),h=n("0549"),g=n("d502"),b=n("10bc"),y=n("a51f"),_=n("e4bf"),x=n("2c2a"),w=n("7e77"),k={components:{DataTableNoData:y["default"],AssignDevice:d["default"],BulkAttendanceSetting:m["default"],VueAutoComplete:l["default"],UserDetailBox:s["default"],AttendanceSettings:o["default"],VuePageWrapper:h["default"],VueContextMenu:_["default"]},mixins:[c["a"],u["a"]],data:function(){return{htmlTitle:"Individual Attendance | Settings | Attendance | Admin",breadCrumbItems:[{text:"Attendance",disabled:!1,to:{name:"admin-slug-attendance-overview",params:{slug:this.$route.params.slug}}},{text:"Settings",disabled:!1,to:{name:"admin-slug-attendance-settings",params:{slug:this.$route.params.slug}}},{text:"Attendance Settings",disabled:!0}],loading:!1,headers:[{text:"Name",value:"user__first_name"},{text:"Username",value:"user__username"},{text:"Web Attendance",sortable:!1,align:"center",value:"web_attendance"},{text:"Working / Upcoming Shift",sortable:!1,align:"center",value:"work_shit__name"},{text:"Credit hour Setting",sortable:!1,align:"center",value:""},{text:"Overtime Settings",sortable:!1,align:"center",value:""},{text:"Email Notification",sortable:!1,align:"center ",value:"created"},{text:"Actions",align:"center",sortable:!1}],search:"",username:"",actionData:void 0,dialog:!1,sheet:!1,displayForm:!1,showFilters:!1,deviceInfo:{},userStatus:"current",currentDivision:"",currentBranch:"",branchesEndpoint:"",divisionEndpoint:"",deviceEndpoint:"",settingsEndpoint:"",user:"",cardText:"",settingId:"",selected:[],currentEmploymentLevel:"",employment_levelEndpoint:"",employmentTypeEndpoint:"",employmentType:""}},computed:{dataTableFilter:function(){return{search:this.search,username:this.username,division:this.currentDivision,branch:this.currentBranch,user_status:this.userStatus,employment_level:this.currentEmploymentLevel,employment_status:this.employmentType}},selectedUserIds:function(){return this.selected.map((function(e){return e.user.id}))}},watch:{filters:function(e){this.applyFilters(e)}},created:function(){this.branchesEndpoint=f["a"].getBranch(this.getOrganizationSlug),this.divisionEndpoint=v["a"].getDivision(this.getOrganizationSlug),this.employment_levelEndpoint=x["a"].getEmploymentLevel(this.getOrganizationSlug),this.employmentTypeEndpoint=w["a"].getEmploymentType(this.getOrganizationSlug),this.deviceEndpoint=b["a"].getDevice+"?organization_slug=".concat(this.getOrganizationSlug),this.settingsEndpoint=p["a"].getUserSetting(this.getOrganizationSlug),this.dataTableEndpoint=p["a"].getUserSetting(this.getOrganizationSlug),this.processAfterTableLoad()},methods:{openDialog:function(e,t){this.dialog=!0,this.user=e,this.settingId=t},triggerForm:function(e,t){var n={update:"Update Web Attendance Settings."};this.cardText=n[e],this.displayForm=!0,this.actionData=t||void 0},dismissForm:function(e){this.displayForm=!1,this.sheet=!1,this.search="",this.selected=[],this.actionData=void 0,this.fetchDataTable(),e&&(this.notify={text:e,display:!0})},assignEmployee:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.deviceInfo.setting=e.settingId,e.$http.post(g["a"].postUserMap(e.getOrganizationSlug),e.deviceInfo).then((function(){e.dialog=!1,e.deviceInfo={},e.notifyUser("Successfully assign Employee to Device.")})).catch((function(t){e.notifyInvalidFormResponse(),e.pushErrors(t)}));case 2:case"end":return t.stop()}}),t)})))()}}},S=k,C=n("2877"),D=n("6544"),E=n.n(D),T=n("8212"),O=n("288c"),A=n("8336"),I=n("b0af"),N=n("99d9"),V=n("ac7c"),P=n("cc20"),L=n("62ad"),R=n("8fea"),H=n("ce7e"),F=n("132d"),B=n("6b53"),$=n("0fd9b"),z=n("0789"),U=n("2fa4"),q=n("3a2f"),j=Object(C["a"])(S,a,i,!1,null,null,null);t["default"]=j.exports;E()(j,{VAvatar:T["a"],VBottomSheet:O["a"],VBtn:A["a"],VCard:I["a"],VCardText:N["c"],VCheckbox:V["a"],VChip:P["a"],VCol:L["a"],VDataTable:R["a"],VDivider:H["a"],VIcon:F["a"],VResponsive:B["a"],VRow:$["a"],VSlideYTransition:z["g"],VSpacer:U["a"],VTooltip:q["a"]})},ad9d:function(e,t,n){"use strict";n("99af");t["a"]={getOvertime:function(e){return"/attendance/".concat(e,"/overtime/claims/")},getOvertimeDetail:function(e,t){return"/attendance/".concat(e,"/overtime/claims/").concat(t,"/")},putOvertime:function(e,t){return"/attendance/".concat(e,"/overtime/claims/").concat(t,"/edit/")},claimOvertime:function(e){return"/attendance/".concat(e,"/overtime/claims/bulk-update/")},getOvertimeCalculation:function(e,t){return"/attendance/".concat(e,"/overtime/claims/").concat(t,"/normalization/")},putClaim:function(e,t){return"/attendance/".concat(e,"/overtime/claims/").concat(t,"/")},postBulkOvertimeClaim:function(e){return"/attendance/".concat(e,"/overtime/claims/bulk-action/")},unexpire:function(e){return"/attendance/".concat(e,"/overtime/claims/unexpire/")},getOvertimeSettings:function(e){return"/attendance/".concat(e,"/overtime/settings/")},postOvertimeSettings:function(e){return"/attendance/".concat(e,"/overtime/settings/")},updateOvertimeSettings:function(e,t){return"/attendance/".concat(e,"/overtime/settings/").concat(t,"/")},deleteOvertimeSettings:function(e,t){return"/attendance/".concat(e,"/overtime/settings/").concat(t,"/")},postAssignOvertime:function(e){return"/attendance/".concat(e,"/assign-overtime/")},getOvertimeHistory:function(e,t){return"/attendance/".concat(e,"/overtime/claims/").concat(t,"/history/")},getOvertimeOverviewDetails:function(e){return"/attendance/".concat(e,"/overtime/claims/summary/")}}},d132:function(e,t,n){"use strict";n("99af");t["a"]={getUserSetting:function(e){return"/attendance/".concat(e,"/users/settings/")},postUserSetting:function(e){return"/attendance/".concat(e,"/users/settings/")},updateUserSetting:function(e,t){return"/attendance/".concat(e,"/users/settings/").concat(t,"/")},deleteUserSetting:function(e,t){return"/attendance/".concat(e,"/users/settings/").concat(t,"/")}}},d80e:function(e,t,n){"use strict";n("99af");t["a"]={getPenaltySettings:function(e){return"/attendance/".concat(e,"/breakout-penalty-settings/")},postPenaltyDetails:function(e){return"/attendance/".concat(e,"/breakout-penalty-settings/")},updatePenaltySettings:function(e,t){return"/attendance/".concat(e,"/breakout-penalty-settings/").concat(t,"/")},deletePenaltySettings:function(e,t){return"/attendance/".concat(e,"/breakout-penalty-settings/").concat(t,"/")}}},e4bf:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.contextList.filter((function(e){return!e.hide})).length<3&&!e.hideIcons||e.showIcons?n("div",e._l(e.contextList,(function(t,a){return n("span",{key:a},[t.hide?e._e():n("v-tooltip",{attrs:{disabled:e.$vuetify.breakpoint.xs,top:""},scopedSlots:e._u([{key:"activator",fn:function(i){var r=i.on;return[n("v-btn",e._g({staticClass:"mx-0",attrs:{text:"",width:e.small?"18":"22",depressed:"",icon:""}},r),[n("v-icon",{attrs:{disabled:t.disabled,color:t.color,"data-cy":e.dataCyVariable+"btn-dropdown-menu-item-"+(a+1),dark:!t.disabled,small:e.small,size:"20",dense:""},domProps:{textContent:e._s(t.icon)},on:{click:function(t){return e.$emit("click"+a)}}})],1)]}}],null,!0)},[n("span",{domProps:{textContent:e._s(t.disabled&&t.disable_message||t.name)}})])],1)})),0):n("v-menu",{attrs:{"offset-y":"",left:"",transition:"slide-y-transition"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{small:"",text:"",icon:""}},a),[n("v-icon",{attrs:{"data-cy":"btn-dropdown-menu"},domProps:{textContent:e._s("mdi-dots-vertical")}})],1)]}}])},e._l(e.contextList,(function(t,a){return n("v-list",{key:a,staticClass:"pa-0",attrs:{dense:""}},[t.hide?e._e():n("div",[t.disabled?n("v-list-item",{attrs:{"data-cy":"btn-dropdown-menu-item"}},[n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(a){var i=a.on;return[n("v-list-item-title",e._g({},i),[n("v-icon",{attrs:{disabled:"",small:"",color:t.color},domProps:{textContent:e._s(t.icon)}}),n("span",{staticClass:"ml-1 grey--text",domProps:{textContent:e._s(t.name)}})],1)]}}],null,!0)},[n("span",{domProps:{textContent:e._s(t.disabled&&t.disable_message||t.name)}})])],1):n("v-list-item",{attrs:{"data-cy":"btn-dropdown-menu-item"},on:{click:function(t){return e.$emit("click"+a)}}},[n("v-list-item-title",[n("v-icon",{attrs:{color:t.color,small:"",dense:""},domProps:{textContent:e._s(t.icon)}}),n("span",{staticClass:"ml-1",class:t.text_color,domProps:{textContent:e._s(t.name)}})],1)],1)],1)])})),1)],1)},i=[],r={name:"VueContextMenu",props:{contextList:{type:Array,default:function(){return[]}},dataCyVariable:{type:String,default:""},showIcons:{type:Boolean,default:!1},hideIcons:{type:Boolean,default:!1},small:{type:Boolean,default:!1}}},o=r,s=n("2877"),c=n("6544"),l=n.n(c),u=n("8336"),d=n("132d"),m=n("8860"),p=n("da13"),v=n("5d23"),f=n("e449"),h=n("3a2f"),g=Object(s["a"])(o,a,i,!1,null,"71ee785c",null);t["default"]=g.exports;l()(g,{VBtn:u["a"],VIcon:d["a"],VList:m["a"],VListItem:p["a"],VListItemTitle:v["c"],VMenu:f["a"],VTooltip:h["a"]})},e59e:function(e,t,n){"use strict";n("99af");t["a"]={getBranch:function(e){return"/org/".concat(e,"/branch/")},postBranch:function(e){return"/org/".concat(e,"/branch/")},getBranchDetail:function(e,t){return"/org/".concat(e,"/branch/").concat(t,"/")},updateBranch:function(e,t){return"/org/".concat(e,"/branch/").concat(t,"/")},deleteBranch:function(e,t){return"/org/".concat(e,"/branch/").concat(t,"/")},importBranch:function(e){return"/org/".concat(e,"/branch/import/")},downloadSampleBranch:function(e){return"/org/".concat(e,"/branch/import/sample")},exportBranch:function(e){return"/org/".concat(e,"/branch/export")},branchType:function(e){return"/org/".concat(e,"/branch-type")},branchTypeDetail:function(e,t){return"org/".concat(e,"/branch-type/").concat(t)}}},ecb6:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.nonFieldErrors?n("non-field-form-errors",{attrs:{"non-field-errors":e.nonFieldErrors}}):e._e(),n("v-row",[n("v-col",{attrs:{md:"2",cols:"12"}},[n("div",[n("vue-user",{attrs:{user:e.user,horizontal:"",size:"50"}})],1),e.pastEmployee?e._e():n("div",{staticClass:"py-4"},[!1===e.add?n("v-btn",{attrs:{color:"primary",small:""},on:{click:function(t){e.add=!0}}},[e._v(" Add to Device ")]):n("v-btn",{attrs:{color:"primary",small:""},on:{click:function(t){e.add=!1}}},[e._v(" Return to List ")])],1)]),n("v-col",[e.add?n("v-row",{attrs:{align:"center"}},[n("v-col",{attrs:{md:"4"}},[n("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],model:{value:e.deviceInfo.bio_user_id,callback:function(t){e.$set(e.deviceInfo,"bio_user_id",t)},expression:"deviceInfo.bio_user_id"}},"v-text-field",e.veeValidate("bio_user_id","Bio User Id *"),!1))],1),n("v-col",{attrs:{md:"4"}},[n("vue-auto-complete",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{endpoint:e.deviceEndpoint,"items-to-exclude":e.fetchedResults.map((function(e){return e.source.id})),"item-text":"name","item-value":"id"},model:{value:e.deviceInfo.source,callback:function(t){e.$set(e.deviceInfo,"source",t)},expression:"deviceInfo.source"}},"vue-auto-complete",e.veeValidate("source","Device *"),!1))],1),n("v-col",{attrs:{md:"4"}},[n("v-btn",{attrs:{small:"",color:"primary",depressed:""},on:{click:function(t){return e.createHistory()}}},[e._v(" Save ")])],1)],1):n("v-data-table",{key:e.componentKey,attrs:{headers:e.headers,items:e.fetchedResults,loading:e.loading,"sort-desc":e.pagination.descending,"sort-by":e.pagination.sortBy,page:e.pagination.page,"items-per-page":e.pagination.rowsPerPage,"footer-props":e.footerProps,"server-items-length":e.pagination.totalItems,"mobile-breakpoint":0,"must-sort":"","single-expand":""},on:{"update:sortDesc":function(t){return e.$set(e.pagination,"descending",t)},"update:sort-desc":function(t){return e.$set(e.pagination,"descending",t)},"update:sortBy":function(t){return e.$set(e.pagination,"sortBy",t)},"update:sort-by":function(t){return e.$set(e.pagination,"sortBy",t)},"update:page":function(t){return e.$set(e.pagination,"page",t)},"update:itemsPerPage":function(t){return e.$set(e.pagination,"rowsPerPage",t)},"update:items-per-page":function(t){return e.$set(e.pagination,"rowsPerPage",t)}},scopedSlots:e._u([{key:"item",fn:function(t){return[n("tr",[n("td",{attrs:{"data-cy":"td-device-"+(t.index+1)}},[e._v(" "+e._s(t.item.source.name)+" ")]),n("td",[e._v(" "+e._s(t.item.bio_user_id)+" ")]),n("td",{attrs:{"data-cy":"td-menu-item-"+(t.index+1)}},[n("vue-context-menu",{attrs:{"data-cy-variable":"assign-employee-to-device","context-list":[{name:"Edit Details",icon:"mdi-pencil-outline",color:"blue"},{name:"Delete Details",icon:"mdi-trash-can-outline",color:"red"}]},on:{click0:function(e){return t.expand(!t.isExpanded)},click1:function(n){e.deleteNotify.dialog=!0,e.mapId=t.item.id}}})],1)])]}},{key:"expanded-item",fn:function(t){var a=t.item,i=t.headers;return[n("td",{attrs:{colspan:i.length}},[n("v-row",{attrs:{align:"center"}},[n("v-col",{attrs:{md:"4"}},[n("vue-auto-complete",e._b({directives:[{name:"validate",rawName:"v-validate"}],attrs:{endpoint:e.deviceEndpoint,"item-text":"name","item-value":"id","force-fetch":""},model:{value:a.source.id,callback:function(t){e.$set(a.source,"id",t)},expression:"item.source.id"}},"vue-auto-complete",e.veeValidate("source","Device"),!1))],1),n("v-col",{attrs:{md:"4"}},[n("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],model:{value:a.bio_user_id,callback:function(t){e.$set(a,"bio_user_id",t)},expression:"item.bio_user_id"}},"v-text-field",e.veeValidate("bio_user_id","Bio User Id *"),!1))],1),n("v-col",{attrs:{md:"4"}},[n("v-btn",{attrs:{small:"",color:"primary",depressed:""},on:{click:function(t){return e.assignEmployee(a.bio_user_id,a.source.id,a.id)}}},[e._v(" Save ")])],1)],1)],1)]}}])},[n("template",{slot:"no-data"},[n("data-table-no-data",{attrs:{loading:e.loading}})],1)],2),n("vue-dialog",{attrs:{notify:e.deleteNotify},on:{agree:function(t){return e.deleteDeviceItem()},close:function(t){e.deleteNotify.dialog=!1}}})],1)],1)],1)},i=[],r=n("1da1"),o=(n("96cf"),n("a9e3"),n("d3b7"),n("17cc")),s=n("c44a"),c=n("02cb"),l=n("ab8a"),u=n("5660"),d=n("a51f"),m=n("d502"),p=n("e4bf"),v={components:{VueContextMenu:p["default"],DataTableNoData:d["default"],VueAutoComplete:u["default"],VueUser:c["default"],NonFieldFormErrors:l["default"]},mixins:[s["a"],o["a"]],props:{settingId:{type:[Number,String],default:""},user:{type:Object,default:void 0},pastEmployee:{type:Boolean,default:!1}},data:function(){return{headers:[{text:"Device",value:"user_first_name",sortable:!1},{text:"Bio User ID",sortable:!1,align:"left",value:"email"},{text:"Action",sortable:!1,align:"left",value:"email"}],componentKey:1,loading:!1,deviceEndpoint:"",deviceInfo:{},add:!1,search:"",mapId:"",excludeItems:"",deleteNotify:{dialog:!1,heading:"Confirm Delete",text:"Are you sure you want remove user from this device?"}}},computed:{DataTableFilter:function(){return{setting:this.settingId,bio_user_id:"",source:""}}},created:function(){this.deviceEndpoint="/attendance/source/?organization_slug=".concat(this.getOrganizationSlug),this.loadDataTableChange()},methods:{fetchDataTable:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.loading=!0,e.$http.get("/attendance/".concat(e.getOrganizationSlug,"/user-map/"),{params:e.fullParams}).then((function(t){e.loadDataTable(t)})).finally((function(){e.loading=!1}));case 2:case"end":return t.stop()}}),t)})))()},assignEmployee:function(e,t,n){var a=this;return Object(r["a"])(regeneratorRuntime.mark((function i(){var r;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:a.deviceInfo.setting=a.settingId,r={setting:a.settingId,bio_user_id:e,source:t},a.$http.put(m["a"].updateUserMap(a.getOrganizationSlug,n),r).then((function(){a.notifyUser("Successfully Update Device Settings."),a.$emit("refresh"),a.clearNonFieldErrors(),a.fetchDataTable(),a.componentKey+=1})).catch((function(e){a.notifyInvalidFormResponse(),a.pushErrors(e)}));case 3:case"end":return i.stop()}}),i)})))()},deleteDeviceItem:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$http.delete(m["a"].deleteUserMap(e.getOrganizationSlug,e.mapId)).then((function(){e.$emit("refresh"),e.notifyUser("Successfully remove user from this Device."),e.deleteNotify.dialog=!1,e.clearNonFieldErrors(),e.fetchDataTable()})).catch((function(t){e.notifyInvalidFormResponse(),e.pushErrors(t)}));case 1:case"end":return t.stop()}}),t)})))()},createHistory:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.deviceInfo.setting=e.settingId,e.$http.post(m["a"].postUserMap(e.getOrganizationSlug),e.deviceInfo).then((function(){e.deviceInfo={},e.$emit("refresh"),e.notifyUser("Successfully assign Employee to Device."),e.clearNonFieldErrors(),e.add=!1,e.fetchDataTable()})).catch((function(t){e.notifyInvalidFormResponse(),e.pushErrors(t)}));case 2:case"end":return t.stop()}}),t)})))()}}},f=v,h=n("2877"),g=n("6544"),b=n.n(g),y=n("8336"),_=n("62ad"),x=n("8fea"),w=n("0fd9b"),k=n("8654"),S=Object(h["a"])(f,a,i,!1,null,null,null);t["default"]=S.exports;b()(S,{VBtn:y["a"],VCol:_["a"],VDataTable:x["a"],VRow:w["a"],VTextField:k["a"]})},f0d5:function(e,t,n){"use strict";n("d3b7"),n("3ca3"),n("ddb0");var a=n("c44a");t["a"]={components:{NonFieldFormErrors:function(){return n.e("chunk-6441e173").then(n.bind(null,"ab8a"))}},mixins:[a["a"]],data:function(){return{crud:{name:"record",message:"",addAnother:!1},formValues:{},loading:!1}}}}}]);