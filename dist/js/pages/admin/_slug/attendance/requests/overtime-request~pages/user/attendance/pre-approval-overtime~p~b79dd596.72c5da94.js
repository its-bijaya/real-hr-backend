(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages/admin/_slug/attendance/requests/overtime-request~pages/user/attendance/pre-approval-overtime~p~b79dd596","chunk-26c51c79","chunk-2d2259e9","chunk-2d0d6ae8"],{"03e7":function(e,t,a){"use strict";a("7183")},"1f09":function(e,t,a){},"27f7":function(e,t,a){"use strict";var i=a("b85c"),n=a("5530"),r=a("1da1"),s=(a("96cf"),a("b64b"),a("d3b7"),a("ac1f"),a("841c"),a("3ca3"),a("ddb0"),a("2b3d"),a("8b61"));t["a"]={mixins:[s["a"]],data:function(){return{fetchedResults:[],response:{},extra_data:"",appliedFilters:{},footerProps:{itemsPerPageOptions:[10,20,30,40,50,100]},pagination:{sortBy:["modified_at"],descending:!1,totalItems:0,page:1,rowsPerPage:10,pageCount:0},triggerDataTable:!0,fullParams:"",dataTableFetch:void 0,proceedApi:!0}},computed:{responseNotEmpty:function(){return this.response&&Object.keys(this.response).length>0&&this.response.constructor===Object}},created:function(){this.dataTableFetch?this.loadDataTableChange():this.getParams(this.DataTableFilter)},methods:{fetchDataTable:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.loading&&e.proceedApi){t.next=2;break}return t.abrupt("return");case 2:return e.loading=!0,t.next=5,e.$http.get(e.crud.endpoint.common||e.crud.endpoint.get,{params:e.fullParams}).then((function(t){e.loadDataTable(t),e.processAfterTableLoad(t)})).catch((function(t){e.pushErrors(t),e.notifyInvalidFormResponse()})).finally((function(){e.loading=!1}));case 5:case"end":return t.stop()}}),t)})))()},processAfterTableLoad:function(){},getParams:function(e){var t=Object(n["a"])(Object(n["a"])({},e),{},{offset:(this.pagination.page-1)*this.pagination.rowsPerPage,limit:this.pagination.rowsPerPage,ordering:this.pagination.descending?this.pagination.sortBy:"-"+this.pagination.sortBy});this.fullParams=this.convertToURLSearchParams(t)},loadDataTable:function(e){this.response=e,this.fetchedResults=e.results,this.pagination.totalItems=e.count,this.extra_data=e.extra_data,this.triggerDataTable=!0},fetchData:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var i,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return console.warn("DatatableMixin: fetchData has been deprecated. Please use the function in page itself."),i=Object(n["a"])(Object(n["a"])(Object(n["a"])({},e),t.appliedFilters),{},{search:t.search,offset:(t.pagination.page-1)*t.pagination.rowsPerPage,limit:t.pagination.rowsPerPage,ordering:t.pagination.descending?t.pagination.sortBy:"-"+t.pagination.sortBy}),r=t.convertToURLSearchParams(i),t.loading=!0,a.next=6,t.$http.get(t.endpoint,{params:r}).then((function(e){t.response=e,t.fetchedResults=e.results,t.pagination.totalItems=e.count})).finally((function(){t.loading=!1}));case 6:case"end":return a.stop()}}),a)})))()},applyFilters:function(e){this.appliedFilters=e,this.fetchData(e)},convertToURLSearchParams:function(e){for(var t=new URLSearchParams,a=0,n=Object.keys(e);a<n.length;a++){var r=n[a],s=e[r];if(void 0===s&&(s=""),Array.isArray(s)){var o,l=Object(i["a"])(s);try{for(l.s();!(o=l.n()).done;){var c=o.value;t.append(r,c)}}catch(u){l.e(u)}finally{l.f()}}else t.append(r,s)}return t},loadDataTableChange:function(){var e=this;this.triggerDataTable&&(this.getParams(this.DataTableFilter),this.$nextTick((function(){e.fetchDataTable()})))}},watch:{DataTableFilter:function(e){this.fetchedResults=[],this.getParams(e),this.fetchDataTable(),this.pagination.page=1},"pagination.sortBy":function(){this.fetchedResults=[],this.loadDataTableChange()},"pagination.descending":function(){this.fetchedResults=[],this.loadDataTableChange()},"pagination.page":function(){this.fetchedResults=[],this.loadDataTableChange()},"pagination.rowsPerPage":function(){this.fetchedResults=[],this.loadDataTableChange()}}}},"2c23":function(e,t,a){},3129:function(e,t,a){"use strict";var i=a("3835"),n=a("5530"),r=(a("ac1f"),a("1276"),a("d81d"),a("a630"),a("3ca3"),a("5319"),a("1f09"),a("c995")),s=a("24b2"),o=a("7560"),l=a("58df"),c=a("80d2");t["a"]=Object(l["a"])(r["a"],s["a"],o["a"]).extend({name:"VSkeletonLoader",props:{boilerplate:Boolean,loading:Boolean,tile:Boolean,transition:String,type:String,types:{type:Object,default:function(){return{}}}},computed:{attrs:function(){return this.isLoading?this.boilerplate?{}:Object(n["a"])({"aria-busy":!0,"aria-live":"polite",role:"alert"},this.$attrs):this.$attrs},classes:function(){return Object(n["a"])(Object(n["a"])({"v-skeleton-loader--boilerplate":this.boilerplate,"v-skeleton-loader--is-loading":this.isLoading,"v-skeleton-loader--tile":this.tile},this.themeClasses),this.elevationClasses)},isLoading:function(){return!("default"in this.$scopedSlots)||this.loading},rootTypes:function(){return Object(n["a"])({actions:"button@2",article:"heading, paragraph",avatar:"avatar",button:"button",card:"image, card-heading","card-avatar":"image, list-item-avatar","card-heading":"heading",chip:"chip","date-picker":"list-item, card-heading, divider, date-picker-options, date-picker-days, actions","date-picker-options":"text, avatar@2","date-picker-days":"avatar@28",heading:"heading",image:"image","list-item":"text","list-item-avatar":"avatar, text","list-item-two-line":"sentences","list-item-avatar-two-line":"avatar, sentences","list-item-three-line":"paragraph","list-item-avatar-three-line":"avatar, paragraph",paragraph:"text@3",sentences:"text@2",table:"table-heading, table-thead, table-tbody, table-tfoot","table-heading":"heading, text","table-thead":"heading@6","table-tbody":"table-row-divider@6","table-row-divider":"table-row, divider","table-row":"table-cell@6","table-cell":"text","table-tfoot":"text@2, avatar@2",text:"text"},this.types)}},methods:{genBone:function(e,t){return this.$createElement("div",{staticClass:"v-skeleton-loader__".concat(e," v-skeleton-loader__bone")},t)},genBones:function(e){var t=this,a=e.split("@"),n=Object(i["a"])(a,2),r=n[0],s=n[1],o=function(){return t.genStructure(r)};return Array.from({length:s}).map(o)},genStructure:function(e){var t=[];e=e||this.type||"";var a=this.rootTypes[e]||"";if(e===a);else{if(e.indexOf(",")>-1)return this.mapBones(e);if(e.indexOf("@")>-1)return this.genBones(e);a.indexOf(",")>-1?t=this.mapBones(a):a.indexOf("@")>-1?t=this.genBones(a):a&&t.push(this.genStructure(a))}return[this.genBone(e,t)]},genSkeleton:function(){var e=[];return this.isLoading?e.push(this.genStructure()):e.push(Object(c["s"])(this)),this.transition?this.$createElement("transition",{props:{name:this.transition},on:{afterEnter:this.resetStyles,beforeEnter:this.onBeforeEnter,beforeLeave:this.onBeforeLeave,leaveCancelled:this.resetStyles}},e):e},mapBones:function(e){return e.replace(/\s/g,"").split(",").map(this.genStructure)},onBeforeEnter:function(e){this.resetStyles(e),this.isLoading&&(e._initialStyle={display:e.style.display,transition:e.style.transition},e.style.setProperty("transition","none","important"))},onBeforeLeave:function(e){e.style.setProperty("display","none","important")},resetStyles:function(e){e._initialStyle&&(e.style.display=e._initialStyle.display||"",e.style.transition=e._initialStyle.transition,delete e._initialStyle)}},render:function(e){return e("div",{staticClass:"v-skeleton-loader",attrs:this.attrs,on:this.$listeners,class:this.classes,style:this.isLoading?this.measurableStyles:void 0},[this.genSkeleton()])}})},7183:function(e,t,a){},"741f":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return["true"!==e.useNepaliDate?a("v-text-field",e._g({class:e.appliedClass,attrs:{id:e.id,clearable:!e.readOnly,"data-cy":"date-picker-"+e.dataCyVariable,disabled:e.disabled,error:e.errorMessages.length>0,"error-messages":e.errorMessages,"hide-details":e.hideDetails,hint:e.hint,label:e.label,"prepend-inner-icon":e.prependInnerIcon,"single-line":e.singleLine,value:e.value,readonly:""},on:{paste:function(e){e.preventDefault()},"click:clear":function(t){return e.$emit("close")}},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}},i)):a("v-text-field",e._g({class:e.appliedClass,attrs:{id:e.id,label:e.label,value:e.value,"data-cy":"date-picker-"+e.dataCyVariable,error:e.errorMessages.length>0,"error-messages":e.errorMessages,disabled:e.disabled,clearable:!e.readOnly,hint:e.hint,"hide-details":e.hideDetails,"single-line":e.singleLine,"prepend-inner-icon":e.prependInnerIcon,readonly:""},on:{paste:function(e){e.preventDefault()},"click:clear":function(t){return e.$emit("close")}},model:{value:e.nepaliDate,callback:function(t){e.nepaliDate=t},expression:"nepaliDate"}},i))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},["true"===e.showCalendarChoice?a("v-btn",{attrs:{block:"",depressed:"",tile:"",color:"shade primary--text font-weight-bold"},on:{click:function(t){e.international=!e.international}}},[e._v(" "+e._s(e.international?"NE":"EN")+" ")]):e._e(),e.readOnly||e.international?e._e():a("localized-calendar",{ref:"datePicker",attrs:{"fiscal-year":[],"localized-date":e.localizedDate},on:{"update:localizedDate":function(t){e.localizedDate=t},"update:localized-date":function(t){e.localizedDate=t},"limit-mapping":function(t){e.limitMapping=t}},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}}),!e.readOnly&&e.international?a("v-date-picker",{attrs:{type:e.type,"allowed-dates":e.allowedDates,"no-title":""},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}}):e._e()],1)],1)},n=[],r=a("1da1"),s=(a("b64b"),a("99af"),a("96cf"),a("3bce")),o=a("338b"),l=a("cf45"),c={components:{LocalizedCalendar:s["a"]},mixins:[o["a"]],props:{value:{type:String,default:""},id:{type:String,default:""},type:{type:String,default:"date"},label:{type:String,default:""},disabled:{type:Boolean,default:!1},errorMessages:{type:[String,Array],default:function(){return[]}},dataCyVariable:{type:String,default:""},readOnly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},hint:{type:String,default:""},hideDetails:{type:Boolean,default:!1},singleLine:{type:Boolean,default:!1},appliedClass:{type:String,default:""},prependInnerIcon:{type:String,default:"mdi-calendar-month-outline"}},data:function(){return{menu:!1,date:this.value,nepaliDate:this.value,localizedDate:"",international:"English"===Object(l["f"])("VUE_APP_SET_DEFAULT_CALENDAR_TO"),showCalendarChoice:Object(l["f"])("VUE_APP_SHOW_CALENDAR_CHOICE"),useNepaliDate:localStorage.useNepaliDate,hasConverted:!1}},watch:{value:function(e){this.date=e},date:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e&&"true"===t.useNepaliDate&&t.hasConverted?t.nepaliDate=t.ad2bs(e):t.nepaliDate=e,a.next=3,t.$emit("input",e);case 3:return a.next=5,t.$emit("update:localizedDate",t.localizedDate);case 5:if(!e){a.next=8;break}return a.next=8,t.$emit("blur");case 8:case"end":return a.stop()}}),a)})))()},international:function(e){this.$emit("update:international",e)}},created:function(){this.date&&"true"===this.useNepaliDate&&!this.hasConverted?(this.hasConverted=!0,this.date=this.bs2ad(this.date)):this.date||"true"!==this.useNepaliDate||(this.hasConverted=!0)},methods:{allowedDates:function(e){if("false"===this.showCalendarChoice&&"English"===Object(l["f"])("VUE_APP_SET_DEFAULT_CALENDAR_TO"))return!0;var t=[],a="",i="";t=Object.keys(this.bs),a=t[0],i=t[t.length-1];var n={max:this.bs2ad("".concat(i,"-12-").concat(this.bs[i][11])),min:this.bs2ad("".concat(a,"-01-01"))};return e<=n.max&&e>=n.min}}},u=c,d=a("2877"),p=a("6544"),h=a.n(p),m=a("8336"),f=a("2e4b"),v=a("e449"),g=a("8654"),b=Object(d["a"])(u,i,n,!1,null,null,null);t["default"]=b.exports;h()(b,{VBtn:m["a"],VDatePicker:f["a"],VMenu:v["a"],VTextField:g["a"]})},"93cc":function(e,t,a){"use strict";a("2c23")},a51f:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.search.length>0?a("span",[e._v(' Your search for "'+e._s(e.search)+'" found no results. ')]):e.loading?a("v-skeleton-loader",{attrs:{type:"table",height:e.skeletonLoaderHeight}}):a("no-data-found",{attrs:{text:e.text,height:e.height}},[e._t("default")],2)],1)},n=[],r=(a("a9e3"),a("e585")),s={components:{NoDataFound:r["default"]},props:{search:{type:String,default:""},loading:{type:Boolean,required:!0},text:{type:String,default:"No data available at the moment"},height:{type:[String,Number],default:200},skeletonLoaderHeight:{type:[String,Number],default:void 0}}},o=s,l=a("2877"),c=a("6544"),u=a.n(c),d=a("3129"),p=Object(l["a"])(o,i,n,!1,null,null,null);t["default"]=p.exports;u()(p,{VSkeletonLoader:d["a"]})},d4b1:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("vue-card-title",{attrs:{title:e.heading.title,subtitle:e.heading.subheading,icon:"mdi-send"}},[a("template",{slot:"actions"},["user"===e.as&&e.response.allow_request?a("v-btn",{attrs:{depressed:"",color:"primary"},on:{click:function(t){e.requestDetail=null,e.requestForm=!0}}},[e._v(" Request ")]):e._e(),a("v-btn",{attrs:{"data-cy":"btn-filter",icon:""},on:{click:function(t){e.filter.show=!e.filter.show}}},[a("v-icon",{attrs:{small:""},domProps:{textContent:e._s("mdi-filter-variant")}})],1)],1)],2),a("v-divider"),a("v-slide-y-transition",[a("div",{directives:[{name:"show",rawName:"v-show",value:e.filter.show,expression:"filter.show"}]},[a("v-row",{staticClass:"mx-3"},["user"!==e.as?a("v-col",{attrs:{cols:"12",md:"4"}},[a("vue-search",{attrs:{search:e.filter.search},on:{"update:search":function(t){return e.$set(e.filter,"search",t)}},model:{value:e.filter.search,callback:function(t){e.$set(e.filter,"search",t)},expression:"filter.search"}})],1):e._e(),a("v-col",{attrs:{md:"4",cols:"12"}},[a("date-filter-menu",{attrs:{"exclude-filter":["Till Date"],"include-filter":["All Time"],default:"This Year","hide-details":"","include-future":""},model:{value:e.dateFilter,callback:function(t){e.dateFilter=t},expression:"dateFilter"}})],1)],1),a("v-divider")],1)]),a("v-tabs",{attrs:{"show-arrows":"","slider-color":"blue",expand:""},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},e._l(Object.keys(e.$options.tabs),(function(t){return a("v-tab",{key:t,attrs:{"data-cy":"tab-status",ripple:"",disabled:e.loading},on:{click:function(a){e.filter.status=t}}},[a("span",{staticClass:"pr-2 text-capitalize"},[e._v(" "+e._s(t)+" ")]),a("v-chip",{staticClass:"white--text",attrs:{color:e.$options.tabs[t],small:""}},[e._v(" "+e._s(e.response.statistics?e.response.statistics[t]:0)+" ")])],1)})),1),a("v-divider"),a("v-data-table",{attrs:{id:"table-overtime-approval",headers:e.headers,items:e.fetchedResults,"sort-desc":e.pagination.descending,"sort-by":e.pagination.sortBy,page:e.pagination.page,"items-per-page":e.pagination.rowsPerPage,"footer-props":e.footerProps,"server-items-length":e.pagination.totalItems,"mobile-breakpoint":0,"must-sort":""},on:{"update:sortDesc":function(t){return e.$set(e.pagination,"descending",t)},"update:sort-desc":function(t){return e.$set(e.pagination,"descending",t)},"update:sortBy":function(t){return e.$set(e.pagination,"sortBy",t)},"update:sort-by":function(t){return e.$set(e.pagination,"sortBy",t)},"update:page":function(t){return e.$set(e.pagination,"page",t)},"update:itemsPerPage":function(t){return e.$set(e.pagination,"rowsPerPage",t)},"update:items-per-page":function(t){return e.$set(e.pagination,"rowsPerPage",t)}},scopedSlots:e._u([{key:"item",fn:function(t){return[a("tr",["user"!==e.as?a("td",[a("vue-user",{attrs:{user:t.item.sender}})],1):e._e(),a("td",[a("div",[e._v(" "+e._s(t.item.created_at?t.item.created_at.substring(0,10):"2017-23-34")+" ")]),a("div",{staticClass:"grey--text"},[e._v(" "+e._s(t.item.created_at?e.getTime(t.item.created_at):"02:34:33 AM")+" ")])]),a("td",{staticClass:"min-width-11",attrs:{"data-cy":"td-request-for-"+(t.index+1)}},[a("div",[e._v(" "+e._s(t.item.overtime_date?t.item.overtime_date.substring(0,10):"2017-23-34")+" ")])]),a("td",[e._v(" "+e._s(t.item.overtime_duration||"5 hr")+" ")]),a("td",[["Requested","Forwarded"].includes(t.item.status)?a("approval-chip",{attrs:{status:t.item.status,"user-detail":t.item.recipient}}):a("v-chip",{attrs:{outlined:"",color:e.$options.tabs[t.item.status],small:""}},[e._v(" "+e._s(t.item.status)+" ")])],1),a("td",[a("vue-context-menu",{attrs:{"context-list":[{name:"View Details",icon:"mdi-eye-outline",color:"blue"},{name:"Edit Request",hide:"user"!==e.as||"Approved"!==t.item.status||!t.item.editable,icon:"mdi-pencil",color:"blue"},{name:"Cancel Request",icon:"mdi-cancel",hide:"user"!==e.as||"Requested"!==t.item.status,color:"red"}]},on:{click0:function(a){e.requestDetail=t.item,e.showRequestDetail=!0},click1:function(a){e.requestDetail=t.item,e.requestForm=!0},click2:function(a){return e.cancelRequest(t.item.id)}}})],1)])]}}])},[a("template",{slot:"no-data"},[a("data-table-no-data",{attrs:{loading:e.loading}})],1)],2),a("v-dialog",{attrs:{scrollable:"",persistent:"",width:"960"},on:{keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;e.requestForm=!1}},model:{value:e.requestForm,callback:function(t){e.requestForm=t},expression:"requestForm"}},[e.requestForm?a("overtime-request-form",{attrs:{as:e.as,"action-data":e.requestDetail},on:{create:function(t){e.requestForm=!1,e.requestDetail={},e.loadDataTableChange()},close:function(t){e.requestForm=!1,e.requestDetail={}}}}):e._e()],1),a("v-dialog",{attrs:{scrollable:"",persistent:"",width:"960"},on:{keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;e.showRequestDetail=!1}},model:{value:e.showRequestDetail,callback:function(t){e.showRequestDetail=t},expression:"showRequestDetail"}},[e.showRequestDetail?a("overtime-request-detail",{attrs:{"request-detail":e.requestDetail,as:e.as},on:{create:function(t){e.showRequestDetail=!1,e.clearPayload,e.loadDataTableChange()},close:function(t){e.showRequestDetail=!1,e.clearPayload}}}):e._e()],1),a("v-dialog",{attrs:{persistent:"",width:"500"},on:{keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;e.openCancelForm=!1}},model:{value:e.openCancelForm,callback:function(t){e.openCancelForm=t},expression:"openCancelForm"}},[e.openCancelForm?a("overtime-cancel-dialog",{attrs:{endpoint:e.cancelEndpoint},on:{close:function(t){e.openCancelForm=!1},success:function(t){e.openCancelForm=!1,e.loadDataTableChange()}}}):e._e()],1)],1)},n=[],r=a("5530"),s=(a("4de4"),a("ac1f"),a("841c"),a("e4bf")),o=a("27f7"),l=a("5bc6"),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("vue-card-title",{attrs:{title:"Request Pre Approval overtime",subtitle:"Here you can request pre approval overtime",icon:"mdi-send"}}),a("v-card-text",[e.nonFieldErrors&&!e.setRedirect?a("non-field-form-errors",{attrs:{"non-field-errors":e.nonFieldErrors}}):e._e(),e.isObjectEmpty(e.otResponse)?e._e():a("v-row",[[e.otResponse.daily_ot_limit?a("v-col",{attrs:{md:"4",cols:"12"}},[a("div",{staticClass:"py-2"},[e._v(" Daily Limit: "),a("strong",{staticClass:"blue-grey--text"},[e._v(" "+e._s(e.timeConvert(e.otResponse.daily_ot_limit))+" ")])])]):e._e(),e.otResponse.weekly_ot_limit?a("v-col",{attrs:{md:"4",cols:"12"}},[a("div",{staticClass:"py-2"},[e._v(" Weekly Limit: "),a("strong",{staticClass:"blue-grey--text"},[e._v(" "+e._s(e.timeConvert(e.otResponse.weekly_ot_limit))+" ")])])]):e._e(),e.otResponse.monthly_ot_limit?a("v-col",{attrs:{md:"4",cols:"12"}},[a("div",{staticClass:"py-2"},[e._v(" Monthly Limit: "),a("strong",{staticClass:"blue-grey--text"},[e._v(" "+e._s(e.timeConvert(e.otResponse.monthly_ot_limit))+" ")])])]):e._e()]],2),"True"!==e.setRedirect||e.$route.query.redirect?e._e():a("v-row",[a("v-col",[a("div",{staticClass:"font-weight-bold blue-grey--text"},[e._v(" Your limit for overtime request is exceeded. You can apply for credit instead. ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.openCreditHour()}}},[e._v(" Apply for Credit Hour ")])],1)],1),a("v-row",[a("v-col",[a("vue-date-picker",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{disabled:!(!e.actionData||!e.actionData.id),"prepend-inner-icon":"mdi-calendar"},model:{value:e.formValues.overtime_date,callback:function(t){e.$set(e.formValues,"overtime_date",t)},expression:"formValues.overtime_date"}},"vue-date-picker",e.veeValidate("requested_for","Request For *"),!1))],1),a("v-col",[a("vue-time-picker",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"prepend-inner-icon":"mdi-clock"},model:{value:e.formValues.overtime_duration,callback:function(t){e.$set(e.formValues,"overtime_duration",t)},expression:"formValues.overtime_duration"}},"vue-time-picker",e.veeValidate("overtime_duration","Duration *"),!1))],1),a("v-col",{attrs:{cols:"12"}},[a("v-textarea",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required|max:255",expression:"'required|max:255'"}],attrs:{"prepend-inner-icon":"mdi-information-outline",counter:"255",rows:"3"},model:{value:e.formValues.remarks,callback:function(t){e.$set(e.formValues,"remarks",t)},expression:"formValues.remarks"}},"v-textarea",e.veeValidate("remarks","Remarks *"),!1))],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"black--text",attrs:{text:""},on:{click:function(t){return e.$emit("close")}}},[e._v(" Cancel ")]),a("v-btn",{attrs:{color:"primary",depressed:"",loading:e.loading},domProps:{textContent:e._s("Save")},on:{click:e.insertData}})],1)],1)},u=[],d=a("741f"),p=a("8b61"),h=a("a09e"),m=a("ec30"),f=a("2f62"),v={components:{VueTimePicker:m["a"],VueDatePicker:d["default"]},mixins:[h["a"],p["a"]],props:{actionData:{type:Object,default:function(){return null}}},data:function(){return{formValues:{overtime_duration:"00:00"},setRedirect:null,crud:{name:"Approval Request",endpoint:{common:"",put:""},id:"id"},otResponse:{}}},watch:{"formValues.overtime_date":function(e){e&&this.getRequestFor()}},created:function(){this.formValues.overtime_date&&this.getRequestFor(),this.crud.endpoint.common=l["a"].getOvertimeApproval(this.getOrganizationSlug),this.actionData&&this.actionData.id&&(this.crud.endpoint.common=l["a"].putOvertimeApproval(this.getOrganizationSlug,this.actionData.id)),this.constructFormValues()},methods:Object(r["a"])(Object(r["a"])({},Object(f["d"])({setRedirectPayload:"setRedirectPayload"})),{},{getFormValues:function(){return 5===this.formValues.overtime_duration.length&&(this.formValues.overtime_duration=this.formValues.overtime_duration+":00"),this.formValues},constructFormValues:function(){this.actionData&&(this.formValues={id:this.actionData.id||"",overtime_duration:this.actionData.overtime_duration||"00:00",overtime_date:this.actionData.overtime_date||"",remarks:this.actionData.remarks||this.actionData.request_remarks||""})},openCreditHour:function(){this.$router.push({name:"user-attendance-request-credit-hour",query:{redirect:!0}})},processOnError:function(e){e.response.data&&e.response.data.redirect&&e.response.data.redirect.redirect&&(this.setRedirect=e.response.data.redirect.redirect,this.setRedirectPayload(e.response.data.redirect.payload))},timeConvert:function(e,t){var a=parseInt(e%60),i=parseInt(e-a)/60;return"hoursAndMinute"===t?0===i?a+" mins":i+" hrs : "+a+" mins":i+" Hours  "+a+" Minutes"},getRequestFor:function(){var e=this;this.$http.get(l["a"].getOvertimeLimit(this.getOrganizationSlug)+"?request_for=".concat(this.formValues.overtime_date)).then((function(t){e.otResponse=t}))}})},g=v,b=a("2877"),y=a("6544"),_=a.n(y),x=a("8336"),k=a("b0af"),C=a("99d9"),w=a("62ad"),D=a("0fd9b"),V=a("2fa4"),S=a("a844"),q=Object(b["a"])(g,c,u,!1,null,"77dc3002",null),O=q.exports;_()(q,{VBtn:x["a"],VCard:k["a"],VCardActions:C["a"],VCardText:C["c"],VCol:w["a"],VRow:D["a"],VSpacer:V["a"],VTextarea:S["a"]});var R=a("e88d"),P=a("ba7e"),T=a("02cb"),$=a("a51f"),F=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("vue-card-title",{attrs:{icon:"mdi-cancel",title:e.notify.title,subtitle:e.notify.subtitle}}),a("v-divider"),a("v-card-text",[a("v-row",[a("v-col",{staticClass:"pb-0 blue-grey--text font-weight-bold",attrs:{cols:"12"}},[e._v(" "+e._s(e.notify.message)+" ")]),a("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[a("v-textarea",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required|max:255",expression:"'required|max:255'"}],attrs:{counter:"255",rows:"2"},model:{value:e.remarks,callback:function(t){e.remarks=t},expression:"remarks"}},"v-textarea",e.veeValidate("remarks","Remarks *"),!1))],1)],1)],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"black"},domProps:{textContent:e._s("Cancel")},on:{click:function(t){return e.$emit("close")}}}),a("v-btn",{attrs:{color:"primary",depressed:""},domProps:{textContent:e._s("Yes")},on:{click:e.cancelRequest}})],1)],1)},j=[],E=a("1da1"),A=(a("96cf"),a("c44a")),B={mixins:[A["a"]],props:{notify:{type:Object,default:function(){return{title:"Confirm Your Action",subtitle:"Are you sure you want to Cancel this request.",message:"You are going to Cancel this request. This action can not be reverted."}}},endpoint:{type:String,required:!0}},data:function(){return{remarks:""}},methods:{cancelRequest:function(){var e=this;return Object(E["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.validateAllFields();case 2:if(!t.sent){t.next=4;break}e.$http.post(e.endpoint,{remarks:e.remarks}).then((function(){e.remarks="",e.notifyUser("Successfully canceled your request"),e.$emit("success")}));case 4:case"end":return t.stop()}}),t)})))()}}},L=B,I=a("ce7e"),M=Object(b["a"])(L,F,j,!1,null,"0eb10f4e",null),N=M.exports;_()(M,{VBtn:x["a"],VCard:k["a"],VCardActions:C["a"],VCardText:C["c"],VCol:w["a"],VDivider:I["a"],VRow:D["a"],VSpacer:V["a"],VTextarea:S["a"]});var H=a("ac94"),z={components:{DateFilterMenu:H["a"],OvertimeCancelDialog:N,DataTableNoData:$["default"],VueUser:T["default"],OvertimeRequestDetail:P["a"],ApprovalChip:R["a"],OvertimeRequestForm:O,VueContextMenu:s["default"]},mixins:[o["a"]],props:{heading:{type:Object,required:!0},as:{type:String,default:""}},tabs:{Requested:"orange",Forwarded:"purple",Approved:"green",Cancelled:"grey",Declined:"red",All:"blue"},data:function(){return{showRequestDetail:!1,requestForm:!1,requestDetail:{},openCancelForm:!1,cancelEndpoint:"",headers:[{text:"Requested By",value:"full_name"},{text:"Request On",value:"created_at"},{text:"Request For",value:"overtime_date"},{text:"Duration",value:"overtime_duration"},{text:"Status",value:"title",sortable:!1},{text:"Actions",value:"title",sortable:!1}],dataTableFetch:!0,filter:{show:!1,search:"",status:"Requested",user:"",as:"user"===this.as?"":this.as},dateFilter:{},active:0}},computed:Object(r["a"])({DataTableFilter:function(){return Object(r["a"])(Object(r["a"])({status:"All"===this.filter.status?"":this.filter.status,user:this.filter.user,as:this.as},this.dateFilter),{},{search:this.filter.search||""})}},Object(f["c"])({getSupervisorSwitchedOrganization:"supervisor/getOrganizationSlug",redirectedPayload:"getRedirectPayload"})),created:function(){var e=this;"user"===this.as&&this.headers.shift(),this.$route.query.redirect&&(this.requestDetail=Object(r["a"])({},this.redirectedPayload),this.$nextTick((function(){e.requestForm=!0})));var t="supervisor"===this.as?this.getSupervisorSwitchedOrganization:this.getOrganizationSlug;this.crud.endpoint.common=l["a"].getOvertimeApproval(t)},methods:Object(r["a"])(Object(r["a"])({},Object(f["d"])({setRedirectPayload:"setRedirectPayload"})),{},{clearPayload:function(){this.setRedirectPayload(null)},getTime:function(e){return this.$dayjs(e).format("hh:mm:ss a")},cancelRequest:function(e){this.cancelEndpoint=l["a"].cancelOvertimeApproval(this.getOrganizationSlug,e),this.openCancelForm=!0}})},U=z,Y=(a("93cc"),a("cc20")),J=a("8fea"),W=a("169a"),G=a("132d"),K=a("0789"),Q=a("71a3"),X=a("fe57"),Z=Object(b["a"])(U,i,n,!1,null,null,null);t["a"]=Z.exports;_()(Z,{VBtn:x["a"],VCard:k["a"],VChip:Y["a"],VCol:w["a"],VDataTable:J["a"],VDialog:W["a"],VDivider:I["a"],VIcon:G["a"],VRow:D["a"],VSlideYTransition:K["g"],VTab:Q["a"],VTabs:X["a"]})},e4bf:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.contextList.filter((function(e){return!e.hide})).length<3&&!e.hideIcons||e.showIcons?a("div",e._l(e.contextList,(function(t,i){return a("span",{key:i},[t.hide?e._e():a("v-tooltip",{attrs:{disabled:e.$vuetify.breakpoint.xs,top:""},scopedSlots:e._u([{key:"activator",fn:function(n){var r=n.on;return[a("v-btn",e._g({staticClass:"mx-0",attrs:{text:"",width:e.small?"18":"22",depressed:"",icon:""}},r),[a("v-icon",{attrs:{disabled:t.disabled,color:t.color,"data-cy":e.dataCyVariable+"btn-dropdown-menu-item-"+(i+1),dark:!t.disabled,small:e.small,size:"20",dense:""},domProps:{textContent:e._s(t.icon)},on:{click:function(t){return e.$emit("click"+i)}}})],1)]}}],null,!0)},[a("span",{domProps:{textContent:e._s(t.disabled&&t.disable_message||t.name)}})])],1)})),0):a("v-menu",{attrs:{"offset-y":"",left:"",transition:"slide-y-transition"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{small:"",text:"",icon:""}},i),[a("v-icon",{attrs:{"data-cy":"btn-dropdown-menu"},domProps:{textContent:e._s("mdi-dots-vertical")}})],1)]}}])},e._l(e.contextList,(function(t,i){return a("v-list",{key:i,staticClass:"pa-0",attrs:{dense:""}},[t.hide?e._e():a("div",[t.disabled?a("v-list-item",{attrs:{"data-cy":"btn-dropdown-menu-item"}},[a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(i){var n=i.on;return[a("v-list-item-title",e._g({},n),[a("v-icon",{attrs:{disabled:"",small:"",color:t.color},domProps:{textContent:e._s(t.icon)}}),a("span",{staticClass:"ml-1 grey--text",domProps:{textContent:e._s(t.name)}})],1)]}}],null,!0)},[a("span",{domProps:{textContent:e._s(t.disabled&&t.disable_message||t.name)}})])],1):a("v-list-item",{attrs:{"data-cy":"btn-dropdown-menu-item"},on:{click:function(t){return e.$emit("click"+i)}}},[a("v-list-item-title",[a("v-icon",{attrs:{color:t.color,small:"",dense:""},domProps:{textContent:e._s(t.icon)}}),a("span",{staticClass:"ml-1",class:t.text_color,domProps:{textContent:e._s(t.name)}})],1)],1)],1)])})),1)],1)},n=[],r={name:"VueContextMenu",props:{contextList:{type:Array,default:function(){return[]}},dataCyVariable:{type:String,default:""},showIcons:{type:Boolean,default:!1},hideIcons:{type:Boolean,default:!1},small:{type:Boolean,default:!1}}},s=r,o=a("2877"),l=a("6544"),c=a.n(l),u=a("8336"),d=a("132d"),p=a("8860"),h=a("da13"),m=a("5d23"),f=a("e449"),v=a("3a2f"),g=Object(o["a"])(s,i,n,!1,null,"71ee785c",null);t["default"]=g.exports;c()(g,{VBtn:u["a"],VIcon:d["a"],VList:p["a"],VListItem:h["a"],VListItemTitle:m["c"],VMenu:f["a"],VTooltip:v["a"]})},e88d:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-menu",{attrs:{"nudge-width":10,"open-on-hover":!0,bottom:"",right:"",transition:"scale-transition",origin:"top left"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-chip",{staticClass:"white--text",attrs:{small:"",outlined:"",color:"orange"}},[a("v-avatar",{staticStyle:{"margin-left":"-12px"},attrs:{left:""}},[a("v-img",e._g({attrs:{src:e.userDetail.profile_picture_thumb||e.userDetail.profile_picture}},i))],1),e._v(" "+e._s(e.status)+" ")],1)]}}])},[a("vue-hover-card",{attrs:{user:e.userDetail}})],1)],1)},n=[],r=a("49bb"),s={components:{VueHoverCard:r["a"]},props:{userDetail:{type:Object,required:!0},status:{type:String,required:!0}}},o=s,l=a("2877"),c=a("6544"),u=a.n(c),d=a("8212"),p=a("cc20"),h=a("adda"),m=a("e449"),f=Object(l["a"])(o,i,n,!1,null,"5cafa090",null);t["a"]=f.exports;u()(f,{VAvatar:d["a"],VChip:p["a"],VImg:h["a"],VMenu:m["a"]})},ec30:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition",absolute:"","offset-y":"","offset-x":""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("div",[a("v-text-field",e._g({class:e.customClass,attrs:{id:e.id,messages:e.messages,label:e.label,error:e.errorMessages.length>0,"error-message":e.errorMessages,disabled:e.disabled,clearable:"",flat:"","data-cy":"time-picker-"+e.dataCyVariable,"hide-details":e.hideDetails,readonly:"","clear-icon":"mdi-close","prepend-inner-icon":e.prependInnerIcon},on:{"click:append":e.resetDateTime,input:function(t){return e.$emit("blur")}},model:{value:e.dateTime,callback:function(t){e.dateTime=t},expression:"dateTime"}},i)),e.errorMessages.length>0?a("span",{staticClass:"danger--text"},[e._v(" "+e._s(e.errorMessages[0])+" ")]):e._e()],1)]}}]),model:{value:e.showPicker,callback:function(t){e.showPicker=t},expression:"showPicker"}},[a("v-card",[a("v-responsive",{attrs:{width:"200"}},[a("div",[a("div",{staticClass:"text-center font-weight-black pa-2"},[e._v("Time")])]),a("v-divider"),a("v-row",{staticClass:"d-flex mx-3",attrs:{id:"time-picker","no-gutters":""}},[a("v-col",[a("v-text-field",{attrs:{mask:"##"},model:{value:e.hour,callback:function(t){e.hour=t},expression:"hour"}})],1),a("v-col",{staticClass:"text-center"},[a("div",{staticClass:"mt-6",domProps:{textContent:e._s(":")}})]),a("v-col",[a("v-text-field",{attrs:{mask:"##"},model:{value:e.minute,callback:function(t){e.minute=t},expression:"minute"}})],1)],1),a("v-divider"),a("v-row",{attrs:{align:"center",justify:"center","no-gutters":""}},[a("v-col",{staticClass:"text-center"},[a("div",[a("v-btn",{attrs:{icon:""},on:{click:function(t){return e.changeHour("increment")}}},[a("v-icon",[e._v(" mdi-chevron-up ")])],1)],1),a("v-btn",{attrs:{icon:""}},[e._v(" "+e._s(e.hour)+" ")]),a("div",[a("v-btn",{attrs:{icon:""},on:{click:function(t){return e.changeHour("decrement")}}},[a("v-icon",[e._v(" mdi-chevron-down ")])],1)],1)],1),a("span",{domProps:{textContent:e._s(":")}}),a("v-col",{staticClass:"text-center"},[a("div",[a("v-btn",{attrs:{icon:""},on:{click:function(t){return e.changeMinute("increment")}}},[a("v-icon",[e._v(" mdi-chevron-up ")])],1)],1),a("v-btn",{attrs:{icon:""}},[e._v(" "+e._s(e.minute)+" ")]),a("div",[a("v-btn",{attrs:{icon:""},on:{click:function(t){return e.changeMinute("decrement")}}},[a("v-icon",[e._v(" mdi-chevron-down ")])],1)],1)],1)],1)],1)],1)],1)},n=[],r=(a("ac1f"),a("1276"),a("d3b7"),a("25f0"),{props:{placeHolder:{type:String,required:!1,default:function(){return"HH:MM:SS"}},messages:{type:Array,required:!1,default:function(){return[]}},dataCyVariable:{type:String,default:""},value:{type:String,default:void 0},id:{type:String,default:""},label:{type:String,default:""},errorMessages:{type:[String,Array],default:function(){return[]}},customClass:{type:[String],default:""},prependInnerIcon:{type:String,default:"mdi-clock-outline"},defaultValue:{validator:function(e){if(""===e)return!0;var t=e.split(":");return 2===t.length&&2===t[0].length&&2===t[1].length},type:String,required:!1,default:""},disabled:{type:Boolean,default:!1},hideDetails:{type:Boolean,default:!1}},data:function(){return{showPicker:!1,menu:!1,date:"",dateTime:"",hour:"",minute:"",seconds:"00"}},computed:{time:function(){return this.hour&&this.minute?this.hour+":"+this.minute:""}},watch:{value:function(e){this.dateTime=e},hour:function(e){var t=this;e=parseInt(e),e>23&&(this.hour=23),e<0&&(this.hour=23),this.setDate(),"00"!==e.toString()&&"0"!==e.toString()&&!1===isNaN(e)&&setTimeout((function(){t.hour=(t.hour<10&&t.hour.toString().length<2?"0":"")+t.hour.toString()}),1e3)},minute:function(e){var t=this;e=parseInt(e),e>59&&(this.minute=59),e<0&&(this.minute=0),this.setDate(),"00"!==e.toString()&&"0"!==e.toString()&&!1===isNaN(e)&&setTimeout((function(){t.minute=(t.minute<10&&t.minute.toString().length<2?"0":"")+t.minute.toString()}),1e3)},dateTime:function(e){this.$emit("input",e)},showPicker:function(e){!this.dateTime&&e&&(this.defaultValue?(this.hour=this.defaultValue.split(":")[0],this.minute=this.defaultValue.split(":")[1]):this.dateTime||(this.hour=this.$dayjs().format("HH"),this.minute=this.$dayjs().format("mm"),this.hour=this.defaultTime.split(":")[0]||this.$dayjs().format("HH:mm"),this.minute=this.defaultTime.split(":")[1]||this.$dayjs().format("mm"),this.setDate()))}},created:function(){this.value&&(this.hour=this.value.split(":")[0],this.minute=this.value.split(":")[1])},methods:{changeHour:function(e){this.hour=parseInt(this.hour),"increment"===e?23===this.hour?this.hour=0:this.hour+=1:0===this.hour?this.hour=23:this.hour-=1},changeMinute:function(e){this.minute=parseInt(this.minute),"increment"===e?59===this.minute?(this.minute=0,this.changeHour("increment")):this.minute+=1:0===this.minute?(this.minute=59,this.changeHour("decrement")):this.minute-=1},setDate:function(){this.dateTime=this.time||""},resetDateTime:function(){this.showPicker=!1,this.dateTime="",this.$emit("click:append")}}}),s=r,o=(a("03e7"),a("2877")),l=a("6544"),c=a.n(l),u=a("8336"),d=a("b0af"),p=a("62ad"),h=a("ce7e"),m=a("132d"),f=a("e449"),v=a("6b53"),g=a("0fd9b"),b=a("8654"),y=Object(o["a"])(s,i,n,!1,null,null,null);t["a"]=y.exports;c()(y,{VBtn:u["a"],VCard:d["a"],VCol:p["a"],VDivider:h["a"],VIcon:m["a"],VMenu:f["a"],VResponsive:v["a"],VRow:g["a"],VTextField:b["a"]})}}]);