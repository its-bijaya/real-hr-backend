(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages/admin/_slug/training/training-list"],{"4e53":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",{staticClass:"pb-1",attrs:{"no-gutters":"",align:"center"}},[a("v-col",{staticClass:"pl-1 text-caption",attrs:{md:"6",cols:"12"}},[a("v-row",{staticClass:"px-2",attrs:{align:"center","no-gutters":""}},[a("v-col",{attrs:{cols:t.small?"8":"4"}},[t._v(" Rows Per Page :")]),a("v-col",{attrs:{cols:t.small?"4":"2"}},[a("v-select",{staticClass:"ma-0 text-caption",attrs:{"hide-details":"",dense:"",items:t.footerProps.itemsPerPageOptions},on:{change:function(e){return t.loadData(e)}},model:{value:t.pagination.rowsPerPage,callback:function(e){t.$set(t.pagination,"rowsPerPage",e)},expression:"pagination.rowsPerPage"}})],1)],1)],1),a("v-col",{staticClass:"text-right",attrs:{md:"6",cols:"12"}},[a("v-row",{attrs:{align:"center","no-gutters":""}},[a("v-col",{attrs:{offset:t.small?"0":"6"}}),a("v-col",{staticClass:"text-caption",attrs:{cols:t.small?"8":"4"}},[t._v(" Showing "),0===t.pagination.totalItems?a("span",[t._v(" 0 ")]):a("span",[t._v(" "+t._s(t.pagination.page*t.pagination.rowsPerPage-(t.pagination.rowsPerPage-1))+" ")]),t._v(" - "),t.pagination.totalItems>t.pagination.page*t.pagination.rowsPerPage?a("span",[t._v(" "+t._s(t.pagination.page*t.pagination.rowsPerPage)+" ")]):a("span",[t._v(" "+t._s(t.pagination.totalItems)+" ")]),t._v(" of "+t._s(t.pagination.totalItems)+" ")]),a("v-col",{attrs:{cols:t.small?"4":"2"}},[a("v-icon",{attrs:{text:"",disabled:!t.response.previous||t.loading},domProps:{textContent:t._s("mdi-chevron-left")},on:{click:function(e){t.pagination.page--}}}),a("v-icon",{attrs:{text:"",disabled:!t.response.next||t.loading},domProps:{textContent:t._s("mdi-chevron-right")},on:{click:function(e){t.pagination.page++}}})],1)],1)],1)],1)},r=[],s={props:{pagination:{type:Object,required:!0},footerProps:{type:Object,required:!0},response:{type:[Array,Object],required:!0},small:{type:Boolean,required:!1,default:!1},loading:{type:Boolean,default:!1}},methods:{loadData:function(t){this.pagination.page=1,this.pagination.rowsPerPage=t}}},n=s,o=a("2877"),l=a("6544"),c=a.n(l),d=a("62ad"),u=a("132d"),g=a("0fd9b"),p=a("b974"),m=Object(o["a"])(n,i,r,!1,null,null,null);e["a"]=m.exports;c()(m,{VCol:d["a"],VIcon:u["a"],VRow:g["a"],VSelect:p["a"]})},"92fa":function(t,e){var a=/^(attrs|props|on|nativeOn|class|style|hook)$/;function i(t,e){return function(){t&&t.apply(this,arguments),e&&e.apply(this,arguments)}}t.exports=function(t){return t.reduce((function(t,e){var r,s,n,o,l;for(n in e)if(r=t[n],s=e[n],r&&a.test(n))if("class"===n&&("string"===typeof r&&(l=r,t[n]=r={},r[l]=!0),"string"===typeof s&&(l=s,e[n]=s={},s[l]=!0)),"on"===n||"nativeOn"===n||"hook"===n)for(o in s)r[o]=i(r[o],s[o]);else if(Array.isArray(r))t[n]=r.concat(s);else if(Array.isArray(s))t[n]=[r].concat(s);else for(o in s)r[o]=s[o];else t[n]=e[n];return t}),{})}},c6cb:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("vue-page-wrapper",{attrs:{"bread-crumbs":t.breadCrumbItems,title:t.htmlTitle}},[a("v-card",[a("vue-card-title",{attrs:{title:"Trainings",subtitle:"The list below contains all the trainings recorded by this organization.",icon:"mdi-file-document-outline"}},[a("template",{slot:"actions"},[a("v-btn",{attrs:{icon:""},on:{click:function(e){t.showFilters=!t.showFilters}}},[a("v-icon",{attrs:{small:""},domProps:{textContent:t._s("mdi-filter-variant")}})],1)],1)],2),a("v-divider"),a("v-slide-y-transition",[a("v-row",{directives:[{name:"show",rawName:"v-show",value:t.showFilters,expression:"showFilters"}],staticClass:"px-3"},[a("v-col",{attrs:{md:"4",cols:"6"}},[a("v-text-field",{attrs:{value:t.search,label:"Search for Trainings","prepend-inner-icon":"mdi-magnify","hide-details":""},on:{change:function(e){t.search=e}}})],1),a("v-col",{attrs:{md:"4",cols:"12"}},[a("v-select",{attrs:{items:t.trainingNatures,label:"Training Type",clearable:""},model:{value:t.trainingNature,callback:function(e){t.trainingNature=e},expression:"trainingNature"}})],1),a("v-col",{attrs:{md:"4",cols:"6"}},[a("date-filter-menu",{attrs:{default:"Till Date","hide-details":""},model:{value:t.dateFilter,callback:function(e){t.dateFilter=e},expression:"dateFilter"}})],1)],1)],1),t.showFilters?a("v-divider"):t._e(),a("v-tabs",{attrs:{"show-arrows":""},model:{value:t.activeStatus,callback:function(e){t.activeStatus=e},expression:"activeStatus"}},t._l(t.tabs,(function(e,i){return a("v-tab",{key:i,attrs:{disabled:t.loading},on:{click:function(a){t.selectedFilter=e.selectedFilter}}},[t._v(" "+t._s(e.name)+" ")])})),1),a("v-divider"),t.loading?a("div",[a("v-row",t._l(2,(function(t){return a("v-col",{key:t,attrs:{cols:"12",md:"6"}},[a("v-skeleton-loader",{attrs:{type:"card-avatar"}}),a("v-col",[a("list-loader",{attrs:{"primary-color":"#eee","secondary-color":"#d5d5d7"}})],1)],1)})),1)],1):!t.loading&&t.fetchedResults.length>0?a("v-card-text",[a("data-table-card-pagination",{attrs:{"footer-props":t.footerProps,response:t.response,pagination:t.pagination}}),a("v-row",t._l(t.fetchedResults,(function(e,i){return a("v-col",{key:i,attrs:{md:"6"}},[a("training-card",{attrs:{"training-data":e,"is-hr-admin":""},on:{dismiss:function(e){return t.fetchDataTable()}}})],1)})),1)],1):a("v-card-text",[a("v-alert",{staticClass:"text-body-2 my-2",attrs:{color:"blue-grey",dark:"",type:"info"}},[t._v(" No trainings found. ")])],1)],1)],1)},r=[],s=a("5530"),n=(a("ac1f"),a("841c"),a("d3b7"),a("0549")),o=a("17cc"),l=a("e9fb"),c=a("4e53"),d=a("ac94"),u=a("e330"),g=a("2f62"),p={components:{DateFilterMenu:d["a"],ListLoader:u["d"],VuePageWrapper:n["default"],TrainingCard:l["a"],DataTableCardPagination:c["a"]},mixins:[o["a"]],data:function(){return{activeStatus:0,tabs:[{name:"Pending",selectedFilter:"pending"},{name:"In Progress",selectedFilter:"in_progress"},{name:"Completed",selectedFilter:"completed"},{name:"Cancelled",selectedFilter:"cancelled"},{name:"All",selectedFilter:""}],htmlTitle:"Training | All Trainings | Admin",breadCrumbItems:[{text:"Trainings",disabled:!0},{text:"All Trainings",disabled:!0}],trainingNatures:[{text:"Onsite",value:"onsite"},{text:"Offsite",value:"offsite"}],showFilters:!1,trainingNavigations:[],filters:{},dateFilter:{},loading:!1,actionData:{},selectedFilter:"pending",search:"",trainingNature:""}},computed:Object(s["a"])(Object(s["a"])({},Object(g["c"])({getQueryParams:"common/getQueryParams"})),{},{DataTableFilter:function(){return Object(s["a"])(Object(s["a"])({},this.dateFilter),{},{status:this.selectedFilter,search:this.search,nature:this.trainingNature,as:"hr"})}}),mounted:function(){this.fetchDataTable()},created:function(){var t=this.getQueryParams;this.trainingNature=t.trainingNature||"",this.activeStatus=t.active||0,this.selectedFilter=this.tabs[this.activeStatus].selectedFilter,this.showFilters=!this.isObjectEmpty(this.getQueryParams),this.setQueryParams({})},methods:Object(s["a"])(Object(s["a"])({},Object(g["d"])({setQueryParams:"common/setQueryParams"})),{},{fetchDataTable:function(){var t=this;this.loading=!0;var e="/training/".concat(this.getOrganizationSlug,"/training/");this.$http.get(e,{params:this.fullParams}).then((function(e){t.loadDataTable(e)})).finally((function(){t.loading=!1}))}})},m=p,v=a("2877"),h=a("6544"),f=a.n(h),y=a("0798"),b=a("8336"),x=a("b0af"),w=a("99d9"),_=a("62ad"),C=a("ce7e"),T=a("132d"),D=a("0fd9b"),P=a("b974"),F=a("3129"),V=a("0789"),k=a("71a3"),A=a("fe57"),O=a("8654"),S=Object(v["a"])(m,i,r,!1,null,null,null);e["default"]=S.exports;f()(S,{VAlert:y["a"],VBtn:b["a"],VCard:x["a"],VCardText:w["c"],VCol:_["a"],VDivider:C["a"],VIcon:T["a"],VRow:D["a"],VSelect:P["a"],VSkeletonLoader:F["a"],VSlideYTransition:V["g"],VTab:k["a"],VTabs:A["a"],VTextField:O["a"]})},e330:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"a",(function(){return o})),a.d(e,"c",(function(){return l})),a.d(e,"d",(function(){return c}));var i=a("92fa"),r=a.n(i),s=function(){return Math.random().toString(36).substring(2)},n={name:"ContentLoader",functional:!0,props:{width:{type:[Number,String],default:400},height:{type:[Number,String],default:130},speed:{type:Number,default:2},preserveAspectRatio:{type:String,default:"xMidYMid meet"},baseUrl:{type:String,default:""},primaryColor:{type:String,default:"#f9f9f9"},secondaryColor:{type:String,default:"#ecebeb"},primaryOpacity:{type:Number,default:1},secondaryOpacity:{type:Number,default:1},uniqueKey:{type:String},animate:{type:Boolean,default:!0}},render:function(t,e){var a=e.props,i=e.data,n=e.children,o=a.uniqueKey?a.uniqueKey+"-idClip":s(),l=a.uniqueKey?a.uniqueKey+"-idGradient":s();return t("svg",r()([i,{attrs:{viewBox:"0 0 "+a.width+" "+a.height,version:"1.1",preserveAspectRatio:a.preserveAspectRatio}}]),[t("rect",{style:{fill:"url("+a.baseUrl+"#"+l+")"},attrs:{"clip-path":"url("+a.baseUrl+"#"+o+")",x:"0",y:"0",width:a.width,height:a.height}}),t("defs",[t("clipPath",{attrs:{id:o}},[n||t("rect",{attrs:{x:"0",y:"0",rx:"5",ry:"5",width:a.width,height:a.height}})]),t("linearGradient",{attrs:{id:l}},[t("stop",{attrs:{offset:"0%","stop-color":a.primaryColor,"stop-opacity":a.primaryOpacity}},[a.animate?t("animate",{attrs:{attributeName:"offset",values:"-2; 1",dur:a.speed+"s",repeatCount:"indefinite"}}):null]),t("stop",{attrs:{offset:"50%","stop-color":a.secondaryColor,"stop-opacity":a.secondaryOpacity}},[a.animate?t("animate",{attrs:{attributeName:"offset",values:"-1.5; 1.5",dur:a.speed+"s",repeatCount:"indefinite"}}):null]),t("stop",{attrs:{offset:"100%","stop-color":a.primaryColor,"stop-opacity":a.primaryOpacity}},[a.animate?t("animate",{attrs:{attributeName:"offset",values:"-1; 2",dur:a.speed+"s",repeatCount:"indefinite"}}):null])])])])}},o={name:"BulletListLoader",functional:!0,render:function(t,e){var a=e.data;return t(n,a,[t("circle",{attrs:{cx:"10",cy:"20",r:"8"}}),t("rect",{attrs:{x:"25",y:"15",rx:"5",ry:"5",width:"220",height:"10"}}),t("circle",{attrs:{cx:"10",cy:"50",r:"8"}}),t("rect",{attrs:{x:"25",y:"45",rx:"5",ry:"5",width:"220",height:"10"}}),t("circle",{attrs:{cx:"10",cy:"80",r:"8"}}),t("rect",{attrs:{x:"25",y:"75",rx:"5",ry:"5",width:"220",height:"10"}}),t("circle",{attrs:{cx:"10",cy:"110",r:"8"}}),t("rect",{attrs:{x:"25",y:"105",rx:"5",ry:"5",width:"220",height:"10"}})])}},l={name:"FacebookLoader",functional:!0,render:function(t,e){var a=e.data;return t(n,a,[t("rect",{attrs:{x:"70",y:"15",rx:"4",ry:"4",width:"117",height:"6.4"}}),t("rect",{attrs:{x:"70",y:"35",rx:"3",ry:"3",width:"85",height:"6.4"}}),t("rect",{attrs:{x:"0",y:"80",rx:"3",ry:"3",width:"350",height:"6.4"}}),t("rect",{attrs:{x:"0",y:"100",rx:"3",ry:"3",width:"380",height:"6.4"}}),t("rect",{attrs:{x:"0",y:"120",rx:"3",ry:"3",width:"201",height:"6.4"}}),t("circle",{attrs:{cx:"30",cy:"30",r:"30"}})])}},c={name:"ListLoader",functional:!0,render:function(t,e){var a=e.data;return t(n,a,[t("rect",{attrs:{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"}}),t("rect",{attrs:{x:"20",y:"20",rx:"3",ry:"3",width:"220",height:"10"}}),t("rect",{attrs:{x:"20",y:"40",rx:"3",ry:"3",width:"170",height:"10"}}),t("rect",{attrs:{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"}}),t("rect",{attrs:{x:"20",y:"80",rx:"3",ry:"3",width:"200",height:"10"}}),t("rect",{attrs:{x:"20",y:"100",rx:"3",ry:"3",width:"80",height:"10"}})])}}},e9fb:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"mx-auto"},[a("v-img",{staticClass:"white--text align-end",attrs:{height:"120px",src:t.trainingData.meeting_room&&t.trainingData.meeting_room.room.attachments.length?t.trainingData.meeting_room.room.attachments[0].image:t.trainingData.image?t.trainingData.image:"/images/training/training-default.png"}},[a("v-overlay",{attrs:{value:!0,"z-index":"-1",opacity:"0.6",absolute:""}}),a("v-card-title",[a("a",{staticClass:"white--text",on:{click:function(e){return t.viewTrainingDetail(t.trainingData.slug)}}},[t._v(t._s(t._f("truncate")(t.trainingData.name,20)))])]),a("v-card-text",{staticClass:"grey--text"},[t._v(t._s(t._f("truncate")(t.trainingData.description,60)))])],1),a("vue-user",{staticClass:"pa-2",attrs:{user:t.trainingData.created_by,size:"30"}}),a("v-divider"),a("v-card-text",[a("div",{staticClass:"d-flex"},[a("div",{staticClass:"mr-3"},[a("v-icon",{attrs:{size:"20"}},[t._v("mdi-clock")])],1),a("div",[t._v("Start Date")]),a("div",{staticClass:"ml-auto"},[t._v(" "+t._s(t._f("dayjs")(t.trainingData.start,"YYYY-MM-DD hh:mm:ss A"))+" ")])]),a("div",{staticClass:"d-flex"},[a("div",{staticClass:"mr-3"},[a("v-icon",{attrs:{size:"20"}},[t._v("mdi-clock-outline")])],1),a("div",[t._v("End Date")]),a("div",{staticClass:"ml-auto"},[t._v(" "+t._s(t._f("dayjs")(t.trainingData.end,"YYYY-MM-DD hh:mm:ss A"))+" ")])]),a("div",{staticClass:"d-flex"},[a("div",{staticClass:"mr-3"},[a("v-icon",{attrs:{size:"20"}},[t._v("mdi-map-marker")])],1),a("div",[t._v("Location")]),a("div",{staticClass:"ml-auto text-right",staticStyle:{width:"50%"}},[t.trainingData.location?a("p",[t._v(" "+t._s(t._f("truncate")(t.trainingData.location,25))+" ")]):a("p",[t._v(" "+t._s(t.trainingData.meeting_room.room.name)+" ")])])]),a("div",{staticClass:"d-flex"},[a("div",{staticClass:"mr-3"},[a("v-icon",{attrs:{size:"20"}},[t._v("mdi-arrow-decision")])],1),a("div",[t._v("Training Type")]),a("div",{staticClass:"ml-auto text-capitalize"},[t._v(t._s(t.trainingData.nature))])]),a("div",{staticClass:"d-flex"},[a("div",{staticClass:"mr-3"},[a("v-icon",{attrs:{size:"20"}},[t._v("mdi-check-all")])],1),a("div",[t._v("Status")]),a("div",{staticClass:"ml-auto text-capitalize"},["in_progress"===t.trainingData.status?a("span",[t._v(" In Progress ")]):a("span",[t._v(" "+t._s(t.trainingData.status)+" ")])])])]),t.isHrAdmin?a("div",{staticClass:"grey lighten-4"},[a("v-card-actions",[a("v-row",{attrs:{align:"center"}},[a("v-col",[t._v(" Members Associated: ")]),a("v-col",{staticClass:"text-right",attrs:{cols:"auto"}},[a("user-thumbnails",{attrs:{users:t.trainingData.members,"total-users":t.trainingData.members.length},on:{showMore:function(e){t.showUsersList=!0}}})],1),a("v-col",{staticClass:"text-right",attrs:{cols:"auto"}},[a("v-btn",{attrs:{icon:""},on:{click:function(e){t.openTraineeAssignForm=!0}}},[a("v-icon",{domProps:{textContent:t._s("mdi-plus")}})],1)],1)],1)],1)],1):t.hideRequest?t._e():a("div",[a("v-divider"),a("v-card-actions",[a("v-btn",{staticClass:"blue--text",attrs:{color:"blue lighten-4",block:"",disabled:"completed"===t.trainingData.status||"cancelled"===t.trainingData.status},on:{click:function(e){t.$emit("update:request",!0),t.$emit("update:training",t.trainingData)}}},[t._v("Request Training")])],1)],1),a("v-dialog",{attrs:{width:"500"},model:{value:t.openTraineeAssignForm,callback:function(e){t.openTraineeAssignForm=e},expression:"openTraineeAssignForm"}},[t.openTraineeAssignForm?a("training-employee-assign",{attrs:{"training-data":t.trainingData,as:"hr"},on:{close:function(e){t.openTraineeAssignForm=!1,t.$emit("dismiss")}}}):t._e()],1),t.showUsersList?a("TrainingUserListDialog",{attrs:{users:t.trainingData.members,"training-slug":t.trainingData.slug,title:"Members"},on:{close:function(e){t.showUsersList=!1,t.$emit("dismiss")}},model:{value:t.showUsersList,callback:function(e){t.showUsersList=e},expression:"showUsersList"}}):t._e(),a("v-dialog",{attrs:{width:"1200"},model:{value:t.viewTraining,callback:function(e){t.viewTraining=e},expression:"viewTraining"}},[a("training-detail",{attrs:{"is-hr-admin":t.isHrAdmin,"hide-request":t.hideRequest,"training-slug":t.selectedTrainingSlug},on:{dismiss:function(e){t.viewTraining=!1,t.$emit("dismiss")}}})],1)],1)},r=[],s=a("cde3"),n=a("02cb"),o=a("34b2"),l=a("ebba"),c=a("923d"),d={components:{TrainingEmployeeAssign:l["a"],TrainingDetail:o["a"],UserThumbnails:s["default"],TrainingUserListDialog:c["a"],VueUser:n["default"]},props:{isHrAdmin:{type:Boolean,required:!1,default:!1},trainingData:{type:Object,required:!0},hideRequest:{type:Boolean,required:!1,default:!1}},data:function(){return{selectedTrainingSlug:"",viewTraining:!1,showUsersList:!1,openTraineeAssignForm:""}},methods:{viewTrainingDetail:function(t){this.viewTraining=!0,this.selectedTrainingSlug=t}}},u=d,g=a("2877"),p=a("6544"),m=a.n(p),v=a("8336"),h=a("b0af"),f=a("99d9"),y=a("62ad"),b=a("169a"),x=a("ce7e"),w=a("132d"),_=a("adda"),C=a("a797"),T=a("0fd9b"),D=Object(g["a"])(u,i,r,!1,null,null,null);e["a"]=D.exports;m()(D,{VBtn:v["a"],VCard:h["a"],VCardActions:f["a"],VCardText:f["c"],VCardTitle:f["d"],VCol:y["a"],VDialog:b["a"],VDivider:x["a"],VIcon:w["a"],VImg:_["a"],VOverlay:C["a"],VRow:T["a"]})}}]);