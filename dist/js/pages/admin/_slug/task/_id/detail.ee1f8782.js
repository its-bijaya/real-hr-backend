(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages/admin/_slug/task/_id/detail","chunk-26c51c79","chunk-31f8a6e6","chunk-2d0c8a11","chunk-6441e173","chunk-aee42bec","chunk-2d2160c2","chunk-1b4245df","chunk-2d2160c2","chunk-2d0e6279","chunk-20176648","chunk-2d213000","chunk-2d0d6ae8","chunk-2d2160c2","chunk-2d2160c2","chunk-2d2160c2"],{"0214":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"mb-3"},[a("vue-card-title",{attrs:{title:"Task Comments",subtitle:"Refer the following information for comments on this task.",icon:"mdi-message-processing-outline",clickable:""},on:{click:function(e){t.showMore=!t.showMore}}},[a("template",{slot:"actions"},[a("v-icon",{staticClass:"pointer",domProps:{textContent:t._s(t.showMore?"mdi-menu-up":"mdi-menu-down")},on:{click:function(e){t.showMore=!t.showMore}}})],1)],2),t.showMore?a("div",[a("v-divider"),t.loading?a("v-skeleton-loader",{attrs:{type:"table"}}):t._e(),a("v-card-text",[t.loading?t._e():a("div",[t.comments.length?a("v-list",t._l(t.comments,(function(e,s){return a("v-list-item",{key:e.id},[a("v-list-item-avatar",[a("v-img",{attrs:{src:e.created_by.profile_picture}})],1),a("v-list-item-content",[a("v-list-item-title",[a("a",{staticClass:"mr-2",domProps:{textContent:t._s(e.created_by.full_name)},on:{click:function(a){return t.viewProfileDetail(e.created_by.id)}}}),a("span",{staticClass:"mx-1 text-caption grey--text",domProps:{textContent:t._s(t.humanizeDate(e.created_at))}})]),a("v-list-item-subtitle",{staticClass:"my-1"},[a("div",{style:t.showIndex===s?"display: none":"display: block",domProps:{innerHTML:t._s(t.getClickableLink(e.comment.slice(0,110)))}}),e.comment.length>90?a("a",{style:t.showIndex===s?"display: none":"display: block",on:{click:function(e){t.showIndex=s}}},[t._v("Read more")]):t._e(),t.showIndex===s?a("div",{staticClass:"text-wrap",domProps:{innerHTML:t._s(t.getClickableLink(e.comment))}}):t._e()])],1),a("v-list-item-icon",[e.created_by.id===t.auth.user.id?a("v-menu",{attrs:{bottom:"",right:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-icon",t._g({attrs:{small:""},domProps:{textContent:t._s("mdi-menu-down")}},s))]}}],null,!0)},[a("v-list",[a("v-list-item",{on:{click:function(e){t.deleteNotification.dialog=!0,t.selectedCommentIndex=s}}},[a("v-list-item-title",[a("v-icon",{attrs:{small:""},domProps:{textContent:t._s("mdi-delete")}}),a("span",{domProps:{textContent:t._s("Delete Comment")}})],1)],1)],1)],1):t._e()],1)],1)})),1):a("vue-no-data",{attrs:{height:100,text:"There are no comments on this task"}}),0!==t.nextCommentsCount?a("div",{staticClass:"text-center"},[a("a",{staticClass:"font-weight-bold",on:{click:function(e){return t.getComments()}}},[t._v("View "+t._s(t.nextCommentsCount)+" more comments")])]):t._e()],1)]),a("v-divider"),t.taskDetail.completion_verified||t.readOnly?t._e():a("v-card-actions",{staticClass:"primaryLight"},[a("v-row",{staticClass:"px-4",attrs:{align:"center","no-gutters":""}},[a("v-col",{attrs:{cols:"1"}},[a("v-avatar",{attrs:{size:"35"}},[a("v-img",{attrs:{src:t.auth.user.profile_picture}})],1)],1),a("v-col",[a("v-textarea",t._b({directives:[{name:"validate",rawName:"v-validate",value:"max:1000",expression:"'max:1000'"}],staticStyle:{width:"100%"},attrs:{rows:"1",placeholder:"Add a comment",type:"text"},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.addComment.apply(null,arguments))}},model:{value:t.comment,callback:function(e){t.comment=e},expression:"comment"}},"v-textarea",t.veeValidate("comment",""),!1))],1)],1)],1)],1):t._e(),a("vue-dialog",{attrs:{notify:t.deleteNotification},on:{close:function(e){t.deleteNotification.dialog=!1},agree:t.deleteComment}})],1)},i=[],n=a("5530"),r=(a("a434"),a("c44a")),o=a("2f62"),l=a("f8a4"),c=a("ea98"),u=a("e585"),d=a("cf45"),h={components:{VueDialog:c["a"],VueNoData:u["default"]},mixins:[r["a"]],props:{taskDetail:{type:Object,required:!0},readOnly:{type:Boolean,default:!0}},data:function(){return{deleteNotification:{dialog:!1,heading:"Confirm Delete",text:"Are you sure you want to delete this comment?"},comment:"",comments:[],selectedCommentIndex:null,loading:!0,showMore:!0,showIndex:null,count:null,limit:5}},computed:Object(n["a"])(Object(n["a"])({},Object(o["c"])({auth:"auth/getAuthStateUser"})),{},{nextCommentsCount:function(){return this.count-this.comments.length}}),created:function(){this.getComments()},methods:{getClickableLink:d["e"],getComments:function(){var t=this;this.loading=!0;var e=this.taskDetail.id;this.$http.get(l["a"].getComments(e),{params:{limit:this.limit}}).then((function(e){t.count=e.count,t.loading=!1,t.comments=e.results,t.limit+=5}))},addComment:function(){var t=this,e=this.taskDetail.id,a=new FormData;a.append("comment",this.comment),a.append("task",e),this.$http.post(l["a"].postComments(e),a).then((function(e){t.count+=1,t.comments.unshift(e),t.comment=""}))},deleteComment:function(){var t=this,e=this.taskDetail.id;this.$http.delete(l["a"].deleteComments(e,this.comments[this.selectedCommentIndex].id)).then((function(){t.count-=1,t.notifyUser("Successfully deleted comment","green"),t.comments.splice(t.selectedCommentIndex,1),t.deleteNotification.dialog=!1,0===t.comments.length&&(t.limit=5,t.getComments())}))},viewProfileDetail:function(t){this.$router.push({name:"user-employee-directory-id-profile-detail",params:{id:t}})}}},p=h,m=a("2877"),f=a("6544"),v=a.n(f),g=a("8212"),y=a("b0af"),k=a("99d9"),b=a("62ad"),_=a("ce7e"),x=a("132d"),C=a("adda"),D=a("8860"),w=a("da13"),T=a("8270"),S=a("5d23"),O=a("34c3"),V=a("e449"),j=a("0fd9b"),A=a("3129"),P=a("a844"),R=Object(m["a"])(p,s,i,!1,null,null,null);e["a"]=R.exports;v()(R,{VAvatar:g["a"],VCard:y["a"],VCardActions:k["a"],VCardText:k["c"],VCol:b["a"],VDivider:_["a"],VIcon:x["a"],VImg:C["a"],VList:D["a"],VListItem:w["a"],VListItemAvatar:T["a"],VListItemContent:S["a"],VListItemIcon:O["a"],VListItemSubtitle:S["b"],VListItemTitle:S["c"],VMenu:V["a"],VRow:j["a"],VSkeletonLoader:A["a"],VTextarea:P["a"]})},"0549":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-row",{staticClass:"mb-3",attrs:{"no-gutters":""}},[t.breadCrumbs?a("v-col",{attrs:{cols:"12"}},[a("v-card",{attrs:{flat:""}},[a("v-breadcrumbs",{staticClass:"text-body-1 pa-2",class:{"text-caption pa-1":t.$vuetify.breakpoint.xs},attrs:{items:t.breadCrumbs},scopedSlots:t._u([{key:"item",fn:function(e){return[a("span",{class:e.item.disabled?"grey--text":"baseColor--text text--accent-2 pointer",domProps:{textContent:t._s(e.item.text)},on:{click:function(a){return t.$router.push(e.item.to)}}})]}}],null,!1,1670153796)},[a("v-icon",{attrs:{slot:"divider"},slot:"divider"},[t._v("mdi-chevron-right")])],1)],1)],1):t._e()],1),a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"12"}},[t._t("default")],2)],1)],1)},i=[],n=a("5530"),r=(a("ac1f"),a("1276"),a("b0c0"),a("2f62")),o={props:{title:{type:String,required:!0},breadCrumbs:{type:Array,default:function(){return[]}}},computed:Object(n["a"])({},Object(r["c"])({getOrganizationName:"organization/getOrganizationName",getSupervisorSwitchedOrganization:"supervisor/getSwitchedOrganization"})),mounted:function(){document.title="".concat(this.title," | RealHRsoft");var t=this.$route.params.slug?"admin-slug-dashboard":"root",e=this.$route.name.split("-"),a=this.getOrganizationName;this.getSupervisorSwitchedOrganization&&"user"===e[0]&&"supervisor"===e[1]&&(a=this.getSupervisorSwitchedOrganization.name),this.breadCrumbs.unshift({text:a,disabled:!1,to:{name:t,params:{slug:this.$route.params.slug}}})}},l=o,c=a("2877"),u=a("6544"),d=a.n(u),h=a("2bc5"),p=a("b0af"),m=a("62ad"),f=a("132d"),v=a("0fd9b"),g=Object(c["a"])(l,s,i,!1,null,null,null);e["default"]=g.exports;d()(g,{VBreadcrumbs:h["a"],VCard:p["a"],VCol:m["a"],VIcon:f["a"],VRow:v["a"]})},"0780":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.userData.length?t._e():a("p",{domProps:{textContent:t._s("Selected users will appear here ...")}}),a("v-row",{attrs:{justify:"start"}},t._l(t.userData,(function(e,s){return a("v-col",{key:s,attrs:{md:"4"}},[a("v-list",{attrs:{"two-line":""}},[a("v-list-item",[a("v-list-item-avatar",[a("v-img",{attrs:{src:e.profile_picture}})],1),a("v-list-item-content",[a("v-list-item-title",{domProps:{textContent:t._s(e.full_name)}}),a("v-list-item-subtitle",{domProps:{textContent:t._s(e.division)}})],1)],1)],1)],1)})),1)],1)},i=[],n={props:{userData:{type:[Array],default:function(){return[]}}}},r=n,o=a("2877"),l=a("6544"),c=a.n(l),u=a("62ad"),d=a("adda"),h=a("8860"),p=a("da13"),m=a("8270"),f=a("5d23"),v=a("0fd9b"),g=Object(o["a"])(r,s,i,!1,null,null,null);e["a"]=g.exports;c()(g,{VCol:u["a"],VImg:d["a"],VList:h["a"],VListItem:p["a"],VListItemAvatar:m["a"],VListItemContent:f["a"],VListItemSubtitle:f["b"],VListItemTitle:f["c"],VRow:v["a"]})},"0798":function(t,e,a){"use strict";var s=a("5530"),i=a("ade3"),n=(a("caad"),a("0c18"),a("10d2")),r=a("afdd"),o=a("9d26"),l=a("f2e7"),c=a("7560"),u=a("f40d"),d=a("58df"),h=a("d9bd");e["a"]=Object(d["a"])(n["a"],l["a"],u["a"]).extend({name:"v-alert",props:{border:{type:String,validator:function(t){return["top","right","bottom","left"].includes(t)}},closeLabel:{type:String,default:"$vuetify.close"},coloredBorder:Boolean,dense:Boolean,dismissible:Boolean,closeIcon:{type:String,default:"$cancel"},icon:{default:"",type:[Boolean,String],validator:function(t){return"string"===typeof t||!1===t}},outlined:Boolean,prominent:Boolean,text:Boolean,type:{type:String,validator:function(t){return["info","error","success","warning"].includes(t)}},value:{type:Boolean,default:!0}},computed:{__cachedBorder:function(){if(!this.border)return null;var t={staticClass:"v-alert__border",class:Object(i["a"])({},"v-alert__border--".concat(this.border),!0)};return this.coloredBorder&&(t=this.setBackgroundColor(this.computedColor,t),t.class["v-alert__border--has-color"]=!0),this.$createElement("div",t)},__cachedDismissible:function(){var t=this;if(!this.dismissible)return null;var e=this.iconColor;return this.$createElement(r["a"],{staticClass:"v-alert__dismissible",props:{color:e,icon:!0,small:!0},attrs:{"aria-label":this.$vuetify.lang.t(this.closeLabel)},on:{click:function(){return t.isActive=!1}}},[this.$createElement(o["a"],{props:{color:e}},this.closeIcon)])},__cachedIcon:function(){return this.computedIcon?this.$createElement(o["a"],{staticClass:"v-alert__icon",props:{color:this.iconColor}},this.computedIcon):null},classes:function(){var t=Object(s["a"])(Object(s["a"])({},n["a"].options.computed.classes.call(this)),{},{"v-alert--border":Boolean(this.border),"v-alert--dense":this.dense,"v-alert--outlined":this.outlined,"v-alert--prominent":this.prominent,"v-alert--text":this.text});return this.border&&(t["v-alert--border-".concat(this.border)]=!0),t},computedColor:function(){return this.color||this.type},computedIcon:function(){return!1!==this.icon&&("string"===typeof this.icon&&this.icon?this.icon:!!["error","info","success","warning"].includes(this.type)&&"$".concat(this.type))},hasColoredIcon:function(){return this.hasText||Boolean(this.border)&&this.coloredBorder},hasText:function(){return this.text||this.outlined},iconColor:function(){return this.hasColoredIcon?this.computedColor:void 0},isDark:function(){return!(!this.type||this.coloredBorder||this.outlined)||c["a"].options.computed.isDark.call(this)}},created:function(){this.$attrs.hasOwnProperty("outline")&&Object(h["a"])("outline","outlined",this)},methods:{genWrapper:function(){var t=[this.$slots.prepend||this.__cachedIcon,this.genContent(),this.__cachedBorder,this.$slots.append,this.$scopedSlots.close?this.$scopedSlots.close({toggle:this.toggle}):this.__cachedDismissible],e={staticClass:"v-alert__wrapper"};return this.$createElement("div",e,t)},genContent:function(){return this.$createElement("div",{staticClass:"v-alert__content"},this.$slots.default)},genAlert:function(){var t={staticClass:"v-alert",attrs:{role:"alert"},on:this.listeners$,class:this.classes,style:this.styles,directives:[{name:"show",value:this.isActive}]};if(!this.coloredBorder){var e=this.hasText?this.setTextColor:this.setBackgroundColor;t=e(this.computedColor,t)}return this.$createElement("div",t,[this.genWrapper()])},toggle:function(){this.isActive=!this.isActive}},render:function(t){var e=this.genAlert();return this.transition?t("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},[e]):e}})},"0c18":function(t,e,a){},"0f05":function(t,e,a){"use strict";a("99af");e["a"]={getEvents:"/event/",postEvent:"/event/",patchEvent:function(t){return"/event/".concat(t,"/")},deleteEvent:function(t){return"/event/".concat(t,"/")},acceptEvent:function(t){return"/event/".concat(t,"/accept/")},getEventByEventId:function(t){return"/event/".concat(t,"/")},getEventPostsByEventId:function(t){return"/event/".concat(t,"/post/")},getTopLikes:function(t){return"/event/".concat(t,"/top-likes/")},getTopComments:function(t){return"/event/".concat(t,"/top-comments/")},submitEventPost:"/noticeboard/posts/",updateComment:function(t,e){return"/noticeboard/post/comment/".concat(t,"/").concat(e,"/")},toggleEvent:function(t){return"/event/".concat(t,"/")},postAttachment:function(t){return"/event/".concat(t,"/meeting/document/")},getAttachments:function(t){return"/event/".concat(t,"/meeting/document/")},deleteAttachment:function(t,e){return"/event/".concat(t,"/meeting/document/").concat(e)},getMeetingEvent:function(t){return"/event/".concat(t,"/meeting/")},getExportEventDetails:function(t){return"/event/event/".concat(t,"/export-event-details/")},postMeetingInformation:function(t,e){return"/event/".concat(t,"/meeting/agenda/").concat(e,"/")},getAgendaById:function(t,e){return"/event/".concat(t,"/meeting/agenda/").concat(e,"/")},getAgendaComments:function(t){return"/event/meeting/agenda/".concat(t,"/comment/")},postAgendaComments:function(t){return"/event/meeting/agenda/".concat(t,"/comment/")},updateAgendaComments:function(t,e){return"/event/meeting/agenda/".concat(t,"/comment/").concat(e,"/")},deleteAgendaComments:function(t,e){return"/event/meeting/agenda/".concat(t,"/comment/").concat(e,"/")},getAllAgendas:function(t){return"/event/".concat(t,"/meeting/agenda/")},updateAgenda:function(t,e){return"/event/".concat(t,"/meeting/agenda/").concat(e,"/")},deleteAgenda:function(t,e){return"/event/".concat(t,"/meeting/agenda/").concat(e,"/")},postOtherInformation:function(t){return"/event/event/".concat(t,"/")},prepareMeeting:function(t){return"/event/event/".concat(t,"/")},acknowledgeMeeting:function(t){return"/event/".concat(t,"/meeting/acknowledge/")},createTask:function(t,e){return"event/".concat(t,"/meeting/agenda/").concat(e,"/task/")},removeMember:function(t,e){return"/event/".concat(t,"/member/").concat(e)}}},"17cc":function(t,e,a){"use strict";var s=a("b85c"),i=a("1da1"),n=a("5530");a("96cf"),a("ac1f"),a("841c"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("b64b");e["a"]={data:function(){return{fetchedResults:[],response:{},extra_data:"",appliedFilters:{},footerProps:{itemsPerPageOptions:[10,20,30,40,50,100]},pagination:{sortBy:["modified_at"],descending:!1,totalItems:0,page:1,rowsPerPage:10,pageCount:0},triggerDataTable:!0,fullParams:""}},created:function(){this.getParams(this.DataTableFilter)},methods:{getParams:function(t){var e=Object(n["a"])(Object(n["a"])({},t),{},{offset:(this.pagination.page-1)*this.pagination.rowsPerPage,limit:this.pagination.rowsPerPage,ordering:this.pagination.descending?this.pagination.sortBy:"-"+this.pagination.sortBy});this.fullParams=this.convertToURLSearchParams(e)},loadDataTable:function(t){this.response=t,this.fetchedResults=t.results,this.pagination.totalItems=t.count,this.extra_data=t.extra_data,this.triggerDataTable=!0},fetchData:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var s,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return console.warn("DatatableMixin: fetchData has been deprecated. Please use the function in page itself."),s=Object(n["a"])(Object(n["a"])(Object(n["a"])({},t),e.appliedFilters),{},{search:e.search,offset:(e.pagination.page-1)*e.pagination.rowsPerPage,limit:e.pagination.rowsPerPage,ordering:e.pagination.descending?e.pagination.sortBy:"-"+e.pagination.sortBy}),i=e.convertToURLSearchParams(s),e.loading=!0,a.next=6,e.$http.get(e.endpoint,{params:i}).then((function(t){e.response=t,e.fetchedResults=t.results,e.pagination.totalItems=t.count})).finally((function(){e.loading=!1}));case 6:case"end":return a.stop()}}),a)})))()},applyFilters:function(t){this.appliedFilters=t,this.fetchData(t)},convertToURLSearchParams:function(t){for(var e=new URLSearchParams,a=0,i=Object.keys(t);a<i.length;a++){var n=i[a],r=t[n];if(void 0===r&&(r=""),Array.isArray(r)){var o,l=Object(s["a"])(r);try{for(l.s();!(o=l.n()).done;){var c=o.value;e.append(n,c)}}catch(u){l.e(u)}finally{l.f()}}else e.append(n,r)}return e},loadDataTableChange:function(){var t=this;this.triggerDataTable&&(this.getParams(this.DataTableFilter),this.$nextTick((function(){t.fetchDataTable()})))}},watch:{DataTableFilter:function(t){this.fetchedResults=[],this.getParams(t),this.fetchDataTable(),this.pagination.page=1},"pagination.sortBy":function(){this.fetchedResults=[],this.loadDataTableChange()},"pagination.descending":function(){this.fetchedResults=[],this.loadDataTableChange()},"pagination.page":function(){this.fetchedResults=[],this.loadDataTableChange()},"pagination.rowsPerPage":function(){this.fetchedResults=[],this.loadDataTableChange()}}}},"19c3":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-form",{on:{submit:function(e){return e.preventDefault(),t.getFormAction.apply(null,arguments)}}},[a("v-row",{attrs:{"no-gutters":""}},[a("v-container",{staticClass:"px-12"},[a("v-row",[a("v-col",{attrs:{md:"6",sm:"12"}},[t.nonFieldErrors?a("non-field-form-errors",{attrs:{"non-field-errors":t.nonFieldErrors}}):t._e(),a("v-row",[a("v-col",{attrs:{sm:"12",md:"6",cols:"12"}},[a("user-auto-complete",t._b({directives:[{name:"validate",rawName:"v-validate",value:"",expression:"''"}],attrs:{"data-cy-variable":"responsiblePersons",params:{user_status:"current",have_experience:!0},"items-to-exclude":t.previousResponsiblePersons.map((function(t){return t.user.id})),"user-object":t.responsiblePersonsObject,multiple:""},on:{"update:userObject":function(e){t.responsiblePersonsObject=e},"update:user-object":function(e){t.responsiblePersonsObject=e}},model:{value:t.responsiblePersons,callback:function(e){t.responsiblePersons=e},expression:"responsiblePersons"}},"user-auto-complete",t.veeValidate("responsible_persons","Assign To *"),!1))],1),a("v-col",{attrs:{sm:"12",md:"6",cols:"12"}},[a("user-auto-complete",t._b({directives:[{name:"validate",rawName:"v-validate",value:"",expression:"''"}],attrs:{"data-cy-variable":"observers",params:{user_status:"current",have_experience:!0},"items-to-exclude":t.previousObservers.map((function(t){return t.user.id})),"user-object":t.observersObject,multiple:""},on:{"update:userObject":function(e){t.observersObject=e},"update:user-object":function(e){t.observersObject=e}},model:{value:t.observers,callback:function(e){t.observers=e},expression:"observers"}},"user-auto-complete",t.veeValidate("observers","Observers"),!1))],1)],1),a("v-col",[a("div",{domProps:{textContent:t._s("Priority: ")}}),a("v-btn-toggle",{attrs:{"data-cy":"btn-priority"},model:{value:t.formValues.priority,callback:function(e){t.$set(t.formValues,"priority",e)},expression:"formValues.priority"}},t._l(t.priorityChoices,(function(e){return a("v-btn",{key:e.value,class:e.value===t.formValues.priority?e.color+" white--text":"black--text",attrs:{"data-cy":"btn-priority-"+e.text,value:e.value,text:"",small:""},domProps:{textContent:t._s(e.text)}})})),1)],1),a("v-col",[a("v-text-field",t._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],model:{value:t.formValues.title,callback:function(e){t.$set(t.formValues,"title",e)},expression:"formValues.title"}},"v-text-field",t.veeValidate("title","Title *"),!1))],1),a("v-col",[a("vue-date-time-picker",t._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"place-holder":"Deadline of the task"},model:{value:t.formValues.deadline,callback:function(e){t.$set(t.formValues,"deadline",e)},expression:"formValues.deadline"}},"vue-date-time-picker",t.veeValidate("deadline","Deadline *"),!1))],1),a("v-col",[a("v-switch",{attrs:{"data-cy":"switch-changeable-deadline",label:"Changeable Deadline"},model:{value:t.formValues.changeable_deadline,callback:function(e){t.$set(t.formValues,"changeable_deadline",e)},expression:"formValues.changeable_deadline"}})],1),a("v-col",[a("v-text-field",t._b({directives:[{name:"validate",rawName:"v-validate",value:"max:100",expression:"'max:100'"}],attrs:{counter:100,placeholder:"Things to do ...","append-icon":"mdi-plus"},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.addToCheckList.apply(null,arguments))},"click:append":t.addToCheckList},model:{value:t.formValues.check_list_title,callback:function(e){t.$set(t.formValues,"check_list_title",e)},expression:"formValues.check_list_title"}},"v-text-field",t.veeValidate("check_list_title","Checklists"),!1))],1),a("v-row",{staticClass:"pointer",attrs:{"data-cy":"text-advanced",align:"center"},on:{click:function(e){t.advanced=!t.advanced}}},[a("span",{domProps:{textContent:t._s("Advanced")}}),a("v-icon",{domProps:{textContent:t._s(t.advanced?"mdi-menu-up":"mdi-menu-down")}})],1),t.advanced||t.projectId?a("v-col",[a("vue-trumbowyg",t._b({directives:[{name:"validate",rawName:"v-validate",value:"max:100000",expression:"'max:100000'"}],attrs:{placeholder:"Write a description for this task"},model:{value:t.formValues.description,callback:function(e){t.$set(t.formValues,"description",e)},expression:"formValues.description"}},"vue-trumbowyg",t.veeValidate("description","Description"),!1))],1):t._e(),t.advanced||t.projectId?a("v-col",[1===t.get(t.actionData,"status")?a("vue-date-time-picker",t._b({directives:[{name:"validate",rawName:"v-validate",value:"",expression:"''"}],attrs:{"place-holder":"Deadline of the task"},model:{value:t.formValues.starts_at,callback:function(e){t.$set(t.formValues,"starts_at",e)},expression:"formValues.starts_at"}},"vue-date-time-picker",t.veeValidate("starts_at","Start At "),!1)):t._e()],1):t._e(),a("v-col",[a("create-task-attachments",{model:{value:t.attachments,callback:function(e){t.attachments=e},expression:"attachments"}})],1),t.advanced||t.projectId?a("v-col",{staticClass:"py-0"},[t.projectId?a("v-switch",{attrs:{"data-cy":"switch-task-belongs-to-project","hide-details":"",label:"Task Belongs to Project"},model:{value:t.hasProjectId,callback:function(e){t.hasProjectId=e},expression:"hasProjectId"}}):a("v-switch",{attrs:{"data-cy":"switch-task-belongs-to-project","hide-details":"",label:"Task Belongs to Project"},model:{value:t.projectTaskSwitch,callback:function(e){t.projectTaskSwitch=e},expression:"projectTaskSwitch"}})],1):t._e(),t.advanced||t.projectId?a("v-col",{staticClass:"py-0"},[t.projectTaskSwitch||t.projectId?a("vue-auto-complete",{attrs:{"data-cy-variable":"task-project",endpoint:t.taskProjectEndpoint,label:"Task Project","hide-details":"","item-text":"name","item-value":"id"},model:{value:t.formValues.project,callback:function(e){t.$set(t.formValues,"project",e)},expression:"formValues.project"}}):t._e()],1):t._e(),t.advanced||t.projectId?a("v-col",{staticClass:"py-0"},[a("vue-repeat-rule",{model:{value:t.repeatRule,callback:function(e){t.repeatRule=e},expression:"repeatRule"}})],1):t._e(),t.advanced&&t.repeatRule||t.repeatRule&&t.projectId?a("v-col",{staticClass:"mt-n9 mb-3"},[a("vue-date-picker",t._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"data-cy-variable":"repeat-from"},model:{value:t.repeatFrom,callback:function(e){t.repeatFrom=e},expression:"repeatFrom"}},"vue-date-picker",t.veeValidate("recurring_first_run","Repeat From *"),!1))],1):t._e()],1),a("v-col",{staticClass:"mt-4",attrs:{md:"6",sm:"12"}},[a("div",[a("h4",[t._v("Responsible Person")]),a("div",[a("v-divider"),t.actualResponsiblePersonsObject&&!t.actualResponsiblePersonsObject.length?a("p",{domProps:{textContent:t._s("Select Responsible person to view their result areas")}}):t._l(t.actualResponsiblePersonsObject,(function(e,s){return a("v-col",{key:s,attrs:{cols:"12",md:"12"}},[a("v-col",{attrs:{cols:"12"}},[a("vue-user",{attrs:{user:Object.assign({},e,{job_title:e.division}),horizontal:"","justify-center":""}})],1),a("v-row",{attrs:{align:"center"}},[a("v-col",{attrs:{cols:"12"}},[t.userCoreTasks[e.id]?t.userCoreTasks[e.id].length?t._l(t.userCoreTasks[e.id],(function(i,n){return a("div",{key:i.id},[a("v-row",{attrs:{align:"center",justify:"start",dense:""}},[a("v-col",{attrs:{sm:"12"}},[a("v-switch",{key:i.id,staticClass:"mt-0",attrs:{id:String(i.id),"data-cy":"switch-show-core-task-"+(n+1),"hide-details":""},on:{change:function(e){return t.removeCoreTask(i,s)}},model:{value:i.showCoreTask,callback:function(e){t.$set(i,"showCoreTask",e)},expression:"resultArea.showCoreTask"}},[a("template",{slot:"label"},[a("span",[t._v(" "+t._s(i.result_area.title+"-")+" ")]),i.key_result_area?a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("span",t._g({staticClass:"font-weight-bold",domProps:{textContent:t._s(" KRA")}},s))]}}],null,!0)},[a("span",[t._v(" Key Result Area")])]):t._e()],1)],2)],1)],1),i.showCoreTask?a("span",t._l(i.core_tasks,(function(s,i){return a("v-row",{key:s.id,staticClass:"ml-3",attrs:{align:"center",dense:""}},[a("v-col",{attrs:{sm:"12"}},[a("v-checkbox",{staticClass:"mt-0",attrs:{id:String(s.id),"data-cy":"show-task-"+(n+1)+"-checkbox-"+(i+1),label:s.title,value:s.id,loading:!0,"hide-details":"",multiple:""},model:{value:e.core_tasks,callback:function(a){t.$set(e,"core_tasks",a)},expression:"user.core_tasks"}})],1)],1)})),1):t._e()],1)})):a("p",{domProps:{textContent:t._s(e.full_name+" has no core task.")}}):a("p",{domProps:{textContent:t._s("Fetching...")}})],2)],1),a("v-divider")],1)}))],2),t.previousResponsiblePersons&&t.previousResponsiblePersons.length?a("div",[a("span",{domProps:{textContent:t._s("Existing Responsible Persons")}}),t._l(t.previousResponsiblePersons,(function(e,s){return a("div",{key:s},[a("v-hover",{scopedSlots:t._u([{key:"default",fn:function(i){var n=i.hover;return a("div",{},[a("v-avatar",{attrs:{size:"20"}},[a("v-img",{attrs:{src:e.user.profile_picture}})],1),t._v(" "+t._s(e.user.full_name)+" "),n?a("a",{on:{click:function(a){return t.removeResponsiblePerson(e,s)}}},[a("v-tooltip",{attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function(s){var i=s.on;return[a("v-icon",t._g({attrs:{color:e.read_only?"green":"red",small:""},domProps:{textContent:t._s(e.read_only?"mdi-chevron-down":"mdi-close")}},i))]}}],null,!0)},[a("span",{domProps:{textContent:t._s(e.read_only?"Move to observers":"Remove")}})])],1):t._e()],1)}}],null,!0)})],1)}))],2):t._e()]),a("br"),a("div",[a("h4",[t._v("Observers")]),a("div",[a("v-divider"),a("task-user-involvement-view",{attrs:{"user-data":t.observersObject}}),t.previousObservers&&t.previousObservers.length?a("div",[a("span",{domProps:{textContent:t._s("Existing Observers")}}),t._l(t.previousObservers,(function(e,s){return a("div",{key:s},[a("v-hover",{scopedSlots:t._u([{key:"default",fn:function(i){var n=i.hover;return a("div",{},[a("v-avatar",{attrs:{size:"20"}},[a("v-img",{attrs:{src:e.user.profile_picture}})],1),t._v(" "+t._s(e.user.full_name)+" "),n&&!e.read_only?a("a",{on:{click:function(e){return t.previousObservers.splice(s,1)}}},[a("v-icon",{attrs:{small:""},domProps:{textContent:t._s("mdi-close")}})],1):t._e()],1)}}],null,!0)})],1)}))],2):t._e()],1)]),a("br"),a("h4",[t._v("Deadline")]),a("v-divider"),a("v-col",{attrs:{cols:"12",md:"6"}},[t.formValues.deadline?a("div",[a("div",[a("span",{staticClass:"mr-1"},[t._v(" "+t._s(t.getDeadline(t.formValues.deadline))+" ")]),a("span",[t._v(t._s(t._f("dayjs")(t.formValues.deadline,"fromNow")))])]),a("div",[t._v(" "+t._s(t._f("dayjs")(t.formValues.deadline,"h mm a"))+" ")])]):a("span",{domProps:{textContent:t._s("Please select a deadline for this task")}})]),a("h4",[t._v(" Checklists "),t.checklists&&t.checklists.length?a("v-btn",{attrs:{small:"","data-cy":"btn-clear-all-checklists",icon:""},on:{click:function(e){t.checklists=[]}}},[a("v-icon",{attrs:{size:"20"}},[t._v(" mdi-close ")])],1):t._e()],1),a("v-divider"),a("v-col",{attrs:{cols:"12",md:"6"}},[t.checklists&&0===t.checklists.length?a("p",{domProps:{textContent:t._s("Added checklists will appear here")}}):t._e(),t.sortingStarted?t._e():a("div",{attrs:{id:"checklistWrapper"}},t._l(t.checklists,(function(e,s){return a("ul",{key:s,staticClass:"sortHandle my-1",class:{pointer:!t.editChecklist}},[a("v-hover",{scopedSlots:t._u([{key:"default",fn:function(i){var n=i.hover;return a("li",{},[t.editChecklist&&s===t.editChecklistIndex?a("span",[a("v-text-field",t._b({directives:[{name:"validate",rawName:"v-validate",value:"max:100",expression:"'max:100'"}],attrs:{"append-icon":"mdi-check",counter:"100"},on:{"click:append":function(e){t.updateRecentChecklist(s),t.initializeSortableJs()}},model:{value:t.list,callback:function(e){t.list=e},expression:"list"}},"v-text-field",t.veeValidate("checklist_title","Title"),!1))],1):a("span",[a("span",{domProps:{textContent:t._s(e)}}),n?a("a",{attrs:{"data-cy":"btn-clear-checklist-"+(s+1)},on:{click:function(e){return t.checklists.splice(s,1)}}},[a("v-icon",{attrs:{small:""}},[t._v("mdi-close")])],1):t._e(),n?a("a",{attrs:{"data-cy":"btn-edit-checklist-"+(s+1)},on:{click:function(e){t.editChecklist=!0,t.editChecklistIndex=s,t.list=t.checklists[s],t.destroySortableJs()}}},[a("v-icon",{attrs:{small:""}},[t._v("mdi-pencil")])],1):t._e()])])}}],null,!0)})],1)})),0),t.previousCheckLists&&t.previousCheckLists.length?a("div",[a("span",{domProps:{textContent:t._s("Existing Checklists")}}),t.sortingStarted?t._e():a("div",{attrs:{id:"previousChecklistWrapper"}},t._l(t.previousCheckLists,(function(e,s){return a("ul",{key:s,staticClass:"sortHandles my-1"},[a("v-hover",{scopedSlots:t._u([{key:"default",fn:function(i){var n=i.hover;return a("li",{},[t.editPreviousChecklist&&s===t.editChecklistPrevIndex?a("span",[a("v-text-field",t._b({directives:[{name:"validate",rawName:"v-validate",value:"max:100",expression:"'max:100'"}],attrs:{"data-cy":"input-checklist-title","append-icon":"mdi-check",counter:"100"},on:{"click:append":function(a){t.updateChecklist(e.id,s),t.editPreviousChecklist=!1,t.initializeSortableForPreviousList()}},model:{value:t.prevList,callback:function(e){t.prevList=e},expression:"prevList"}},"v-text-field",t.veeValidate("checklist_title","Title"),!1))],1):a("span",[t._v(" "+t._s(e.check_list_title)+" "),n&&!e.completed_on?a("a",{attrs:{"data-cy":"btn-clear-prev-checklist-"+(s+1)},on:{click:function(a){return t.deleteCheckList(e.id,s)}}},[a("v-icon",{attrs:{small:""}},[t._v("mdi-close")])],1):t._e(),n&&!e.completed_on?a("a",[a("v-icon",{attrs:{small:"","data-cy":"btn-edit-prev-checklist-"+(s+1)},on:{click:function(e){t.editPreviousChecklist=!0,t.editChecklistPrevIndex=s,t.prevList=t.previousCheckLists[s].check_list_title,t.destroySortableJs()}}},[t._v("mdi-pencil ")])],1):t._e()])])}}],null,!0)})],1)})),0)]):t._e()]),a("h4",[t._v("Attachments")]),a("v-divider"),a("v-col",{attrs:{cols:"12",md:"6"}},[t.attachments&&0===t.attachments.length?a("p",{domProps:{textContent:t._s("Added attachments will appear here")}}):a("div",t._l(t.reverseAttachment,(function(e,s){return a("ul",{key:s},[a("v-hover",{scopedSlots:t._u([{key:"default",fn:function(i){var n=i.hover;return a("li",{},[a("span",[t._v(" "+t._s(e.caption)+" "),n?a("a",{attrs:{"data-cy":"btn-clear-attachment-"+(s+1)},on:{click:function(e){return t.attachments.splice(s,1)}}},[a("v-icon",{attrs:{small:""}},[t._v("mdi-close")])],1):t._e()])])}}],null,!0)})],1)})),0),t.previousAttachments&&t.previousAttachments.length?a("div",[a("span",{domProps:{textContent:t._s("Existing Attachments")}}),t._l(t.previousAttachments,(function(e,s){return a("ul",{key:s},[a("v-hover",{scopedSlots:t._u([{key:"default",fn:function(i){var n=i.hover;return a("li",{},[a("span",{domProps:{textContent:t._s(e.caption)},on:{click:function(a){return t.viewAttachment(e.attachment)}}}),n&&t.canDeleteAttachment(e)?a("v-icon",{attrs:{"data-cy":"btn-clear-previous-attachment-"+(s+1),small:""},domProps:{textContent:t._s("mdi-close")},on:{click:function(e){t.deleteNotification.dialog=!0,t.deleteAttachmentIndex=s}}}):t._e()],1)}}],null,!0)})],1)}))],2):t._e()])],1)],1)],1),a("v-footer",{staticClass:"py-3",attrs:{fixed:"",height:"auto"}},[a("v-spacer"),a("v-btn",{staticClass:"mx-2",attrs:{disabled:t.loading,type:"submit",color:"primary"}},[t.formValues.id?a("span",{domProps:{textContent:t._s("Update")}}):a("span",{domProps:{textContent:t._s("Assign")}})]),a("v-btn",{attrs:{outlined:""},domProps:{textContent:t._s("Cancel")},on:{click:function(e){return t.$emit("dismiss-form")}}})],1)],1),a("vue-dialog",{attrs:{notify:t.deleteNotification},on:{close:function(e){t.deleteNotification.dialog=!1},agree:t.deleteAttachment},model:{value:t.deleteNotification.dialog,callback:function(e){t.$set(t.deleteNotification,"dialog",e)},expression:"deleteNotification.dialog"}}),a("vue-notify",{attrs:{notify:t.notify}})],1)},i=[],n=a("b85c"),r=a("1da1"),o=a("5530"),l=(a("96cf"),a("a9e3"),a("159b"),a("d81d"),a("fb6a"),a("4de4"),a("caad"),a("2532"),a("a4d3"),a("e01a"),a("d3b7"),a("a434"),a("b0c0"),a("99af"),a("c44a")),c=a("ef8c"),u=a("ab8a"),d=a("0780"),h=a("b1a9"),p=a("5660"),m=a("6593"),f=a("02cb"),v=a("f8a4"),g=a("0f05"),y=a("2a18"),k=a("a019"),b=a("741f"),_=a("1467"),x=a("2f62"),C=a("aa47"),D=a("338b"),w={components:{UserAutoComplete:c["default"],TaskUserInvolvementView:d["a"],NonFieldFormErrors:u["default"],VueAutoComplete:p["default"],VueDatePicker:b["default"],VueRepeatRule:m["a"],VueUser:f["default"],CreateTaskAttachments:h["a"],VueTrumbowyg:_["default"]},mixins:[l["a"],D["a"]],props:{actionData:{type:Object,default:function(){return{status:1}}},parentTask:{type:Object,required:!1,default:function(){return{}}},projectId:{type:Number,required:!1,default:null},meeting:{type:Boolean,default:!1},agendaId:{type:Number,default:null}},data:function(){return{notify:{},responsiblePersons:[],previousResponsiblePersons:[],observers:[],previousObservers:[],responsiblePersonsObject:[],actualResponsiblePersonsObject:[],observersObject:[],userCoreTasks:{},priorityChoices:[{text:"Minor",value:"MINOR",color:"green"},{text:"Major",value:"MAJOR",color:"purple"},{text:"Critical",value:"CRITICAL",color:"red"}],checklists:[],editChecklistIndex:"",prevList:"",previousCheckLists:[],attachments:[],previousAttachments:[],deleteNotification:{dialog:!1,heading:"Confirm Delete",text:"Are you sure you want to delete this attachment?",deleteAttachmentIndex:null},formValues:{},projectTaskSwitch:"",taskProject:null,taskProjectEndpoint:"/task/projects",startDate:"",editChecklistPrevIndex:"",editChecklist:!1,editPreviousChecklist:!1,repeatRule:"",repeatFrom:"",advanced:this.displayAdvancedOptions(),loading:!1,sortable:null,sortingStarted:!1,taskId:this.$route.params.id,useNepaliDate:localStorage.useNepaliDate}},computed:Object(o["a"])(Object(o["a"])({},Object(x["c"])({getAuthStateUser:"auth/getAuthStateUser",getOrganizationSlug:"organization/getOrganizationSlug",isSupervisor:"auth/isSupervisor"})),{},{todaysDate:function(){var t=this.$dayjs().add(7,"days").format("YYYY-MM-DD"),e="";return e="true"===localStorage.useNepaliDate&&t?this.ad2bs(t):t,e},observersData:function(){var t=[];return this.observers.forEach((function(e){t.unshift({user:e})})),t},responsiblePersonsData:function(){return this.actualResponsiblePersonsObject.map((function(t){return{user:t.id,core_tasks:t.core_tasks||[]}}))},hasProjectId:function(){return!!this.projectId},reverseAttachment:function(){return this.attachments.slice(0).reverse()}}),watch:{projectTaskSwitch:function(t){t||(this.taskProject=null,this.formValues.project=null)},responsiblePersonsObject:function(t,e){if(this.responsiblePersonsObject=t,t&&t.length){var a=e.map((function(t){return t.id})),s=t.map((function(t){return t.id}));t.length<e.length?this.actualResponsiblePersonsObject=this.actualResponsiblePersonsObject.filter((function(t){return s.includes(t.id)})):a.includes(t[0].id)||this.actualResponsiblePersonsObject.push(t[0]),this.getUserCoreTasks(t)}else this.actualResponsiblePersonsObject=t}},mounted:function(){this.initializeSortableJs(),this.initializeSortableForPreviousList()},created:function(){this.formValues=this.deepCopy(this.taskDefaultData()),this.projectTaskSwitch=!!this.taskDefaultData().project,this.repeatRule=this.get(this.taskDefaultData(),"recurring.recurring_rule"),this.repeatFrom=this.get(this.taskDefaultData(),"recurring.recurring_first_run"),this.actionData.id&&this.prepareEditForm(),this.projectId&&(this.formValues.project=this.projectId,this.projectTaskSwitch=!0)},beforeDestroy:function(){this.destroySortableJs()},methods:Object(o["a"])(Object(o["a"])({},Object(x["d"])({setNavDrawerItems:"common/setTaskCount"})),{},{displayAdvancedOptions:function(){return!!this.taskDefaultData().starts_at||!!this.taskDefaultData().description||!!this.taskDefaultData().recurring||!!this.taskDefaultData().project},getFormAction:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.validateAllFields();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t.formValues.id?t.updateTask():t.createTask());case 4:case"end":return e.stop()}}),e)})))()},prepareEditForm:function(){this.previousResponsiblePersons=this.formValues.responsible_persons,this.previousObservers=this.formValues.observers,this.previousCheckLists=this.formValues.check_lists,this.getPreviousAttachments()},getPreviousAttachments:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get(v["a"].getAttachment(t.actionData.id)).then((function(e){t.previousAttachments=e.results}));case 2:case"end":return e.stop()}}),e)})))()},getUserCoreTasks:function(t){var e=this,a=t[0];this.userCoreTasks[a.id]||this.$http.get(k["a"].getUserResultAreas(a.organization_slug,a.id)).then((function(t){var s=t.experiences.filter((function(t){return t.is_current}));if(s.length&&s[0].result_areas.length){var i=s[0].result_areas;e.$set(e.userCoreTasks,a.id,i)}else e.userCoreTasks[a.id]=[]}))},addToCheckList:function(){var t=this;this.formValues.check_list_title?this.formValues.check_list_title.length>100?this.notifyUser("The Checklists field may not be greater than 100 characters","red"):this.actionData.id?this.$http.post(y["a"].postCheckList(this.actionData.id),{check_list_title:this.formValues.check_list_title}).then((function(e){t.previousCheckLists.push({id:e.id,check_list_title:e.check_list_title}),t.formValues.check_list_title=""})):(this.checklists.push(this.formValues.check_list_title),this.formValues.check_list_title="",this.editChecklistIndex="",this.editChecklistPrevIndex=""):this.notifyUser("Please write something on your checklist.","red")},createTask:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.loading=!0,t.$http.post(v["a"].postTask,t.constructFormData()).then((function(e){if(t.notifyUser("Successfully created task!","green"),t.$emit("dismiss-form"),t.attachments.length)t.createAttachment(e.id,"created");else if(t.updateSideBarCounts(),t.meeting)t.$http.post(g["a"].createTask(t.taskId,t.agendaId),{task:e.id}),t.emit("dismissForm");else{var a=t.get(t.$route.params,"slug");t.$router.push({name:a?"admin-slug-task-id-detail":"user-task-my-id-detail",params:{id:e.id,slug:a||""}})}})).catch((function(e){t.pushErrors(e)})).finally((function(){t.loading=!1}));case 2:case"end":return e.stop()}}),e)})))()},updateTask:function(){var t=this,e=this.constructFormData();delete e.check_lists,e.check_lists=this.previousCheckLists.length?this.previousCheckLists.map((function(t){return t.id})):[],this.loading=!0,this.$http.patch(v["a"].updateTask(e.id),e).then((function(e){t.attachments.length?t.createAttachment(e.id,"updated"):(t.notifyUser("Successfully updated task!","green"),t.$emit("dismiss-form"),t.updateSideBarCounts())})).catch((function(e){t.pushErrors(e)})).finally((function(){t.loading=!1}))},updateSideBarCounts:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get(v["a"].navBarCounts).then((function(e){t.setNavDrawerItems(e)}));case 2:case"end":return e.stop()}}),e)})))()},addCheckList:function(t){this.$http.post(y["a"].postCheckList(this.formValues.id),{check_list_title:t})},initializeSortableJs:function(){var t=document.getElementById("checklistWrapper");t&&(this.sortable=C["a"].create(t,{selectedClass:"sortHandle",draggable:".sortHandle",handle:".sortHandle",onEnd:this.reArrangeChecklist}))},initializeSortableForPreviousList:function(){var t=document.getElementById("previousChecklistWrapper");t&&(this.sortable=C["a"].create(t,{selectedClass:"sortHandles",draggable:".sortHandles",handle:".sortHandles",onEnd:this.reArrangePreviousChecklist}))},destroySortableJs:function(){this.sortable.destroy(),this.sortable=null},reArrangeChecklist:function(t){var e=this;this.sortingStarted=!0,this.checklists.splice(t.newIndex,0,this.checklists.splice(t.oldIndex,1)[0]),this.$nextTick((function(){e.sortingStarted=!1,e.$nextTick((function(){e.initializeSortableJs()}))}))},reArrangePreviousChecklist:function(t){var e=this;this.sortingStarted=!0,this.previousCheckLists.splice(t.newIndex,0,this.previousCheckLists.splice(t.oldIndex,1)[0]),this.$nextTick((function(){e.sortingStarted=!1,e.$nextTick((function(){e.initializeSortableForPreviousList()}))}))},swapChecklistByIndex:function(t,e){var a=this.checklists[t];this.checklists[t]=this.checklists[e],this.checklists[e]=a},updateRecentChecklist:function(t){this.list?this.list.length>100?(this.notifyUser("The Checklists field may not be greater than 100 characters","red"),this.editChecklist=!1,this.editChecklistPrevIndex=""):(this.checklists.splice(t,1,this.list),this.editChecklist=!1):(this.notifyUser("Please write something on your checklist.","red"),this.editChecklist=!1)},updateChecklist:function(t,e){var a=this;this.prevList?this.prevList.length>100?this.notifyUser("The Checklists field may not be greater than 100 characters","red"):this.$http.put(y["a"].putCheckList(this.formValues.id,t),{check_list_title:this.prevList}).then((function(t){a.previousCheckLists[e].check_list_title=t.check_list_title})).catch((function(t){a.notifyInvalidFormResponse(),a.pushErrors(t)})):this.notifyUser("Please write something on your checklist.","red")},createAttachment:function(t,e){var a=this;return Object(r["a"])(regeneratorRuntime.mark((function s(){var i,r,o,l,c,u;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:i=0,r=Object(n["a"])(a.attachments.splice(0).reverse()),s.prev=2,r.s();case 4:if((o=r.n()).done){s.next=14;break}return l=o.value,c=new FormData,c.append("attachment",l.file,l.file.name),c.append("caption",l.caption),c.append("task",t),s.next=12,a.$http.post(v["a"].postAttachment(t),c).catch((function(){i+=1}));case 12:s.next=4;break;case 14:s.next=19;break;case 16:s.prev=16,s.t0=s["catch"](2),r.e(s.t0);case 19:return s.prev=19,r.f(),s.finish(19);case 22:i?a.notifyUser("Successfully ".concat(e," task but some attachments failed"),"warning"):a.notifyUser("Successfully ".concat(e," task"),"green"),a.$emit("dismiss-form"),a.updateSideBarCounts(),u=a.get(a.$route.params,"slug"),a.$router.push({name:u?"admin-slug-task-id-detail":"user-task-my-id-detail",params:{id:t,slug:u||""}});case 27:case"end":return s.stop()}}),s,null,[[2,16,19,22]])})))()},deleteCheckList:function(t,e){var a=this;this.$http.delete(y["a"].deleteCheckList(this.actionData.id,t)).then((function(){a.notifyUser("Successfully deleted Checklist","green"),a.previousCheckLists.splice(e,1)})).catch((function(){a.notifyUser("Only pending Checklist can be deleted","red")}))},deleteAttachment:function(){var t=this,e=this.previousAttachments[this.deleteAttachmentIndex].id;this.$http.delete(v["a"].deleteAttachment(this.actionData.id,e)).then((function(){t.notifyUser("Successfully deleted attachment","green"),t.deleteNotification.dialog=!1,t.previousAttachments.splice(t.deleteAttachmentIndex,1)}))},canDeleteAttachment:function(t){return t.created_by===this.getAuthStateUser.user.id&&t.created_by!==this.actionData.created_by.id||t.created_by===this.getAuthStateUser.user.id&&t.created_by===this.actionData.created_by.id&&1===this.actionData.status},viewAttachment:function(t){var e="https://docs.google.com/viewerng/viewer?url=".concat(t);window.open(e,"_blank")},constructFormData:function(){var t=this,e=this.previousObservers?this.previousObservers.map((function(t){return{user:t.user.id,read_only:t.read_only}})):[],a=this.previousResponsiblePersons.map((function(t){return{user:t.user.id,core_tasks:t.core_tasks.map((function(t){return t.id})),read_only:t.read_only}})),s=null;this.repeatRule&&(s={recurring_rule:this.repeatRule,recurring_first_run:this.repeatFrom});var i={id:this.formValues.id||null,observers:e.concat(this.observersData),responsible_persons:a.concat(this.responsiblePersonsData),priority:this.formValues.priority,check_lists:this.checklists,title:this.formValues.title,changeable_deadline:this.formValues.changeable_deadline,deadline:this.formValues.deadline,starts_at:1===this.get(this.actionData,"status")&&this.formValues.starts_at||null,description:this.formValues.description,project:this.projectTaskSwitch?this.formValues.project:null,recurring:s,parent:this.parentTask?this.parentTask.id:null};if(this.actionData.id){var n=function(e){return t.$dayjs(e).format("YYYY-MM-DD hh mm a")};this.get(s,"recurring_first_run")===this.get(this.actionData,"recurring.recurring_first_run")&&this.get(s,"recurring_rule")===this.get(this.actionData,"recurring.recurring_rule")&&delete i.recurring,n(i.deadline)===n(this.actionData.deadline)&&delete i.deadline}return i},taskDefaultData:function(){return this.actionData.id?this.actionData:{title:"",status:1,description:"",priority:"MINOR",checklist:"",changeable_deadline:!1,skip_offday:!1,approve_required:!1,working_day:!1,auto_complete:!1,start_at:"",deadline:this.get(this.parentTask,"deadline")?this.$dayjs(this.parentTask.deadline).subtract(1,"days"):this.todaysDate+"T17:30",start:"",finish:"",project:null,recurring:null}},removeResponsiblePerson:function(t,e){t.read_only&&this.previousObservers.unshift(t),this.previousResponsiblePersons.splice(e,1)},removeCoreTask:function(t,e){var a=this.deepCopy(this.responsiblePersonsObject[e]),s=this.deepCopy(t).core_tasks.map((function(t){return t.id}));a.core_tasks||(a.core_tasks=[]),a.core_tasks=a.core_tasks.filter((function(t){return!s.includes(t)})),this.$set(this.responsiblePersonsObject,e,a)},getDeadline:function(t){return t?"true"===this.useNepaliDate&&this.$dayjs(t).diff(this.$dayjs(),"year")<50?this.ad2bs(t):this.$dayjs(t).format("YYYY-MM-DD"):"N/A"}})},T=w,S=a("2877"),O=a("6544"),V=a.n(O),j=a("8212"),A=a("8336"),P=a("a609"),R=a("ac7c"),I=a("62ad"),L=a("a523"),$=a("ce7e"),B=a("553a"),E=a("4bd4"),N=a("ce87"),F=a("132d"),U=a("adda"),M=a("0fd9b"),Y=a("2fa4"),q=a("b73d"),z=a("8654"),H=a("3a2f"),W=Object(S["a"])(T,s,i,!1,null,null,null);e["a"]=W.exports;V()(W,{VAvatar:j["a"],VBtn:A["a"],VBtnToggle:P["a"],VCheckbox:R["a"],VCol:I["a"],VContainer:L["a"],VDivider:$["a"],VFooter:B["a"],VForm:E["a"],VHover:N["a"],VIcon:F["a"],VImg:U["a"],VRow:M["a"],VSpacer:Y["a"],VSwitch:q["a"],VTextField:z["a"],VTooltip:H["a"]})},"1f09":function(t,e,a){},"2a18":function(t,e,a){"use strict";a("99af");e["a"]={completeCheckList:function(t,e){return"/task/".concat(t,"/checklists/").concat(e,"/check/")},getCheckList:function(t){return"/task/".concat(t,"/checklists/")},postCheckList:function(t){return"/task/".concat(t,"/checklists/")},putCheckList:function(t,e){return"/task/".concat(t,"/checklists/").concat(e,"/")},deleteCheckList:function(t,e){return"/task/".concat(t,"/checklists/").concat(e,"/")}}},"2ab5":function(t,e,a){"use strict";a("9d1c")},"2bc5":function(t,e,a){"use strict";var s=a("5530"),i=(a("a15b"),a("abd3"),a("ade3")),n=a("1c87"),r=a("58df"),o=Object(r["a"])(n["a"]).extend({name:"v-breadcrumbs-item",props:{activeClass:{type:String,default:"v-breadcrumbs__item--disabled"},ripple:{type:[Boolean,Object],default:!1}},computed:{classes:function(){return Object(i["a"])({"v-breadcrumbs__item":!0},this.activeClass,this.disabled)}},render:function(t){var e=this.generateRouteLink(),a=e.tag,i=e.data;return t("li",[t(a,Object(s["a"])(Object(s["a"])({},i),{},{attrs:Object(s["a"])(Object(s["a"])({},i.attrs),{},{"aria-current":this.isActive&&this.isLink?"page":void 0})}),this.$slots.default)])}}),l=a("80d2"),c=Object(l["i"])("v-breadcrumbs__divider","li"),u=a("7560");e["a"]=Object(r["a"])(u["a"]).extend({name:"v-breadcrumbs",props:{divider:{type:String,default:"/"},items:{type:Array,default:function(){return[]}},large:Boolean},computed:{classes:function(){return Object(s["a"])({"v-breadcrumbs--large":this.large},this.themeClasses)}},methods:{genDivider:function(){return this.$createElement(c,this.$slots.divider?this.$slots.divider:this.divider)},genItems:function(){for(var t=[],e=!!this.$scopedSlots.item,a=[],s=0;s<this.items.length;s++){var i=this.items[s];a.push(i.text),e?t.push(this.$scopedSlots.item({item:i})):t.push(this.$createElement(o,{key:a.join("."),props:i},[i.text])),s<this.items.length-1&&t.push(this.genDivider())}return t}},render:function(t){var e=this.$slots.default||this.genItems();return t("ul",{staticClass:"v-breadcrumbs",class:this.classes},e)}})},3129:function(t,e,a){"use strict";var s=a("3835"),i=a("5530"),n=(a("ac1f"),a("1276"),a("d81d"),a("a630"),a("3ca3"),a("5319"),a("1f09"),a("c995")),r=a("24b2"),o=a("7560"),l=a("58df"),c=a("80d2");e["a"]=Object(l["a"])(n["a"],r["a"],o["a"]).extend({name:"VSkeletonLoader",props:{boilerplate:Boolean,loading:Boolean,tile:Boolean,transition:String,type:String,types:{type:Object,default:function(){return{}}}},computed:{attrs:function(){return this.isLoading?this.boilerplate?{}:Object(i["a"])({"aria-busy":!0,"aria-live":"polite",role:"alert"},this.$attrs):this.$attrs},classes:function(){return Object(i["a"])(Object(i["a"])({"v-skeleton-loader--boilerplate":this.boilerplate,"v-skeleton-loader--is-loading":this.isLoading,"v-skeleton-loader--tile":this.tile},this.themeClasses),this.elevationClasses)},isLoading:function(){return!("default"in this.$scopedSlots)||this.loading},rootTypes:function(){return Object(i["a"])({actions:"button@2",article:"heading, paragraph",avatar:"avatar",button:"button",card:"image, card-heading","card-avatar":"image, list-item-avatar","card-heading":"heading",chip:"chip","date-picker":"list-item, card-heading, divider, date-picker-options, date-picker-days, actions","date-picker-options":"text, avatar@2","date-picker-days":"avatar@28",heading:"heading",image:"image","list-item":"text","list-item-avatar":"avatar, text","list-item-two-line":"sentences","list-item-avatar-two-line":"avatar, sentences","list-item-three-line":"paragraph","list-item-avatar-three-line":"avatar, paragraph",paragraph:"text@3",sentences:"text@2",table:"table-heading, table-thead, table-tbody, table-tfoot","table-heading":"heading, text","table-thead":"heading@6","table-tbody":"table-row-divider@6","table-row-divider":"table-row, divider","table-row":"table-cell@6","table-cell":"text","table-tfoot":"text@2, avatar@2",text:"text"},this.types)}},methods:{genBone:function(t,e){return this.$createElement("div",{staticClass:"v-skeleton-loader__".concat(t," v-skeleton-loader__bone")},e)},genBones:function(t){var e=this,a=t.split("@"),i=Object(s["a"])(a,2),n=i[0],r=i[1],o=function(){return e.genStructure(n)};return Array.from({length:r}).map(o)},genStructure:function(t){var e=[];t=t||this.type||"";var a=this.rootTypes[t]||"";if(t===a);else{if(t.indexOf(",")>-1)return this.mapBones(t);if(t.indexOf("@")>-1)return this.genBones(t);a.indexOf(",")>-1?e=this.mapBones(a):a.indexOf("@")>-1?e=this.genBones(a):a&&e.push(this.genStructure(a))}return[this.genBone(t,e)]},genSkeleton:function(){var t=[];return this.isLoading?t.push(this.genStructure()):t.push(Object(c["s"])(this)),this.transition?this.$createElement("transition",{props:{name:this.transition},on:{afterEnter:this.resetStyles,beforeEnter:this.onBeforeEnter,beforeLeave:this.onBeforeLeave,leaveCancelled:this.resetStyles}},t):t},mapBones:function(t){return t.replace(/\s/g,"").split(",").map(this.genStructure)},onBeforeEnter:function(t){this.resetStyles(t),this.isLoading&&(t._initialStyle={display:t.style.display,transition:t.style.transition},t.style.setProperty("transition","none","important"))},onBeforeLeave:function(t){t.style.setProperty("display","none","important")},resetStyles:function(t){t._initialStyle&&(t.style.display=t._initialStyle.display||"",t.style.transition=t._initialStyle.transition,delete t._initialStyle)}},render:function(t){return t("div",{staticClass:"v-skeleton-loader",attrs:this.attrs,on:this.$listeners,class:this.classes,style:this.isLoading?this.measurableStyles:void 0},[this.genSkeleton()])}})},3860:function(t,e,a){"use strict";var s=a("604c");e["a"]=s["a"].extend({name:"button-group",provide:function(){return{btnToggle:this}},computed:{classes:function(){return s["a"].options.computed.classes.call(this)}},methods:{genData:s["a"].options.methods.genData}})},"553a":function(t,e,a){"use strict";var s=a("5530"),i=(a("a9e3"),a("c7cd"),a("b5b6"),a("8dd9")),n=a("3a66"),r=a("d10f"),o=a("58df"),l=a("80d2");e["a"]=Object(o["a"])(i["a"],Object(n["a"])("footer",["height","inset"]),r["a"]).extend({name:"v-footer",props:{height:{default:"auto",type:[Number,String]},inset:Boolean,padless:Boolean,tag:{type:String,default:"footer"}},computed:{applicationProperty:function(){return this.inset?"insetFooter":"footer"},classes:function(){return Object(s["a"])(Object(s["a"])({},i["a"].options.computed.classes.call(this)),{},{"v-footer--absolute":this.absolute,"v-footer--fixed":!this.absolute&&(this.app||this.fixed),"v-footer--padless":this.padless,"v-footer--inset":this.inset})},computedBottom:function(){if(this.isPositioned)return this.app?this.$vuetify.application.bottom:0},computedLeft:function(){if(this.isPositioned)return this.app&&this.inset?this.$vuetify.application.left:0},computedRight:function(){if(this.isPositioned)return this.app&&this.inset?this.$vuetify.application.right:0},isPositioned:function(){return Boolean(this.absolute||this.fixed||this.app)},styles:function(){var t=parseInt(this.height);return Object(s["a"])(Object(s["a"])({},i["a"].options.computed.styles.call(this)),{},{height:isNaN(t)?t:Object(l["g"])(t),left:Object(l["g"])(this.computedLeft),right:Object(l["g"])(this.computedRight),bottom:Object(l["g"])(this.computedBottom)})}},methods:{updateApplication:function(){var t=parseInt(this.height);return isNaN(t)?this.$el?this.$el.clientHeight:0:t}},render:function(t){var e=this.setBackgroundColor(this.color,{staticClass:"v-footer",class:this.classes,style:this.styles});return t(this.tag,e,this.$slots.default)}})},5660:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex space-between"},[a("v-autocomplete",{key:t.componentKey,ref:"autoComplete",class:t.appliedClass,attrs:{id:t.id,items:t.itemsSorted,"search-input":t.search,loading:t.isLoading,multiple:t.multiple,label:t.label,error:t.errorMessages.length>0,"error-messages":t.errorMessages,disabled:t.disabled,readonly:t.readonly,"data-cy":"autocomplete-"+t.dataCyVariable,"prepend-inner-icon":t.prependInnerIcon,clearable:t.clearable&&!t.readonly,"hide-details":t.hideDetails,"item-text":t.itemText,"item-value":t.itemValue,"small-chips":t.multiple||t.chips,"deletable-chips":t.multiple,hint:t.hint,"persistent-hint":t.persistentHint,chips:t.chips,solo:t.solo,flat:t.flat,"cache-items":t.cacheItems,placeholder:t.placeholder,dense:t.dense,"hide-selected":"","hide-no-data":""},on:{"update:searchInput":function(e){t.search=e},"update:search-input":function(e){t.search=e},focus:t.populateOnFocus,keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.searchText())},change:t.updateState,blur:function(e){return t.$emit("blur")}},scopedSlots:t._u([{key:"selection",fn:function(e){return[t._t("selection",(function(){return[t.itemText&&e.item?a("div",[t.multiple||t.chips?a("v-chip",{attrs:{close:(t.clearable||!t.clearable&&!t.multiple)&&!t.readonly,small:""},on:{"click:close":function(a){return t.remove(e.item)}}},[e.item[t.itemText]?a("div",[e.item[t.itemText].length>40?a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(s){var i=s.on;return[a("span",t._g({},i),[t._v(" "+t._s(t._f("truncate")(e.item[t.itemText],40)))])]}}],null,!0)},[a("span",[t._v(t._s(e.item[t.itemText]))])]):a("span",[t._v(t._s(e.item[t.itemText]))])],1):a("div",[a("span",[t._v(t._s(e.item))])])]):a("div",[e.item[t.itemText]?a("div",[e.item[t.itemText].length>40?a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(s){var i=s.on;return[a("span",t._g({},i),[t._v(" "+t._s(t._f("truncate")(e.item[t.itemText],40)))])]}}],null,!0)},[a("span",[t._v(t._s(e.item[t.itemText]))])]):a("span",[t._v(t._s(e.item[t.itemText]))])],1):a("div",[a("span",[t._v(t._s(e.item))])])])],1):t._e()]}),{props:e})]}},{key:"item",fn:function(e){return[a("v-list-item-content",[a("v-list-item-title",[t._t("item",(function(){return[t.itemText&&e.item?a("div",[e.item[t.itemText]?a("div",[e.item[t.itemText].length>40?a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(s){var i=s.on;return[a("span",t._g({},i),[t._v(" "+t._s(t._f("truncate")(e.item[t.itemText],40)))])]}}],null,!0)},[a("span",[t._v(t._s(e.item[t.itemText]))])]):a("span",[t._v(t._s(e.item[t.itemText]))])],1):a("div",[a("span",[t._v(t._s(e.item))])])]):t._e()]}),{props:e})],2)],1)]}},{key:"append-item",fn:function(){return[!t.fullyLoaded&&t.showMoreIcon?a("div",[a("v-list-item-content",{staticClass:"px-4 pointer primary--text font-weight-bold"},[a("v-list-item-title",{on:{click:function(e){return t.fetchData()}}},[t._v(" Load More Items ... ")])],1)],1):t._e()]},proxy:!0}],null,!0),model:{value:t.selectedData,callback:function(e){t.selectedData=e},expression:"selectedData"}}),t._t("default")],2)},i=[],n=a("2909"),r=a("5530"),o=a("53ca"),l=a("1da1"),c=(a("96cf"),a("a9e3"),a("ac1f"),a("841c"),a("7db0"),a("d81d"),a("159b"),a("4de4"),a("4e827"),a("2ca0"),a("d3b7"),a("c740"),a("a434"),a("3ca3"),a("ddb0"),a("2b3d"),a("caad"),a("2532"),a("63ea")),u=a.n(c),d={props:{value:{type:[Number,String,Array,Object],default:void 0},id:{type:String,default:""},dataCyVariable:{type:String,default:""},endpoint:{type:String,default:""},itemText:{type:String,required:!0},itemValue:{type:String,required:!0},params:{type:Object,required:!1,default:function(){return{}}},itemsToExclude:{type:[Array,Number],default:null},forceFetch:{type:Boolean,default:!1},staticItems:{type:Array,default:function(){return[]}},errorMessages:{type:[String,Array],default:function(){return[]}},label:{type:String,default:""},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},hint:{type:String,default:void 0},persistentHint:{type:Boolean,required:!1,default:!1},multiple:{type:Boolean,required:!1,default:!1},clearable:{type:Boolean,default:!0},hideDetails:{type:Boolean,default:!1},solo:{type:Boolean,default:!1},flat:{type:Boolean,default:!1},chips:{type:Boolean,default:!1},prependInnerIcon:{type:String,default:void 0},cacheItems:{type:Boolean,default:!1},appliedClass:{type:String,default:""},placeholder:{type:String,default:""},dense:{type:Boolean,default:!1}},data:function(){return{componentKey:0,items:[],selectedData:null,search:null,initialFetchStarted:!1,nextLimit:null,nextOffset:null,showMoreIcon:!1,fullyLoaded:!1,isLoading:!1}},computed:{itemsSorted:function(){return this.sortBySearch(this.items,this.search?this.search.toLowerCase():"")}},watch:{value:{handler:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(e){var a,s,i,n,r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e){t.next=10;break}if(!this.forceFetch||this.initialFetchStarted){t.next=6;break}return this.initialFetchStarted=!0,t.next=5,this.fetchData();case 5:this.removeDuplicateItem();case 6:Array.isArray(e)?(i=[],"object"===Object(o["a"])(e[0])?(this.selectedData=e.map((function(t){return t[r.itemValue]})),e.forEach((function(t){var e=r.items.find((function(e){return e===t}));e||i.push(t)}))):(e.forEach((function(t){var e=r.items.find((function(e){return e[r.itemValue]===t}));e||i.push(t)})),this.selectedData=e),i.length>0&&(n=this.items).push.apply(n,i)):"object"===Object(o["a"])(e)?(this.selectedData=e[this.itemValue],a=this.items.find((function(t){return t[r.itemValue]===e})),a||this.items.push(e)):(this.selectedData=e,s=this.items.find((function(t){return t===e})),s||this.items.push(e)),this.updateData(this.selectedData),t.next=11;break;case 10:e||(this.selectedData=null);case 11:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),immediate:!0},selectedData:function(t){this.updateData(t)},params:{handler:function(t,e){u()(t,e)||(this.fullyLoaded=!1,this.initialFetchStarted=!1,this.items=[],this.componentKey+=1)},deep:!0}},methods:{sortBySearch:function(t,e){var a=this.itemText,s=t.filter((function(t){return"object"===Object(o["a"])(t)}));return s.sort((function(t,s){return t[a].toLowerCase().startsWith(e)&&s[a].toLowerCase().startsWith(e)?t[a].toLowerCase().localeCompare(s[a].toLowerCase()):t[a].toLowerCase().startsWith(e)?-1:s[a].toLowerCase().startsWith(e)?1:t[a].toLowerCase().localeCompare(s[a].toLowerCase())}))},populateOnFocus:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.initialFetchStarted){e.next=2;break}return e.abrupt("return");case 2:return t.initialFetchStarted=!0,e.next=5,t.fetchData();case 5:t.removeDuplicateItem();case 6:case"end":return e.stop()}}),e)})))()},fetchData:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(t.staticItems.length>0)){e.next=3;break}return t.items=t.staticItems,e.abrupt("return");case 3:return a=t.nextLimit,s=t.nextOffset,t.search&&(a=null,s=null),t.isLoading=!0,e.next=9,t.$http.get(t.endpoint,{params:Object(r["a"])(Object(r["a"])({},t.params),{},{search:t.search,limit:a,offset:s})}).then((function(e){var a;e.results||(e.results=e),e.next?(t.showMoreIcon=!0,t.extractLimitOffset(e.next)):(t.showMoreIcon=!1,t.search||(t.fullyLoaded=!0)),t.itemsToExclude&&(e.results=t.excludeRecord(e.results)),(a=t.items).push.apply(a,Object(n["a"])(e.results))})).finally((function(){t.isLoading=!1}));case 9:case"end":return e.stop()}}),e)})))()},removeDuplicateItem:function(){var t=this,e=this.items.indexOf(this.selectedData);if(e>=0){var a=this.items.findIndex((function(e){return e[t.itemValue]===t.selectedData}));a>=0&&(this.items.splice(e,1),this.componentKey+=1)}},updateData:function(t){var e=this,a=[];t instanceof Array?t.forEach((function(t){a.unshift(e.items.find((function(a){return a[e.itemValue]===t})))})):a=this.items.find((function(a){return a[e.itemValue]===t})),this.$emit("input",t),this.$emit("update:selectedFullData",a)},searchText:function(){0!==this.$refs.autoComplete.filteredItems.length||this.fullyLoaded||this.fetchData()},extractLimitOffset:function(t){var e=new URL(t);this.nextLimit=e.searchParams.get("limit"),this.nextOffset=e.searchParams.get("offset")},excludeRecord:function(t){var e=this,a=[];return"number"===typeof this.itemsToExclude?a.push(this.itemsToExclude):a=this.itemsToExclude,t.filter((function(t){if(t[e.itemValue])return!a.includes(t[e.itemValue])}))},remove:function(t){if(this.selectedData instanceof Object){var e=this.selectedData.indexOf(t[this.itemValue]);e>=0&&this.selectedData.splice(e,1)}else this.selectedData=null},updateState:function(){this.search="",this.nextLimit&&(this.showMoreIcon=!0)}}},h=d,p=a("2877"),m=a("6544"),f=a.n(m),v=a("c6a6"),g=a("cc20"),y=a("5d23"),k=a("3a2f"),b=Object(p["a"])(h,s,i,!1,null,null,null);e["default"]=b.exports;f()(b,{VAutocomplete:v["a"],VChip:g["a"],VListItemContent:y["a"],VListItemTitle:y["c"],VTooltip:k["a"]})},"623f":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("vue-card-title",{attrs:{title:"Task Overall Activities",subtitle:"History on Task Information.",icon:"mdi-calendar-month-outline"}}),a("v-divider"),a("v-card-text",{staticClass:"ma-0 pa-0 scrollbar-sm",staticStyle:{"max-height":"290px"}},[t.loading?a("div",t._l(2,(function(t){return a("facebook-loader",{key:t,attrs:{"primary-color":"#eee","secondary-color":"#d5d5d7"}})})),1):t._e(),0===t.taskHistory.length||t.loading?t._e():a("div",[a("v-list",{staticClass:"py-0"},[t._l(t.taskHistory,(function(e,s){return[a("v-list-item",{key:s,class:s%2===0?"grey lighten-5":"white"},[a("v-list-item-avatar",[a("v-avatar",{attrs:{size:35}},[a("v-img",{attrs:{src:e.created_by.profile_picture,contain:""}})],1)],1),a("v-list-item-content",[a("div",[a("strong",{staticClass:"primary--text d-block"},[t._v(" "+t._s(e.created_by.full_name))]),a("div",{staticClass:"my-1 text-body-2"},[t._v(t._s(e.description))]),a("div",{staticClass:"grey--text text-caption",domProps:{textContent:t._s(t.humanizeTime(e.created_at)+" ago")}})])])],1),s<t.taskHistory.length-1?a("v-divider",{key:"D-"+s}):t._e()]}))],2)],1),a("infinite-loading-base",{attrs:{endpoint:t.userEndpoint},on:{setInfiniteResponse:t.setInfiniteResponse}})],1)],1)},i=[],n=(a("a9e3"),a("99af"),a("e330")),r=a("cdd1"),o=a("f8a4"),l={components:{FacebookLoader:n["c"],InfiniteLoadingBase:r["a"]},props:{taskId:{type:[Number,String],required:!0}},data:function(){return{taskHistory:[],userEndpoint:"",loading:!0}},created:function(){this.userEndpoint=o["a"].getTaskHistoryById(this.taskId)},methods:{setInfiniteResponse:function(t){this.taskHistory=this.taskHistory.concat(t.results),this.loading=!1}}},c=l,u=(a("6eff"),a("2877")),d=a("6544"),h=a.n(d),p=a("8212"),m=a("b0af"),f=a("99d9"),v=a("ce7e"),g=a("adda"),y=a("8860"),k=a("da13"),b=a("8270"),_=a("5d23"),x=Object(u["a"])(c,s,i,!1,null,"50240dd0",null);e["a"]=x.exports;h()(x,{VAvatar:p["a"],VCard:m["a"],VCardText:f["c"],VDivider:v["a"],VImg:g["a"],VList:y["a"],VListItem:k["a"],VListItemAvatar:b["a"],VListItemContent:_["a"]})},6593:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mb-10"},[a("v-switch",{attrs:{"data-cy":"switch-repeat",label:t.label,disabled:t.disabled},on:{change:function(e){return t.resetRRule()}},model:{value:t.repeat,callback:function(e){t.repeat=e},expression:"repeat"}}),a("v-slide-y-transition",[t.repeat?a("div",[a("div",{domProps:{textContent:t._s(t.label)}}),a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"12"}},[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",[a("v-select",{attrs:{"data-cy":"select-frequency",items:t.repeatFrequency.choices,label:"Frequency","prepend-inner-icon":"mdi-repeat"},on:{input:t.calculateRRule},model:{value:t.repeatFrequency.name,callback:function(e){t.$set(t.repeatFrequency,"name",e)},expression:"repeatFrequency.name"}})],1),"Monthly"===t.repeatFrequency.name?a("v-col",{staticClass:"d-flex"},[a("v-text-field",{attrs:{type:"number","data-cy":"input-monthly-interval",prefix:"Every",suffix:"month(s)"},on:{change:t.calculateRRule},model:{value:t.monthly.interval,callback:function(e){t.$set(t.monthly,"interval",e)},expression:"monthly.interval"}})],1):t._e(),"Weekly"===t.repeatFrequency.name?a("v-col",[a("v-text-field",{attrs:{"data-cy":"input-weekly-interval",type:"number",prefix:"Every",suffix:"week(s)"},on:{change:t.calculateRRule},model:{value:t.weekly.interval,callback:function(e){t.$set(t.weekly,"interval",e)},expression:"weekly.interval"}})],1):t._e(),"Daily"===t.repeatFrequency.name?a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{type:"number","data-cy":"input-daily-interval",prefix:"Every",suffix:"day(s)","prepend-inner-icon":"mdi-repeat"},on:{change:t.calculateRRule},model:{value:t.daily.interval,callback:function(e){t.$set(t.daily,"interval",e)},expression:"daily.interval"}})],1):t._e()],1)],1),"Yearly"===t.repeatFrequency.name?a("v-col",[a("v-row",{attrs:{align:"center","no-gutters":""}},[a("v-col",[a("v-select",{attrs:{items:["On","On The"],"data-cy":"select-repeat-rule",label:"Repeat Rule","prepend-inner-icon":"mdi-repeat"},on:{input:t.calculateRRule},model:{value:t.yearly.type,callback:function(e){t.$set(t.yearly,"type",e)},expression:"yearly.type"}})],1),"On"===t.yearly.type?a("v-col",[a("v-select",{attrs:{items:t.months,"data-cy":"select-month","item-text":"text","item-value":"value",label:"Month","prepend-inner-icon":"mdi-repeat"},on:{input:t.calculateRRule},model:{value:t.yearly.on.month,callback:function(e){t.$set(t.yearly.on,"month",e)},expression:"yearly.on.month"}})],1):t._e(),"On"===t.yearly.type?a("v-col",[a("v-select",{attrs:{"data-cy":"select-day",items:t.days,label:"Day","prepend-inner-icon":"mdi-repeat"},on:{input:t.calculateRRule},model:{value:t.yearly.on.day,callback:function(e){t.$set(t.yearly.on,"day",e)},expression:"yearly.on.day"}})],1):t._e(),"On The"===t.yearly.type?a("v-col",[a("v-select",{attrs:{"data-cy":"select-week-type",items:t.weekTypeChoices,"item-text":"text","item-value":"value",label:"Week Type","prepend-inner-icon":"mdi-repeat"},on:{input:t.calculateRRule},model:{value:t.yearly.onThe.weekType,callback:function(e){t.$set(t.yearly.onThe,"weekType",e)},expression:"yearly.onThe.weekType"}})],1):t._e(),"On The"===t.yearly.type?a("v-col",[a("v-select",{attrs:{"data-cy":"select-week",items:t.weeks,"item-text":"text","item-value":"value",label:"Week","prepend-inner-icon":"mdi-repeat"},on:{input:t.calculateRRule},model:{value:t.yearly.onThe.week,callback:function(e){t.$set(t.yearly.onThe,"week",e)},expression:"yearly.onThe.week"}})],1):t._e(),"On The"===t.yearly.type?a("v-col",[a("v-select",{attrs:{"data-cy":"select-yearly-on-month",items:t.months,prefix:"Of","item-text":"text","item-value":"value",label:"Month","prepend-inner-icon":"mdi-repeat"},on:{input:t.calculateRRule},model:{value:t.yearly.onThe.month,callback:function(e){t.$set(t.yearly.onThe,"month",e)},expression:"yearly.onThe.month"}})],1):t._e()],1)],1):t._e(),"Monthly"===t.repeatFrequency.name?a("v-col",[a("v-row",{attrs:{align:"center","no-gutters":""}},[a("v-col",[a("v-select",{attrs:{"data-cy":"select-monthly-type",items:["On","On The"],label:"Repeat Rule","prepend-inner-icon":"mdi-repeat"},on:{input:t.calculateRRule},model:{value:t.monthly.type,callback:function(e){t.$set(t.monthly,"type",e)},expression:"monthly.type"}})],1),"On"===t.monthly.type?a("v-col",[a("v-select",{attrs:{"data-cy":"select-monthly-on-day",items:t.days,label:"Day","prepend-inner-icon":"mdi-repeat"},on:{input:t.calculateRRule},model:{value:t.monthly.on.day,callback:function(e){t.$set(t.monthly.on,"day",e)},expression:"monthly.on.day"}})],1):t._e(),"On The"===t.monthly.type?a("v-col",[a("v-select",{attrs:{"data-cy":"select-monthly-on-week-type",items:t.weekTypeChoices,"item-text":"text","item-value":"value",label:"Week Type","prepend-inner-icon":"mdi-repeat"},on:{input:t.calculateRRule},model:{value:t.monthly.onThe.weekType,callback:function(e){t.$set(t.monthly.onThe,"weekType",e)},expression:"monthly.onThe.weekType"}})],1):t._e(),"On The"===t.monthly.type?a("v-col",[a("v-select",{attrs:{"data-cy":"select-monthly-on-week",items:t.weeks,"item-text":"text","item-value":"value",label:"Week","prepend-inner-icon":"mdi-repeat"},on:{input:t.calculateRRule},model:{value:t.monthly.onThe.week,callback:function(e){t.$set(t.monthly.onThe,"week",e)},expression:"monthly.onThe.week"}})],1):t._e()],1)],1):t._e(),"Weekly"===t.repeatFrequency.name?a("v-col",[a("v-btn-toggle",{attrs:{multiple:"","data-cy":"btn-week"},on:{change:t.calculateRRule},model:{value:t.weekly.days,callback:function(e){t.$set(t.weekly,"days",e)},expression:"weekly.days"}},t._l(t.weeks,(function(e){return a("v-btn",{key:e.text,attrs:{value:e.value,text:"",small:""}},[t._v(" "+t._s(e.text)+" ")])})),1)],1):t._e(),a("v-col",{attrs:{cols:"12"}},[a("v-row",{attrs:{align:"center","no-gutters":""}},[a("v-col",[a("v-select",{attrs:{"data-cy":"select-end-type",items:t.endTypeChoices,label:"End","prepend-inner-icon":"mdi-repeat"},on:{input:t.calculateRRule},model:{value:t.end.type,callback:function(e){t.$set(t.end,"type",e)},expression:"end.type"}})],1),"On Date"===t.end.type?a("v-col",[a("vue-date-picker",{attrs:{clearable:!1,"data-cy-variable":"on-date",label:"End Date"},on:{input:t.calculateRRule},model:{value:t.end.date,callback:function(e){t.$set(t.end,"date",e)},expression:"end.date"}})],1):"After"===t.end.type?a("v-col",[a("v-text-field",{attrs:{"data-cy":"input-total-repetition",type:"number",suffix:"Repeat Sessions",label:"Total Repetition"},on:{input:t.calculateRRule},model:{value:t.end.after,callback:function(e){t.$set(t.end,"after",e)},expression:"end.after"}})],1):t._e()],1)],1)],1)],1):t._e()])],1)},i=[],n=(a("38cf"),a("b0c0"),a("caad"),a("2532"),a("a15b"),a("ac1f"),a("1276"),a("741f")),r={components:{VueDatePicker:n["default"]},props:{value:{type:String,default:""},label:{type:String,default:"Repeat"},disabled:{type:Boolean,default:!1}},data:function(){return this.initialData()},created:function(){this.decodeRRule()},methods:{initialData:function(){return{repeat:!1,rRule:this.value,repeatFrequency:{name:"Yearly",choices:["Yearly","Monthly","Weekly","Daily"]},weeks:[{text:"Sunday",value:"SU"},{text:"Monday",value:"MO"},{text:"Tuesday",value:"TU"},{text:"Wednesday",value:"WE"},{text:"Thursday",value:"TH"},{text:"Friday",value:"FR"},{text:"Saturday",value:"SA"}],months:[{text:"Jan",value:1},{text:"Feb",value:2},{text:"Mar",value:3},{text:"Apr",value:4},{text:"May",value:5},{text:"Jun",value:6},{text:"Jul",value:7},{text:"Aug",value:8},{text:"Sep",value:9},{text:"Oct",value:10},{text:"Nov",value:11},{text:"Dec",value:12}],days:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],weekTypeChoices:[{text:"First",value:1},{text:"Second",value:2},{text:"Third",value:3},{text:"Fourth",value:4},{text:"Last",value:5}],endTypeChoices:["On Date","After"],yearly:{type:"On",on:{month:1,day:1},onThe:{weekType:1,week:"SU",month:1}},monthly:{interval:1,type:"On",on:{day:1},onThe:{weekType:1,week:"SU"}},weekly:{interval:1,days:["SU"]},daily:{interval:1},end:{type:"On Date",date:this.$dayjs().format("YYYY-MM-DD"),after:1}}},resetRRule:function(){this.repeatFrequency=this.initialData().repeatFrequency,this.yearly=this.initialData().yearly,this.end=this.initialData().end,this.repeat?this.calculateRRule():this.rRule="",this.$emit("input",this.rRule)},calculateRRule:function(){this.rule=[];var t=this.repeatFrequency.name;"Yearly"===t?this.calculateYearlyRule():"Monthly"===t?this.calculateMonthlyRule():"Weekly"===t?this.calculateWeeklyRule():"Daily"===t&&this.calculateDailyRule()},decodeRRule:function(){if(this.repeat=!!this.rRule,this.rRule){var t=this.rRule;t.includes("FREQ=YEARLY")?this.decodeYearlyRule():t.includes("FREQ=MONTHLY")?this.decodeMonthlyRule():t.includes("FREQ=WEEKLY")?this.decodeWeeklyRule():t.includes("FREQ=DAILY")&&this.decodeDailyRule()}},calculateYearlyRule:function(){var t=["FREQ=YEARLY"];"On Date"===this.end.type?t.push("UNTIL="+this.end.date):"After"===this.end.type&&t.push("COUNT="+this.end.after),"On"===this.yearly.type?(t.push("BYMONTH="+this.yearly.on.month),t.push("BYMONTHDAY="+this.yearly.on.day)):(t.push("BYSETPOS="+this.yearly.onThe.weekType),t.push("BYDAY="+this.yearly.onThe.week),t.push("BYMONTH="+this.yearly.onThe.month)),this.rRule=t.join(";"),this.$emit("input",this.rRule)},calculateMonthlyRule:function(){var t=["FREQ=MONTHLY","INTERVAL="+this.monthly.interval];"On Date"===this.end.type?t.push("UNTIL="+this.end.date):"After"===this.end.type&&t.push("COUNT="+this.end.after),"On"===this.monthly.type?t.push("BYMONTHDAY="+this.monthly.on.day):(t.push("BYSETPOS="+this.monthly.onThe.weekType),t.push("BYDAY="+this.monthly.onThe.week)),this.rRule=t.join(";"),this.$emit("input",this.rRule)},calculateWeeklyRule:function(){var t=["FREQ=WEEKLY","INTERVAL="+this.weekly.interval];"On Date"===this.end.type?t.push("UNTIL="+this.end.date):"After"===this.end.type&&t.push("COUNT="+this.end.after),t.push("BYDAY="+this.weekly.days.join(",")),this.rRule=t.join(";"),this.$emit("input",this.rRule)},calculateDailyRule:function(){var t=["FREQ=DAILY","INTERVAL="+this.daily.interval];"On Date"===this.end.type?t.push("UNTIL="+this.end.date):"After"===this.end.type&&t.push("COUNT="+this.end.after),this.rRule=t.join(";"),this.$emit("input",this.rRule)},decodeYearlyRule:function(){var t=this.rRule;this.repeatFrequency.name="Yearly",t.includes("UNTIL")?(this.end.type="On Date",this.end.date=t.split("UNTIL=")[1].split(";")[0]):t.includes("COUNT")?(this.end.type="After",this.end.after=t.split("COUNT=")[1].split(";")[0]):this.end.type="Never",t.includes("BYMONTH")&&t.includes("BYMONTHDAY")?(this.yearly.type="On",this.yearly.on.month=parseInt(t.split("BYMONTH=")[1].split(";")[0]),this.yearly.on.day=parseInt(t.split("BYMONTHDAY=")[1].split(";")[0])):(this.yearly.type="On The",this.yearly.onThe.weekType=parseInt(t.split("BYSETPOS=")[1].split(";")[0]),this.yearly.onThe.week=t.split("BYDAY=")[1].split(";")[0],this.yearly.onThe.month=parseInt(t.split("BYMONTH=")[1].split(";")[0]))},decodeMonthlyRule:function(){var t=this.rRule;this.repeatFrequency.name="Monthly",this.monthly.interval=parseInt(t.split("INTERVAL=")[1].split(";")[0]),t.includes("UNTIL")?(this.end.type="On Date",this.end.date=t.split("UNTIL=")[1].split(";")[0]):t.includes("COUNT")?(this.end.type="After",this.end.after=t.split("COUNT=")[1].split(";")[0]):this.end.type="Never",t.includes("BYMONTHDAY")?(this.monthly.type="On",this.monthly.on.day=parseInt(t.split("BYMONTHDAY=")[1].split(";")[0])):(this.monthly.type="On The",this.monthly.onThe.weekType=parseInt(t.split("BYSETPOS=")[1].split(";")[0]),this.monthly.onThe.week=t.split("BYDAY=")[1].split(";")[0])},decodeWeeklyRule:function(){var t=this.rRule;this.repeatFrequency.name="Weekly",this.weekly.interval=parseInt(t.split("INTERVAL=")[1].split(";")[0]),t.includes("UNTIL")?(this.end.type="On Date",this.end.date=t.split("UNTIL=")[1].split(";")[0]):t.includes("COUNT")?(this.end.type="After",this.end.after=t.split("COUNT=")[1].split(";")[0]):this.end.type="Never",this.weekly.days=t.split("BYDAY=")[1].split(";")[0].split(",")},decodeDailyRule:function(){var t=this.rRule;this.repeatFrequency.name="Daily",this.daily.interval=parseInt(t.split("INTERVAL=")[1].split(";")[0]),t.includes("UNTIL")?(this.end.type="On Date",this.end.date=t.split("UNTIL=")[1].split(";")[0]):t.includes("COUNT")?(this.end.type="After",this.end.after=t.split("COUNT=")[1].split(";")[0]):this.end.type="Never"}}},o=r,l=a("2877"),c=a("6544"),u=a.n(c),d=a("8336"),h=a("a609"),p=a("62ad"),m=a("0fd9b"),f=a("b974"),v=a("0789"),g=a("b73d"),y=a("8654"),k=Object(l["a"])(o,s,i,!1,null,null,null);e["a"]=k.exports;u()(k,{VBtn:d["a"],VBtnToggle:h["a"],VCol:p["a"],VRow:m["a"],VSelect:f["a"],VSlideYTransition:v["g"],VSwitch:g["a"],VTextField:y["a"]})},"6df2":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-data-table",{attrs:{headers:t.headers,items:t.fetchedResults,"sort-desc":t.pagination.descending,"sort-by":t.pagination.sortBy,page:t.pagination.page,"items-per-page":t.pagination.rowsPerPage,"footer-props":t.overview||t.dashboard?{itemsPerPageOptions:[10]}:t.footerProps,"server-items-length":t.pagination.totalItems,"mobile-breakpoint":0,"must-sort":"","single-expand":""},on:{"update:sortDesc":function(e){return t.$set(t.pagination,"descending",e)},"update:sort-desc":function(e){return t.$set(t.pagination,"descending",e)},"update:sortBy":function(e){return t.$set(t.pagination,"sortBy",e)},"update:sort-by":function(e){return t.$set(t.pagination,"sortBy",e)},"update:page":function(e){return t.$set(t.pagination,"page",e)},"update:itemsPerPage":function(e){return t.$set(t.pagination,"rowsPerPage",e)},"update:items-per-page":function(e){return t.$set(t.pagination,"rowsPerPage",e)}},scopedSlots:t._u([{key:"item",fn:function(e){return[a("tr",[a("td",[a("v-tooltip",{attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function(s){var i=s.on;return[a("a",t._g({on:{click:function(a){return t.viewTaskDetails(e.item.id)}}},i),[t._v(" "+t._s(e.item.id)+": "+t._s(t._f("truncate")(e.item.title,30))+" ")])]}}],null,!0)},[a("span",{domProps:{textContent:t._s(e.item.title)}})]),e.item.parent&&e.item.can_view_parent_task?a("div",{on:{click:function(a){return t.viewTaskDetails(e.item.parent.id)}}},[a("span",{domProps:{textContent:t._s("Parent task: ")}}),a("v-tooltip",{attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function(s){var i=s.on;return[a("span",t._g({on:{click:function(a){return t.viewTaskDetails(e.item.parent.id)}}},i),[t._v(t._s(t._f("truncate")(e.item.parent.title,35,"...")))])]}}],null,!0)},[a("span",{domProps:{textContent:t._s(e.item.parent.title)}})])],1):t._e(),t.recurring?a("v-icon",{domProps:{textContent:t._s(e.expanded?"mdi-menu-up":"mdi-menu-down")},on:{click:function(t){return e.expand(!e.isExpanded)}}}):t._e()],1),a("td",[a("div",[t._v(" "+t._s(t._f("dayjs")(e.item.deadline,"YYYY-MM-DD"))+" ")]),a("div",[t._v(" "+t._s(t._f("dayjs")(e.item.deadline,"h:mm a"))+" ")])]),t.overview?t._e():a("td",[a("vue-user",{attrs:{user:e.item.created_by,size:"25"}})],1),t.overview?t._e():a("td",[a("user-thumbnails",{attrs:{users:e.item.responsible_persons.map((function(t){return t.user})),"total-users":e.item.responsible_persons.length},on:{showMore:function(a){t.responsiblePerson.data=e.item.responsible_persons,t.responsiblePerson.dialog=!0}}})],1),a("td",{staticClass:"text-center"},[a("v-chip",{attrs:{color:e.item.is_delayed?"red":t.taskStatus(e.item.status-1).color,outlined:"",small:""}},[a("span",[t._v(" "+t._s(t.taskStatus(e.item.status-1).text)+" ")])])],1),t.overview?t._e():a("td",{staticClass:"text-center"},[a("span",{class:{"red--text":"CRITICAL"===e.item.priority},domProps:{textContent:t._s(e.item.priority)}})])])]}},{key:"expanded-item",fn:function(e){var s=e.item,i=e.headers;return[a("td",{attrs:{colspan:i.length}},[a("v-card",{attrs:{flat:""}},t._l(s.recurring_task_queue,(function(e,s){return a("ul",{key:s},[e.created_task?a("li",[a("v-tooltip",{attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function(s){var i=s.on;return[a("a",t._g({on:{click:function(a){return t.viewTaskDetails(e.created_task.id)}}},i),[t._v(" "+t._s(e.created_task.id)+": "+t._s(e.created_task.title)+" ")])]}}],null,!0)},[a("span",{domProps:{textContent:t._s(e.created_task.title)}})]),a("v-col",[a("div",[t._v(" Deadline: "),a("span",[t._v(t._s(e.created_task.deadline))])]),a("div",[t._v(" Priority: "),a("span",[t._v(t._s(e.created_task.priority))])]),a("div",[t._v(" Status: "),a("span",[t._v(t._s(t.taskStatusMap[e.created_task.status-1]))])])])],1):a("li",[t._v(" A new task will be created at "+t._s(t.humanizeDate(e.timestamp))+" ")])])})),0)],1)]}}])},[a("template",{slot:"no-data"},[a("data-table-no-data",{attrs:{loading:t.loading}})],1)],2),t.responsiblePerson.dialog?a("user-list-dialog",{attrs:{users:t.responsiblePerson.data.map((function(t){return t.user}))},on:{close:function(e){t.responsiblePerson.dialog=!1}},model:{value:t.responsiblePerson.dialog,callback:function(e){t.$set(t.responsiblePerson,"dialog",e)},expression:"responsiblePerson.dialog"}}):t._e()],1)},i=[],n=(a("d3b7"),a("17cc")),r=a("cde3"),o=a("02cb"),l=a("a51f"),c=a("9815"),u={components:{DataTableNoData:l["default"],UserThumbnails:r["default"],VueUser:o["default"],UserListDialog:c["default"]},mixins:[n["a"]],props:{taskEndpoint:{type:String,required:!0},taskSearch:{type:String,required:!1,default:function(){return""}},taskSummary:{type:Object,required:!1,default:function(){return{}}},overview:{type:Boolean,default:!1},dashboard:{type:Boolean,default:!1},recurring:{type:Boolean,default:!1}},data:function(){return{loading:!1,fullHeaders:[{text:"Title",align:"left",sortable:!1},{text:"Deadline",align:"left",sortable:!0,value:"deadline"},{text:"Assigned BY",align:"left",sortable:!1},{text:"Assigned TO",align:"left",sortable:!1},{text:"Status",align:"center",sortable:!1},{text:"Priority",align:"left",sortable:!1}],taskStatusMap:["Pending","In Progress","On Hold","Completed","Closed"],overviewHeaders:[{text:"Title",align:"left",sortable:!1},{text:"Deadline",align:"left",sortable:!0,value:"deadline"},{text:"Status",align:"center",sortable:!1}],headers:[],search:"",showAllResponsiblePerson:!1,responsiblePerson:{dialog:!1,data:[]}}},watch:{taskEndpoint:function(t){t&&this.refreshDataTable(t)}},created:function(){this.headers=this.overview?this.overviewHeaders:this.fullHeaders,this.loadDataTableChange()},methods:{fetchDataTable:function(){var t=this;this.loading=!0,this.$http.get(this.taskEndpoint,{params:this.fullParams}).then((function(e){t.loadDataTable(e),t.$emit("update:taskSummary",e.summary)})).finally((function(){t.loading=!1}))},viewTaskDetails:function(t){var e=this.get(this.$route.params,"slug");this.$router.push({name:e?"admin-slug-task-id-detail":"user-task-my-id-detail",params:{id:t,slug:e||""}})},refreshDataTable:function(){this.fetchDataTable()},taskStatus:function(t){var e=[{text:"Pending",color:"amber"},{text:"In Progress",color:"blue"},{text:"On Hold",color:"pink accent-1"},{text:"Completed",color:"green"},{text:"Closed",color:"purple"}];return e[t]},humanizeDate:function(t){return this.$dayjs(t).format("YYYY-MM-DD")}}},d=u,h=(a("e076"),a("2877")),p=a("6544"),m=a.n(p),f=a("b0af"),v=a("cc20"),g=a("62ad"),y=a("8fea"),k=a("132d"),b=a("3a2f"),_=Object(h["a"])(d,s,i,!1,null,null,null);e["a"]=_.exports;m()(_,{VCard:f["a"],VChip:v["a"],VCol:g["a"],VDataTable:y["a"],VIcon:k["a"],VTooltip:b["a"]})},"6eff":function(t,e,a){"use strict";a("7ec0")},"741f":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return["true"!==t.useNepaliDate?a("v-text-field",t._g({class:t.appliedClass,attrs:{id:t.id,clearable:!t.readOnly,"data-cy":"date-picker-"+t.dataCyVariable,disabled:t.disabled,error:t.errorMessages.length>0,"error-messages":t.errorMessages,"hide-details":t.hideDetails,hint:t.hint,label:t.label,"prepend-inner-icon":t.prependInnerIcon,"single-line":t.singleLine,value:t.value,readonly:""},on:{paste:function(t){t.preventDefault()},"click:clear":function(e){return t.$emit("close")}},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},s)):a("v-text-field",t._g({class:t.appliedClass,attrs:{id:t.id,label:t.label,value:t.value,"data-cy":"date-picker-"+t.dataCyVariable,error:t.errorMessages.length>0,"error-messages":t.errorMessages,disabled:t.disabled,clearable:!t.readOnly,hint:t.hint,"hide-details":t.hideDetails,"single-line":t.singleLine,"prepend-inner-icon":t.prependInnerIcon,readonly:""},on:{paste:function(t){t.preventDefault()},"click:clear":function(e){return t.$emit("close")}},model:{value:t.nepaliDate,callback:function(e){t.nepaliDate=e},expression:"nepaliDate"}},s))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},["true"===t.showCalendarChoice?a("v-btn",{attrs:{block:"",depressed:"",tile:"",color:"shade primary--text font-weight-bold"},on:{click:function(e){t.international=!t.international}}},[t._v(" "+t._s(t.international?"NE":"EN")+" ")]):t._e(),t.readOnly||t.international?t._e():a("localized-calendar",{ref:"datePicker",attrs:{"fiscal-year":[],"localized-date":t.localizedDate},on:{"update:localizedDate":function(e){t.localizedDate=e},"update:localized-date":function(e){t.localizedDate=e},"limit-mapping":function(e){t.limitMapping=e}},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}}),!t.readOnly&&t.international?a("v-date-picker",{attrs:{type:t.type,"allowed-dates":t.allowedDates,"no-title":""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}}):t._e()],1)],1)},i=[],n=a("1da1"),r=(a("b64b"),a("99af"),a("96cf"),a("3bce")),o=a("338b"),l=a("cf45"),c={components:{LocalizedCalendar:r["a"]},mixins:[o["a"]],props:{value:{type:String,default:""},id:{type:String,default:""},type:{type:String,default:"date"},label:{type:String,default:""},disabled:{type:Boolean,default:!1},errorMessages:{type:[String,Array],default:function(){return[]}},dataCyVariable:{type:String,default:""},readOnly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},hint:{type:String,default:""},hideDetails:{type:Boolean,default:!1},singleLine:{type:Boolean,default:!1},appliedClass:{type:String,default:""},prependInnerIcon:{type:String,default:"mdi-calendar-month-outline"}},data:function(){return{menu:!1,date:this.value,nepaliDate:this.value,localizedDate:"",international:"English"===Object(l["f"])("VUE_APP_SET_DEFAULT_CALENDAR_TO"),showCalendarChoice:Object(l["f"])("VUE_APP_SHOW_CALENDAR_CHOICE"),useNepaliDate:localStorage.useNepaliDate,hasConverted:!1}},watch:{value:function(t){this.date=t},date:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t&&"true"===e.useNepaliDate&&e.hasConverted?e.nepaliDate=e.ad2bs(t):e.nepaliDate=t,a.next=3,e.$emit("input",t);case 3:return a.next=5,e.$emit("update:localizedDate",e.localizedDate);case 5:if(!t){a.next=8;break}return a.next=8,e.$emit("blur");case 8:case"end":return a.stop()}}),a)})))()},international:function(t){this.$emit("update:international",t)}},created:function(){this.date&&"true"===this.useNepaliDate&&!this.hasConverted?(this.hasConverted=!0,this.date=this.bs2ad(this.date)):this.date||"true"!==this.useNepaliDate||(this.hasConverted=!0)},methods:{allowedDates:function(t){if("false"===this.showCalendarChoice&&"English"===Object(l["f"])("VUE_APP_SET_DEFAULT_CALENDAR_TO"))return!0;var e=[],a="",s="";e=Object.keys(this.bs),a=e[0],s=e[e.length-1];var i={max:this.bs2ad("".concat(s,"-12-").concat(this.bs[s][11])),min:this.bs2ad("".concat(a,"-01-01"))};return t<=i.max&&t>=i.min}}},u=c,d=a("2877"),h=a("6544"),p=a.n(h),m=a("8336"),f=a("2e4b"),v=a("e449"),g=a("8654"),y=Object(d["a"])(u,s,i,!1,null,null,null);e["default"]=y.exports;p()(y,{VBtn:m["a"],VDatePicker:f["a"],VMenu:v["a"],VTextField:g["a"]})},"7e58":function(t,e,a){},"7ec0":function(t,e,a){},"8be6":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("vue-card-title",{attrs:{title:"Task Reminder",subtitle:"Refer the following information to add reminder for the task",icon:"mdi-calendar-month-outline",clickable:""},on:{click:function(e){t.showMore=!t.showMore}}},[a("template",{slot:"actions"},[a("v-icon",{staticClass:"pointer",domProps:{textContent:t._s(t.showMore?"mdi-menu-up":"mdi-menu-down")},on:{click:function(e){t.showMore=!t.showMore}}})],1)],2),t.showMore?a("div",[a("v-divider"),t.loading?a("v-progress-linear",{attrs:{height:3,indeterminate:""}}):t._e(),a("v-card-text",[t.reminders.length?t._l(t.reminders,(function(e,s){return a("v-row",{key:e.id,attrs:{"no-gutters":"",align:"end"}},[a("v-hover",{scopedSlots:t._u([{key:"default",fn:function(i){var n=i.hover;return a("v-col",{staticClass:"py-0"},[a("v-row",{attrs:{align:"center"}},[a("v-col",{staticClass:"px-0",attrs:{cols:"5"}},[a("v-icon",{attrs:{color:e.sent_on?"grey":"green",size:"20"},domProps:{textContent:t._s("mdi-bell")}}),a("span",{staticClass:"mx-2"},[a("b",[t._v(t._s(t.humanizeDate(e.remind_on)))]),t._v(" via "),a("b",[t._v(t._s(e.method))]),t._v(" to")])],1),a("v-col",{staticClass:"ml-n9",attrs:{cols:"3"}},[a("vue-user",{attrs:{size:20,user:e.user}})],1),a("v-col",{staticClass:"ml-n9",attrs:{cols:"1"}},[!e.sent_on&&n?a("v-icon",{attrs:{small:"",color:"danger"},domProps:{textContent:t._s("mdi-close")},on:{click:function(e){t.deleteNotification.dialog=!0,t.deleteReminderIndex=s}}}):t._e()],1)],1)],1)}}],null,!0)})],1)})):a("vue-no-data",{attrs:{height:100,text:"There are no reminders on this task"}})],2),a("v-divider"),t.taskDetail.completion_verified||t.readOnly?t._e():a("v-card-actions",{staticClass:"primaryLight"},[a("v-form",{ref:"reminderForm"},[a("v-row",{staticClass:"px-3",attrs:{align:"center"}},[a("v-col",{staticClass:"mt-n5"},[a("vue-date-time-picker",t._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"hide-details":""},model:{value:t.form.remind_on,callback:function(e){t.$set(t.form,"remind_on",e)},expression:"form.remind_on"}},"vue-date-time-picker",t.veeValidate("remind_on","Remind At *"),!1))],1),a("v-col",[a("v-select",t._b({attrs:{items:t.methodChoices,"item-text":"text","item-value":"value","prepend-inner-icon":"mdi-flag-outline"},model:{value:t.form.method,callback:function(e){t.$set(t.form,"method",e)},expression:"form.method"}},"v-select",t.veeValidate("method","Method"),!1))],1),a("v-col",[a("v-select",t._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"allow-overflow":!1,items:t.userChoices,"item-text":"full_name","item-value":"id","prepend-inner-icon":"mdi-account"},scopedSlots:t._u([{key:"item",fn:function(e){var s=e.item;return[a("v-list-item-avatar",[a("v-avatar",{attrs:{size:"30"}},[a("v-img",{attrs:{src:s.profile_picture,cover:""}})],1)],1),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(s.full_name))])],1)]}}],null,!1,2017076764),model:{value:t.form.user,callback:function(e){t.$set(t.form,"user",e)},expression:"form.user"}},"v-select",t.veeValidate("user","Remind To"),!1))],1),a("v-col",{staticClass:"mr-2",attrs:{cols:"1"}},[a("v-btn",{attrs:{disabled:!t.form.remind_on||!t.form.user,small:"",color:"primary",depressed:"","hide-details":""},domProps:{textContent:t._s("Add")},on:{click:t.addReminder}})],1)],1)],1)],1)],1):t._e(),a("vue-dialog",{attrs:{notify:t.deleteNotification},on:{close:function(e){t.deleteNotification.dialog=!1},agree:t.deleteReminder}})],1)},i=[],n=a("2909"),r=a("5530"),o=(a("99af"),a("d81d"),a("a434"),a("c44a")),l=a("2f62"),c=a("ea98"),u=a("02cb"),d=a("d567"),h=a("e585"),p={components:{VueDialog:c["a"],VueUser:u["default"],VueDateTimePicker:d["a"],VueNoData:h["default"]},mixins:[o["a"]],props:{taskDetail:{type:Object,required:!0},readOnly:{type:Boolean,default:!0}},data:function(){return{form:{remind_on:"",method:"notification"},reminders:[],methodChoices:[{value:"email",text:"Email"},{value:"notification",text:"Notification"}],deleteNotification:{dialog:!1,heading:"Confirm Delete",text:"Are you sure you want to delete this reminder?"},deleteReminderIndex:null,loading:!1,showMore:!1}},computed:Object(r["a"])(Object(r["a"])({},Object(l["c"])({getAuthStateUser:"auth/getAuthStateUser"})),{},{userChoices:function(){return[this.taskDetail.created_by].concat(Object(n["a"])(this.taskDetail.responsible_persons.map((function(t){return t.user}))),Object(n["a"])(this.taskDetail.observers.map((function(t){return t.user}))))}}),created:function(){this.getReminder()},methods:{getReminder:function(){var t=this,e="/task/".concat(this.taskDetail.id,"/reminder/");this.$http.get(e).then((function(e){t.reminders=e.results}))},addReminder:function(){var t=this,e="/task/".concat(this.taskDetail.id,"/reminder/");this.$http.post(e,this.form).then((function(e){t.reminders.push(e),t.form.remind_on="",t.form.user="",t.errors.clear()})).catch((function(e){t.pushErrors(e)}))},deleteReminder:function(){var t=this,e=this.reminders[this.deleteReminderIndex].id,a="/task/".concat(this.taskDetail.id,"/reminder/").concat(e,"/");this.$http.delete(a).then((function(){t.notifyUser("Successfully deleted reminder","green"),t.deleteNotification.dialog=!1,t.reminders.splice(t.deleteReminderIndex,1)}))},humanizeDate:function(t){return this.$dayjs(t).format("YYYY-MM-DD h:mm a")}}},m=p,f=a("2877"),v=a("6544"),g=a.n(v),y=a("8212"),k=a("8336"),b=a("b0af"),_=a("99d9"),x=a("62ad"),C=a("ce7e"),D=a("4bd4"),w=a("ce87"),T=a("132d"),S=a("adda"),O=a("8270"),V=a("5d23"),j=a("8e36"),A=a("0fd9b"),P=a("b974"),R=Object(f["a"])(m,s,i,!1,null,null,null);e["a"]=R.exports;g()(R,{VAvatar:y["a"],VBtn:k["a"],VCard:b["a"],VCardActions:_["a"],VCardText:_["c"],VCol:x["a"],VDivider:C["a"],VForm:D["a"],VHover:w["a"],VIcon:T["a"],VImg:S["a"],VListItemAvatar:O["a"],VListItemContent:V["a"],VListItemTitle:V["c"],VProgressLinear:j["a"],VRow:A["a"],VSelect:P["a"]})},"8df9":function(t,e,a){},"92fa":function(t,e){var a=/^(attrs|props|on|nativeOn|class|style|hook)$/;function s(t,e){return function(){t&&t.apply(this,arguments),e&&e.apply(this,arguments)}}t.exports=function(t){return t.reduce((function(t,e){var i,n,r,o,l;for(r in e)if(i=t[r],n=e[r],i&&a.test(r))if("class"===r&&("string"===typeof i&&(l=i,t[r]=i={},i[l]=!0),"string"===typeof n&&(l=n,e[r]=n={},n[l]=!0)),"on"===r||"nativeOn"===r||"hook"===r)for(o in n)i[o]=s(i[o],n[o]);else if(Array.isArray(i))t[r]=i.concat(n);else if(Array.isArray(n))t[r]=[i].concat(n);else for(o in n)i[o]=n[o];else t[r]=e[r];return t}),{})}},9659:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"mb-3"},[a("vue-card-title",{attrs:{title:"Sub Tasks",subtitle:"Refer the following information for sub tasks of this task.",icon:"mdi-file-document-outline",clickable:""},on:{click:function(e){t.showMore=!t.showMore}}},[a("template",{slot:"actions"},[a("v-avatar",{staticClass:"mr-2",attrs:{size:"30",color:"teal"}},[a("span",{staticClass:"white--text text-caption font-weight-bold",domProps:{textContent:t._s(t.taskDetail.sub_tasks_count)}})]),t.canCreateSubTask&&!t.readOnly?a("v-btn",{attrs:{small:"",depressed:"",color:"primary"},on:{click:function(e){t.createSubTaskForm=!0}}},[t._v(" Add Sub Task ")]):t._e(),a("v-icon",{staticClass:"pointer",domProps:{textContent:t._s(t.showMore?"mdi-menu-up":"mdi-menu-down")},on:{click:function(e){t.showMore=!t.showMore}}})],1)],2),a("v-divider"),t.showMore?a("sub-task-data-table",{attrs:{"task-endpoint":"/task/"+t.taskDetail.id+"/sub-tasks/"}}):t._e(),a("v-dialog",{attrs:{transition:"dialog-bottom-transition",fullscreen:"",scrollable:"",persistent:""},on:{keydown:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;t.createSubTaskForm=!1}},model:{value:t.createSubTaskForm,callback:function(e){t.createSubTaskForm=e},expression:"createSubTaskForm"}},[a("v-card",[a("vue-card-title",{attrs:{title:"Add New Sub Task of "+t.taskDetail.title,subtitle:"-",icon:"mdi-file-document-outline",dark:"",closable:""},on:{close:function(e){t.createSubTaskForm=!1,t.$emit("refresh")}}}),a("v-divider"),a("v-card-text",[t.createSubTaskForm?a("task-form",{attrs:{"form-bottom-sheet":t.createSubTaskForm,"parent-task":t.taskDetail},on:{"dismiss-form":function(e){t.createSubTaskForm=!1,t.$emit("refresh")}}}):t._e()],1)],1)],1)],1)},i=[],n=a("5530"),r=(a("7db0"),a("6df2")),o=a("19c3"),l=a("2f62"),c={components:{SubTaskDataTable:r["a"],TaskForm:o["a"]},props:{taskDetail:{type:Object,required:!0},readOnly:{type:Boolean,default:!0}},data:function(){return{createSubTaskForm:!1,showMore:!1}},computed:Object(n["a"])(Object(n["a"])({},Object(l["c"])({getAuthStateUser:"auth/getAuthStateUser"})),{},{canCreateSubTask:function(){var t=this;return this.taskDetail.created_by.id===this.getAuthStateUser.user.id||this.taskDetail.responsible_persons.find((function(e){return e.user.id===t.getAuthStateUser.user.id}))}})},u=c,d=a("2877"),h=a("6544"),p=a.n(h),m=a("8212"),f=a("8336"),v=a("b0af"),g=a("99d9"),y=a("169a"),k=a("ce7e"),b=a("132d"),_=Object(d["a"])(u,s,i,!1,null,null,null);e["a"]=_.exports;p()(_,{VAvatar:m["a"],VBtn:f["a"],VCard:v["a"],VCardText:g["c"],VDialog:y["a"],VDivider:k["a"],VIcon:b["a"]})},9815:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{width:"500",persistent:"",scrollable:""},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.$emit("input",!1)}},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("vue-card-title",{attrs:{title:t.title,subtitle:"List of Employees",icon:"mdi-account-group-outline",dark:"",closable:""},on:{close:function(e){return t.$emit("input",!1)}}}),a("v-divider"),t.headerInfo?a("v-list",{staticClass:"primaryLight pl-9 pr-5 py-0"},[a("v-list-item",[a("v-list-item-content",{staticClass:"text-body-1",attrs:{md:"5"}},[t._v(" Name ")]),a("v-list-item-action",{staticClass:"text-body-1 text-center"},[t._v(" "+t._s(t.headerInfo)+" ")])],1)],1):t._e(),a("v-divider"),a("v-card-text",{staticClass:"pb-0"},[t.endpoint||0!==t.users.length?t._e():a("div",[a("vue-no-data")],1),t.userInstance&&t.userInstance.length?a("v-list",t._l(t.userInstance,(function(e){return a("v-list-item",{key:e.id},[a("v-list-item-content",[a("vue-user",{attrs:{user:e.liked_by||e.user||e}})],1),t._l(t.infoList,(function(s,i){return[a("v-list-item-action",{key:i},[a("span",[i>0?a("span",[a("span",[t._v("|")])]):t._e(),t._v(" "+t._s(e[s])+" ")])])]})),a("v-list-item-action",[t._t("info",null,{user:e})],2)],2)})),1):t._e(),t.dialog&&t.endpoint?a("div",[a("infinite-loading-base",{attrs:{endpoint:t.endpoint,"response-key":t.responseKey},on:{setInfiniteResponse:t.setInfiniteResponse}})],1):t._e()],1)],1)],1)},i=[],n=a("2909"),r=(a("99af"),a("e585")),o=a("02cb"),l=a("cdd1"),c={components:{VueUser:o["default"],VueNoData:r["default"],InfiniteLoadingBase:l["a"]},extends:l["a"],props:{value:{type:Boolean,default:!1},users:{type:Array,default:function(){return[]}},title:{type:String,default:"List Of Employees"},infoList:{type:Array,default:function(){return[]}},endpoint:{type:String,default:""},headerInfo:{type:String,default:""},responseKey:{type:String,default:"results"}},data:function(){return{userInstance:[],dialog:this.value,fetched:!this.endpoint}},watch:{value:function(t){this.dialog=t,this.userInstance=this.users}},created:function(){this.userInstance=Object(n["a"])(this.users)},methods:{setInfiniteResponse:function(t){this.userInstance=this.userInstance.concat(t[this.responseKey])}}},u=c,d=a("2877"),h=a("6544"),p=a.n(h),m=a("b0af"),f=a("99d9"),v=a("169a"),g=a("ce7e"),y=a("8860"),k=a("da13"),b=a("1800"),_=a("5d23"),x=Object(d["a"])(u,s,i,!1,null,null,null);e["default"]=x.exports;p()(x,{VCard:m["a"],VCardText:f["c"],VDialog:v["a"],VDivider:g["a"],VList:y["a"],VListItem:k["a"],VListItemAction:b["a"],VListItemContent:_["a"]})},"982e":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"mb-3"},[a("v-card-title",{class:t.taskStatus(t.taskDetail.status-1).color,attrs:{"primary-title":""}},[a("div",{staticClass:"font-weight-medium"},[a("div",{staticClass:"white--text text-body-1",domProps:{textContent:t._s(t.taskDetail.is_recurring?"Recurring Task":t.taskStatus(t.taskDetail.status-1).text)}}),t.taskDetail.is_recurring||4===t.taskDetail.status?t._e():a("div",{staticClass:"white--text text-caption"},[t._v(" Deadline "+t._s(t.humanizeDate(t.taskDetail.deadline))+" ")])]),a("v-spacer"),t.taskDetail.is_recurring||!t.canUpdateStatus||t.readOnly?t._e():a("v-menu",{attrs:{bottom:"",origin:"center center",transition:"scale-transition"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({attrs:{icon:"",color:"white",small:""}},s),[a("v-icon",[t._v("mdi-menu-down")])],1)]}}],null,!1,1409415438)},[a("v-list",t._l(t.updatableStatus,(function(e){return a("v-list-item",{key:e.text,on:{click:function(a){t.updateStatus.value=e,t.updateStatus.dialog=!0}}},[a("v-list-item-title",{domProps:{textContent:t._s(e.text)}})],1)})),1)],1)],1),a("v-divider"),a("v-card-text",{staticClass:"black--text"},[a("v-row",{attrs:{align:"center"}},[a("v-col",{attrs:{md:"6",cols:"6"}},[a("div",{staticClass:"font-weight-medium"},[t._v("Assigned By")])]),a("v-col",{attrs:{md:"6",cols:"6"}},[a("v-avatar",{staticClass:"mr-2",attrs:{size:20}},[a("v-img",{attrs:{src:t.taskDetail.created_by.profile_picture}})],1),a("span",{domProps:{textContent:t._s(t.taskDetail.created_by.full_name)}})],1),a("v-col",{attrs:{md:"6",cols:"6"}},[a("div",{staticClass:"font-weight-medium"},[t._v("Responsible Persons")]),!t.taskDetail.is_recurring&&t.taskDetail.responsible_persons.length>1&&t.taskDetail.created_by.id===t.getAuthStateUser.user.id&&!t.readOnly?a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("span",t._g({staticClass:"primary--text pointer text-caption font-weight-medium",domProps:{textContent:t._s("Disassociate Task")},on:{click:function(e){t.disassociateTaskDialog.dialog=!0}}},s))]}}],null,!1,3653915888)},[a("span",[t._v("Assign separate task to each responsible person")])]):t._e()],1),a("v-col",{attrs:{cols:"6"}},[t._l(t.taskDetail.responsible_persons,(function(e){return[a("div",{key:e.id,staticClass:"my-1"},[a("v-avatar",{staticClass:"mr-2",attrs:{size:20}},[a("v-img",{attrs:{src:e.user.profile_picture}})],1),a("span",{staticClass:"primary--text pointer",on:{click:function(a){return t.viewUserCoreTask(e)}}},[t._v(" "+t._s(t._f("truncate")(e.user.full_name,12))+" ")])],1)]}))],2),a("v-col",{attrs:{md:"6",cols:"6"}},[a("div",{staticClass:"font-weight-medium"},[t._v("Observers")])]),a("v-col",{attrs:{cols:"6"}},[a("user-thumbnails",{attrs:{users:t.taskDetail.observers,"total-users":t.taskDetail.observers.length},on:{showMore:function(e){t.showAllObservers=!0}}})],1),a("v-col",{attrs:{md:"6",cols:"6"}},[a("div",{staticClass:"font-weight-medium"},[t._v(" "+t._s(t.taskDetail.is_recurring?"Recurring First Run:":"Scheduled From:")+" ")])]),a("v-col",{attrs:{md:"6",cols:"6"}},[a("span",[t._v(t._s(t.taskDetail.is_recurring?t.taskDetail.recurring.recurring_first_run:t.taskDetail.starts_at.substring(0,10)+", "+t.taskDetail.starts_at.substring(11,19))+" ")])]),t.taskDetail.is_recurring?t._e():a("v-col",{attrs:{md:"6",cols:"6"}},[a("div",{staticClass:"font-weight-medium"},[t._v("Deadline:")])]),t.taskDetail.is_recurring||t.updateDeadline.edit?t._e():a("v-col",{attrs:{md:"4",cols:"6"}},[a("div",[t._v(t._s(t._f("dayjs")(t.taskDetail.deadline,"YYYY-MM-DD")))]),a("div",[t._v(t._s(t._f("dayjs")(t.taskDetail.deadline,"h:mm a")))])]),!t.updateDeadline.edit&&t.canUpdateStatus&&t.taskDetail.changeable_deadline?a("v-col",{attrs:{md:"2"}},[a("v-icon",{attrs:{size:"13"},domProps:{textContent:t._s("mdi-pencil")},on:{click:function(e){t.updateDeadline.edit=!0,t.updateDeadline.value=t.taskDetail.deadline}}})],1):t._e(),t.updateDeadline.edit?a("div",[a("vue-date-time-picker",t._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"prepend-inner-icon":"mdi-phone-outline"},model:{value:t.updateDeadline.value,callback:function(e){t.$set(t.updateDeadline,"value",e)},expression:"updateDeadline.value"}},"vue-date-time-picker",t.veeValidate("deadline","New Deadline *"),!1)),a("v-row",[a("v-spacer"),a("v-btn",{attrs:{small:""},domProps:{textContent:t._s("Save")},on:{click:t.addNewDeadline}}),a("v-btn",{attrs:{small:"",outlined:""},domProps:{textContent:t._s("Cancel")},on:{click:function(e){t.updateDeadline.edit=!1,t.updateDeadline.value=""}}})],1)],1):t._e(),a("v-col",{attrs:{md:"6",cols:"6"}},[a("div",{staticClass:"font-weight-medium"},[t._v("Priority:")])]),a("v-col",{attrs:{md:"6",cols:"6"}},[a("v-chip",{attrs:{small:"","text-color":"white",color:t.priorityColorMap[t.taskDetail.priority]}},[t._v(" "+t._s(t.taskDetail.priority)+" ")])],1),a("v-col",{attrs:{md:"6",cols:"6"}},[a("div",{staticClass:"font-weight-medium"},[t._v("Created At:")])]),a("v-col",{attrs:{md:"6",cols:"6"}},[a("span",[t._v(t._s(t._f("dayjs")(t.taskDetail.created_at,"YYYY-MM-DD, h:mm:ss a")))])]),t.taskDetail.is_recurring?t._e():a("v-col",{attrs:{md:"6",cols:"6"}},[a("div",{staticClass:"font-weight-medium"},[t._v("Started Working:")])]),t.taskDetail.is_recurring?t._e():a("v-col",{attrs:{md:"6",cols:"6"}},[a("span",[t._v(t._s(t.taskDetail.start?t.taskDetail.start.substring(0,10)+", "+t.taskDetail.start.substring(11,19):"N/A"))])]),t.taskDetail.is_recurring?t._e():a("v-col",{attrs:{md:"6",cols:"6"}},[a("div",{staticClass:"font-weight-medium"},[t._v("Finished Working:")])]),t.taskDetail.is_recurring?t._e():a("v-col",{attrs:{md:"6",cols:"6"}},[a("span",[t._v(t._s(t.taskDetail.finish?t.taskDetail.finish.substring(0,10)+", "+t.taskDetail.finish.substring(11,19):"N/A"))])]),a("v-col",{attrs:{md:"6",cols:"6"}},[a("div",{staticClass:"font-weight-medium"},[t._v("Project:")])]),a("v-col",{attrs:{md:"6",cols:"6"}},[t.taskDetail.project?a("span",[t._v(" "+t._s(t.taskDetail.project.name)+" ")]):a("span",[t._v(" No ")])]),a("v-col",{attrs:{md:"6",cols:"6"}},[a("div",{staticClass:"font-weight-medium"},[t._v("Recurring Task:")])]),a("v-col",{attrs:{md:"6",cols:"6"}},[t.taskDetail.is_recurring?a("span",[a("v-icon",[t._v(" mdi-check-all ")])],1):a("span",[t._v(" No ")])]),t.taskDetail.is_recurring?t._e():a("v-col",{attrs:{md:"6",cols:"6"}},[a("div",{staticClass:"font-weight-medium"},[t._v("Approved:")])]),t.taskDetail.is_recurring?t._e():a("v-col",{attrs:{md:"6",cols:"6"}},[t.taskDetail.approved?a("span",[a("v-icon",[t._v(" mdi-check-all ")])],1):a("span",[t._v(" No ")])])],1)],1),a("user-list-dialog",{attrs:{users:t.taskDetail.observers},on:{close:function(e){t.showAllObservers=!1}},model:{value:t.showAllObservers,callback:function(e){t.showAllObservers=e},expression:"showAllObservers"}}),a("vue-dialog",{attrs:{notify:t.updateStatus},on:{close:function(e){t.updateStatus.dialog=!1},agree:function(e){return t.updateTaskStatus(t.updateStatus.value.id)}}}),a("vue-dialog",{attrs:{notify:t.disassociateTaskDialog},on:{close:function(e){t.disassociateTaskDialog.dialog=!1},agree:t.disassociateTask}}),t.userCoreTask.dialog?a("v-dialog",{attrs:{persistent:"",width:"300px"},on:{keydown:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;t.userCoreTask.dialog=!1}},model:{value:t.userCoreTask.dialog,callback:function(e){t.$set(t.userCoreTask,"dialog",e)},expression:"userCoreTask.dialog"}},[a("v-card",[a("vue-card-title",{attrs:{title:"List of Core Tasks",subtitle:"-",icon:"mdi-calendar",dark:"",closable:""},on:{close:function(e){t.userCoreTask.dialog=!1}}}),a("v-divider"),a("v-card-text",[a("v-col",{attrs:{cols:"12"}},[a("vue-user",{attrs:{user:t.userCoreTask.data.user}})],1),a("v-col",{attrs:{cols:"12"}},t._l(t.userCoreTask.data.core_tasks,(function(e){return a("div",{key:e.id},[a("v-icon",{attrs:{size:"15"},domProps:{textContent:t._s("mdi-chevron-double-right")}}),a("span",{domProps:{textContent:t._s(e.title)}})],1)})),0)],1)],1)],1):t._e()],1)},i=[],n=a("1da1"),r=a("5530"),o=(a("96cf"),a("7db0"),a("caad"),a("99af"),a("4de4"),a("d3b7"),a("02cb")),l=a("ea98"),c=a("9815"),u=a("cde3"),d=a("d567"),h=a("c44a"),p=a("2f62"),m=a("f8a4"),f={components:{VueUser:o["default"],UserThumbnails:u["default"],UserListDialog:c["default"],VueDateTimePicker:d["a"],VueDialog:l["a"]},mixins:[h["a"]],props:{taskDetail:{type:Object,required:!0},readOnly:{type:Boolean,default:!0}},data:function(){return{showAllObservers:!1,updateDeadline:{value:!1,edit:!1},priorityColorMap:{MINOR:"green",MAJOR:"purple",CRITICAL:"red"},updateStatus:{value:"",dialog:!1,heading:"Confirm Update",subheading:"You are about to update the status of this task.",text:"Are you sure you want to update the status of this task?"},disassociateTaskDialog:{dialog:!1,heading:"Confirm Disassociate Task",subheading:"Assign separate task to each responsible person",text:"Are you sure you want to disassociate the task? This action cannot be undone."},userCoreTask:{dialog:!1,data:{}}}},computed:Object(r["a"])(Object(r["a"])({},Object(p["c"])({getAuthStateUser:"auth/getAuthStateUser"})),{},{isCreator:function(){return this.taskDetail.created_by.id===this.getAuthStateUser.user.id},isFutureTask:function(){return new Date(this.taskDetail.starts_at)>new Date},isResponsible:function(){var t=this;return this.taskDetail.responsible_persons.find((function(e){return e.user.id===t.getAuthStateUser.user.id}))},canUpdateStatus:function(){return(this.isCreator||this.isResponsible&&![3,5].includes(this.taskDetail.status))&&!this.taskDetail.approved},updatableStatus:function(){var t=this,e=[];if(this.isFutureTask&&this.isCreator||(e=[{text:"Pending",color:"orange",id:1},{text:"In Progress",color:"blue",id:2},{text:"Completed",color:"green",id:4}]),this.isCreator&&(e=e.concat([{text:"On Hold",color:"pink",id:3},{text:"Closed",color:"green",id:5}]),[3,5].includes(this.taskDetail.status)))return[{text:"Pending",color:"orange",id:1}];var a=this.get(e.find((function(e){return e.id===t.taskDetail.status})),"text");return e.filter((function(t){return t.text!==a}))}}),methods:Object(r["a"])(Object(r["a"])({},Object(p["d"])({setSnackBar:"common/setSnackBar"})),{},{taskStatus:function(t){var e=[{text:"Pending",color:"orange"},{text:"In Progress",color:"blue"},{text:"On Hold",color:"pink"},{text:"Completed",color:"green"},{text:"Closed",color:"purple"}];return e[t]},updateTaskStatus:function(t){var e=this,a="/task/"+this.taskDetail.id+"/",s={status:t},i=["Pending","In Progress","On Hold","Completed"];this.$http.patch(a,s).then((function(){e.setSnackBar({text:"Successfully moved task to "+i[t-1]+".",color:"green"}),e.$emit("refresh")})).catch((function(t){if(e.pushErrors(t),e.nonFieldErrors.length){var a=e.nonFieldErrors[0]["non field errors"]||e.nonFieldErrors[0].status||e.nonFieldErrors[0].detail||"You cannot perform this operation";e.setSnackBar({text:a,color:"red"})}e.notifyInvalidFormResponse(t.response.status[0]||t.response.data.status[0]),e.updateStatus.dialog=!1}))},disassociateTask:function(){var t=this;this.$http.post(m["a"].disassociateTask(this.taskDetail.id),this.taskDetail).then((function(){t.setSnackBar({text:"Your request is being Processed in Background",color:"green"}),t.$router.push({name:"user-task-assigned-by-me"})})).catch((function(e){if(t.pushErrors(e),t.nonFieldErrors.length){var a=t.nonFieldErrors[0].detail||"You cannot perform this operation";t.setSnackBar({text:a,color:"red"})}})).finally((function(){t.disassociateTaskDialog.dialog=!0}))},addNewDeadline:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.validateAllFields();case 2:if(!e.sent){e.next=6;break}a="/task/"+t.taskDetail.id+"/",s={deadline:t.updateDeadline.value},t.$http.patch(a,s).then((function(e){t.setSnackBar({text:"Successfully updated deadline",color:"green"}),t.taskDetail.deadline=e.deadline,t.updateDeadline.edit=!1})).catch((function(e){t.pushErrors(e)}));case 6:case"end":return e.stop()}}),e)})))()},viewUserCoreTask:function(t){this.userCoreTask.dialog=!0,this.userCoreTask.data=t}})},v=f,g=a("2877"),y=a("6544"),k=a.n(y),b=a("8212"),_=a("8336"),x=a("b0af"),C=a("99d9"),D=a("cc20"),w=a("62ad"),T=a("169a"),S=a("ce7e"),O=a("132d"),V=a("adda"),j=a("8860"),A=a("da13"),P=a("5d23"),R=a("e449"),I=a("0fd9b"),L=a("2fa4"),$=a("3a2f"),B=Object(g["a"])(v,s,i,!1,null,null,null);e["a"]=B.exports;k()(B,{VAvatar:b["a"],VBtn:_["a"],VCard:x["a"],VCardText:C["c"],VCardTitle:C["d"],VChip:D["a"],VCol:w["a"],VDialog:T["a"],VDivider:S["a"],VIcon:O["a"],VImg:V["a"],VList:j["a"],VListItem:A["a"],VListItemTitle:P["c"],VMenu:R["a"],VRow:I["a"],VSpacer:L["a"],VTooltip:$["a"]})},"9c6a":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("vue-page-wrapper",{attrs:{title:t.htmlTitle,"bread-crumbs":t.breadCrumbItems}},[t.fetched?a("v-row",{attrs:{align:"start"}},[t.taskDetail.parent?a("v-col",{attrs:{md:"12"}},[a("task-detail-parent",{attrs:{"task-detail":t.taskDetail}})],1):t._e(),t.showProjectDetail?a("v-col",{attrs:{md:"12"}},[a("task-detail-parent",{attrs:{"task-detail":t.taskDetail}})],1):t._e(),a("v-col",{attrs:{md:"8"}},[a("task-detail-info",{attrs:{"task-detail":t.taskDetail,"task-current-status":t.taskCurrentStatus},on:{refresh:t.refreshTaskDetail}}),t.taskDetail.check_lists.length>0?a("task-detail-check-lists",{attrs:{"check-lists":t.taskDetail.check_lists,"read-only":t.isReadOnly,task:t.taskDetail,"task-id":t.taskId}}):t._e(),a("task-detail-comments",{attrs:{"task-detail":t.taskDetail,"read-only":t.isReadOnly}}),a("task-detail-attachments",{attrs:{"task-detail":t.taskDetail,"read-only":t.isReadOnly}}),a("task-detail-sub-tasks",{attrs:{"task-detail":t.taskDetail,"read-only":t.isReadOnly},on:{refresh:t.refreshTaskDetail}}),a("task-detail-reminder",{attrs:{"task-detail":t.taskDetail,"read-only":t.isReadOnly}})],1),a("v-col",{attrs:{md:"4"}},[a("task-detail-status",{attrs:{"task-detail":t.taskDetail},on:{refresh:t.refreshTaskDetail}}),t.taskDetail.can_view_task_history?a("task-detail-history",{attrs:{"task-id":t.taskDetail.id},on:{refresh:t.refreshTaskDetail}}):t._e()],1)],1):a("v-row",[a("v-col",{attrs:{md:"12"}},[a("v-card",[a("v-card-text",[a("default-svg-loader")],1)],1)],1)],1)],1)},i=[],n=a("1da1"),r=a("5530"),o=(a("96cf"),a("0549")),l=a("9e13"),c=a("a743"),u=a("9659"),d=a("8be6"),h=a("0214"),p=a("a4fe"),m=a("982e"),f=a("623f"),v=a("d949"),g=a("c197"),y=a("2f62"),k={components:{VuePageWrapper:o["default"],TaskDetailStatus:m["a"],TaskDetailHistory:f["a"],TaskDetailSubTasks:u["a"],TaskDetailReminder:d["a"],TaskDetailInfo:l["a"],TaskDetailCheckLists:c["a"],TaskDetailComments:h["a"],TaskDetailAttachments:p["a"],TaskDetailParent:v["a"],DefaultSvgLoader:g["default"]},validate:function(t){var e=t.params;return/^\d+$/.test(e.id)},data:function(){return{htmlTitle:"Task Detail",breadCrumbItems:[{text:"Task",disabled:!1,to:{name:"admin-slug-task-overview",params:{slug:this.$route.params.slug}}},{text:"Report",disabled:!1,to:{name:"admin-slug-task-reports",params:{slug:this.$route.params.slug}}},{text:"All Tasks",disabled:!1,to:{name:"admin-slug-task-reports-all-task",params:{slug:this.$route.params.slug}}},{text:"Task Detail",disabled:!0}],taskId:this.$route.params.id,fetched:!1,taskDetail:null,taskActivity:[],taskCurrentStatus:null,taskProjectDetail:null,showProjectDetail:!1,isReadOnly:!0}},computed:Object(r["a"])({},Object(y["c"])({getAuthStateUser:"auth/getAuthStateUser"})),created:function(){var t=this.$route.params.id;this.fetchTaskDetail(t)},methods:{fetchTaskDetail:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s="/task/"+t+"/",e.fetched=!1,a.next=4,e.$http.get(s).then((function(t){e.taskDetail=t,e.taskCurrentStatus=t.status,e.fetched=!0}));case 4:case"end":return a.stop()}}),a)})))()},viewTaskDetails:function(t){this.$router.push({name:"user-task-my-id-detail",params:{id:t}})},refreshTaskDetail:function(){this.fetchTaskDetail(this.taskDetail.id)},viewProject:function(t){var e=this,a="/task/projects/"+t+"/";this.$http.get(a).then((function(t){e.taskProjectDetail=t,e.showProjectDetail=!0}))},clearTaskProject:function(){this.taskProjectDetail=null,this.showProjectDetail=!1}}},b=k,_=a("2877"),x=a("6544"),C=a.n(x),D=a("b0af"),w=a("99d9"),T=a("62ad"),S=a("0fd9b"),O=Object(_["a"])(b,s,i,!1,null,null,null);e["default"]=O.exports;C()(O,{VCard:D["a"],VCardText:w["c"],VCol:T["a"],VRow:S["a"]})},"9d01":function(t,e,a){},"9d1c":function(t,e,a){},"9e13":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"mb-3"},[a("vue-card-title",{attrs:{title:" "+t.taskDetail.id+": "+t.taskDetail.title,icon:"mdi-calendar-check-outline"}},[a("template",{slot:"actions"},[a("v-chip",{class:t.taskDetail.is_recurring?"teal":"grey",attrs:{label:"",small:"","text-color":"white"}},[a("v-avatar",{attrs:{left:""}},[a("v-icon",{attrs:{small:"",color:"white"}},[t._v(t._s(t.taskDetail.is_recurring?"mdi-repeat":"mdi-format-list-checks"))])],1),t._v(t._s(t.taskDetail.is_recurring?"Recurring Task":"Normal Task"))],1),t.canEditTask?a("v-tooltip",{attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({attrs:{icon:""},on:{click:function(e){t.actionData=t.taskDetail,t.updateTaskForm=!0}}},s),[a("v-icon",{attrs:{small:""},domProps:{textContent:t._s("mdi-pencil")}})],1)]}}],null,!1,2113547866)},[a("span",{domProps:{textContent:t._s("Update Task")}})]):t._e(),t.taskDetail.description?a("v-col",{attrs:{cols:"12"}},[a("div",{staticClass:"text-body-1",domProps:{innerHTML:t._s(t.$sanitize(t.taskDetail.description))}})]):t._e()],1)],2),a("v-divider"),a("v-dialog",{attrs:{transition:"dialog-bottom-transition",fullscreen:"",scrollable:"",persistent:""},on:{keydown:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;t.updateTaskForm=!1}},model:{value:t.updateTaskForm,callback:function(e){t.updateTaskForm=e},expression:"updateTaskForm"}},[a("v-card",[a("vue-card-title",{attrs:{title:"Update "+t.taskDetail.title,subtitle:"-",icon:"mdi-file-document-outline",dark:"",closable:""},on:{close:function(e){t.updateTaskForm=!1,t.$emit("refresh")}}}),a("v-divider"),a("v-card-text",[t.updateTaskForm?a("task-form",{attrs:{"form-bottom-sheet":t.updateTaskForm,"parent-task":t.taskDetail.parent,"action-data":t.actionData},on:{"dismiss-form":function(e){t.updateTaskForm=!1,t.$emit("refresh")}}}):t._e()],1)],1)],1)],1)},i=[],n=a("5530"),r=(a("a9e3"),a("19c3")),o=a("2f62"),l={components:{TaskForm:r["a"]},props:{taskDetail:{type:Object,required:!0},taskCurrentStatus:{type:Number,default:0},readOnly:{type:Boolean,default:!0}},data:function(){return{taskStatusItems:[{text:"Pending",value:1},{text:"In Progress",value:2},{text:"On Hold",value:3},{text:"Completed",value:4},{text:"Closed",value:5}],updateTaskForm:!1,actionData:void 0,configs:{toolbar:!1,spellChecker:!1}}},computed:Object(n["a"])(Object(n["a"])({},Object(o["c"])({getAuthStateUser:"auth/getAuthStateUser"})),{},{canEditTask:function(){return!(!this.taskDetail.recurring||this.taskDetail.created_by.id!==this.getAuthStateUser.user.id)||!this.readOnly&&this.taskDetail.created_by.id===this.getAuthStateUser.user.id&&!this.taskDetail.approved&&5!==this.taskDetail.status&&3!==this.taskDetail.status}})},c=l,u=a("2877"),d=a("6544"),h=a.n(d),p=a("8212"),m=a("8336"),f=a("b0af"),v=a("99d9"),g=a("cc20"),y=a("62ad"),k=a("169a"),b=a("ce7e"),_=a("132d"),x=a("3a2f"),C=Object(u["a"])(c,s,i,!1,null,null,null);e["a"]=C.exports;h()(C,{VAvatar:p["a"],VBtn:m["a"],VCard:f["a"],VCardText:v["c"],VChip:g["a"],VCol:y["a"],VDialog:k["a"],VDivider:b["a"],VIcon:_["a"],VTooltip:x["a"]})},a019:function(t,e,a){"use strict";a("99af");e["a"]={getUserResultAreas:function(t,e){return"/hris/".concat(t,"/user-result-areas/").concat(e,"/")}}},a4fe:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"mb-3"},[a("vue-card-title",{attrs:{title:"Task Attachments",subtitle:"Refer the following information for task attachments.",icon:"mdi-file-document-outline",clickable:""},on:{click:function(e){t.showMore=!t.showMore}}},[a("template",{slot:"actions"},[a("v-avatar",{attrs:{size:"30",color:"teal"}},[a("span",{staticClass:"white--text text-caption font-weight-bold",domProps:{textContent:t._s(t.attachmentCount)}})]),a("v-icon",{staticClass:"pointer",domProps:{textContent:t._s(t.showMore?"mdi-menu-up":"mdi-menu-down")},on:{click:function(e){t.showMore=!t.showMore}}})],1)],2),t.showMore?a("div",[a("v-divider"),a("v-card-text",[t.taskAttachments.length?t._l(t.taskAttachments,(function(e,s){return a("v-row",{key:s,staticClass:"ma-3",attrs:{align:"start"}},[a("v-hover",{scopedSlots:t._u([{key:"default",fn:function(i){var n=i.hover;return a("div",{},[a("span",[t._v(" "+t._s(s+1)+". "+t._s(e.caption||"N/A")+" ")]),a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(s){var i=s.on;return[a("v-icon",t._g({attrs:{small:""},domProps:{textContent:t._s("mdi-eye-outline")},on:{click:function(a){return t.viewAttachment(e.attachment)}}},i))]}}],null,!0)},[a("span",{domProps:{textContent:t._s("View Attachment")}})]),a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(s){var i=s.on;return[a("v-icon",t._g({attrs:{size:"13"},domProps:{textContent:t._s("mdi-content-save-outline")},on:{click:function(a){return t.downloadAttachment(e.attachment)}}},i))]}}],null,!0)},[a("span",{domProps:{textContent:t._s("Download Attachment")}})]),n&&t.canDeleteAttachment(e)?a("v-icon",{attrs:{small:""},domProps:{textContent:t._s("mdi-close")},on:{click:function(e){t.deleteNotification.dialog=!0,t.deleteAttachmentIndex=s}}}):t._e()],1)}}],null,!0)})],1)})):a("vue-no-data",{attrs:{height:100,text:"There are no attachments on this task"}})],2),a("v-divider"),t.taskDetail.completion_verified||t.readOnly?t._e():a("v-card-actions",{staticClass:"primaryLight"},[a("v-row",{staticClass:"px-3",attrs:{align:"center"}},[a("v-col",[a("file-upload",t._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{hint:"Files with jpg, png, odt extensions isn't available for preview."},model:{value:t.form.attachment,callback:function(e){t.$set(t.form,"attachment",e)},expression:"form.attachment"}},"file-upload",t.veeValidate("attachment","Attachment *"),!1))],1),a("v-col",[a("v-text-field",t._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],model:{value:t.form.caption,callback:function(e){t.$set(t.form,"caption",e)},expression:"form.caption"}},"v-text-field",t.veeValidate("caption","Caption *"),!1))],1),a("v-col",{staticClass:"mr-3",attrs:{cols:"1"}},[a("v-btn",{attrs:{small:"",color:"primary",depressed:""},domProps:{textContent:t._s("Add")},on:{click:t.addAttachment}})],1)],1)],1)],1):t._e(),a("vue-dialog",{attrs:{notify:t.deleteNotification},on:{close:function(e){t.deleteNotification.dialog=!1},agree:t.deleteAttachment}})],1)},i=[],n=a("1da1"),r=a("5530"),o=(a("96cf"),a("a434"),a("b0c0"),a("f82f")),l=a("e585"),c=a("c44a"),u=a("2f62"),d=a("f8a4"),h={components:{FileUpload:o["a"],VueNoData:l["default"]},mixins:[c["a"]],props:{taskDetail:{type:Object,required:!0},readOnly:{type:Boolean,default:!0}},data:function(){return{form:{attachment:"",caption:""},deleteAttachmentIndex:null,deleteNotification:{dialog:!1,heading:"Confirm Delete",text:"Are you sure you want to delete this attachment?"},attachmentCount:"",taskAttachments:[],showMore:!1}},computed:Object(r["a"])({},Object(u["c"])({getAuthStateUser:"auth/getAuthStateUser"})),created:function(){this.getTaskAttachments()},methods:{getTaskAttachments:function(){var t=this;this.$http.get(d["a"].getAttachment(this.taskDetail.id)).then((function(e){t.taskAttachments=e.results,t.attachmentCount=e.count}))},deleteAttachment:function(){var t=this,e=this.taskAttachments[this.deleteAttachmentIndex].id;this.$http.delete(d["a"].deleteAttachment(this.taskDetail.id,e)).then((function(){t.notifyUser("Successfully deleted attachment","green"),t.deleteNotification.dialog=!1,t.taskAttachments.splice(t.deleteAttachmentIndex,1),t.getTaskAttachments()}))},addAttachment:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.validateAllFields();case 2:if(!e.sent){e.next=8;break}a=new FormData,a.append("attachment",t.form.attachment,t.form.attachment.name),a.append("caption",t.form.caption),a.append("task",t.taskDetail.id),t.$http.post(d["a"].postAttachment(t.taskDetail.id),a).then((function(e){t.notifyUser("Successfully uploaded attachment","green"),t.taskAttachments.push(e),t.form={},t.getTaskAttachments()})).catch((function(e){t.pushErrors(e)}));case 8:case"end":return e.stop()}}),e)})))()},downloadAttachment:function(t){window.open(t)},viewAttachment:function(t){var e="https://docs.google.com/viewerng/viewer?url=".concat(t);window.open(e,"_blank")},canDeleteAttachment:function(t){return t.created_by===this.getAuthStateUser.user.id&&t.created_by!==this.taskDetail.created_by.id||t.created_by===this.getAuthStateUser.user.id&&t.created_by===this.taskDetail.created_by.id&&1===this.taskDetail.status}}},p=h,m=a("2877"),f=a("6544"),v=a.n(f),g=a("8212"),y=a("8336"),k=a("b0af"),b=a("99d9"),_=a("62ad"),x=a("ce7e"),C=a("ce87"),D=a("132d"),w=a("0fd9b"),T=a("8654"),S=a("3a2f"),O=Object(m["a"])(p,s,i,!1,null,null,null);e["a"]=O.exports;v()(O,{VAvatar:g["a"],VBtn:y["a"],VCard:k["a"],VCardActions:b["a"],VCardText:b["c"],VCol:_["a"],VDivider:x["a"],VHover:C["a"],VIcon:D["a"],VRow:w["a"],VTextField:T["a"],VTooltip:S["a"]})},a51f:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.search.length>0?a("span",[t._v(' Your search for "'+t._s(t.search)+'" found no results. ')]):t.loading?a("v-skeleton-loader",{attrs:{type:"table",height:t.skeletonLoaderHeight}}):a("no-data-found",{attrs:{text:t.text,height:t.height}},[t._t("default")],2)],1)},i=[],n=(a("a9e3"),a("e585")),r={components:{NoDataFound:n["default"]},props:{search:{type:String,default:""},loading:{type:Boolean,required:!0},text:{type:String,default:"No data available at the moment"},height:{type:[String,Number],default:200},skeletonLoaderHeight:{type:[String,Number],default:void 0}}},o=r,l=a("2877"),c=a("6544"),u=a.n(c),d=a("3129"),h=Object(l["a"])(o,s,i,!1,null,null,null);e["default"]=h.exports;u()(h,{VSkeletonLoader:d["a"]})},a609:function(t,e,a){"use strict";var s=a("5530"),i=(a("7e58"),a("3860")),n=a("a9ad"),r=a("58df");e["a"]=Object(r["a"])(i["a"],n["a"]).extend({name:"v-btn-toggle",props:{backgroundColor:String,borderless:Boolean,dense:Boolean,group:Boolean,rounded:Boolean,shaped:Boolean,tile:Boolean},computed:{classes:function(){return Object(s["a"])(Object(s["a"])({},i["a"].options.computed.classes.call(this)),{},{"v-btn-toggle":!0,"v-btn-toggle--borderless":this.borderless,"v-btn-toggle--dense":this.dense,"v-btn-toggle--group":this.group,"v-btn-toggle--rounded":this.rounded,"v-btn-toggle--shaped":this.shaped,"v-btn-toggle--tile":this.tile},this.themeClasses)}},methods:{genData:function(){var t=this.setTextColor(this.color,Object(s["a"])({},i["a"].options.methods.genData.call(this)));return this.group?t:this.setBackgroundColor(this.backgroundColor,t)}}})},a743:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"mb-3"},[a("vue-card-title",{attrs:{icon:"mdi-file-document-outline",title:"Task CheckLists",subtitle:"List of checklist"}},[a("template",{slot:"actions"},[a("v-icon",{domProps:{textContent:t._s(t.showMore?"mdi-menu-up":"mdi-menu-down")},on:{click:function(e){t.showMore=!t.showMore}}})],1)],2),t.showMore?a("div",[a("v-divider"),a("v-card-text",[a("v-progress-linear",{attrs:{height:5,value:t.convertFloat(t.completion)}}),a("v-col",[a("v-row",[a("v-col",{attrs:{md:"6",cols:"12"}},[a("div",{domProps:{textContent:t._s("Pending Checklist")}}),1===t.task.status?a("span",[t._v("'Please move the task to "),a("b",[t._v("In Progress")]),t._v(" to complete checklist'")]):t._e(),t.loading?a("div",{domProps:{textContent:t._s("Loading pending checklist.")}}):t.pendingChecklists.length?t._l(t.pendingChecklists,(function(e){return a("v-checkbox",{key:e.id,attrs:{value:!1,label:e.check_list_title,disabled:2!==t.task.status||!t.task.responsible_persons.find((function(e){return e.user.id===t.getAuthStateUser.user.id})),"hide-details":""},on:{change:function(a){t.checkListID=e.id,t.completeTask()}}})})):a("div",{domProps:{textContent:t._s("All checklists are completed")}})],2),a("v-divider",{attrs:{vertical:""}}),a("v-col",{attrs:{md:"5",cols:"12"}},[a("div",{domProps:{textContent:t._s("Completed Checklist")}}),t.loading?a("div",{domProps:{textContent:t._s("Loading completed checklist.")}}):t.completedChecklists.length?a("v-list",t._l(t.completedChecklists,(function(e){return a("div",{key:e.id,attrs:{avatar:""}},[a("strong",[t._v(t._s(e.check_list_title))]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(s){var i=s.on;return[t.task.responsible_persons.find((function(e){return e.user.id===t.getAuthStateUser.user.id}))&&2===t.task.status?a("v-icon",t._g({attrs:{size:"15"},domProps:{textContent:t._s("mdi-undo-variant")},on:{click:function(a){t.checkListID=e.id,t.UndoCheckList()}}},i)):t._e()]}}],null,!0)},[a("span",[t._v("Undo Checklist")])])],1)})),0):a("div",{domProps:{textContent:t._s("No checklists are completed yet")}})],1)],1)],1)],1)],1):t._e(),a("vue-dialog",{attrs:{notify:t.completeChecklist},on:{close:function(e){t.completeChecklist.dialog=!1},agree:t.completeTask}})],1)},i=[],n=a("1da1"),r=a("5530"),o=(a("96cf"),a("a9e3"),a("4de4"),a("d3b7"),a("b680"),a("2f62")),l=a("f8a4"),c=a("2a18"),u={props:{taskId:{type:[Number,String],required:!0},readOnly:{type:Boolean,default:!0}},data:function(){return{completeChecklist:{heading:"Confirm Completion",text:"Are you sure you want to complete this check list?",dialog:!1},checkListID:null,showMore:!0,task:"",checkLists:[],completion:0,completedChecklists:[],pendingChecklists:[],loading:!1}},computed:Object(r["a"])({},Object(o["c"])({getAuthStateUser:"auth/getAuthStateUser"})),watch:{checkLists:function(){this.completedChecklists=this.checkLists.filter((function(t){return t.completed_by})),this.pendingChecklists=this.checkLists.filter((function(t){return!t.completed_by}))}},created:function(){this.fetchChecklistDetail()},methods:Object(r["a"])(Object(r["a"])({},Object(o["d"])({setSnackBar:"common/setSnackBar"})),{},{fetchChecklistDetail:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,t.$http.get(l["a"].taskDetail(t.taskId)).then((function(e){t.task=e,t.checkLists=e.check_lists,t.completion=e.task_completion_percentage})).finally((function(){t.loading=!1}));case 3:case"end":return e.stop()}}),e)})))()},completeTask:function(){var t=this;this.loading=!0,this.pendingChecklists=[],this.$http.post(c["a"].completeCheckList(this.task.id,this.checkListID)).then((function(){t.setSnackBar({text:"Successfully completed checklist.",color:"green"}),t.checkListID=null,t.completeChecklist.dialog=!1,t.fetchChecklistDetail()}))},UndoCheckList:function(){var t=this;this.loading=!0,this.completedChecklists=[],this.$http.post(c["a"].completeCheckList(this.task.id,this.checkListID)).then((function(){t.setSnackBar({text:"Successfully Undone checklist.",color:"green"}),t.checkListID=null,t.completeChecklist.dialog=!1,t.fetchChecklistDetail()}))},convertFloat:function(t){return t.toFixed(2)}})},d=u,h=a("2877"),p=a("6544"),m=a.n(p),f=a("b0af"),v=a("99d9"),g=a("ac7c"),y=a("62ad"),k=a("ce7e"),b=a("132d"),_=a("8860"),x=a("8e36"),C=a("0fd9b"),D=a("3a2f"),w=Object(h["a"])(d,s,i,!1,null,null,null);e["a"]=w.exports;m()(w,{VCard:f["a"],VCardText:v["c"],VCheckbox:g["a"],VCol:y["a"],VDivider:k["a"],VIcon:b["a"],VList:_["a"],VProgressLinear:x["a"],VRow:C["a"],VTooltip:D["a"]})},ab8a:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.changeType&&0!==t.nonFieldErrors.length?a("div",t._l(t.nonFieldErrors,(function(e,s){return a("v-col",{key:s},t._l(e,(function(e,s){return a("div",{key:s},[a("span",{domProps:{textContent:t._s(t.key)}}),a("span",{domProps:{textContent:t._s(e.toString())}})])})),0)})),1):t._e(),t.changeType||0===t.nonFieldErrors.length?t._e():a("v-alert",{staticClass:"ma-3",attrs:{outlined:"",dense:"",tile:"",dismissible:"",color:"danger"}},[a("span",{domProps:{textContent:t._s("There are some errors")}}),t._l(t.nonFieldErrors,(function(e,s){return a("div",{key:s},t._l(e,(function(e,s){return a("div",{key:s},[a("ul",[a("li",[a("span",{domProps:{textContent:t._s(t.key)}}),a("span",{domProps:{textContent:t._s(e.toString())}})])])])})),0)}))],2)],1)},i=[],n={props:{nonFieldErrors:{type:Array,required:!0},changeType:{type:Boolean,default:!1}},data:function(){return{key:""}}},r=n,o=a("2877"),l=a("6544"),c=a.n(l),u=a("0798"),d=a("62ad"),h=Object(o["a"])(r,s,i,!1,null,null,null);e["default"]=h.exports;c()(h,{VAlert:u["a"],VCol:d["a"]})},abd3:function(t,e,a){},b1a9:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",{attrs:{dense:"",align:"start"}},[a("v-col",{attrs:{md:"6",cols:"12"}},[a("file-upload",{staticClass:"pr-2",attrs:{label:"Attachment",hint:"Files with jpg, png, odt extensions are not available for preview."},model:{value:t.attachment,callback:function(e){t.attachment=e},expression:"attachment"}})],1),a("v-col",{attrs:{md:"6",cols:"12"}},[a("v-text-field",{staticClass:"pl-2",attrs:{"data-cy":"input-caption",disabled:!t.attachment,label:"Caption"},model:{value:t.caption,callback:function(e){t.caption=e},expression:"caption"}},[a("v-icon",{attrs:{slot:"append-outer","data-cy":"btn-add-attachment",color:"primary"},on:{click:t.appendFile},slot:"append-outer"},[t._v(" mdi-plus-box-outline ")])],1)],1)],1)},i=[],n=a("5530"),r=a("f82f"),o=a("2f62"),l={components:{FileUpload:r["a"]},props:{value:{type:Array,default:function(){return[]}}},data:function(){return{attachment:"",caption:"",attachments:[]}},watch:{attachments:function(t){this.$emit("input",t)}},methods:Object(n["a"])(Object(n["a"])({},Object(o["d"])({setSnackBar:"common/setSnackBar"})),{},{appendFile:function(){this.attachment&&this.caption?(this.setSnackBar({display:!1}),this.attachments.unshift({file:this.attachment,caption:this.caption}),this.attachment=null,this.caption=""):this.setSnackBar({text:"Please add both attachment and caption",color:"red"})}})},c=l,u=a("2877"),d=a("6544"),h=a.n(d),p=a("62ad"),m=a("132d"),f=a("0fd9b"),v=a("8654"),g=Object(u["a"])(c,s,i,!1,null,null,null);e["a"]=g.exports;h()(g,{VCol:p["a"],VIcon:m["a"],VRow:f["a"],VTextField:v["a"]})},b5b6:function(t,e,a){},b73d:function(t,e,a){"use strict";var s=a("5530"),i=(a("0481"),a("ec29"),a("9d01"),a("fe09")),n=a("c37a"),r=a("c3f0"),o=a("0789"),l=a("490a"),c=a("80d2");e["a"]=i["a"].extend({name:"v-switch",directives:{Touch:r["a"]},props:{inset:Boolean,loading:{type:[Boolean,String],default:!1},flat:{type:Boolean,default:!1}},computed:{classes:function(){return Object(s["a"])(Object(s["a"])({},n["a"].options.computed.classes.call(this)),{},{"v-input--selection-controls v-input--switch":!0,"v-input--switch--flat":this.flat,"v-input--switch--inset":this.inset})},attrs:function(){return{"aria-checked":String(this.isActive),"aria-disabled":String(this.isDisabled),role:"switch"}},validationState:function(){return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0},switchData:function(){return this.setTextColor(this.loading?void 0:this.validationState,{class:this.themeClasses})}},methods:{genDefaultSlot:function(){return[this.genSwitch(),this.genLabel()]},genSwitch:function(){return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.genInput("checkbox",Object(s["a"])(Object(s["a"])({},this.attrs),this.attrs$)),this.genRipple(this.setTextColor(this.validationState,{directives:[{name:"touch",value:{left:this.onSwipeLeft,right:this.onSwipeRight}}]})),this.$createElement("div",Object(s["a"])({staticClass:"v-input--switch__track"},this.switchData)),this.$createElement("div",Object(s["a"])({staticClass:"v-input--switch__thumb"},this.switchData),[this.genProgress()])])},genProgress:function(){return this.$createElement(o["c"],{},[!1===this.loading?null:this.$slots.progress||this.$createElement(l["a"],{props:{color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,size:16,width:2,indeterminate:!0}})])},onSwipeLeft:function(){this.isActive&&this.onChange()},onSwipeRight:function(){this.isActive||this.onChange()},onKeydown:function(t){(t.keyCode===c["y"].left&&this.isActive||t.keyCode===c["y"].right&&!this.isActive)&&this.onChange()}}})},c197:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.divClass},[a("v-img",{class:t.imgClass,attrs:{src:"/svg/three-dots.svg",height:t.height,contain:""}}),a("h3",{staticClass:"text-center grey--text",domProps:{textContent:t._s(t.message)}})],1)},i=[],n={props:{message:{type:String,default:"Please wait. Fetching data just for you ..."},divClass:{type:String,default:"pa-12"},imgClass:{type:String,default:"my-6"},height:{type:String,default:"20"}},data:function(){return{}}},r=n,o=a("2877"),l=a("6544"),c=a.n(l),u=a("adda"),d=Object(o["a"])(r,s,i,!1,null,null,null);e["default"]=d.exports;c()(d,{VImg:u["a"]})},cde3:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"download-only"},t._l(t.users,(function(e,s){return a("v-chip",{key:s,staticClass:"ma-1",attrs:{small:"",label:""}},[t._v(" "+t._s(e.full_name)+" ")])})),1),a("v-row",{staticClass:"download-hidden",attrs:{"no-gutters":""}},[t.users&&!t.users.length?a("div",[a("v-col",{staticClass:"ma-0 pa-0"},[a("v-avatar",{staticClass:"mr-1",attrs:{size:"20"}},[a("v-img",{attrs:{src:"/images/info/user-default.png"}})],1),a("span",{staticClass:"grey--text text-caption"},[t._v("No Employee")])],1)],1):t._l(t.users.slice(0,3),(function(e,s){return a("div",{key:s,staticClass:"text-left"},[a("v-badge",{attrs:{dot:"",right:"",bottom:"",overlap:"","offset-y":"5",color:e.user&&e.user.is_online?"green":"transparent"}},[a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(s){var i=s.on;return[a("a",[a("v-avatar",t._g({staticClass:"mr-n1",attrs:{size:t.imgSize}},i),[a("v-img",{attrs:{height:t.imgSize,width:t.imgSize,src:e.profile_picture||e.user.profile_picture},on:{click:t.showMore}})],1)],1)]}}],null,!0)},[a("span",{domProps:{textContent:t._s(e.full_name||e.user.full_name)}}),e[t.type]?a("span",[t._v(" : "),a("span",{domProps:{textContent:t._s(e[t.type])}})]):t._e()])],1)],1)})),t.users&&t.users.length&&t.totalUsers>3?a("div",[a("v-col",{staticClass:"pl-2 py-0 text-subtitle-1"},[a("a",{on:{click:t.showMore}},[t._v(" +"+t._s(parseInt(t.totalUsers)-3)+" ")])])],1):t._e()],2)],1)},i=[],n=(a("a9e3"),{name:"ThumbnailUsers",props:{users:{type:Array,default:function(){return[]}},totalUsers:{type:Number,required:!0},type:{type:String,default:""},imgSize:{type:[String,Number],default:22}},watch:{users:function(t){this.users=t}},methods:{showMore:function(){this.users&&0===this.users.length||this.$emit("showMore")}}}),r=n,o=(a("2ab5"),a("2877")),l=a("6544"),c=a.n(l),u=a("8212"),d=a("4ca6"),h=a("cc20"),p=a("62ad"),m=a("adda"),f=a("0fd9b"),v=a("3a2f"),g=Object(o["a"])(r,s,i,!1,null,"51021d54",null);e["default"]=g.exports;c()(g,{VAvatar:u["a"],VBadge:d["a"],VChip:h["a"],VCol:p["a"],VImg:m["a"],VRow:f["a"],VTooltip:v["a"]})},ce87:function(t,e,a){"use strict";var s=a("16b7"),i=a("f2e7"),n=a("58df"),r=a("d9bd");e["a"]=Object(n["a"])(s["a"],i["a"]).extend({name:"v-hover",props:{disabled:{type:Boolean,default:!1},value:{type:Boolean,default:void 0}},methods:{onMouseEnter:function(){this.runDelay("open")},onMouseLeave:function(){this.runDelay("close")}},render:function(){return this.$scopedSlots.default||void 0!==this.value?(this.$scopedSlots.default&&(t=this.$scopedSlots.default({hover:this.isActive})),Array.isArray(t)&&1===t.length&&(t=t[0]),t&&!Array.isArray(t)&&t.tag?(this.disabled||(t.data=t.data||{},this._g(t.data,{mouseenter:this.onMouseEnter,mouseleave:this.onMouseLeave})),t):(Object(r["c"])("v-hover should only contain a single element",this),t)):(Object(r["c"])("v-hover is missing a default scopedSlot or bound value",this),null);var t}})},d949:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("vue-card-title",{attrs:{title:"Parent Task",subtitle:"This task is the sub task of task"+t.taskDetail.parent.id+" : "+t.taskDetail.parent.title,icon:"mdi-file-document-outline"}}),a("v-divider"),a("v-card-text",[a("v-row",[a("v-col",[a("a",{on:{click:function(e){return t.viewTaskDetails(t.taskDetail.parent.id)}}},[t._v(" "+t._s(t.taskDetail.parent.id)+": "+t._s(t.taskDetail.parent.title)+" ")])]),a("v-col",[t._v(t._s(t.taskDetail.parent.priority))]),a("v-col",[t._v(" "+t._s(t.taskStatusItems[t.taskDetail.parent.status-1].text)+" ")])],1)],1)],1)},i=[],n={props:{taskDetail:{type:Object,required:!0}},data:function(){return{taskStatusItems:[{text:"Pending",value:1},{text:"In Progress",value:2},{text:"On Hold",value:3},{text:"Completed",value:4},{text:"Closed",value:5}]}},methods:{viewTaskDetails:function(t){this.$router.push({name:"user-task-my-id-detail",params:{id:t}})}}},r=n,o=a("2877"),l=a("6544"),c=a.n(l),u=a("b0af"),d=a("99d9"),h=a("62ad"),p=a("ce7e"),m=a("0fd9b"),f=Object(o["a"])(r,s,i,!1,null,null,null);e["a"]=f.exports;c()(f,{VCard:u["a"],VCardText:d["c"],VCol:h["a"],VDivider:p["a"],VRow:m["a"]})},e076:function(t,e,a){"use strict";a("8df9")},e330:function(t,e,a){"use strict";a.d(e,"b",(function(){return r})),a.d(e,"a",(function(){return o})),a.d(e,"c",(function(){return l})),a.d(e,"d",(function(){return c}));var s=a("92fa"),i=a.n(s),n=function(){return Math.random().toString(36).substring(2)},r={name:"ContentLoader",functional:!0,props:{width:{type:[Number,String],default:400},height:{type:[Number,String],default:130},speed:{type:Number,default:2},preserveAspectRatio:{type:String,default:"xMidYMid meet"},baseUrl:{type:String,default:""},primaryColor:{type:String,default:"#f9f9f9"},secondaryColor:{type:String,default:"#ecebeb"},primaryOpacity:{type:Number,default:1},secondaryOpacity:{type:Number,default:1},uniqueKey:{type:String},animate:{type:Boolean,default:!0}},render:function(t,e){var a=e.props,s=e.data,r=e.children,o=a.uniqueKey?a.uniqueKey+"-idClip":n(),l=a.uniqueKey?a.uniqueKey+"-idGradient":n();return t("svg",i()([s,{attrs:{viewBox:"0 0 "+a.width+" "+a.height,version:"1.1",preserveAspectRatio:a.preserveAspectRatio}}]),[t("rect",{style:{fill:"url("+a.baseUrl+"#"+l+")"},attrs:{"clip-path":"url("+a.baseUrl+"#"+o+")",x:"0",y:"0",width:a.width,height:a.height}}),t("defs",[t("clipPath",{attrs:{id:o}},[r||t("rect",{attrs:{x:"0",y:"0",rx:"5",ry:"5",width:a.width,height:a.height}})]),t("linearGradient",{attrs:{id:l}},[t("stop",{attrs:{offset:"0%","stop-color":a.primaryColor,"stop-opacity":a.primaryOpacity}},[a.animate?t("animate",{attrs:{attributeName:"offset",values:"-2; 1",dur:a.speed+"s",repeatCount:"indefinite"}}):null]),t("stop",{attrs:{offset:"50%","stop-color":a.secondaryColor,"stop-opacity":a.secondaryOpacity}},[a.animate?t("animate",{attrs:{attributeName:"offset",values:"-1.5; 1.5",dur:a.speed+"s",repeatCount:"indefinite"}}):null]),t("stop",{attrs:{offset:"100%","stop-color":a.primaryColor,"stop-opacity":a.primaryOpacity}},[a.animate?t("animate",{attrs:{attributeName:"offset",values:"-1; 2",dur:a.speed+"s",repeatCount:"indefinite"}}):null])])])])}},o={name:"BulletListLoader",functional:!0,render:function(t,e){var a=e.data;return t(r,a,[t("circle",{attrs:{cx:"10",cy:"20",r:"8"}}),t("rect",{attrs:{x:"25",y:"15",rx:"5",ry:"5",width:"220",height:"10"}}),t("circle",{attrs:{cx:"10",cy:"50",r:"8"}}),t("rect",{attrs:{x:"25",y:"45",rx:"5",ry:"5",width:"220",height:"10"}}),t("circle",{attrs:{cx:"10",cy:"80",r:"8"}}),t("rect",{attrs:{x:"25",y:"75",rx:"5",ry:"5",width:"220",height:"10"}}),t("circle",{attrs:{cx:"10",cy:"110",r:"8"}}),t("rect",{attrs:{x:"25",y:"105",rx:"5",ry:"5",width:"220",height:"10"}})])}},l={name:"FacebookLoader",functional:!0,render:function(t,e){var a=e.data;return t(r,a,[t("rect",{attrs:{x:"70",y:"15",rx:"4",ry:"4",width:"117",height:"6.4"}}),t("rect",{attrs:{x:"70",y:"35",rx:"3",ry:"3",width:"85",height:"6.4"}}),t("rect",{attrs:{x:"0",y:"80",rx:"3",ry:"3",width:"350",height:"6.4"}}),t("rect",{attrs:{x:"0",y:"100",rx:"3",ry:"3",width:"380",height:"6.4"}}),t("rect",{attrs:{x:"0",y:"120",rx:"3",ry:"3",width:"201",height:"6.4"}}),t("circle",{attrs:{cx:"30",cy:"30",r:"30"}})])}},c={name:"ListLoader",functional:!0,render:function(t,e){var a=e.data;return t(r,a,[t("rect",{attrs:{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"}}),t("rect",{attrs:{x:"20",y:"20",rx:"3",ry:"3",width:"220",height:"10"}}),t("rect",{attrs:{x:"20",y:"40",rx:"3",ry:"3",width:"170",height:"10"}}),t("rect",{attrs:{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"}}),t("rect",{attrs:{x:"20",y:"80",rx:"3",ry:"3",width:"200",height:"10"}}),t("rect",{attrs:{x:"20",y:"100",rx:"3",ry:"3",width:"80",height:"10"}})])}}},ef8c:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-autocomplete",{class:t.appliedClass,attrs:{items:t.itemsSorted,loading:t.isLoading,"search-input":t.search,multiple:t.multiple,label:t.label,error:t.errorMessages.length>0,"error-messages":t.errorMessages,disabled:t.disabled,"prepend-inner-icon":t.prependInnerIcon,clearable:t.clearable&&!t.readonly,readonly:!!t.readonly,"hide-details":t.hideDetails,"data-cy":"input-user-autocomplete-"+t.dataCyVariable,placeholder:t.placeholder,"hide-selected":"","hide-no-data":"","item-text":"full_name","item-value":"id"},on:{"update:searchInput":function(e){t.search=e},"update:search-input":function(e){t.search=e},blur:function(e){return t.$emit("blur")}},scopedSlots:t._u([{key:"selection",fn:function(e){return[a("v-chip",{attrs:{"input-value":e.selected,close:(t.clearable||!t.clearable&&!t.multiple)&&!t.readonly,small:""},on:{"click:close":function(a){return t.remove(e.item)}}},[a("v-avatar",{attrs:{left:""}},[a("v-img",{attrs:{src:e.item.profile_picture,cover:""}})],1),t._v(" "+t._s(t._f("truncate")(e.item.full_name,t.truncate))+" ")],1)]}},{key:"item",fn:function(e){var s=e.item;return[a("v-list-item-avatar",[a("v-avatar",{attrs:{size:"30"}},[a("v-img",{attrs:{src:s.profile_picture,cover:""}})],1)],1),a("v-list-item-content",[a("v-list-item-title",[t._v(" "+t._s(t._f("truncate")(s.full_name,20))+" "),s.employee_code?a("span",[t._v("("+t._s(s.employee_code)+")")]):t._e()]),s.division?a("v-list-item-subtitle",{domProps:{textContent:t._s(s.division)}}):t._e()],1)]}}]),model:{value:t.selectedData,callback:function(e){t.selectedData=e},expression:"selectedData"}})],1)},i=[],n=a("53ca"),r=(a("a9e3"),a("ac1f"),a("841c"),a("4e827"),a("2ca0"),a("d81d"),a("a434"),a("d3b7"),a("159b"),a("7db0"),a("4de4"),a("caad"),a("2532"),a("fab2")),o=a("63ea"),l=a.n(o),c={props:{value:{type:[Number,String,Array,Object],required:!1,default:function(){return null}},dataCyVariable:{type:String,default:""},userObject:{type:[Object,Array],required:!1,default:function(){return{}}},params:{type:[Object,Array],required:!1,default:function(){return{}}},multiple:{type:Boolean,required:!1,default:!1},disabled:{type:Boolean,required:!1,default:!1},errorMessages:{type:[String,Array],default:function(){return[]}},label:{type:String,default:"Select Employee"},prependInnerIcon:{type:String,default:"mdi-account-plus-outline"},itemsToExclude:{type:[Array,Number],default:null},itemsToInclude:{type:[Array,Number],default:null},clearable:{type:Boolean,default:!0},readonly:{type:Boolean,default:!1},hideDetails:{type:Boolean,default:!1},appliedClass:{type:String,default:""},truncate:{type:Number,default:10},placeholder:{type:String,default:""}},data:function(){return{isLoading:!1,items:[],allUsers:[],selectedData:null,search:null}},computed:{itemsSorted:function(){return this.sortBySearch(this.items,this.search?this.search.toLowerCase():"")}},watch:{value:{handler:function(t,e){!t&&e&&(this.selectedData="",this.populateInitialUsers()),!e&&t&&this.populateInitialUsers()},immediate:!0},search:function(t){!t||this.items.length>0||this.fetchUsers()},selectedData:function(t){this.search="",this.syncUserData(t),this.$emit("input",t)},itemsToExclude:function(){this.items=this.excludeRecord(this.allUsers)},itemsToInclude:function(){this.items=this.includeRecord(this.allUsers)},params:{handler:function(t,e){l()(t,e)||this.fetchUsers()},deep:!0}},methods:{sortBySearch:function(t,e){return t.sort((function(t,a){return t.full_name.toLowerCase().startsWith(e)&&a.full_name.toLowerCase().startsWith(e)?t.full_name.toLowerCase().localeCompare(a.full_name.toLowerCase()):t.full_name.toLowerCase().startsWith(e)?-1:a.full_name.toLowerCase().startsWith(e)?1:t.full_name.toLowerCase().localeCompare(a.full_name.toLowerCase())}))},populateInitialUsers:function(){this.fetchUsers(this.value),Array.isArray(this.value)?"object"===Object(n["a"])(this.value[0])?this.selectedData=this.value.map((function(t){return t.user.id})):this.selectedData=this.value:null===this.value?this.selectedData="":"object"===Object(n["a"])(this.value)?this.selectedData=this.value.id:this.selectedData=this.value,this.$emit("input",this.selectedData)},remove:function(t){if(this.selectedData instanceof Object){var e=this.selectedData.indexOf(t.id);e>=0&&this.selectedData.splice(e,1),this.$emit("remove",t)}else this.selectedData=""},fetchUsers:function(t){var e=this;this.isLoading||(this.isLoading=!0,this.$http.get(r["a"].autocomplete,{params:this.params}).then((function(a){e.allUsers=a,e.itemsToExclude&&(a=e.excludeRecord(a)),e.itemsToInclude&&(a=e.includeRecord(a)),e.items=a,t&&e.syncUserData(t)})).finally((function(){return e.isLoading=!1})))},syncUserData:function(t){var e=this;if(t instanceof Array){var a=[];t.forEach((function(t){a.unshift(e.items.find((function(e){return e.id===t})))})),this.$emit("update:userObject",a)}else{var s=this.items.find((function(e){return e.id===t}));this.$emit("update:userObject",s)}},excludeRecord:function(t){var e=[];return"number"===typeof this.itemsToExclude?e.push(this.itemsToExclude):e=this.itemsToExclude,t.filter((function(t){return!e.includes(t.id)}))},includeRecord:function(t){var e=this;return t.filter((function(t){return e.itemsToInclude.includes(t.id)}))}}},u=c,d=a("2877"),h=a("6544"),p=a.n(h),m=a("c6a6"),f=a("8212"),v=a("cc20"),g=a("adda"),y=a("8270"),k=a("5d23"),b=Object(d["a"])(u,s,i,!1,null,null,null);e["default"]=b.exports;p()(b,{VAutocomplete:m["a"],VAvatar:f["a"],VChip:v["a"],VImg:g["a"],VListItemAvatar:y["a"],VListItemContent:k["a"],VListItemSubtitle:k["b"],VListItemTitle:k["c"]})},f82f:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-text-field",{class:t.appliedClass,attrs:{id:t.id,label:t.label,"data-cy":"input-file-upload",error:t.errorMessages.length>0,"error-messages":t.errorMessages,"hide-details":t.hideDetails,hint:t.hint,"persistent-hint":!!t.hint,disabled:t.disabled,readonly:"","prepend-inner-icon":"mdi-attachment","append-icon":"mdi-close"},on:{"click:prepend":t.pickFile,"click:append":function(e){return t.clear()},click:t.pickFile,blur:function(e){return t.$emit("blur")}},model:{value:t.fileName,callback:function(e){t.fileName=e},expression:"fileName"}}),a("input",{ref:"upload",staticClass:"d-none",attrs:{id:"fileUpload",type:"file",multiple:"multiple"},on:{change:t.upload}})],1)},i=[],n=a("1da1"),r=a("5530"),o=(a("96cf"),a("a9e3"),a("ac1f"),a("1276"),a("b0c0"),a("2f62")),l={props:{value:{type:[String,File,Object],default:void 0},default:{type:[String,File],default:void 0},text:{type:String,default:void 0},id:{type:String,default:""},label:{type:String,default:"Browse file from here"},hint:{type:String,default:void 0},errorMessages:{type:[String,Array],default:function(){return[]}},hideDetails:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},appliedClass:{type:String,default:""},returnObject:{type:Boolean,default:!1},maxSize:{type:Number,default:5}},data:function(){return{fileName:null}},watch:{default:{handler:function(t){!t||t instanceof File||(this.fileName=t)},immediate:!0},value:function(t){t||(this.fileName=""),document.getElementById("fileUpload").value=null}},methods:Object(r["a"])(Object(r["a"])({},Object(o["d"])({setSnackBar:"common/setSnackBar"})),{},{pickFile:function(){this.$refs.upload.click()},upload:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var s,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:s=new FileReader,s.readAsDataURL(t.target.files[0]),i="",1===t.target.files[0].name.split(".").length?i="Please upload known file type.":t.target.files[0].size>1024*e.maxSize*1024?i="File size cannot be greater than ".concat(e.maxSize,"MB."):"svg"===t.target.files[0].name.split(".").pop()&&(i="SVG image not allowed here."),i?e.setSnackBar({text:i,color:"red"}):s.onload=function(){e.returnObject?e.$emit("input",{file_name:t.target.files[0].name,file_content:t.target.files[0]}):e.$emit("input",t.target.files[0]),e.$emit("blur"),e.$emit("update",s.result),e.fileName=t.target.files[0].name};case 5:case"end":return a.stop()}}),a)})))()},clear:function(){this.fileName=null,this.returnObject?this.$emit("input",{file_name:"",file_content:""}):this.$emit("input",this.fileName)}})},c=l,u=a("2877"),d=a("6544"),h=a.n(d),p=a("8654"),m=Object(u["a"])(c,s,i,!1,null,null,null);e["a"]=m.exports;h()(m,{VTextField:p["a"]})},fab2:function(t,e,a){"use strict";e["a"]={getUserList:"/users/",postUser:"/users/",autocomplete:"/users/autocomplete/",postImportUser:"/users/import/",downloadUserImportSample:function(t){return"/users/import/sample/?organization=".concat(t)},getUserDetail:function(t){return"/users/".concat(t,"/")},getInternalUserDetail:function(t){return"/users/".concat(t,"/internal-detail")},deleteUser:function(t){return"/users/".concat(t,"/")},updateUser:function(t){return"/users/".concat(t,"/")},changePassword:function(t){return"/users/".concat(t,"/change-password/")},getUserCV:function(t){return"/users/".concat(t,"/cv/")},getProfileCompleteness:function(t){return"users/".concat(t,"/profile-completeness/")}}}}]);