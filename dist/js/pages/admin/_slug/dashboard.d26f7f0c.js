(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages/admin/_slug/dashboard"],{"0075":function(t,e,a){"use strict";a("99af");e["a"]={getHoliday:function(t){return"/org/".concat(t,"/holiday/")},postHoliday:function(t){return"/org/".concat(t,"/holiday/")},updateHoliday:function(t,e){return"/org/".concat(t,"/holiday/").concat(e,"/")},deleteHoliday:function(t,e){return"/org/".concat(t,"/holiday/").concat(e,"/")},exportHoliday:function(t){return"/org/".concat(t,"/holiday/export/")},importHoliday:function(t){return"/org/".concat(t,"/holiday/import/")},downloadSampleHoliday:function(t){return"/org/".concat(t,"/holiday/import/sample")}}},1555:function(t,e,a){"use strict";a("99af");e["a"]={getChangeRequest:function(t){return"/hris/".concat(t,"/change-requests/")},acceptChangeRequest:function(t,e){return"/hris/".concat(t,"/change-requests/").concat(e,"/approve/")},rejectChangeRequest:function(t,e){return"/hris/".concat(t,"/change-requests/").concat(e,"/reject/")}}},"1e51":function(t,e,a){"use strict";a("99af");e["a"]={getOnLeave:function(t){return"/leave/".concat(t,"/reports/on-leave/")},getLeaveCategory:function(t){return"/leave/".concat(t,"/reports/on-leave/by-category/")},getStatusReport:function(t){return"/leave/".concat(t,"/reports/on-leave/status-report/")},getOnLeaveByAge:function(t){return"/leave/".concat(t,"/reports/on-leave/age-report/")},getOnLeaveByGender:function(t){return"/leave/".concat(t,"/reports/on-leave/gender-report/")},getOnLeaveByMaritalStatus:function(t){return"/leave/".concat(t,"/reports/on-leave/marital-status-report/")},getRecurrenceLeaveReport:function(t){return"/leave/".concat(t,"/reports/recurrence/")},getLeaveIrregularitiesReport:function(t){return"/leave/".concat(t,"/reports/leave-irregularities/")},getLeaveReportByDivision:function(t){return"/leave/".concat(t,"/reports/overview/division/")},getOnLeaveByMonth:function(t){return"/leave/".concat(t,"/reports/by-month/")},getAllLeaves:function(t){return"/leave/".concat(t,"/reports/overview/all-leaves/")},getTodayOnLeave:function(t){return"/leave/".concat(t,"/reports/on-leave-users/today-summary/")},getMostLeavePending:function(t){return"/leave/".concat(t,"/reports/most-leaves/pending/")},getMostLeaveDenied:function(t){return"/leave/".concat(t,"/reports/most-leaves/denied/")},getLeaveSummary:function(t){return"/leave/".concat(t,"/reports/overview/summary/")},getOnLeaveUsers:function(t){return"/leave/".concat(t,"/reports/on-leave-users/")},getOnLeaveUsersThisMonth:function(t){return"/leave/".concat(t,"/reports/on-leave-users/this-month/")},getFutureOnLeaveUsers:function(t){return"/leave/".concat(t,"/reports/on-leave-users/future/")},getEmployeeWithMostLeaves:function(t){return"/leave/".concat(t,"/reports/leave-irregularities/most-leaves/")},getLeaveIrregularities:function(t){return"/leave/".concat(t,"/reports/leave-irregularities/irregularity-overview/")},getUserOnLeaveByDepartment:function(t){return"/leave/".concat(t,"/reports/overview/division/")},getAverageLeaveByDivision:function(t){return"/leave/".concat(t,"/reports/overview/division/average-leave/")},getIndividualMonthlyLeave:function(t,e){return"/leave/".concat(t,"/reports/individual-leave-detail/").concat(e,"/")},getCarryForwardLeaveDetails:function(t){return"/leave/".concat(t,"/reports/carry-forward-details/")},getLeaveApproval:function(t){return"leave/".concat(t,"/leave-approval-setting/")},getEncashmentReport:function(t){return"/leave/".concat(t,"/reports/encashments/")}}},"219f":function(t,e,a){},"227f":function(t,e,a){"use strict";a("99af");e["a"]={getAllLeaveRequest:function(t){return"/leave/".concat(t,"/request/")},getLeaveReportExport:function(t){return"/leave/".concat(t,"/request/export/")},getLeaveRequestDetail:function(t,e){return"/leave/".concat(t,"/request/").concat(e,"/")},getOverviewLeaveRequest:function(t){return"/leave/".concat(t,"/request/counts/")},getRequestHistory:function(t,e){return"/leave/".concat(t,"/user/").concat(e,"/requests/")},getLeaveTypeHistory:function(t,e){return"/leave/".concat(t,"/request/").concat(e,"/history/")},getRequestBalance:function(t,e){return"/leave/".concat(t,"/user-balance/").concat(e,"/")},postByUser:function(t){return"/leave/".concat(t,"/request/")},requestOnBehalf:function(t){return"/leave/".concat(t,"/request-on-behalf/")},approveRequest:function(t,e){return"/leave/".concat(t,"/request/").concat(e,"/")},declineRequest:function(t,e){return"/leave/".concat(t,"/request/").concat(e,"/")},forwardRequest:function(t,e){return"/leave/".concat(t,"/request/").concat(e,"/")},deleteLeaveRequest:function(t,e){return"/leave/".concat(t,"/request/").concat(e,"/")},postBulkLeaveRequest:function(t){return"/leave/".concat(t,"/request/bulk-action/")},getDeleteRequest:function(t,e){return"/leave/".concat(t,"/delete-request/").concat(e,"/")},approveDeleteRequest:function(t,e){return"/leave/".concat(t,"/delete-request/").concat(e,"/approve/")},denyDeleteRequest:function(t,e){return"/leave/".concat(t,"/delete-request/").concat(e,"/deny/")},forwardDeleteRequest:function(t,e){return"/leave/".concat(t,"/delete-request/").concat(e,"/deny/")},cancelApprovedLeave:function(t,e){return"/leave/".concat(t,"/request/").concat(e,"/")},alternateLeaveAccountsApply:function(t){return"/leave/".concat(t,"/request/alternate-leave-accounts-apply/")}}},"2d0ad":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("vue-page-wrapper",{attrs:{title:t.htmlTitle,"bread-crumbs":t.breadCrumbItems}},[a("v-lazy",{attrs:{options:{threshold:.5},"min-height":"400"},model:{value:t.viewHris,callback:function(e){t.viewHris=e},expression:"viewHris"}},[a("v-row",{attrs:{dense:""}},[a("v-col",{attrs:{cols:"12"}},[t._v(" HRIS ")]),t.verifyPermission(t.allPermissions.HAS_ACCESS_TO_HRIS)?a("v-col",{attrs:{cols:"12"}},[a("hris-summary")],1):t._e(),t.verifyPermission(t.allPermissions.CAN_APPROVE_DENY_CHANGE_REQUEST)?a("v-col",{attrs:{md:"4",cols:"12",sm:"12"}},[a("profile-change-request-stat")],1):t._e(),a("v-col",{attrs:{md:"4",cols:"12",sm:"12"}},[a("events")],1),t.verifyPermission(t.allPermissions.CAN_APPROVE_DENY_CHANGE_REQUEST)?a("v-col",{attrs:{md:"4",cols:"12",sm:"12"}},[a("recently-joined")],1):t._e()],1)],1),t.verifyPermission(t.allPermissions.FULL_TRAINING_PERMISSION)?a("v-lazy",{attrs:{options:{threshold:.5},"min-height":"400"},model:{value:t.viewTraining,callback:function(e){t.viewTraining=e},expression:"viewTraining"}},[a("v-row",{attrs:{dense:""}},[a("v-col",{attrs:{cols:"12"}},[t._v(" Training ")]),a("v-col",{attrs:{cols:"12"}},[a("training-summary")],1),a("v-col",{attrs:{md:"4",cols:"12",sm:"12"}},[a("type-and-budget")],1),a("v-col",{attrs:{md:"4",cols:"12",sm:"12"}},[a("user-training",{attrs:{"training-info":"upcoming"}})],1),a("v-col",{attrs:{md:"4",cols:"12",sm:"12"}},[a("user-training",{attrs:{"training-info":"completed"}})],1)],1)],1):t._e(),a("v-lazy",{attrs:{options:{threshold:.5},"min-height":"400"},model:{value:t.viewAttendance,callback:function(e){t.viewAttendance=e},expression:"viewAttendance"}},[a("v-row",{attrs:{dense:""}},[a("v-col",{attrs:{cols:"12"}},[t._v(" Attendance ")]),t.verifyPermission(t.allPermissions.HAS_PERMISSIONS_IN_ATTENDANCE)?a("v-col",{attrs:{cols:"12"}},[a("attendance-statistics",{attrs:{"hide-total-count":""}})],1):t._e(),t.verifyPermission(t.allPermissions.CAN_VIEW_ATTENDANCE_REPORTS)?a("v-col",{attrs:{md:"4",sm:"12"}},[a("attendance-first-dashboard",{attrs:{as:"hr"}})],1):t._e(),t.verifyPermission(t.allPermissions.CAN_VIEW_ATTENDANCE_REPORTS)?a("v-col",{attrs:{md:"4",sm:"12"}},[a("attendance-second-dashboard")],1):t._e(),t.verifyPermission(t.allPermissions.CAN_VIEW_ATTENDANCE_REPORTS)?a("v-col",{attrs:{md:"4",sm:"12"}},[a("employee-to-watch",{attrs:{"dashboard-view":""}})],1):t._e()],1)],1),a("v-lazy",{attrs:{options:{threshold:.5},"min-height":"400"},model:{value:t.viewLeave,callback:function(e){t.viewLeave=e},expression:"viewLeave"}},[a("v-row",{attrs:{dense:""}},[a("v-col",{attrs:{cols:"12"}},[t._v(" Leave ")]),t.verifyPermission(t.allPermissions.HAS_PERMISSIONS_IN_LEAVE)?a("v-col",{attrs:{cols:"12"}},[a("leave-statistics",{attrs:{"hide-total-count":""}})],1):t._e(),t.verifyPermission(t.allPermissions.HAS_PERMISSIONS_IN_LEAVE)?a("v-col",{attrs:{md:"4",cols:"12",sm:"12"}},[a("leave-request",{attrs:{"dashboard-view":"",as:"hr"}})],1):t._e(),t.verifyPermission(t.allPermissions.HAS_PERMISSIONS_IN_LEAVE)?a("v-col",{attrs:{md:"4",cols:"12",sm:"12"}},[a("dashboard-leave-stat")],1):t._e(),t.verifyPermission(t.allPermissions.HAS_PERMISSIONS_IN_LEAVE)?a("v-col",{attrs:{md:"4",cols:"12",sm:"12"}},[a("on-leave-users")],1):t._e()],1)],1),a("v-lazy",{attrs:{options:{threshold:.5},"min-height":"400"},model:{value:t.viewTask,callback:function(e){t.viewTask=e},expression:"viewTask"}},[a("v-row",{attrs:{dense:""}},[a("v-col",{attrs:{cols:"12"}},[t._v(" Task ")]),t.verifyPermission(t.allPermissions.TASK_RELATED_HR_PERMISSIONS,!0)?a("v-col",{attrs:{cols:"12"}},[a("overview-bar",{attrs:{items:t.items,"enable-redirect-on-zero":"","hide-slider":""},on:{recent:function(e){return t.gotoAllTaskPage({recent:!0,priority:""})},filter:function(e){t.gotoAllTaskPage({priority:e.itemType.toUpperCase()})},all:t.gotoAllTaskPage}})],1):t._e(),t.verifyPermission(t.allPermissions.TASK_RELATED_HR_PERMISSIONS,!0)?a("v-col",{attrs:{md:"4",sm:"12"}},[a("task-first-dashboard")],1):t._e(),t.verifyPermission(t.allPermissions.TASK_RELATED_HR_PERMISSIONS,!0)?a("v-col",{attrs:{md:"4",sm:"12"}},[a("task-second-dashboard")],1):t._e(),t.verifyPermission(t.allPermissions.TASK_RELATED_HR_PERMISSIONS,!0)?a("v-col",{attrs:{md:"4",sm:"12"}},[a("task-second-dashboard",{attrs:{reverse:""}})],1):t._e()],1)],1)],1)},i=[],n=a("3835"),r=a("5530"),o=(a("4fad"),a("0549")),l=a("4863"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{height:"100%"}},[a("vue-card-title",{attrs:{title:"Profile Change Requests",subtitle:"Profile change requests information",icon:"mdi-send-outline"}}),a("v-divider"),t.loading?a("v-progress-linear",{attrs:{indeterminate:"",height:"2"}}):t._e(),a("v-card-text",{staticClass:"pt-0"},[0===t.requestDetails.length?a("v-row",[a("v-col",[a("vue-no-data")],1)],1):t._e(),a("v-list",{staticClass:"py-0"},[t._l(t.tabs,(function(e,s){return[a("v-list-item",{key:s,staticClass:"py-3"},[a("v-list-item-content",[a("v-list-item-title",{domProps:{textContent:t._s(e.text)}})],1),a("v-list-item-action",{staticClass:"text-center"},[a("v-list-item-title",{class:t.statusColor[e.value]+"--text pointer text-h6",attrs:{cols:"3"},on:{click:function(a){return t.filterByStatus(e.text,e.active)}}},[t._v(" "+t._s(t.requestDetails[e.value]||0)+" ")])],1)],1),s<t.tabs.length-1?a("v-divider",{key:"D-"+s}):t._e()]}))],2)],1)],1)},u=[],d=(a("d3b7"),a("e585")),v=a("1555"),m={components:{VueNoData:d["default"]},data:function(){return{requestDetails:{},tabs:[{text:"Pending",value:"pending",active:1},{text:"Approved",value:"approved",active:2},{text:"Rejected",value:"rejected",active:3}],statusColor:{pending:"orange",approved:"cyan",rejected:"red"},descending:!0,loading:!0}},watch:{descending:function(){this.fetchTopAssignee()}},created:function(){this.fetchTopAssignee()},methods:{fetchTopAssignee:function(){var t=this;this.loading=!0,this.$http.get(v["a"].getChangeRequest(this.getOrganizationSlug)+"?limit=0").then((function(e){t.requestDetails=e.stats})).finally((function(){t.loading=!1}))},filterByStatus:function(t,e){this.$router.push({name:"admin-slug-hris-change-requests",params:{slug:this.getOrganizationSlug},query:{active:e,status:t}})}}},h=m,p=(a("64ad"),a("2877")),g=a("6544"),f=a.n(g),y=a("b0af"),_=a("99d9"),b=a("62ad"),L=a("ce7e"),T=a("8860"),w=a("da13"),O=a("1800"),D=a("5d23"),x=a("8e36"),E=a("0fd9b"),S=Object(p["a"])(h,c,u,!1,null,"674dc486",null),k=S.exports;f()(S,{VCard:y["a"],VCardText:_["c"],VCol:b["a"],VDivider:L["a"],VList:T["a"],VListItem:w["a"],VListItemAction:O["a"],VListItemContent:D["a"],VListItemTitle:D["c"],VProgressLinear:x["a"],VRow:E["a"]});var C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{height:"100%"}},[a("vue-card-title",{attrs:{title:"Recent Employees",subtitle:"Recently Joined Employees",icon:"mdi-account-multiple"}}),a("v-divider"),a("v-card-text",{staticClass:"scrollbar-md py-0"},[0!==t.recentEmployees.length||t.loading?t._e():a("div",[a("vue-no-data",{attrs:{text:"No Recently Joined Employees"}})],1),t.loading?a("div",t._l(2,(function(t){return a("facebook-loader",{key:t,attrs:{"primary-color":"#eee","secondary-color":"#d5d5d7"}})})),1):t._e(),0===t.recentEmployees.length||t.loading?t._e():a("v-list",{staticClass:"py-0"},[t._l(t.recentEmployees,(function(e,s){return[a("v-list-item",{key:s},[a("v-list-item-content",[a("vue-user",{attrs:{user:e.user}})],1),a("v-list-item-action",[a("v-list-item-title",{domProps:{textContent:t._s(e.joined_date)}})],1)],1),s<t.recentEmployees.length-1?a("v-divider",{key:"D-"+s}):t._e()]}))],2)],1)],1)},V=[],M=a("e330"),U=a("02cb"),P=a("40e9"),Y={components:{VueNoData:d["default"],FacebookLoader:M["c"],VueUser:U["default"]},data:function(){return{recentEmployees:[],loading:!0}},created:function(){this.getRecentEmployee()},methods:{getRecentEmployee:function(){var t=this;this.$http.get(P["a"].getOrganizationUsers(this.getOrganizationSlug),{params:{joined_after:this.$dayjs().subtract(6,"months").format("YYYY-MM-DD"),ordering:"-joined_date",limit:5}}).then((function(e){t.loading=!1,t.recentEmployees=e.results}))}}},j=Y,A=Object(p["a"])(j,C,V,!1,null,null,null),I=A.exports;f()(A,{VCard:y["a"],VCardText:_["c"],VDivider:L["a"],VList:T["a"],VListItem:w["a"],VListItemAction:O["a"],VListItemContent:D["a"],VListItemTitle:D["c"]});var R=a("b0c03"),N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("overview-bar",{attrs:{items:t.items,"enable-redirect-on-zero":""},on:{click:function(e){return t.filterByStatus(e)}}})],1)},$=[],q=a("1da1"),F=(a("96cf"),a("a9e3"),a("84e9")),z=a("9bed"),K=a("2f62"),B={components:{OverviewBar:z["a"]},props:{supervisor:{type:[String,Number],default:""}},data:function(){return{summary:[],items:[],activeTab:{"Upcoming Training":0,"Completed Training":2,"Ongoing Training":1,"Onsite Training":4,"Offsite Training":4},trainingNatureMapper:{"Upcoming Training":null,"Completed Training":null,"Ongoing Training":null,"Onsite Training":"onsite","Offsite Training":"offsite"}}},computed:Object(r["a"])({},Object(K["c"])({getSupervisorOrgSlug:"supervisor/getOrganizationSlug"})),created:function(){var t=this;return Object(q["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getTrainingSummary();case 2:case"end":return e.stop()}}),e)})))()},methods:Object(r["a"])(Object(r["a"])({},Object(K["d"])({setQueryParams:"common/setQueryParams"})),{},{filterByStatus:function(t){this.setQueryParams({active:this.activeTab[t],trainingNature:this.trainingNatureMapper[t]}),this.$router.push({name:"admin-slug-training-training-list",params:{slug:this.getOrganizationSlug}})},getTrainingSummary:function(){var t=this,e={};this.supervisor&&(e.supervisor=this.supervisor),this.$http.get(F["a"].getTrainingStats(this.supervisor?this.getSupervisorOrgSlug:this.getOrganizationSlug),{params:e}).then((function(e){t.summary=e.stats,t.getOverview()}))},getOverview:function(){for(var t,e,a=0,s=Object.entries(this.summary);a<s.length;a++){var i=Object(n["a"])(s[a],2),r=i[0],o=i[1];"upcoming"===r&&(t="info",e="Upcoming Training"),"completed"===r&&(t="indigo",e="Completed Training"),"ongoing"===r&&(t="warning",e="Ongoing Training"),"offsite"===r&&(t="indigo",e="Offsite Training"),"onsite"===r&&(t="danger",e="Onsite Training"),this.items.push({name:e,count:o,color:t})}}})},H=B,Q=Object(p["a"])(H,N,$,!1,null,null,null),J=Q.exports,W=a("3867"),G=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{height:"100%"}},[t.loading?a("v-progress-linear",{attrs:{indeterminate:"",height:"2"}}):t._e(),a("v-card-text",[0===t.dashboardData1.length&&0===t.dashboardData2.length?a("v-row",[a("v-col",[a("vue-no-data")],1)],1):t._e(),a("div",[a("div",[a("v-list",{staticClass:"py-0"},[t._l(t.dashboardData1,(function(e,s){return[a("v-list-item",{key:"I-"+s},[a("v-list-item-content",[a("div",{domProps:{textContent:t._s(e.name)}})]),a("v-list-item-action",[e.count?a("v-list-item-title",{class:e.color+"--text pointer",attrs:{cols:"3"},domProps:{textContent:t._s(e.count)},on:{click:function(a){return t.redirectToPage(e.redirect)}}}):a("v-list-item-title",{class:e.color+"--text pointer ",attrs:{cols:"3"},domProps:{textContent:t._s(e.count)},on:{click:function(a){return t.redirectToPage(e.redirect)}}})],1)],1),a("v-divider",{key:"D-"+s})]})),a("v-list-item",[a("v-list-item-content",[a("div",{domProps:{textContent:t._s("Travel Attendance Pending")}})]),a("v-list-item-action",[a("v-list-item-title",{class:"orange--text pointer",attrs:{cols:"3"},domProps:{textContent:t._s(t.travelAttendancePending)},on:{click:function(e){return t.openTravelRequest()}}})],1)],1),a("v-divider"),t._l(t.dashboardData2,(function(e,s){return[a("v-list-item",{key:"D2-"+s},[e.dateNotation?a("v-list-item-icon",[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(s){var i=s.on;return[a("v-chip",t._g({attrs:{color:"primary",small:"",dark:""}},i),[t._v(" "+t._s(e.dateNotation)+" ")])]}}],null,!0)},[a("span",[t._v(" "+t._s("M"===e.dateNotation?"This Month":"This Year")+" ")])])],1):t._e(),a("v-list-item-content",[a("div",{domProps:{textContent:t._s(e.name)}})]),e.count?a("v-list-item-action",{attrs:{cols:"5"},on:{click:function(a){return t.getUsers(e)}}},[a("thumbnail-users",{attrs:{"total-users":e.count,users:e.users}})],1):a("v-list-item-action",{attrs:{cols:"5"}},[a("thumbnail-users",{attrs:{"total-users":e.count,users:e.users}})],1)],1),s<t.dashboardData2.length-1?a("v-divider",{key:"D3-"+s}):t._e()]}))],2)],1)]),t.showUsersList?a("user-list-dialog",{attrs:{endpoint:t.userEndpoint,title:t.listTitle},on:{close:function(e){t.showUsersList=!1}},scopedSlots:t._u([{key:"info",fn:function(e){var s=e.user;return[a("span",{domProps:{textContent:t._s(t.dialogInfoKey?Math.round(s[t.dialogInfoKey]):"")}})]}}],null,!1,3492434531),model:{value:t.showUsersList,callback:function(e){t.showUsersList=e},expression:"showUsersList"}}):t._e()],1)],1)},X=[],Z=a("b85c"),tt=(a("3ca3"),a("ddb0"),a("b0c0"),a("9815")),et=a("cde3"),at=a("de4a"),st=a("ad9d"),it=a("38ef"),nt={components:{VueNoData:d["default"],UserListDialog:tt["default"],ThumbnailUsers:et["default"]},props:{as:{type:String,default:""}},data:function(){return{userEndpoint:"",dayFilter:{start_date:this.$dayjs().format("YYYY-MM-DD"),end_date:this.$dayjs().format("YYYY-MM-DD")},yesterdayFilter:{start_date:this.$dayjs().subtract(1,"days").format("YYYY-MM-DD"),end_date:this.$dayjs().subtract(1,"days").format("YYYY-MM-DD")},listTitle:"",dashboardData1:[],dashboardData2:[],travelAttendancePending:0,loading:!1,showUsersList:!1,tabs1:[],tabs2:[],dialogInfoKey:""}},created:function(){this.tabs1=[{text:"Attendance Entry Pending Requests",api:at["a"].getAdjustmentCounts(this.getOrganizationSlug)+"?as=".concat(this.as),params:{},infoKey:"Requested",color:"orange",redirect:"admin-slug-attendance-requests-adjustments"},{text:"Overtime Pending Requests",api:st["a"].getOvertimeOverviewDetails(this.getOrganizationSlug)+"?as=".concat(this.as),params:{},infoKey:"Requested",color:"indigo",redirect:"admin-slug-attendance-requests-overtime-claim"}],this.tabs2=[{text:"Missing Punch In Today",api:at["a"].getMissedEntries(this.getOrganizationSlug,"missed_punch_in"),params:Object(r["a"])({},this.dayFilter),dateNotation:"",infoKey:""},{text:"Missing Punch Out Yesterday",api:at["a"].getMissedEntries(this.getOrganizationSlug,"missed_punch_out"),params:Object(r["a"])({},this.yesterdayFilter),dateNotation:"",infoKey:""}],this.fetchOverviewInformation(),this.fetchTravelAttendance()},methods:{fetchTravelAttendance:function(){var t=this;this.$http.get(it["a"].getCommonTravelAttendanceSummary+"?as=hr").then((function(e){t.travelAttendancePending=e.pending}))},fetchOverviewInformation:function(){var t=this;return Object(q["a"])(regeneratorRuntime.mark((function e(){var a,s,i,n,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.loading){e.next=37;break}t.dashboardData1=[],t.dashboardData2=[],t.loading=!0,a=Object(Z["a"])(t.tabs1),e.prev=5,i=regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=s.value,e.next=3,t.$http.get(a.api).then((function(e){var s={name:a.text,count:e.Requested,api:a.api,color:a.color,redirect:a.redirect};t.dashboardData1.push(s)}));case 3:case"end":return e.stop()}}),e)})),a.s();case 8:if((s=a.n()).done){e.next=12;break}return e.delegateYield(i(),"t0",10);case 10:e.next=8;break;case 12:e.next=17;break;case 14:e.prev=14,e.t1=e["catch"](5),a.e(e.t1);case 17:return e.prev=17,a.f(),e.finish(17);case 20:n=Object(Z["a"])(t.tabs2),e.prev=21,o=regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=r.value,e.next=3,t.$http.get(a.api+"?limit=4",{params:a.params}).then((function(e){var s={name:a.text,count:e.count,users:e.results,api:a.api,params:a.params,dateNotation:a.dateNotation,infoKey:a.infoKey};t.dashboardData2.push(s)}));case 3:case"end":return e.stop()}}),e)})),n.s();case 24:if((r=n.n()).done){e.next=28;break}return e.delegateYield(o(),"t2",26);case 26:e.next=24;break;case 28:e.next=33;break;case 30:e.prev=30,e.t3=e["catch"](21),n.e(e.t3);case 33:return e.prev=33,n.f(),e.finish(33);case 36:t.loading=!1;case 37:case"end":return e.stop()}}),e,null,[[5,14,17,20],[21,30,33,36]])})))()},getUsers:function(t){this.listTitle=t.name+" Employee List",this.showUsersList=!0,this.dialogInfoKey=t.infoKey,this.userEndpoint=t.api+this.convertToURLSearchParams(t.params)},redirectToPage:function(t){this.$router.push({name:t,params:{slug:this.getOrganizationSlug}})},openTravelRequest:function(){this.$router.push({name:"admin-slug-attendance-requests-travel-attendance-request",params:{slug:this.getOrganizationSlug}})}}},rt=nt,ot=a("cc20"),lt=a("34c3"),ct=a("3a2f"),ut=Object(p["a"])(rt,G,X,!1,null,null,null),dt=ut.exports;f()(ut,{VCard:y["a"],VCardText:_["c"],VChip:ot["a"],VCol:b["a"],VDivider:L["a"],VList:T["a"],VListItem:w["a"],VListItemAction:O["a"],VListItemContent:D["a"],VListItemIcon:lt["a"],VListItemTitle:D["c"],VProgressLinear:x["a"],VRow:E["a"],VTooltip:ct["a"]});var vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{height:"100%"}},[t.loading?a("v-progress-linear",{attrs:{indeterminate:"",height:"2"}}):t._e(),a("v-card-text",[0===t.dashboardData.length?a("v-row",[a("v-col",[a("vue-no-data")],1)],1):t._e(),a("v-list",[t._l(t.dashboardData,(function(e,s){return[a("v-list-item",{key:s,staticClass:"py-0"},[a("v-list-item-icon",{staticClass:"mx-0 pr-3"},[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(s){var i=s.on;return[a("v-chip",t._g({attrs:{color:"primary",dark:"",small:""}},i),[t._v(" "+t._s(e.dateNotation)+" ")])]}}],null,!0)},[a("span",[t._v(" "+t._s("M"===e.dateNotation?"This Month":"This Year")+" ")])])],1),a("v-list-item-content",["Most Punctual"===e.name||"Least Punctual"===e.name?a("span",{on:{click:function(a){return t.openDetails(e.name)}}},[t._v(" "+t._s(e.name)+" ")]):a("span",[t._v(" "+t._s(e.name)+" ")])]),e.count?a("v-list-item-action",{attrs:{cols:"5"},on:{click:function(a){return t.getUsers(e)}}},[a("thumbnail-users",{attrs:{"total-users":e.count,users:e.users}})],1):a("v-list-item-action",{attrs:{cols:"5"}},[a("thumbnail-users",{attrs:{"total-users":e.count,users:e.users}})],1)],1),s<t.dashboardData.length-1?a("v-divider",{key:"D-"+s}):t._e()]}))],2),t.showUsersList?a("user-list-dialog",{attrs:{endpoint:t.userEndpoint,title:t.listTitle,"header-info":t.getHeading},on:{close:function(e){t.showUsersList=!1}},scopedSlots:t._u([{key:"info",fn:function(e){var s=e.user;return[a("span",{domProps:{textContent:t._s(Math.round(s[t.dialogInfoKey]))}})]}}],null,!1,3804954231),model:{value:t.showUsersList,callback:function(e){t.showUsersList=e},expression:"showUsersList"}}):t._e()],1)],1)},mt=[],ht=(a("caad"),a("159b"),a("338b")),pt=a("cf45"),gt={components:{VueNoData:d["default"],UserListDialog:tt["default"],ThumbnailUsers:et["default"]},mixins:[ht["a"]],data:function(){return{userEndpoint:"",monthFilter:{start_date:"",end_date:""},yearFilter:{start_date:"",end_date:""},listTitle:"",dashboardData:[],loading:!1,showUsersList:!1,tabs:[],dialogInfoKey:""}},watch:{dateFilter:function(){this.dashboardData=[]}},computed:{getHeading:function(){return["Most Punctual Employee List","Least Punctual Employee List"].includes(this.listTitle)?"Punctuality %":"Most Break Frequency Employee List"===this.listTitle?"No. of Times Breakout":"Most Overtime Claimed Employee List"===this.listTitle?"Overtime Claimed Count":"Most Overtime Confirmed Employee List"===this.listTitle?"Overtime Confirmed Count":"Most Overtime Rejected Employee List"===this.listTitle?"Overtime Rejected Count":"Hours"}},created:function(){"Nepali"===Object(pt["f"])("VUE_APP_SET_DEFAULT_CALENDAR_TO")?(this.monthFilter.start_date=this.getMonthStartDate(),this.yearFilter.start_date=this.getThisYearStartDate()):(this.monthFilter.start_date=this.$dayjs().startOf("month").format("YYYY-MM-DD"),this.yearFilter.start_date=this.$dayjs().startOf("year").format("YYYY-MM-DD")),this.monthFilter.end_date=this.$dayjs().format("YYYY-MM-DD"),this.yearFilter.end_date=this.$dayjs().format("YYYY-MM-DD"),this.tabs=[{text:"Most Break Frequency",api:at["a"].getBreakOutFrequency(this.getOrganizationSlug),params:Object(r["a"])({},this.monthFilter),dateNotation:"M",infoKey:"break_frequency"},{text:"Most Punctual",api:at["a"].getPunctualityDetails(this.getOrganizationSlug),params:Object(r["a"])(Object(r["a"])({},this.yearFilter),{},{ordering:"-punctuality"}),dateNotation:"Y",infoKey:"punctuality"},{text:"Least Punctual",api:at["a"].getPunctualityDetails(this.getOrganizationSlug),params:Object(r["a"])(Object(r["a"])({},this.yearFilter),{},{ordering:"punctuality"}),dateNotation:"Y",infoKey:"punctuality"},{text:"Most Overtime Claimed",api:at["a"].getOvertimeUserList(this.getOrganizationSlug,"max_ots"),params:Object(r["a"])({},this.monthFilter),dateNotation:"M",infoKey:"max_ots"},{text:"Most Overtime Confirmed",api:at["a"].getOvertimeUserList(this.getOrganizationSlug,"confirmed"),params:Object(r["a"])({},this.monthFilter),dateNotation:"M",infoKey:"confirmed"},{text:"Most Overtime Rejected",api:at["a"].getOvertimeUserList(this.getOrganizationSlug,"declined"),params:Object(r["a"])({},this.monthFilter),dateNotation:"M",infoKey:"declined"}],this.fetchOverviewInformation()},methods:{fetchOverviewInformation:function(){var t=this;return Object(q["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.loading||(t.dashboardData=[],t.loading=!0,t.tabs.forEach((function(e){t.$http.get(e.api+"?limit=4",{params:e.params}).then((function(a){var s={name:e.text,count:a.count,users:a.results,api:e.api,dateFilter:e.params.dateFilter,params:e.params,dateNotation:e.dateNotation,infoKey:e.infoKey};t.dashboardData.push(s)}))})),t.loading=!1);case 1:case"end":return e.stop()}}),e)})))()},getUsers:function(t){this.listTitle=t.name+" Employee List",this.showUsersList=!0,this.dialogInfoKey=t.infoKey,this.userEndpoint=t.api+this.convertToURLSearchParams(t.params)},openDetails:function(t){var e="Most Punctual"===t?"most":"least";this.$router.push({name:"admin-slug-attendance-reports-punctuality",params:{slug:this.getOrganizationSlug},query:{punctuality:e}})}}},ft=gt,yt=Object(p["a"])(ft,vt,mt,!1,null,null,null),_t=yt.exports;f()(yt,{VCard:y["a"],VCardText:_["c"],VChip:ot["a"],VCol:b["a"],VDivider:L["a"],VList:T["a"],VListItem:w["a"],VListItemAction:O["a"],VListItemContent:D["a"],VListItemIcon:lt["a"],VProgressLinear:x["a"],VRow:E["a"],VTooltip:ct["a"]});var bt=a("007e"),Lt=a("73f9"),Tt=a("5788"),wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{height:"100%"}},[t.loading?a("v-progress-linear",{attrs:{indeterminate:"",height:"2"}}):t._e(),a("v-card-text",[0===t.dashboardData.length?a("v-row",[a("v-col",[a("vue-no-data")],1)],1):t._e(),a("div",[a("v-list",[t._l(t.dashboardData,(function(e,s){return[a("v-list-item",{key:s,staticClass:"py-0"},[e.dateNotation?a("v-list-item-icon",{staticClass:"mx-0 pr-3"},[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(s){var i=s.on;return[a("v-chip",t._g({attrs:{color:"primary",dark:"",small:""}},i),[t._v(" "+t._s(e.dateNotation)+" ")])]}}],null,!0)},[a("span",[t._v(" "+t._s("M"===e.dateNotation?"This Month":"This Year")+" ")])])],1):t._e(),a("v-list-item-content",["Most Punctual"===e.name||"Least Punctual"===e.name?a("span",{on:{click:function(a){return t.openDetails(e.name)}}},[t._v(" "+t._s(e.name)+" ")]):a("span",[t._v(" "+t._s(e.name)+" ")])]),e.count?a("v-list-item-action",{attrs:{cols:"5"},on:{click:function(a){return t.getUsers(e)}}},[a("thumbnail-users",{attrs:{"total-users":e.count,users:e.users}})],1):a("v-list-item-action",{attrs:{cols:"5"}},[a("thumbnail-users",{attrs:{"total-users":e.count,users:e.users}})],1)],1),s<t.dashboardData.length-1?a("v-divider",{key:"D-"+s}):t._e()]}))],2)],1),t.showUsersList?a("user-list-dialog",{attrs:{endpoint:t.userEndpoint,title:t.listTitle,"header-info":t.getHeading},on:{close:function(e){t.showUsersList=!1}},scopedSlots:t._u([{key:"info",fn:function(e){var s=e.user;return[a("span",{domProps:{textContent:t._s(s[t.dialogInfoKey])}})]}}],null,!1,169236170),model:{value:t.showUsersList,callback:function(e){t.showUsersList=e},expression:"showUsersList"}}):t._e()],1)],1)},Ot=[],Dt=a("1e51"),xt={components:{VueNoData:d["default"],UserListDialog:tt["default"],ThumbnailUsers:et["default"]},mixins:[ht["a"]],data:function(){return{userEndpoint:"",monthFilter:{start_date:"",end_date:""},yearFilter:{start_date:"",end_date:""},listTitle:"",dashboardData:[],loading:!1,showUsersList:!1,tabs:[],dialogInfoKey:""}},watch:{dateFilter:function(){this.dashboardData=[]}},computed:{getHeading:function(){return["Future On Leave Employee List","On Leave This Month Employee List"].includes(this.listTitle)?"Date Range":"Days"}},created:function(){"Nepali"===Object(pt["f"])("VUE_APP_SET_DEFAULT_CALENDAR_TO")?(this.monthFilter.start_date=this.getMonthStartDate(),this.yearFilter.start_date=this.getThisYearStartDate()):(this.monthFilter.start_date=this.$dayjs().startOf("month").format("YYYY-MM-DD"),this.yearFilter.start_date=this.$dayjs().startOf("year").format("YYYY-MM-DD")),this.monthFilter.end_date=this.$dayjs().format("YYYY-MM-DD"),this.yearFilter.end_date=this.$dayjs().format("YYYY-MM-DD"),this.tabs=[{text:"Most Leave Taken",api:Dt["a"].getEmployeeWithMostLeaves(this.getOrganizationSlug),params:Object(r["a"])({},this.monthFilter),dateNotation:"M",infoKey:"result"},{text:"Least Leave Taken",api:Dt["a"].getEmployeeWithMostLeaves(this.getOrganizationSlug),params:Object(r["a"])(Object(r["a"])({},this.monthFilter),{},{ordering:"-result"}),dateNotation:"M",infoKey:"result"},{text:"Future On Leave",api:Dt["a"].getFutureOnLeaveUsers(this.getOrganizationSlug),params:{},dateNotation:"",infoKey:"range"},{text:"On Leave This Month",api:Dt["a"].getOnLeaveUsersThisMonth(this.getOrganizationSlug),params:{},dateNotation:"",infoKey:"range"}],this.fetchOverviewInformation()},methods:{fetchOverviewInformation:function(){var t=this;return Object(q["a"])(regeneratorRuntime.mark((function e(){var a,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.loading){e.next=20;break}t.dashboardData=[],t.loading=!0,a=Object(Z["a"])(t.tabs),e.prev=4,i=regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=s.value,e.next=3,t.$http.get(a.api+"?limit=4",{params:a.params}).then((function(e){var s={name:a.text,count:e.count,users:e.results,api:a.api,dateFilter:a.params.dateFilter,params:a.params,dateNotation:a.dateNotation,infoKey:a.infoKey};t.dashboardData.push(s)}));case 3:case"end":return e.stop()}}),e)})),a.s();case 7:if((s=a.n()).done){e.next=11;break}return e.delegateYield(i(),"t0",9);case 9:e.next=7;break;case 11:e.next=16;break;case 13:e.prev=13,e.t1=e["catch"](4),a.e(e.t1);case 16:return e.prev=16,a.f(),e.finish(16);case 19:t.loading=!1;case 20:case"end":return e.stop()}}),e,null,[[4,13,16,19]])})))()},getUsers:function(t){this.listTitle=t.name+" Employee List",this.showUsersList=!0,this.dialogInfoKey=t.infoKey,this.userEndpoint=t.api+this.convertToURLSearchParams(t.params)}}},Et=xt,St=Object(p["a"])(Et,wt,Ot,!1,null,null,null),kt=St.exports;f()(St,{VCard:y["a"],VCardText:_["c"],VChip:ot["a"],VCol:b["a"],VDivider:L["a"],VList:T["a"],VListItem:w["a"],VListItemAction:O["a"],VListItemContent:D["a"],VListItemIcon:lt["a"],VProgressLinear:x["a"],VRow:E["a"],VTooltip:ct["a"]});var Ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{height:"100%"}},[a("vue-card-title",{attrs:{title:"Employees On Leave",subtitle:"Employees on leave today",icon:"mdi-account-multiple"}}),a("v-divider"),a("v-card-text",{staticClass:"py-0"},[0!==t.onLeaveUsers.length||t.loading?t._e():a("div",[a("vue-no-data",{attrs:{text:"No Recently Joined Employees."}})],1),t.loading?a("div",t._l(2,(function(t){return a("facebook-loader",{key:t,attrs:{"primary-color":"#eee","secondary-color":"#d5d5d7"}})})),1):t._e(),0===t.onLeaveUsers.length||t.loading?t._e():a("div",[a("v-list",{staticClass:"py-2"},[t._l(t.onLeaveUsers,(function(e,s){return[a("v-list-item",{key:s},[a("v-list-item-content",[a("vue-user",{attrs:{user:e}})],1)],1),s<t.onLeaveUsers.length-1?a("v-divider",{key:"D-"+s}):t._e()]}))],2)],1)])],1)},Vt=[],Mt={components:{VueNoData:d["default"],FacebookLoader:M["c"],VueUser:U["default"]},data:function(){return{onLeaveUsers:[],loading:!0}},created:function(){this.getOnLeaveUsers()},methods:{getOnLeaveUsers:function(){var t=this;this.$http.get(Dt["a"].getOnLeaveUsers(this.getOrganizationSlug),{params:{leave_for:"today",limit:5}}).then((function(e){t.loading=!1,t.onLeaveUsers=e.results}))}}},Ut=Mt,Pt=Object(p["a"])(Ut,Ct,Vt,!1,null,null,null),Yt=Pt.exports;f()(Pt,{VCard:y["a"],VCardText:_["c"],VDivider:L["a"],VList:T["a"],VListItem:w["a"],VListItemContent:D["a"]});var jt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{height:"100%"}},[t.loading?a("v-progress-linear",{attrs:{indeterminate:"",height:"2"}}):t._e(),a("v-card-text",[t.dashboardData&&0===t.dashboardData.length?a("v-row",[a("v-col",[a("vue-no-data")],1)],1):a("v-list",{staticClass:"py-0"},[t._l(t.dashboardData,(function(e,s){return[a("v-list-item",{key:s,staticClass:"py-1"},[a("v-list-item-content",[t._v(" "+t._s(e.name)+" ")]),a("v-list-item-action",{staticClass:"text-left"},[a("v-col",{staticClass:"text-center py-0"},[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(s){var i=s.on;return[a("span",t._g({staticClass:"warning--text text-h6 pointer",on:{click:function(a){return t.redirectPage(e.value,"delayed")}}},i),[t._v(" "+t._s(e.delayed)+" ")])]}}],null,!0)},[a("span",[t._v(" "+t._s(e.value?"Delayed":"Closed")+" ")])]),a("span",{staticClass:"text-h6"},[t._v("|")]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(s){var i=s.on;return[a("span",t._g({staticClass:"primary--text text-h6 pointer",on:{click:function(a){return t.redirectPage(e.value,"on_time")}}},i),[t._v(" "+t._s(e.on_time||0)+" ")])]}}],null,!0)},[a("span",[t._v(" "+t._s(e.value?"On Time":"On Hold")+" ")])])],1)],1)],1),s<t.dashboardData.length-1?a("v-divider",{key:"D-"+s}):t._e()]}))],2)],1)],1)},At=[],It=a("5299"),Rt={components:{VueNoData:d["default"]},props:{reverse:{type:Boolean,default:!1}},data:function(){return{userEndpoint:"",listTitle:"",dashboardData:[],loading:!1,showUsersList:!1,tabs:[],dialogInfoKey:""}},created:function(){this.tabs=[{text:"Pending Tasks",value:"pending"},{text:"In Progress Tasks",value:"in_progress"},{text:"Completed Tasks",value:"completed"},{text:"Closed & On Hold tasks",value:""},{text:"All Tasks",value:"all"}],this.fetchOverviewInformation()},methods:Object(r["a"])(Object(r["a"])({},Object(K["d"])({setQueryParams:"common/setQueryParams"})),{},{fetchOverviewInformation:function(){var t=this;return Object(q["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.loading){e.next=6;break}return t.dashboardData=[],t.loading=!0,e.next=5,t.$http.get(It["a"].getOverview+"?limit=0").then((function(e){var a,s=Object(Z["a"])(t.tabs);try{for(s.s();!(a=s.n()).done;){var i=a.value,n={name:i.text,value:i.value,delayed:i.value?e.summary[i.value].delayed:e.summary.closed.all,on_time:i.value?e.summary[i.value].on_time:e.summary.on_hold.all};t.dashboardData.push(n)}}catch(r){s.e(r)}finally{s.f()}}));case 5:t.loading=!1;case 6:case"end":return e.stop()}}),e)})))()},getUsers:function(t){this.listTitle=t.name+" Employee List",this.showUsersList=!0,this.dialogInfoKey=t.infoKey,this.userEndpoint=t.api+this.convertToURLSearchParams(t.params)},redirectPage:function(t,e){""===t?this.$router.push({name:"admin-slug-task-reports-closed-hold",params:{slug:this.$route.params.slug},query:{active:"delayed"===e?0:1,status:"delayed"===e?5:3}}):(this.setQueryParams({pre_condition:t,post_condition:e}),this.$router.push({name:"admin-slug-task-reports-all-task",params:{slug:this.$route.params.slug}}))}})},Nt=Rt,$t=Object(p["a"])(Nt,jt,At,!1,null,null,null),qt=$t.exports;f()($t,{VCard:y["a"],VCardText:_["c"],VCol:b["a"],VDivider:L["a"],VList:T["a"],VListItem:w["a"],VListItemAction:O["a"],VListItemContent:D["a"],VProgressLinear:x["a"],VRow:E["a"],VTooltip:ct["a"]});var Ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{height:"100%"}},[t.loading?a("v-progress-linear",{attrs:{indeterminate:"",height:"2"}}):t._e(),a("v-card-text",[0===t.dashboardData.length?a("v-row",[a("v-col",[a("vue-no-data")],1)],1):t._e(),a("div",[a("v-list",{staticClass:"py-0"},[t._l(t.dashboardData,(function(e,s){return[a("v-list-item",{key:s,staticClass:"py-0"},[a("v-list-item-icon",{staticClass:"mx-0 pr-3"},[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(s){var i=s.on;return[a("v-chip",t._g({attrs:{color:"primary",dark:"",small:""}},i),[t._v(" "+t._s(e.dateNotation)+" ")])]}}],null,!0)},[a("span",[t._v(" "+t._s("M"===e.dateNotation?"This Month":"This Year")+" ")])])],1),a("v-list-item-content",[a("span",[t._v(" "+t._s(e.name)+" ")])]),e.count?a("v-list-item-action",{attrs:{cols:"5"},on:{click:function(a){return t.getUsers(e)}}},[a("thumbnail-users",{attrs:{"total-users":e.count,users:e.users}})],1):a("v-list-item-action",{attrs:{cols:"5"}},[a("thumbnail-users",{attrs:{"total-users":e.count,users:e.users}})],1)],1),s<t.dashboardData.length-1?a("v-divider",{key:"D-"+s}):t._e()]}))],2)],1)],1),t.showUsersList?a("user-list-dialog",{attrs:{endpoint:t.userEndpoint,title:t.listTitle,"header-info":t.getHeading},on:{close:function(e){t.showUsersList=!1}},scopedSlots:t._u([{key:"info",fn:function(e){var s=e.user;return[a("span",{domProps:{textContent:t._s(Math.round(s[t.dialogInfoKey]))}})]}}],null,!1,3804954231),model:{value:t.showUsersList,callback:function(e){t.showUsersList=e},expression:"showUsersList"}}):t._e()],1)},zt=[],Kt={components:{VueNoData:d["default"],UserListDialog:tt["default"],ThumbnailUsers:et["default"]},props:{reverse:{type:Boolean,default:!1}},data:function(){return{userEndpoint:"",monthFilter:{start_date:"",end_date:""},listTitle:"",dashboardData:[],loading:!1,showUsersList:!1,tabs:[],dialogInfoKey:""}},computed:{getHeading:function(){return["Top Task Assignee Employee List","Least Task Assignee Employee List","Top Task Assigner Employee List","Least Task Assigner Employee List","Most Unverified Tasker Employee List","Least Unverified Tasker Employee List"].includes(this.listTitle)?"No. of Tasks":["Most Efficient Tasker Employee List","Least Efficient Tasker Employee List"].includes(this.listTitle)?"Efficiency %":["Top Task Leaderboard Employee List","Least Task Leaderboard Employee List"].includes(this.listTitle)?"Total Score Obtained":""}},created:function(){"Nepali"===Object(pt["f"])("VUE_APP_SET_DEFAULT_CALENDAR_TO")?this.monthFilter.start_date=this.getMonthStartDate():this.monthFilter.start_date=this.monthFilter.start_date=this.$dayjs().startOf("month").format("YYYY-MM-DD"),this.monthFilter.end_date=this.$dayjs().format("YYYY-MM-DD"),this.tabs=[{text:this.reverse?"Least Task Assignee":"Top Task Assignee",api:It["a"].getTopAssignee,params:Object(r["a"])(Object(r["a"])({},this.monthFilter),{},{ordering:this.reverse?"total_assigned":""}),dateNotation:"M",infoKey:"total_assigned"},{text:this.reverse?"Least Task Assigner":"Top Task Assigner",api:It["a"].getTopAssigner,params:Object(r["a"])(Object(r["a"])({},this.monthFilter),{},{ordering:this.reverse?"total_assigned":""}),dateNotation:"M",infoKey:"total_assigned"},{text:this.reverse?"Least Task Leaderboard":"Top Task Leaderboard",api:It["a"].getLeaderBoard,params:Object(r["a"])(Object(r["a"])({},this.monthFilter),{},{ordering:this.reverse?"points":""}),dateNotation:"M",infoKey:"points"},{text:this.reverse?"Least Efficient Tasker":"Most Efficient Tasker",api:It["a"].getMostEfficient,params:Object(r["a"])(Object(r["a"])({},this.monthFilter),{},{ordering:this.reverse?"total_efficiency":""}),dateNotation:"M",infoKey:"total_efficiency"},{text:this.reverse?"Least Unverified Tasker":"Most Unverified Tasker",api:It["a"].getMostUnverified,params:Object(r["a"])(Object(r["a"])({},this.monthFilter),{},{ordering:this.reverse?"total_tasks":""}),dateNotation:"M",infoKey:"total_tasks"}],this.fetchOverviewInformation()},methods:{fetchOverviewInformation:function(){var t=this;return Object(q["a"])(regeneratorRuntime.mark((function e(){var a,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.loading){e.next=20;break}t.dashboardData=[],t.loading=!0,a=Object(Z["a"])(t.tabs),e.prev=4,i=regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=s.value,e.next=3,t.$http.get(a.api+"?limit=4",{params:a.params}).then((function(e){var s={name:a.text,count:e.count||0,users:e.results,api:a.api,params:a.params,dateNotation:a.dateNotation,infoKey:a.infoKey};t.dashboardData.push(s)}));case 3:case"end":return e.stop()}}),e)})),a.s();case 7:if((s=a.n()).done){e.next=11;break}return e.delegateYield(i(),"t0",9);case 9:e.next=7;break;case 11:e.next=16;break;case 13:e.prev=13,e.t1=e["catch"](4),a.e(e.t1);case 16:return e.prev=16,a.f(),e.finish(16);case 19:t.loading=!1;case 20:case"end":return e.stop()}}),e,null,[[4,13,16,19]])})))()},getUsers:function(t){this.listTitle=t.name+" Employee List",this.showUsersList=!0,this.dialogInfoKey=t.infoKey,this.userEndpoint=t.api+this.convertToURLSearchParams(t.params)}}},Bt=Kt,Ht=Object(p["a"])(Bt,Ft,zt,!1,null,null,null),Qt=Ht.exports;f()(Ht,{VCard:y["a"],VCardText:_["c"],VChip:ot["a"],VCol:b["a"],VDivider:L["a"],VList:T["a"],VListItem:w["a"],VListItemAction:O["a"],VListItemContent:D["a"],VListItemIcon:lt["a"],VProgressLinear:x["a"],VRow:E["a"],VTooltip:ct["a"]});var Jt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{height:"100%"}},[a("vue-card-title",{attrs:{title:"Training Type and Budget",subtitle:"Training Type and Budget information",icon:"mdi-presentation"}}),a("v-divider"),t.loading?a("v-progress-linear",{attrs:{indeterminate:"",height:"2"}}):t._e(),a("v-card-text",{staticClass:"pt-0 scrollbar-sm"},[0===t.trainingTypeBudget.length?a("v-row",[a("v-col",[a("vue-no-data")],1)],1):t._e(),a("v-list",{staticClass:"py-0"},[t._l(t.trainingTypeBudget,(function(e,s){return[a("v-list-item",{key:s,staticClass:"py-3"},[a("v-list-item-content",[a("v-list-item-title",{domProps:{textContent:t._s(e.title)}})],1),a("v-list-item-action",{staticClass:"text-center blueGrey--text"},[a("v-list-item-title",{attrs:{cols:"3"}},[t._v(" "+t._s(e.amount_type)+" "+t._s(e.budget_limit)+" ")])],1)],1),s<t.trainingTypeBudget.length-1?a("v-divider",{key:"D-"+s}):t._e()]}))],2)],1)],1)},Wt=[],Gt={components:{VueNoData:d["default"]},data:function(){return{trainingTypeBudget:{},loading:!0}},created:function(){var t=this;this.loading=!0,this.$http.get(F["a"].getTrainingTypeBudget(this.getOrganizationSlug)).then((function(e){t.trainingTypeBudget=e.results})).finally((function(){t.loading=!1}))}},Xt=Gt,Zt=Object(p["a"])(Xt,Jt,Wt,!1,null,null,null),te=Zt.exports;f()(Zt,{VCard:y["a"],VCardText:_["c"],VCol:b["a"],VDivider:L["a"],VList:T["a"],VListItem:w["a"],VListItemAction:O["a"],VListItemContent:D["a"],VListItemTitle:D["c"],VProgressLinear:x["a"],VRow:E["a"]});var ee=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{height:"100%"}},[a("vue-card-title",{attrs:{title:t.trainingTitle,subtitle:t.trainingSubtitle,icon:"mdi-presentation"}}),a("v-divider"),t.loading?a("v-progress-linear",{attrs:{indeterminate:"",height:"2"}}):t._e(),a("v-card-text",{staticClass:"scrollbar-sm"},[0===t.dashboardData.length?a("v-row",[a("v-col",[a("vue-no-data")],1)],1):t._e(),a("div",[a("v-list",{staticClass:"py-0"},[t._l(t.dashboardData,(function(e,s){return[a("v-list-item",{key:s,staticClass:"py-0"},[a("v-list-item-icon",{staticClass:"mx-0 pr-3"},[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-chip",t._g({attrs:{color:"primary",dark:"",small:""}},s),[t._v(" M ")])]}}],null,!0)},[a("span",[t._v(" This Month ")])])],1),a("v-list-item-content",[a("span",[t._v(" "+t._s(e.name)+" ")])]),e.members?a("v-list-item-action",{attrs:{cols:"5"}},[a("thumbnail-users",{attrs:{"total-users":e.members.length,users:e.members},on:{showMore:function(a){return t.getUsers(e)}}})],1):t._e()],1),s<t.dashboardData.length-1?a("v-divider",{key:"D-"+s}):t._e()]}))],2)],1)],1),t.showUsersList?a("user-list-dialog",{attrs:{users:t.selectedTrainingUsers,title:t.listTitle},on:{close:function(e){t.showUsersList=!1}},model:{value:t.showUsersList,callback:function(e){t.showUsersList=e},expression:"showUsersList"}}):t._e()],1)},ae=[],se={components:{VueNoData:d["default"],UserListDialog:tt["default"],ThumbnailUsers:et["default"]},mixins:[ht["a"]],props:{trainingInfo:{type:String,required:!0}},data:function(){return{selectedTrainingUsers:[],monthFilter:{start_date:"",end_date:""},listTitle:"",dashboardData:[],loading:!1,showUsersList:!1,trainingTitle:"",trainingSubtitle:""}},created:function(){"upcoming"===this.trainingInfo?(this.trainingTitle="Upcoming Training",this.trainingSubtitle="Upcoming Training Information"):"completed"===this.trainingInfo&&(this.trainingTitle="Completed Training",this.trainingSubtitle="Completed Training Information"),this.monthFilter.start_date="Nepali"===Object(pt["f"])("VUE_APP_SET_DEFAULT_CALENDAR_TO")?this.getMonthStartDate():this.$dayjs().startOf("month").format("YYYY-MM-DD"),this.monthFilter.end_date=this.$dayjs().format("YYYY-MM-DD"),this.fetchTrainingInfo()},methods:{fetchTrainingInfo:function(){var t=this;return Object(q["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.loading){e.next=6;break}return t.dashboardData=[],t.loading=!0,e.next=5,t.$http.get(F["a"].getTrainingStats(t.getOrganizationSlug),{params:Object(r["a"])({},t.monthFilter)}).then((function(e){"upcoming"===t.trainingInfo?t.dashboardData=e.upcoming_training:"completed"===t.trainingInfo&&(t.dashboardData=e.completed_training)}));case 5:t.loading=!1;case 6:case"end":return e.stop()}}),e)})))()},getUsers:function(t){this.listTitle=t.name+" Employee List",this.showUsersList=!0,this.selectedTrainingUsers=t.members}}},ie=se,ne=Object(p["a"])(ie,ee,ae,!1,null,null,null),re=ne.exports;f()(ne,{VCard:y["a"],VCardText:_["c"],VChip:ot["a"],VCol:b["a"],VDivider:L["a"],VList:T["a"],VListItem:w["a"],VListItemAction:O["a"],VListItemContent:D["a"],VListItemIcon:lt["a"],VProgressLinear:x["a"],VRow:E["a"],VTooltip:ct["a"]});var oe={components:{UserTraining:re,TypeAndBudget:te,RecentlyJoined:I,ProfileChangeRequestStat:k,HrisSummary:l["a"],VuePageWrapper:o["default"],Events:R["a"],TrainingSummary:J,AttendanceStatistics:W["a"],AttendanceFirstDashboard:dt,AttendanceSecondDashboard:_t,EmployeeToWatch:bt["a"],LeaveStatistics:Lt["a"],LeaveRequest:Tt["a"],DashboardLeaveStat:kt,OnLeaveUsers:Yt,OverviewBar:z["a"],TaskFirstDashboard:qt,TaskSecondDashboard:Qt},data:function(){return{viewHris:!1,viewTraining:!1,viewAttendance:!1,viewLeave:!1,viewTask:!1,htmlTitle:"Dashboard | Admin",breadCrumbItems:[{text:"Dashboard",disabled:!0}],taskDetails:{},notify:{},items:[]}},computed:Object(r["a"])({},Object(K["c"])({switchedOrganization:"organization/getSwitchedOrganization"})),created:function(){this.getTaskOverview(),this.subscribeOrganization(this.$route.params.slug)},methods:Object(r["a"])(Object(r["a"])(Object(r["a"])({},Object(K["d"])({setQueryParams:"common/setQueryParams"})),Object(K["b"])({subscribeOrganization:"notification/subscribeOrganization"})),{},{getTaskOverview:function(){var t=this;this.verifyPermission(this.allPermissions.TASK_RELATED_HR_PERMISSIONS,!0)&&this.$http.get(It["a"].getOverview+"?limit=0",{params:this.fullParams}).then((function(e){t.taskDetails=e,t.getOverview()}))},gotoAllTaskPage:function(t){this.setQueryParams(t),this.$router.push({name:"admin-slug-task-reports-all-task",params:{slug:this.$route.params.slug}})},getOverview:function(){for(var t,e,a=0,s=Object.entries(this.taskDetails.info);a<s.length;a++){var i=Object(n["a"])(s[a],2),r=i[0],o=i[1];"recent"===r&&(t="info",e="Recent tasks"),"critical"===r&&(t="indigo",e="Critical"),"major"===r&&(t="warning",e="Major"),"minor"===r&&(t="danger",e="Minor"),"all"===r&&(t="indigo",e="All task"),"all"===r||"recent"===r?this.items.push({name:e,count:o,color:t,key:r}):this.items.push({name:e,count:o,color:t,type:r})}}})},le=oe,ce=a("b687"),ue=Object(p["a"])(le,s,i,!1,null,null,null);e["default"]=ue.exports;f()(ue,{VCol:b["a"],VLazy:ce["a"],VRow:E["a"]})},4863:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("overview-bar",{attrs:{items:t.items},on:{active:function(e){return t.getUsers("active")},total:function(e){return t.getUsers("total")},inactive:function(e){return t.getUsers("inactive")},critical:function(e){return t.getUsers("critical")},incomplete:function(e){return t.getUsers("incomplete")}}}),t.showUsersList?a("user-list-dialog",{attrs:{title:t.userListTitle,endpoint:t.userEndpoint},on:{close:function(e){t.showUsersList=!1}},scopedSlots:t._u([{key:"info",fn:function(e){var s=e.user;return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[s.division&&"critical"!==t.employeeType?a("span",t._g({},i),[t._v(" "+t._s(t._f("truncate")(s.division.name,10))+" ")]):t._e()]}}],null,!0)},[a("span",[t._v(" "+t._s(s.division?s.division.name:"N/A")+" ")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[s.employment_status&&"critical"===t.employeeType?a("span",t._g({},i),[t._v(" "+t._s(t._f("truncate")(s.employment_status.title,10))+" ")]):t._e()]}}],null,!0)},[a("span",[t._v(" "+t._s(s.employment_status?s.employment_status.title:"N/A")+" ")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("div",t._g({},i),[t._v(" "+t._s("critical"===t.employeeType?s.expiry_date||"---":s.joined_date||"---")+" ")])]}}],null,!0)},[a("div",[t._v(" "+t._s("critical contracts"===t.employeeType?"Expiry Date":"Joined Date")+" ")])])]}}],null,!1,2044937292),model:{value:t.showUsersList,callback:function(e){t.showUsersList=e},expression:"showUsersList"}}):t._e()],1)},i=[],n=a("3835"),r=a("1da1"),o=a("5530"),l=(a("96cf"),a("a9e3"),a("4fad"),a("85f7")),c=a("9bed"),u=a("9815"),d=a("2f62"),v={components:{OverviewBar:c["a"],UserListDialog:u["default"]},props:{supervisor:{type:[String,Number],default:""}},data:function(){return{summary:[],items:[],userListTitle:"",showUsersList:!1,userEndpoint:""}},computed:Object(o["a"])({},Object(d["c"])({getSupervisorOrgSlug:"supervisor/getOrganizationSlug"})),created:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getHrisSummary();case 2:case"end":return e.stop()}}),e)})))()},methods:{getHrisSummary:function(){var t=this,e={};this.supervisor&&(e.supervisor=this.supervisor),this.$http.get(l["a"].getOverview(this.supervisor?this.getSupervisorOrgSlug:this.getOrganizationSlug),{params:e}).then((function(e){t.summary=e,t.getOverview()}))},getOverview:function(){for(var t,e,a=0,s=Object.entries(this.summary);a<s.length;a++){var i=Object(n["a"])(s[a],2),r=i[0],o=i[1];"Total Employee"===r&&(t="info",e="total"),"Active Employee"===r&&(t="indigo",e="active"),"Inactive Employee"===r&&(t="warning",e="inactive"),"Incomplete Profile"===r&&(t="danger",e="incomplete"),"Critical Contracts"===r&&(t="indigo",e="critical"),this.items.push({name:r,count:o,color:t,key:e})}},getUsers:function(t){this.showUsersList=!0,this.employeeType=t;var e={},a=this.getOrganizationSlug;this.supervisor&&(e.supervisor=this.supervisor,a=this.getSupervisorOrgSlug),"total"===t&&(this.userListTitle="".concat(t," Employee List"),this.userEndpoint=l["a"].getTotal(a)),"active"===t&&(this.userListTitle="".concat(t," Employee List"),this.userEndpoint=l["a"].getActive(a)),"inactive"===t&&(this.userListTitle="".concat(t," Employee List"),this.userEndpoint=l["a"].getInactive(a)),"incomplete"===t&&(this.userListTitle="".concat(t," Profile Employee List"),this.userEndpoint=l["a"].getIncomplete(a)),"critical"===t&&(this.userListTitle="".concat(t," Contracts Employee List"),this.userEndpoint=l["a"].getCritical(a)),this.userEndpoint+=this.convertToURLSearchParams(e)}}},m=v,h=a("2877"),p=a("6544"),g=a.n(p),f=a("3a2f"),y=Object(h["a"])(m,s,i,!1,null,null,null);e["a"]=y.exports;g()(y,{VTooltip:f["a"]})},5299:function(t,e,a){"use strict";e["a"]={getOverview:"/task/overview/",getOverviewStats:"/task/overview/stat/",getRecentActivities:"/task/overview/activities/",getResultAreas:"/task/overview/result-areas/",getClosedHold:"/task/overview/closed-hold/",getLeaderBoard:"/task/overview/leader-board/",getMostEfficient:"/task/overview/most-efficient/",getMostUnverified:"/task/overview/most-unverified/",getTopAssignee:"/task/overview/top-assignee/",getTopAssigner:"/task/overview/top-assigner/"}},5788:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{height:"100%"}},[t.dashboardView?t._e():a("div",[a("vue-card-title",{attrs:{title:"Leave Requests",subtitle:"List of leave requests sent by employees.",icon:"mdi-calendar-multiselect"}},[a("template",{slot:"actions"},[a("v-btn",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{icon:"",small:""},on:{click:function(e){t.showFilter=!t.showFilter}}},[a("v-icon",{domProps:{textContent:t._s("mdi-filter-variant")}})],1)],1)],2),a("v-divider")],1),t.loading?a("v-progress-linear",{attrs:{indeterminate:"",height:"2"}}):t._e(),t.loading?a("v-col",t._l(3,(function(t){return a("list-loader",{key:t,attrs:{"primary-color":"#eee","secondary-color":"#d5d5d7"}})})),1):t._e(),a("v-col",{directives:[{name:"show",rawName:"v-show",value:t.showFilter,expression:"showFilter"}],attrs:{cols:"12"}},[a("date-filter-menu",{attrs:{"exclude-filter":["Till Date"],"include-filter":["All Time"],default:"This Year","hide-details":"","include-future":""},model:{value:t.dateFilter,callback:function(e){t.dateFilter=e},expression:"dateFilter"}})],1),a("v-card-text",[t.loading?t._e():a("div",[a("v-list",{staticClass:"py-0"},[t._l(t.tabs,(function(e,s){return[a("v-list-item",{key:s,staticClass:"py-3"},[a("v-list-item-icon",[a("v-icon",{domProps:{textContent:t._s(t.mapIcons[e])}})],1),a("v-list-item-content",[a("v-list-item-title",{domProps:{textContent:t._s((t.dashboardView?"Leave ":"")+e)}})],1),a("v-list-item-action",[e?a("v-list-item-title",{staticClass:"pointer text-center",class:t.statusColor[e]+"--text",on:{click:function(a){return t.filterByStatus(e,s)}}},[t._v(" "+t._s(t.requestDetails[e])+" ")]):t._e()],1)],1),s<t.tabs.length-1?a("v-divider",{key:"D-"+s}):t._e()]}))],2)],1)])],1)},i=[],n=a("5530"),r=(a("a9e3"),a("d3b7"),a("4de4"),a("227f")),o=a("e330"),l=a("2f62"),c=a("ac94"),u={components:{DateFilterMenu:c["a"],ListLoader:o["d"]},props:{supervisor:{type:[String,Number],default:""},as:{type:String,default:""},dashboardView:{type:Boolean,default:!1}},data:function(){return{requestDetails:{},tabs:["Requested","Forwarded","Approved","Denied"],showFilter:!1,statusColor:{Requested:"orange",Approved:"cyan",Forwarded:"purple",Denied:"red"},mapIcons:{Requested:"mdi-dots-vertical",Approved:"mdi-check",Forwarded:"mdi-send-outline",Denied:"mdi-close"},descending:!0,dateFilter:{},loading:!0}},computed:Object(n["a"])(Object(n["a"])({},Object(l["c"])({getSupervisorOrgSlug:"supervisor/getOrganizationSlug"})),{},{filter:function(){return{as:this.as||"",start_date:this.showFilter?this.dateFilter.start_date:"",end_date:this.showFilter?this.dateFilter.end_date:""}}}),watch:{descending:function(){this.fetchTopAssignee()}},mounted:function(){this.fetchTopAssignee()},methods:Object(n["a"])(Object(n["a"])({},Object(l["d"])({setQueryParams:"common/setQueryParams"})),{},{fetchTopAssignee:function(){var t=this;this.loading=!0,this.$http.get(r["a"].getOverviewLeaveRequest(this.supervisor?this.getSupervisorOrgSlug:this.getOrganizationSlug),{params:this.filter}).then((function(e){t.requestDetails=e})).finally((function(){t.loading=!1}))},filterByStatus:function(t,e){var a=this.supervisor?{name:"user-supervisor-leave-requests"}:{name:"admin-slug-leave-employees-request",params:{slug:this.getOrganizationSlug}};this.setQueryParams({status:t,active:e,default:"All Time"}),this.$router.push(a)}})},d=u,v=a("2877"),m=a("6544"),h=a.n(m),p=a("8336"),g=a("b0af"),f=a("99d9"),y=a("62ad"),_=a("ce7e"),b=a("132d"),L=a("8860"),T=a("da13"),w=a("1800"),O=a("5d23"),D=a("34c3"),x=a("8e36"),E=Object(v["a"])(d,s,i,!1,null,null,null);e["a"]=E.exports;h()(E,{VBtn:p["a"],VCard:g["a"],VCardText:f["c"],VCol:y["a"],VDivider:_["a"],VIcon:b["a"],VList:L["a"],VListItem:T["a"],VListItemAction:w["a"],VListItemContent:O["a"],VListItemIcon:D["a"],VListItemTitle:O["c"],VProgressLinear:x["a"]})},"64ad":function(t,e,a){"use strict";a("219f")},"73f9":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("overview-bar",{attrs:{items:t.items},on:{total:function(e){return t.getUsers("total")},present:function(e){return t.getUsers("present")},on_leave:function(e){return t.getUsers("on_leave")}}}),t.showUsersList?a("user-list-dialog",{attrs:{title:t.userListTitle,endpoint:t.userEndpoint},on:{close:function(e){t.showUsersList=!1}},model:{value:t.showUsersList,callback:function(e){t.showUsersList=e},expression:"showUsersList"}}):t._e()],1)},i=[],n=a("3835"),r=a("1da1"),o=a("5530"),l=(a("96cf"),a("a9e3"),a("4fad"),a("9815")),c=a("1e51"),u=a("2f62"),d=a("40e9"),v=a("de4a"),m=a("9bed"),h={components:{OverviewBar:m["a"],UserListDialog:l["default"]},props:{supervisor:{type:[String,Number],default:""},hideTotalCount:{type:Boolean,default:!1}},data:function(){return{summary:[],color:"",items:[],userEndpoint:"",userListTitle:"",showUsersList:!1,showUserInfo:[]}},computed:Object(o["a"])({},Object(u["c"])({getSupervisorOrgSlug:"supervisor/getOrganizationSlug"})),created:function(){this.getSummary()},methods:{getSummary:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$http.get(c["a"].getLeaveSummary(t.supervisor?t.getSupervisorOrgSlug:t.getOrganizationSlug),{params:{supervisor:t.supervisor}}).then((function(e){t.summary=e,t.getOverview()}));case 1:case"end":return e.stop()}}),e)})))()},getOverview:function(){for(var t,e,a=0,s=Object.entries(this.summary);a<s.length;a++){var i=Object(n["a"])(s[a],2),r=i[0],o=i[1];"types"!=r&&("total"===r&&(e="Total Employees",t="info"),"present"===r&&(t="indigo",e="Present Employees"),"on_leave"===r&&(this.showUserInfo=["leave_type","part_of_day"],e="On Leave",t="danger"),this.items.push({name:e,count:o,color:t,key:r}))}},getUsers:function(t){this.showUsersList=!0;var e=this.supervisor?this.getSupervisorOrgSlug:this.getOrganizationSlug;"total"===t&&(this.userEndpoint=d["a"].getTotalUser(e)+"?supervisor=".concat(this.supervisor),this.userListTitle="Total Employees"),"present"===t&&(this.userEndpoint=v["a"].getPresentEmployeeList(e)+"?supervisor=".concat(this.supervisor),this.userListTitle="Present Employees"),"on_leave"===t&&(this.showUserInfo=["leave_type","part_of_day"],this.userEndpoint=c["a"].getTodayOnLeave(e)+"?supervisor=".concat(this.supervisor),this.userListTitle="Employees on Leave")}}},p=h,g=a("2877"),f=Object(g["a"])(p,s,i,!1,null,null,null);e["a"]=f.exports},"84e9":function(t,e,a){"use strict";a("99af");e["a"]={getUserTrainings:function(t){return"/users/".concat(t,"/training/")},postUserTraining:function(t){return"/users/".concat(t,"/training/")},getTrainingDetail:function(t,e){return"/users/".concat(t,"/training/").concat(e,"/")},updateTrainingDetail:function(t,e){return"/users/".concat(t,"/training/").concat(e,"/")},deleteUserTraining:function(t,e){return"/users/".concat(t,"/training/").concat(e,"/")},getUpcomingTraining:function(t){return"/training/".concat(t,"/detail/upcoming/")},getTrainingTypeBudget:function(t){return"/training/".concat(t,"/detail/budget")},getTrainingStats:function(t){return"/training/".concat(t,"/detail/stats/")}}},"85f7":function(t,e,a){"use strict";e["a"]={getOverview:function(t){return"/hris/".concat(t,"/overview/summary/")},getTotal:function(t){return"/hris/".concat(t,"/overview/summary/total-users/")},getActive:function(t){return"/hris/".concat(t,"/overview/summary/active-users/")},getInactive:function(t){return"/hris/".concat(t,"/overview/summary/inactive-users/")},getIncomplete:function(t){return"/hris/".concat(t,"/overview/summary/incomplete-users/")},getCritical:function(t){return"/hris/".concat(t,"/overview/summary/critical-users/")}}},"98f2":function(t,e,a){"use strict";a("a8bf")},a8bf:function(t,e,a){},b0c03:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{height:"100%"}},[a("vue-card-title",{attrs:{title:"Events & Holidays",subtitle:"List of upcoming 30 days",icon:"mdi-calendar-outline"}}),a("v-divider"),a("v-card-text",{staticClass:"pa-0"},[a("v-list",{staticClass:"py-0"},[t.trainingList.length>0?a("v-list-item",{staticClass:"pr-2"},[a("v-list-item-content",[a("div",[a("v-icon",{staticClass:"mx-1",attrs:{size:"20"},domProps:{textContent:t._s("mdi-presentation")}}),a("span",{staticClass:"text-caption"},[t._v("Training")])],1)]),a("v-list-item-action",[a("div",{staticClass:"d-flex"},[t._l(t.trainingList,(function(e,s){return[a("div",{key:s},[s<3?a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(s){var i=s.on;return[a("v-sheet",t._g({staticClass:"text-center text-caption pointer ml-1 dateSheet",attrs:{id:"trainingList",color:"shade"},on:{click:function(a){return t.goToCalendar(e.start,"training")}}},i),[t._v(" "+t._s(t._f("dayjs")(e.start,"DD"))+" "),a("br"),t._v(" "+t._s(t._f("dayjs")(e.start,"MMM"))+" ")])]}}],null,!0)},[a("span",{domProps:{textContent:t._s(e.name)}})]):t._e()],1)]}))],2)])],1):t._e(),t.trainingList.length>0?a("v-divider"):t._e(),a("v-list-item",{staticClass:"pr-2"},[a("v-list-item-content",[a("div",[a("v-icon",{staticClass:"mx-1",attrs:{size:"20"},domProps:{textContent:t._s("mdi-calendar-outline")}}),a("span",{staticClass:"text-caption"},[t._v("Events")])],1)]),a("v-list-item-action",[a("div",{staticClass:"d-flex"},[t._l(t.actualEventList,(function(e,s){return[a("div",{key:s},[s<3?a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(s){var i=s.on;return[a("v-sheet",t._g({staticClass:"text-center text-caption pointer ml-1 dateSheet",attrs:{id:"eventList",color:"shade"},on:{click:function(a){return t.goToCalendar(e.start_at,"event")}}},i),[t._v(" "+t._s(t._f("dayjs")(e.start_at,"DD"))+" "),a("br"),t._v(" "+t._s(t.getMonth(e.start_at))+" ")])]}}],null,!0)},[a("span",{domProps:{textContent:t._s(e.title)}})]):t._e()],1)]})),t.actualEventList.length>3?a("v-sheet",{staticClass:"\n                text-center text-caption\n                pointer\n                ml-1\n                dateSheet\n                white--text\n              ",attrs:{id:"eventListMore",color:"primary"},on:{click:function(e){t.showMoreEvents=!0}}},[a("v-icon",{staticClass:"mx-1 white--text",attrs:{size:"15"},domProps:{textContent:t._s("mdi-plus")}}),a("br"),t._v(" "+t._s(t.actualEventList.length-3)+" ")],1):t._e(),0===t.actualEventList.length?a("div",[t._v("No upcoming Events")]):t._e()],2)])],1),a("v-divider"),t._l(t.eventList,(function(e,s){return[a("v-list-item",{key:s,staticClass:"pr-2"},[a("v-list-item-content",[a("v-list-item-title",[a("div",[a("v-icon",{staticClass:"mx-1",attrs:{size:"20"},domProps:{textContent:t._s(e.icon)}}),a("span",{staticClass:"text-caption"},[t._v(t._s(e.text))])],1)])],1),a("v-list-item-action",[a("thumbnail-users",{attrs:{users:e.users,"total-users":e.totalUserCount,type:e.type},on:{showMore:function(e){return t.showMore(s)}}})],1)],1),a("v-divider",{key:"D-"+s})]})),a("v-list-item",{staticClass:"pr-2"},[a("v-list-item-content",[a("div",[a("v-icon",{staticClass:"mx-1",attrs:{size:"20"},domProps:{textContent:t._s("mdi-beach")}}),a("span",{staticClass:"text-caption"},[t._v("Holiday")])],1)]),a("v-list-item-action",[a("div",{staticClass:"d-flex"},[t._l(t.holidayList,(function(e,s){return[a("div",{key:s},[s<3?a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(s){var i=s.on;return[a("v-sheet",t._g({staticClass:"text-center text-caption pointer ml-1 dateSheet",attrs:{id:"holidayList",color:"shade"},on:{click:function(a){return t.goToCalendar(e.date,"holiday")}}},i),[t._v(" "+t._s(t._f("dayjs")(e.date,"DD"))+" "),a("br"),t._v(" "+t._s(t.getMonth(e.date))+" ")])]}}],null,!0)},[a("span",{domProps:{textContent:t._s(e.name)}})]):t._e()],1)]})),0===t.holidayList.length?a("div",[t._v("No upcoming Holiday")]):t._e()],2)])],1)],2)],1),a("user-list-dialog",{attrs:{"info-list":[t.eventType],endpoint:t.userEndpoint,title:t.eventType,"normal-user":""},on:{close:function(e){t.showUsersList=!1}},model:{value:t.showUsersList,callback:function(e){t.showUsersList=e},expression:"showUsersList"}}),a("v-dialog",{attrs:{width:"500",persistent:"",scrollable:""},on:{keydown:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;t.showMoreEvents=!1}},model:{value:t.showMoreEvents,callback:function(e){t.showMoreEvents=e},expression:"showMoreEvents"}},[a("v-card",[a("vue-card-title",{attrs:{title:"Upcoming Events List",subtitle:"List of Upcoming Events",icon:"mdi-file-document-outline",dark:""}}),a("v-divider"),a("v-card-text",{staticClass:"pb-0 primaryLight"},[a("v-list",{staticClass:"primaryLight"},[a("v-list-item",[a("v-list-item-content",{staticClass:"text-body-1",attrs:{md:"5"}},[t._v(" Title ")]),a("v-list-item-action",{staticClass:"text-body-1"},[t._v(" Event Date/Time ")])],1)],1)],1),a("v-divider"),a("v-card-text",{staticClass:"pb-0 scrollbar-md"},[a("v-list",t._l(t.actualEventList,(function(e){return a("v-list-item",{key:e.id},[a("v-list-item-content",{staticClass:"pointer primary--text",on:{click:function(a){return t.goToCalendar(e.start_at,"event")}}},[t._v(" "+t._s(e.title)+" ")]),a("v-list-item-action",[a("div",[t._v(" Start : "+t._s(t.formatDate(e.start_at))+" "+t._s(t.formatTime(e.start_at))+" ")]),a("div",[t._v(" End : "+t._s(t.formatDate(e.end_at))+" "+t._s(t.formatTime(e.end_at))+" ")])])],1)})),1)],1),a("v-divider"),a("v-card-actions",{staticClass:"primaryLight"},[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(e){t.showMoreEvents=!1}}},[t._v(" Cancel ")])],1)],1)],1)],1)},i=[],n=a("1da1"),r=a("5530"),o=(a("96cf"),a("a9e3"),a("cde3")),l=a("9815"),c=a("0075"),u=a("84e9"),d={getBirthday:function(t){return"/hris/".concat(t,"/upcoming/birthdays/")},getAnniversary:function(t){return"/hris/".concat(t,"/upcoming/anniversaries/")},getEvent:function(t){return"/hris/".concat(t,"/upcoming/events/")}},v=a("2f62"),m={components:{ThumbnailUsers:o["default"],UserListDialog:l["default"]},props:{supervisor:{type:[String,Number],default:""}},data:function(){return{eventList:[],actualEventList:[],holidayList:[],trainingList:[],users:[],showUsersList:!1,showMoreEvents:!1,eventType:"",eventsJoinedCount:"",eventsTodayCount:"",upComingEvents:0,activeEvents:0,userEndpoint:""}},computed:Object(r["a"])({},Object(v["c"])({getAppView:"common/getAppView",getSupervisorOrgSlug:"supervisor/getOrganizationSlug"})),created:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.getTraining(),t.getEvent(),e.next=4,t.getAnniversary();case 4:t.getBirthday(),t.getHolidayList();case 6:case"end":return e.stop()}}),e)})))()},methods:{getTraining:function(){var t=this,e="";"hrAdminView"===this.getAppView?e="hr":this.supervisor&&(e="supervisor"),this.$http.get(u["a"].getUpcomingTraining(this.supervisor?this.getSupervisorOrgSlug:this.getOrganizationSlug),{params:{start_date:this.$dayjs(new Date).format("YYYY-MM-DD"),end_date:this.$dayjs(new Date).add(30,"days").format("YYYY-MM-DD"),ordering:"date",limit:4,as:e}}).then((function(e){t.trainingList=e.results}))},getEvent:function(){var t=this,e="";"hrAdminView"===this.getAppView?e="hr":this.supervisor&&(e="supervisor");var a={for:e,start_date:this.$dayjs(new Date).format("YYYY-MM-DD"),end_date:this.$dayjs(this.$dayjs(new Date).format("YYYY-MM-DD")).add(1,"months").format("YYYY-MM-DD")};this.$http.get(d.getEvent(this.supervisor?this.getSupervisorOrgSlug:this.getOrganizationSlug),{params:a}).then((function(e){t.actualEventList=e.upcoming_events}))},getAnniversary:function(){var t=this,e={start_date:this.$dayjs(new Date).format("YYYY-MM-DD"),end_date:this.$dayjs(this.$dayjs(new Date).format("YYYY-MM-DD")).add(1,"months").format("YYYY-MM-DD")};return this.supervisor&&(e.supervisor=this.supervisor),this.$http.get(d.getAnniversary(this.supervisor?this.getSupervisorOrgSlug:this.getOrganizationSlug)+"?limit=4",{params:e}).then((function(e){var a={icon:"mdi-party-popper",text:"Anniversary",type:"anniversary"};a.users=e.results,a.totalUserCount=e.count,t.eventList.push(a)}))},getBirthday:function(){var t=this,e={start_date:this.$dayjs(new Date).format("YYYY-MM-DD"),end_date:this.$dayjs(this.$dayjs(new Date).format("YYYY-MM-DD")).add(1,"months").format("YYYY-MM-DD")};this.supervisor&&(e.supervisor=this.supervisor),this.$http.get(d.getBirthday(this.supervisor?this.getSupervisorOrgSlug:this.getOrganizationSlug)+"?limit=4",{params:e}).then((function(e){var a={icon:"mdi-cake-variant",text:"Birthday"};a.users=e.results,a.type="birthday",a.totalUserCount=e.count,t.eventList.push(a)}))},getHolidayList:function(){var t=this;this.$http.get(c["a"].getHoliday(this.supervisor?this.getSupervisorOrgSlug:this.getOrganizationSlug)+"?limit=4",{params:{start_date:this.$dayjs(new Date).format("YYYY-MM-DD"),end_date:this.$dayjs(new Date).add(30,"days").format("YYYY-MM-DD"),ordering:"date"}}).then((function(e){t.holidayList=e.results}))},showMore:function(t){this.users=this.eventList[t].users,this.eventType=this.eventList[t].type;var e=this.convertToURLSearchParams({start_date:this.$dayjs(new Date).format("YYYY-MM-DD"),end_date:this.$dayjs(this.$dayjs(new Date).format("YYYY-MM-DD")).add(1,"months").format("YYYY-MM-DD")});"anniversary"===this.eventType&&(this.userEndpoint=d.getAnniversary(this.supervisor?this.getSupervisorOrgSlug:this.getOrganizationSlug)+e),"birthday"===this.eventType&&(this.userEndpoint=d.getBirthday(this.supervisor?this.getSupervisorOrgSlug:this.getOrganizationSlug)+e),this.showUsersList=!0},goToCalendar:function(t,e){var a=this.$dayjs(t).format("YYYY-MM-DD");this.$router.push({name:"user-calendar-event-calendar",query:{date:a,event:[e]}})}}},h=m,p=(a("98f2"),a("2877")),g=a("6544"),f=a.n(g),y=a("8336"),_=a("b0af"),b=a("99d9"),L=a("169a"),T=a("ce7e"),w=a("132d"),O=a("8860"),D=a("da13"),x=a("1800"),E=a("5d23"),S=a("8dd9"),k=a("2fa4"),C=a("3a2f"),V=Object(p["a"])(h,s,i,!1,null,null,null);e["a"]=V.exports;f()(V,{VBtn:y["a"],VCard:_["a"],VCardActions:b["a"],VCardText:b["c"],VDialog:L["a"],VDivider:T["a"],VIcon:w["a"],VList:O["a"],VListItem:D["a"],VListItemAction:x["a"],VListItemContent:E["a"],VListItemTitle:E["c"],VSheet:S["a"],VSpacer:k["a"],VTooltip:C["a"]})}}]);