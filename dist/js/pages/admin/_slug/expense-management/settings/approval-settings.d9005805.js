(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages/admin/_slug/expense-management/settings/approval-settings","chunk-31f8a6e6","chunk-6441e173","chunk-aee42bec","chunk-2d2160c2","chunk-2d2160c2","chunk-da62e0c8","chunk-2d22d378","chunk-2d213000","chunk-2d2160c2","chunk-2d2160c2","chunk-2d2160c2"],{"0549":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-row",{staticClass:"mb-3",attrs:{"no-gutters":""}},[e.breadCrumbs?a("v-col",{attrs:{cols:"12"}},[a("v-card",{attrs:{flat:""}},[a("v-breadcrumbs",{staticClass:"text-body-1 pa-2",class:{"text-caption pa-1":e.$vuetify.breakpoint.xs},attrs:{items:e.breadCrumbs},scopedSlots:e._u([{key:"item",fn:function(t){return[a("span",{class:t.item.disabled?"grey--text":"baseColor--text text--accent-2 pointer",domProps:{textContent:e._s(t.item.text)},on:{click:function(a){return e.$router.push(t.item.to)}}})]}}],null,!1,1670153796)},[a("v-icon",{attrs:{slot:"divider"},slot:"divider"},[e._v("mdi-chevron-right")])],1)],1)],1):e._e()],1),a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"12"}},[e._t("default")],2)],1)],1)},n=[],s=a("5530"),i=(a("ac1f"),a("1276"),a("b0c0"),a("2f62")),o={props:{title:{type:String,required:!0},breadCrumbs:{type:Array,default:function(){return[]}}},computed:Object(s["a"])({},Object(i["c"])({getOrganizationName:"organization/getOrganizationName",getSupervisorSwitchedOrganization:"supervisor/getSwitchedOrganization"})),mounted:function(){document.title="".concat(this.title," | RealHRsoft");var e=this.$route.params.slug?"admin-slug-dashboard":"root",t=this.$route.name.split("-"),a=this.getOrganizationName;this.getSupervisorSwitchedOrganization&&"user"===t[0]&&"supervisor"===t[1]&&(a=this.getSupervisorSwitchedOrganization.name),this.breadCrumbs.unshift({text:a,disabled:!1,to:{name:e,params:{slug:this.$route.params.slug}}})}},l=o,c=a("2877"),u=a("6544"),p=a.n(u),d=a("2bc5"),v=a("b0af"),m=a("62ad"),h=a("132d"),f=a("0fd9b"),g=Object(c["a"])(l,r,n,!1,null,null,null);t["default"]=g.exports;p()(g,{VBreadcrumbs:d["a"],VCard:v["a"],VCol:m["a"],VIcon:h["a"],VRow:f["a"]})},"0798":function(e,t,a){"use strict";var r=a("5530"),n=a("ade3"),s=(a("caad"),a("0c18"),a("10d2")),i=a("afdd"),o=a("9d26"),l=a("f2e7"),c=a("7560"),u=a("f40d"),p=a("58df"),d=a("d9bd");t["a"]=Object(p["a"])(s["a"],l["a"],u["a"]).extend({name:"v-alert",props:{border:{type:String,validator:function(e){return["top","right","bottom","left"].includes(e)}},closeLabel:{type:String,default:"$vuetify.close"},coloredBorder:Boolean,dense:Boolean,dismissible:Boolean,closeIcon:{type:String,default:"$cancel"},icon:{default:"",type:[Boolean,String],validator:function(e){return"string"===typeof e||!1===e}},outlined:Boolean,prominent:Boolean,text:Boolean,type:{type:String,validator:function(e){return["info","error","success","warning"].includes(e)}},value:{type:Boolean,default:!0}},computed:{__cachedBorder:function(){if(!this.border)return null;var e={staticClass:"v-alert__border",class:Object(n["a"])({},"v-alert__border--".concat(this.border),!0)};return this.coloredBorder&&(e=this.setBackgroundColor(this.computedColor,e),e.class["v-alert__border--has-color"]=!0),this.$createElement("div",e)},__cachedDismissible:function(){var e=this;if(!this.dismissible)return null;var t=this.iconColor;return this.$createElement(i["a"],{staticClass:"v-alert__dismissible",props:{color:t,icon:!0,small:!0},attrs:{"aria-label":this.$vuetify.lang.t(this.closeLabel)},on:{click:function(){return e.isActive=!1}}},[this.$createElement(o["a"],{props:{color:t}},this.closeIcon)])},__cachedIcon:function(){return this.computedIcon?this.$createElement(o["a"],{staticClass:"v-alert__icon",props:{color:this.iconColor}},this.computedIcon):null},classes:function(){var e=Object(r["a"])(Object(r["a"])({},s["a"].options.computed.classes.call(this)),{},{"v-alert--border":Boolean(this.border),"v-alert--dense":this.dense,"v-alert--outlined":this.outlined,"v-alert--prominent":this.prominent,"v-alert--text":this.text});return this.border&&(e["v-alert--border-".concat(this.border)]=!0),e},computedColor:function(){return this.color||this.type},computedIcon:function(){return!1!==this.icon&&("string"===typeof this.icon&&this.icon?this.icon:!!["error","info","success","warning"].includes(this.type)&&"$".concat(this.type))},hasColoredIcon:function(){return this.hasText||Boolean(this.border)&&this.coloredBorder},hasText:function(){return this.text||this.outlined},iconColor:function(){return this.hasColoredIcon?this.computedColor:void 0},isDark:function(){return!(!this.type||this.coloredBorder||this.outlined)||c["a"].options.computed.isDark.call(this)}},created:function(){this.$attrs.hasOwnProperty("outline")&&Object(d["a"])("outline","outlined",this)},methods:{genWrapper:function(){var e=[this.$slots.prepend||this.__cachedIcon,this.genContent(),this.__cachedBorder,this.$slots.append,this.$scopedSlots.close?this.$scopedSlots.close({toggle:this.toggle}):this.__cachedDismissible],t={staticClass:"v-alert__wrapper"};return this.$createElement("div",t,e)},genContent:function(){return this.$createElement("div",{staticClass:"v-alert__content"},this.$slots.default)},genAlert:function(){var e={staticClass:"v-alert",attrs:{role:"alert"},on:this.listeners$,class:this.classes,style:this.styles,directives:[{name:"show",value:this.isActive}]};if(!this.coloredBorder){var t=this.hasText?this.setTextColor:this.setBackgroundColor;e=t(this.computedColor,e)}return this.$createElement("div",e,[this.genWrapper()])},toggle:function(){this.isActive=!this.isActive}},render:function(e){var t=this.genAlert();return this.transition?e("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},[t]):t}})},"0c18":function(e,t,a){},"2bc5":function(e,t,a){"use strict";var r=a("5530"),n=(a("a15b"),a("abd3"),a("ade3")),s=a("1c87"),i=a("58df"),o=Object(i["a"])(s["a"]).extend({name:"v-breadcrumbs-item",props:{activeClass:{type:String,default:"v-breadcrumbs__item--disabled"},ripple:{type:[Boolean,Object],default:!1}},computed:{classes:function(){return Object(n["a"])({"v-breadcrumbs__item":!0},this.activeClass,this.disabled)}},render:function(e){var t=this.generateRouteLink(),a=t.tag,n=t.data;return e("li",[e(a,Object(r["a"])(Object(r["a"])({},n),{},{attrs:Object(r["a"])(Object(r["a"])({},n.attrs),{},{"aria-current":this.isActive&&this.isLink?"page":void 0})}),this.$slots.default)])}}),l=a("80d2"),c=Object(l["i"])("v-breadcrumbs__divider","li"),u=a("7560");t["a"]=Object(i["a"])(u["a"]).extend({name:"v-breadcrumbs",props:{divider:{type:String,default:"/"},items:{type:Array,default:function(){return[]}},large:Boolean},computed:{classes:function(){return Object(r["a"])({"v-breadcrumbs--large":this.large},this.themeClasses)}},methods:{genDivider:function(){return this.$createElement(c,this.$slots.divider?this.$slots.divider:this.divider)},genItems:function(){for(var e=[],t=!!this.$scopedSlots.item,a=[],r=0;r<this.items.length;r++){var n=this.items[r];a.push(n.text),t?e.push(this.$scopedSlots.item({item:n})):e.push(this.$createElement(o,{key:a.join("."),props:n},[n.text])),r<this.items.length-1&&e.push(this.genDivider())}return e}},render:function(e){var t=this.$slots.default||this.genItems();return e("ul",{staticClass:"v-breadcrumbs",class:this.classes},t)}})},6602:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("vue-page-wrapper",{attrs:{title:"Approval | Setting | Expense Management","bread-crumbs":e.breadCrumbItems}},[a("setting",{attrs:{endpoint:e.endpoint,subtitle:"Expense Management",as:"hr"}})],1)},n=[],s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("vue-card-title",{attrs:{title:"Settings",subtitle:"Here you adjust expense management settings.",icon:"mdi-shield-check"}}),a("v-divider"),e.fetched?a("div",[e.nonFieldErrors?a("non-field-form-errors",{attrs:{"non-field-errors":e.nonFieldErrors}}):e._e(),a("v-card-text",[a("div",[a("v-chip",{staticClass:"text-subtitle-1 blue-grey white--text my-4",attrs:{label:"",small:""}},[e._v(" Expense Request Approval Settings ")]),e._l(e.count,(function(t){return a("div",{key:t},[a("v-chip",{staticClass:"text-subtitle-2 blue-grey--text text--darken-2",attrs:{label:"",small:""}},[e._v(" "+e._s("Approval level "+t+" ")+" ")]),a("v-row",{attrs:{align:"center"}},[a("v-col",{attrs:{md:"4"}},[a("v-select",{attrs:{items:["Supervisor","Employee"],"data-cy":"level-"+t+"-get-approved-by",clearable:"","prepend-inner-icon":"mdi-account-outline"},model:{value:e.approvalSetting[t-1].approve_by,callback:function(a){e.$set(e.approvalSetting[t-1],"approve_by",a)},expression:"approvalSetting[index - 1].approve_by"}})],1),a("v-col",{attrs:{md:"4"}},["Supervisor"===e.approvalSetting[t-1].approve_by?a("v-select",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{value:e.approvalSetting[t-1].supervisor_level,"data-cy":"level-"+t+"-get-supervisor-level",items:["First","Second","Third","All"],clearable:"","prepend-inner-icon":"mdi-format-list-numbered"},on:{input:function(a){return e.setSupervisorLevel(a,t-1)}}},"v-select",e.veeValidate("supervisor_type["+t+"]","Add Supervisor *"),!1)):e._e(),"Employee"===e.approvalSetting[t-1].approve_by?a("vue-users-auto-complete",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"data-cy-variable":"level-"+t+"-get-employee",label:"Employee Name",multiple:""},model:{value:e.approvalSetting[t-1].employee,callback:function(a){e.$set(e.approvalSetting[t-1],"employee",a)},expression:"approvalSetting[index - 1].employee"}},"vue-users-auto-complete",e.veeValidate("employee_list["+t+"]","Add Employee *"),!1)):e._e()],1),"Employee"===e.approvalSetting[t-1].approve_by?a("v-col",{attrs:{cols:"4"}},[a("v-checkbox",{attrs:{label:"allow user to select Employee"},model:{value:e.approvalSetting[t-1].select_employee,callback:function(a){e.$set(e.approvalSetting[t-1],"select_employee",a)},expression:"approvalSetting[index - 1].select_employee"}})],1):e._e(),t>1?a("v-col",{attrs:{md:"4"}},[a("v-btn",{attrs:{icon:"",color:"red"}},[a("v-icon",{attrs:{small:""},domProps:{textContent:e._s("mdi-trash-can-outline")},on:{click:function(a){return e.remove(t-1)}}})],1)],1):e._e()],1)],1)})),a("v-row",[a("v-btn",{staticClass:"primary--text text-subtitle-2 mx-1 my-4",attrs:{disabled:!e.approvalSetting[e.count-1]||e.count===e.levelOfRestriction||!e.approvalSetting[e.count-1].approve_by||!e.approvalSetting[e.count-1].employee&&!e.approvalSetting[e.count-1].supervisor_level,text:""},on:{click:e.add}},[e._v(" + Add New Level For Approval ")])],1)],2),a("div",[a("v-row",{attrs:{align:"center"}},[a("v-col",[a("v-chip",{staticClass:"text-subtitle-1 blue-grey white--text",attrs:{label:"",small:""}},[e._v(" Expense Settlement Approval Settings ")])],1),a("v-col",[a("v-checkbox",{attrs:{label:"Use same approvers as expense request."},model:{value:e.sameAsExpenseRequest,callback:function(t){e.sameAsExpenseRequest=t},expression:"sameAsExpenseRequest"}})],1)],1),e.sameAsExpenseRequest?e._e():[e._l(e.settlementCount,(function(t){return a("div",{key:t},[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",[a("v-chip",{staticClass:"text-subtitle-2 blue-grey--text text--darken-2",attrs:{label:"",small:""}},[e._v(" "+e._s("Approval level "+t+" ")+" ")])],1)],1),a("v-row",{attrs:{align:"center"}},[a("v-col",{attrs:{md:"4"}},[a("v-select",{attrs:{items:["Supervisor","Employee"],"data-cy":"level-"+t+"-get-approved-by",clearable:"","prepend-inner-icon":"mdi-account-outline"},model:{value:e.settlementApprovalSetting[t-1].approve_by,callback:function(a){e.$set(e.settlementApprovalSetting[t-1],"approve_by",a)},expression:"settlementApprovalSetting[index - 1].approve_by"}})],1),a("v-col",{attrs:{md:"4"}},["Supervisor"===e.settlementApprovalSetting[t-1].approve_by?a("v-select",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"data-cy":"level-"+t+"-get-supervisor-level",items:["First","Second","Third","All"],clearable:"","prepend-inner-icon":"mdi-format-list-numbered"},model:{value:e.settlementApprovalSetting[t-1].supervisor_level,callback:function(a){e.$set(e.settlementApprovalSetting[t-1],"supervisor_level",a)},expression:"\n                    settlementApprovalSetting[index - 1].supervisor_level\n                  "}},"v-select",e.veeValidate("supervisor_type["+t+"]","Add Supervisor *"),!1)):e._e(),"Employee"===e.settlementApprovalSetting[t-1].approve_by?a("vue-users-auto-complete",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"data-cy-variable":"level-"+t+"-get-employee",label:"Employee Name",multiple:""},model:{value:e.settlementApprovalSetting[t-1].employee,callback:function(a){e.$set(e.settlementApprovalSetting[t-1],"employee",a)},expression:"settlementApprovalSetting[index - 1].employee"}},"vue-users-auto-complete",e.veeValidate("employee_list["+t+"]","Add Employee *"),!1)):e._e()],1),"Employee"===e.settlementApprovalSetting[t-1].approve_by?a("v-col",{attrs:{cols:"4"}},[a("v-checkbox",{attrs:{label:"allow user to select Employee"},model:{value:e.settlementApprovalSetting[t-1].select_employee,callback:function(a){e.$set(e.settlementApprovalSetting[t-1],"select_employee",a)},expression:"\n                    settlementApprovalSetting[index - 1].select_employee\n                  "}})],1):e._e(),t>1?a("v-col",{attrs:{md:"4"}},[a("v-btn",{attrs:{icon:"",color:"red"}},[a("v-icon",{attrs:{small:""},domProps:{textContent:e._s("mdi-trash-can-outline")},on:{click:function(a){return e.removeSettlementApprovers(t-1)}}})],1)],1):e._e()],1)],1)})),a("v-row",[a("v-btn",{staticClass:"primary--text text-subtitle-2 mx-1 my-4",attrs:{disabled:!e.settlementApprovalSetting[e.settlementCount-1]||!e.settlementApprovalSetting[e.settlementCount-1].approve_by||!e.settlementApprovalSetting[e.settlementCount-1].employee&&!e.settlementApprovalSetting[e.settlementCount-1].supervisor_level,text:""},on:{click:function(t){return e.addSettlementApprovers()}}},[e._v(" + Add New Level For Approval ")])],1)]],2),a("v-row",{attrs:{dense:""}},[a("v-col",{staticClass:"pb-4"},[a("v-chip",{staticClass:"text-subtitle-1 blue-grey white--text",attrs:{label:"",small:""}},[e._v(" Other Settings ")])],1)],1),a("v-row",{attrs:{"no-gutters":"",align:"start"}},[a("v-col",{staticClass:"pt-3",attrs:{md:"4",cols:"12"}},[a("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"max:50",expression:"'max:50'"}],staticClass:"mx-2",attrs:{counter:"50","prepend-inner-icon":"mdi-information-outline"},model:{value:e.advance_code,callback:function(t){e.advance_code=t},expression:"advance_code"}},"v-text-field",e.veeValidate("advance_code","TAARF Number"),!1))],1),a("v-col",{staticClass:"pt-3",attrs:{md:"4",cols:"12"}},[a("v-select",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"data-cy":"select-settlement-options",items:["Cash","Cheque","Deposit","Transfer"],multiple:"","prepend-inner-icon":"mdi-information-outline"},model:{value:e.options,callback:function(t){e.options=t},expression:"options"}},"v-select",e.veeValidate("settlement_options","Settlement Options *"),!1))],1),a("v-col",{staticClass:"pt-3 pl-4",attrs:{md:"4",cols:"12"}},[a("v-checkbox",{attrs:{label:"Approve Multiple Times (if same approver)"},model:{value:e.approve_multiple_times,callback:function(t){e.approve_multiple_times=t},expression:"approve_multiple_times"}})],1)],1),a("v-row",[a("v-col",[a("v-text-field",{attrs:{type:"number",min:"0",max:"100",label:"Per Diem rate(%)"},model:{value:e.per_diem_rate,callback:function(t){e.per_diem_rate=t},expression:"per_diem_rate"}})],1),a("v-col",[a("v-text-field",{attrs:{type:"number",min:"0",max:"100",label:"Lodging rate(%)"},model:{value:e.lodging_rate,callback:function(t){e.lodging_rate=t},expression:"lodging_rate"}})],1),a("v-col",[a("v-text-field",{attrs:{type:"number",min:"0",max:"100",label:"Others rate(%)"},model:{value:e.others_rate,callback:function(t){e.others_rate=t},expression:"others_rate"}})],1)],1),a("v-row",[a("v-col",{staticClass:"pt-3 pl-4",attrs:{md:"4",cols:"12"}},[a("v-checkbox",{attrs:{label:"Make Travel Report Field Mandatory in Settlement"},model:{value:e.travel_report_mandatory,callback:function(t){e.travel_report_mandatory=t},expression:"travel_report_mandatory"}})],1)],1)],1),a("v-divider"),a("v-card-actions",[a("v-col",{staticClass:"text-right py-0"},[a("v-btn",{attrs:{depressed:"",color:"primary",disabled:e.validateFields()},on:{click:e.save}},[e._v(" Save ")])],1)],1)],1):a("div",[a("default-svg-loader")],1)],1)},i=[],o=(a("a9e3"),a("a434"),a("159b"),a("ab8a")),l=a("c197"),c=a("ef8c"),u=a("f12b"),p={components:{VueUsersAutoComplete:c["default"],DefaultSvgLoader:l["default"],NonFieldFormErrors:o["default"]},mixins:[u["a"]],props:{endpoint:{type:String,default:""},subtitle:{type:String,default:"Advance Salary"},levelOfRestriction:{type:[Number],default:5},disableSupervisor:{type:Boolean,default:!1},requireApprovalLevel:{type:Boolean,default:!0},as:{type:String,default:""}},data:function(){return{packageHeadingList:[],approvalSetting:[{approve_by:"Supervisor",supervisor_level:"First",select_employee:!1,employee:[]}],settlementApprovalSetting:[{approve_by:"Supervisor",supervisor_level:"First",select_employee:!1,employee:[]}],advance_code:"",options:[],approve_multiple_times:!1,travel_report_mandatory:!1,limitAmount:0,count:1,settlementCount:1,sameAsExpenseRequest:!1,excludedHeading:[],fetched:!1,per_diem_rate:100,lodging_rate:100,others_rate:100}},created:function(){this.init()},methods:{init:function(){var e=this;this.getData(this.endpoint+"?as=".concat(this.as||"")).then((function(t){t.results.length>0&&(e.advance_code=t.results[0].advance_code,e.approve_multiple_times=t.results[0].approve_multiple_times,e.travel_report_mandatory=t.results[0].travel_report_mandatory,e.options=t.results[0].options,e.count=t.results[0].approvals.length||1,e.settlementCount=t.results[0].settlement_approvals.length||1,e.per_diem_rate=100*t.results[0].per_diem_rate,e.lodging_rate=100*t.results[0].lodging_rate,e.others_rate=100*t.results[0].others_rate,e.approvalSetting=t.results[0].approvals,e.settlementApprovalSetting=t.results[0].settlement_approvals,0===t.results[0].approvals.length&&e.approvalSetting.push({approve_by:"Supervisor",supervisor_level:"First",select_employee:!1,employee:[]}),0===t.results[0].settlement_approvals.length&&e.settlementApprovalSetting.push({approve_by:"Supervisor",supervisor_level:"First",select_employee:!1,employee:[]})),e.fetched=!0}))},setSupervisorLevel:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];a?(this.settlementApprovalSetting[t].supervisor_level=e,this.settlementApprovalSetting[t].select_employee=!1):(this.approvalSetting[t].supervisor_level=e,this.approvalSetting[t].select_employee=!1)},add:function(){this.count++,this.approvalSetting.push({approve_by:"",supervisor_level:"",employee:[],select_employee:!1})},addSettlementApprovers:function(){this.settlementCount++,this.settlementApprovalSetting.push({approve_by:"",supervisor_level:"",employee:[],select_employee:!1})},remove:function(e){this.count>1&&(this.count=this.count-1,this.approvalSetting.splice(e,1))},removeSettlementApprovers:function(e){this.settlementCount>1&&(this.settlementCount=this.settlementCount-1,this.settlementApprovalSetting.splice(e,1))},validateFields:function(){return!!this.requireApprovalLevel&&(this.approvalSetting.forEach((function(e){if(!e.approve_by||!e.supervisor_level&&!e.employee)return!0})),!1)},save:function(){this.settlementApprovalSetting=this.sameAsExpenseRequest?this.approvalSetting:this.settlementApprovalSetting;var e={approvals:this.approvalSetting,settlement_approvals:this.settlementApprovalSetting,approve_multiple_times:this.approve_multiple_times,travel_report_mandatory:this.travel_report_mandatory,advance_code:this.advance_code,options:this.options,per_diem_rate:this.per_diem_rate/100,lodging_rate:this.lodging_rate/100,others_rate:this.others_rate/100};this.crud.message="Successfully updated settings.",this.insertData(this.endpoint+"?as=".concat(this.as||""),e)}}},d=p,v=a("2877"),m=a("6544"),h=a.n(m),f=a("8336"),g=a("b0af"),b=a("99d9"),_=a("ac7c"),y=a("cc20"),x=a("62ad"),S=a("ce7e"),C=a("132d"),A=a("0fd9b"),E=a("b974"),k=a("8654"),w=Object(v["a"])(d,s,i,!1,null,null,null),$=w.exports;h()(w,{VBtn:f["a"],VCard:g["a"],VCardActions:b["a"],VCardText:b["c"],VCheckbox:_["a"],VChip:y["a"],VCol:x["a"],VDivider:S["a"],VIcon:C["a"],VRow:A["a"],VSelect:E["a"],VTextField:k["a"]});var D=a("0549"),O=a("7613"),V={components:{Setting:$,VuePageWrapper:D["default"]},data:function(){return{htmlTitle:"Approval | Setting | Expense Management",breadCrumbItems:[{text:"Expense Management",disabled:!0},{text:"Settings",to:{name:"admin-slug-expense-management-setting",params:{slug:this.$route.params.slug}},disabled:!1},{text:"Approval Setting",disabled:!0}],endpoint:""}},created:function(){this.endpoint=O["a"].getApprovalSetting(this.$route.params.slug)},methods:{}},I=V,L=Object(v["a"])(I,r,n,!1,null,"61aee670",null);t["default"]=L.exports},"6c6f":function(e,t,a){"use strict";a("d3b7");t["a"]={data:function(){return{deleteNotification:{dialog:!1,heading:"Confirm Delete",text:"Are you sure you want to delete ?"}}},methods:{deleteData:function(e,t){var a=this;return new Promise((function(r,n){!a.loading&&e&&(a.loading=!0,a.$http.delete(e,t||{}).then((function(e){a.crud.message&&setTimeout((function(){a.notifyUser(a.crud.message)}),1e3),r(e),a.loading=!1})).catch((function(e){a.pushErrors(e),a.notifyInvalidFormResponse(),n(e),a.loading=!1})).finally((function(){a.deleteNotification.dialog=!1})))}))}}}},7613:function(e,t,a){"use strict";a("99af");t["a"]={getApprovalSetting:function(e){return"reimbursement/".concat(e,"/setting/")},postApprovalSetting:function(e){return"reimbursement/".concat(e,"/setting/")},getTravelExpenseSetting:function(e){return"reimbursement/".concat(e,"/travel-settings/")},postTravelExpenseSetting:function(e){return"reimbursement/".concat(e,"/travel-settings/")},postTravelExpenseLocationSetting:function(e){return"reimbursement/".concat(e,"/travel-locations/")},changeTravelExpenseLocationSetting:function(e,t){return"reimbursement/".concat(e,"/travel-locations/").concat(t)},getTravelExpenseLocationSetting:function(e){return"reimbursement/".concat(e,"/travel-locations/")},getAllowanceMappingSetting:function(e){return"reimbursement/".concat(e,"/travel-group-settings/")},postAllowanceMappingSetting:function(e){return"reimbursement/".concat(e,"/travel-group-settings/")},editAllowanceMappingSetting:function(e,t){return"reimbursement/".concat(e,"/travel-group-settings/").concat(t)},postLocationAmountMapping:function(e){return"reimbursement/".concat(e,"/location-amount-mappers/")},getLocationAmountMapping:function(e){return"reimbursement/".concat(e,"/location-amount-mappers/")},getLocationAmount:function(e){return"reimbursement/".concat(e,"/location-amount-mappers/location-amount/")}}},"983c":function(e,t,a){"use strict";a("d3b7");t["a"]={methods:{getData:function(e,t,a){var r=this,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Promise((function(s,i){!r.loading&&e&&(r.clearNonFieldErrors(),r.$validator.errors.clear(),r.loading=n,r.$http.get(e,a||{params:t||{}}).then((function(e){s(e),r.loading=!1})).catch((function(e){r.pushErrors(e),r.notifyInvalidFormResponse(),i(e),r.loading=!1})))}))},getBlockingData:function(e,t,a){var r=this;return new Promise((function(n,s){r.getData(e,t,a,!0).then((function(e){n(e)})).catch((function(e){s(e)}))}))}}}},ab8a:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.changeType&&0!==e.nonFieldErrors.length?a("div",e._l(e.nonFieldErrors,(function(t,r){return a("v-col",{key:r},e._l(t,(function(t,r){return a("div",{key:r},[a("span",{domProps:{textContent:e._s(e.key)}}),a("span",{domProps:{textContent:e._s(t.toString())}})])})),0)})),1):e._e(),e.changeType||0===e.nonFieldErrors.length?e._e():a("v-alert",{staticClass:"ma-3",attrs:{outlined:"",dense:"",tile:"",dismissible:"",color:"danger"}},[a("span",{domProps:{textContent:e._s("There are some errors")}}),e._l(e.nonFieldErrors,(function(t,r){return a("div",{key:r},e._l(t,(function(t,r){return a("div",{key:r},[a("ul",[a("li",[a("span",{domProps:{textContent:e._s(e.key)}}),a("span",{domProps:{textContent:e._s(t.toString())}})])])])})),0)}))],2)],1)},n=[],s={props:{nonFieldErrors:{type:Array,required:!0},changeType:{type:Boolean,default:!1}},data:function(){return{key:""}}},i=s,o=a("2877"),l=a("6544"),c=a.n(l),u=a("0798"),p=a("62ad"),d=Object(o["a"])(i,r,n,!1,null,null,null);t["default"]=d.exports;c()(d,{VAlert:u["a"],VCol:p["a"]})},abd3:function(e,t,a){},c197:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.divClass},[a("v-img",{class:e.imgClass,attrs:{src:"/svg/three-dots.svg",height:e.height,contain:""}}),a("h3",{staticClass:"text-center grey--text",domProps:{textContent:e._s(e.message)}})],1)},n=[],s={props:{message:{type:String,default:"Please wait. Fetching data just for you ..."},divClass:{type:String,default:"pa-12"},imgClass:{type:String,default:"my-6"},height:{type:String,default:"20"}},data:function(){return{}}},i=s,o=a("2877"),l=a("6544"),c=a.n(l),u=a("adda"),p=Object(o["a"])(i,r,n,!1,null,null,null);t["default"]=p.exports;c()(p,{VImg:u["a"]})},ef8c:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-autocomplete",{class:e.appliedClass,attrs:{items:e.itemsSorted,loading:e.isLoading,"search-input":e.search,multiple:e.multiple,label:e.label,error:e.errorMessages.length>0,"error-messages":e.errorMessages,disabled:e.disabled,"prepend-inner-icon":e.prependInnerIcon,clearable:e.clearable&&!e.readonly,readonly:!!e.readonly,"hide-details":e.hideDetails,"data-cy":"input-user-autocomplete-"+e.dataCyVariable,placeholder:e.placeholder,"hide-selected":"","hide-no-data":"","item-text":"full_name","item-value":"id"},on:{"update:searchInput":function(t){e.search=t},"update:search-input":function(t){e.search=t},blur:function(t){return e.$emit("blur")}},scopedSlots:e._u([{key:"selection",fn:function(t){return[a("v-chip",{attrs:{"input-value":t.selected,close:(e.clearable||!e.clearable&&!e.multiple)&&!e.readonly,small:""},on:{"click:close":function(a){return e.remove(t.item)}}},[a("v-avatar",{attrs:{left:""}},[a("v-img",{attrs:{src:t.item.profile_picture,cover:""}})],1),e._v(" "+e._s(e._f("truncate")(t.item.full_name,e.truncate))+" ")],1)]}},{key:"item",fn:function(t){var r=t.item;return[a("v-list-item-avatar",[a("v-avatar",{attrs:{size:"30"}},[a("v-img",{attrs:{src:r.profile_picture,cover:""}})],1)],1),a("v-list-item-content",[a("v-list-item-title",[e._v(" "+e._s(e._f("truncate")(r.full_name,20))+" "),r.employee_code?a("span",[e._v("("+e._s(r.employee_code)+")")]):e._e()]),r.division?a("v-list-item-subtitle",{domProps:{textContent:e._s(r.division)}}):e._e()],1)]}}]),model:{value:e.selectedData,callback:function(t){e.selectedData=t},expression:"selectedData"}})],1)},n=[],s=a("53ca"),i=(a("a9e3"),a("ac1f"),a("841c"),a("4e827"),a("2ca0"),a("d81d"),a("a434"),a("d3b7"),a("159b"),a("7db0"),a("4de4"),a("caad"),a("2532"),a("fab2")),o=a("63ea"),l=a.n(o),c={props:{value:{type:[Number,String,Array,Object],required:!1,default:function(){return null}},dataCyVariable:{type:String,default:""},userObject:{type:[Object,Array],required:!1,default:function(){return{}}},params:{type:[Object,Array],required:!1,default:function(){return{}}},multiple:{type:Boolean,required:!1,default:!1},disabled:{type:Boolean,required:!1,default:!1},errorMessages:{type:[String,Array],default:function(){return[]}},label:{type:String,default:"Select Employee"},prependInnerIcon:{type:String,default:"mdi-account-plus-outline"},itemsToExclude:{type:[Array,Number],default:null},itemsToInclude:{type:[Array,Number],default:null},clearable:{type:Boolean,default:!0},readonly:{type:Boolean,default:!1},hideDetails:{type:Boolean,default:!1},appliedClass:{type:String,default:""},truncate:{type:Number,default:10},placeholder:{type:String,default:""}},data:function(){return{isLoading:!1,items:[],allUsers:[],selectedData:null,search:null}},computed:{itemsSorted:function(){return this.sortBySearch(this.items,this.search?this.search.toLowerCase():"")}},watch:{value:{handler:function(e,t){!e&&t&&(this.selectedData="",this.populateInitialUsers()),!t&&e&&this.populateInitialUsers()},immediate:!0},search:function(e){!e||this.items.length>0||this.fetchUsers()},selectedData:function(e){this.search="",this.syncUserData(e),this.$emit("input",e)},itemsToExclude:function(){this.items=this.excludeRecord(this.allUsers)},itemsToInclude:function(){this.items=this.includeRecord(this.allUsers)},params:{handler:function(e,t){l()(e,t)||this.fetchUsers()},deep:!0}},methods:{sortBySearch:function(e,t){return e.sort((function(e,a){return e.full_name.toLowerCase().startsWith(t)&&a.full_name.toLowerCase().startsWith(t)?e.full_name.toLowerCase().localeCompare(a.full_name.toLowerCase()):e.full_name.toLowerCase().startsWith(t)?-1:a.full_name.toLowerCase().startsWith(t)?1:e.full_name.toLowerCase().localeCompare(a.full_name.toLowerCase())}))},populateInitialUsers:function(){this.fetchUsers(this.value),Array.isArray(this.value)?"object"===Object(s["a"])(this.value[0])?this.selectedData=this.value.map((function(e){return e.user.id})):this.selectedData=this.value:null===this.value?this.selectedData="":"object"===Object(s["a"])(this.value)?this.selectedData=this.value.id:this.selectedData=this.value,this.$emit("input",this.selectedData)},remove:function(e){if(this.selectedData instanceof Object){var t=this.selectedData.indexOf(e.id);t>=0&&this.selectedData.splice(t,1),this.$emit("remove",e)}else this.selectedData=""},fetchUsers:function(e){var t=this;this.isLoading||(this.isLoading=!0,this.$http.get(i["a"].autocomplete,{params:this.params}).then((function(a){t.allUsers=a,t.itemsToExclude&&(a=t.excludeRecord(a)),t.itemsToInclude&&(a=t.includeRecord(a)),t.items=a,e&&t.syncUserData(e)})).finally((function(){return t.isLoading=!1})))},syncUserData:function(e){var t=this;if(e instanceof Array){var a=[];e.forEach((function(e){a.unshift(t.items.find((function(t){return t.id===e})))})),this.$emit("update:userObject",a)}else{var r=this.items.find((function(t){return t.id===e}));this.$emit("update:userObject",r)}},excludeRecord:function(e){var t=[];return"number"===typeof this.itemsToExclude?t.push(this.itemsToExclude):t=this.itemsToExclude,e.filter((function(e){return!t.includes(e.id)}))},includeRecord:function(e){var t=this;return e.filter((function(e){return t.itemsToInclude.includes(e.id)}))}}},u=c,p=a("2877"),d=a("6544"),v=a.n(d),m=a("c6a6"),h=a("8212"),f=a("cc20"),g=a("adda"),b=a("8270"),_=a("5d23"),y=Object(p["a"])(u,r,n,!1,null,null,null);t["default"]=y.exports;v()(y,{VAutocomplete:m["a"],VAvatar:h["a"],VChip:f["a"],VImg:g["a"],VListItemAvatar:b["a"],VListItemContent:_["a"],VListItemSubtitle:_["b"],VListItemTitle:_["c"]})},f0d5:function(e,t,a){"use strict";a("d3b7"),a("3ca3"),a("ddb0");var r=a("c44a");t["a"]={components:{NonFieldFormErrors:function(){return a.e("chunk-6441e173").then(a.bind(null,"ab8a"))}},mixins:[r["a"]],data:function(){return{crud:{name:"record",message:"",addAnother:!1},formValues:{},loading:!1}}}},f12b:function(e,t,a){"use strict";var r=a("f0d5"),n=a("983c"),s=a("f70a"),i=a("6c6f");t["a"]={mixins:[r["a"],n["a"],s["a"],i["a"]]}},f70a:function(e,t,a){"use strict";a("d3b7"),a("caad");t["a"]={methods:{insertData:function(e,t){var a=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.validate,s=void 0===n||n,i=r.clearForm,o=void 0===i||i,l=arguments.length>3?arguments[3]:void 0;return new Promise((function(r,n){!a.loading&&e&&(a.clearErrors(),a.$validator.validateAll().then((function(i){s||(i=!0),i&&(a.loading=!0,a.$http.post(e,t,l||{}).then((function(e){a.clearErrors(),o&&(a.formValues={}),a.crud.addAnother||a.$emit("create"),a.crud.message&&setTimeout((function(){a.notifyUser(a.crud.message)}),1e3),r(e),a.loading=!1})).catch((function(e){a.pushErrors(e),a.notifyInvalidFormResponse(),n(e),a.loading=!1})))})))}))},patchData:function(e,t){var a=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.validate,s=void 0===n||n,i=r.clearForm,o=void 0===i||i,l=arguments.length>3?arguments[3]:void 0;return new Promise((function(r,n){a.updateData(e,t,{validate:s,clearForm:o},"patch",l).then((function(e){r(e)})).catch((function(e){n(e)}))}))},putData:function(e,t){var a=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.validate,s=void 0===n||n,i=r.clearForm,o=void 0===i||i,l=arguments.length>3?arguments[3]:void 0;return new Promise((function(r,n){a.updateData(e,t,{validate:s,clearForm:o},"put",l).then((function(e){r(e)})).catch((function(e){n(e)}))}))},updateData:function(e,t){var a=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.validate,s=void 0===n||n,i=r.clearForm,o=void 0===i||i,l=arguments.length>3?arguments[3]:void 0,c=arguments.length>4?arguments[4]:void 0;return new Promise((function(r,n){!a.loading&&e&&["put","patch"].includes(l)&&(a.clearErrors(),a.$validator.validateAll().then((function(i){s||(i=!0),i&&(a.loading=!0,a.$http[l](e,t,c||{}).then((function(e){a.$emit("update"),a.clearErrors(),o&&(a.formValues={}),a.crud.message&&setTimeout((function(){a.notifyUser(a.crud.message)}),1e3),r(e),a.loading=!1})).catch((function(e){a.pushErrors(e),a.notifyInvalidFormResponse(),n(e),a.loading=!1})))})))}))},clearErrors:function(){this.clearNonFieldErrors(),this.$validator.errors.clear()}}}},fab2:function(e,t,a){"use strict";t["a"]={getUserList:"/users/",postUser:"/users/",autocomplete:"/users/autocomplete/",postImportUser:"/users/import/",downloadUserImportSample:function(e){return"/users/import/sample/?organization=".concat(e)},getUserDetail:function(e){return"/users/".concat(e,"/")},getInternalUserDetail:function(e){return"/users/".concat(e,"/internal-detail")},deleteUser:function(e){return"/users/".concat(e,"/")},updateUser:function(e){return"/users/".concat(e,"/")},changePassword:function(e){return"/users/".concat(e,"/change-password/")},getUserCV:function(e){return"/users/".concat(e,"/cv/")},getProfileCompleteness:function(e){return"users/".concat(e,"/profile-completeness/")}}}}]);