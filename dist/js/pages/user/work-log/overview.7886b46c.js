(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages/user/work-log/overview"],{1406:function(t,e,a){},"21bef":function(t,e,a){},"46ee":function(t,e,a){"use strict";a("21bef")},"82a4":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",[t.showSearch?a("v-col",{attrs:{md:"6"}},[a("v-text-field",{attrs:{label:t.searchLabel,"single-line":""},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.setSearchQueryParams()}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1):t._e(),a("v-spacer"),t.showRowPerPage?a("v-col",{attrs:{md:"8",sm:"12",cols:"12"}},[a("div",{staticClass:"flex width=100%"},[a("v-row",[a("div",{staticClass:"text-xs px-sm-4 px-md-4 datatable__action__select flex"},[t._v(" Rows per page: ")]),a("div",{staticClass:"input-group__input"},[a("v-select",{attrs:{value:t.pageNumber,items:t.rowsPerPageItems},on:{input:function(e){return t.setPageNumber(e)}}})],1),a("span",{staticClass:"px-md-4 px-sm-4 datatable__action__select"},[t._v(" "+t._s(t.paginationInfo)+" ")]),t.previousLink?a("v-icon",{staticClass:"px-md-4 px-sm-4 datatable__action__select",attrs:{icon:""},on:{click:function(e){return t.syncFetchApiLink(t.previousLink)}}},[t._v(" mdi-chevron-left ")]):a("v-icon",{staticClass:"px-md-4 px-sm-4 datatable__action__select",attrs:{disabled:""}},[t._v(" mdi-chevron-left ")]),t.nextLink?a("v-icon",{staticClass:"px-md-4 px-sm-4 datatable__action__select",attrs:{icon:""},on:{click:function(e){return t.syncFetchApiLink(t.nextLink)}}},[t._v(" mdi-chevron-right ")]):a("v-icon",{staticClass:"px-md-4 px-sm-4 datatable__action__select",attrs:{disabled:""}},[t._v(" mdi-chevron-right ")])],1)],1)]):a("v-col",[a("div",[a("span",[t._v(t._s(t.paginationInfo))]),t.previousLink?a("v-btn",{attrs:{icon:""},on:{click:function(e){return t.syncFetchApiLink(t.previousLink)}}},[a("v-icon",[t._v(" mdi-chevron-left ")])],1):a("v-icon",{attrs:{disabled:""}},[t._v(" mdi-chevron-left ")]),t.nextLink?a("v-btn",{attrs:{icon:""},on:{click:function(e){return t.syncFetchApiLink(t.nextLink)}}},[a("v-icon",[t._v(" mdi-chevron-right ")])],1):a("v-icon",{attrs:{disabled:""}},[t._v(" mdi-chevron-right ")])],1)])],1)},r=[],i=(a("ac1f"),a("841c"),{props:{showRowPerPage:{type:Boolean,default:!1},showSearch:{type:Boolean,default:!0},searchLabel:{type:String,default:""},fetchApi:{type:String,required:!0},nextLink:{validator:function(t){return"string"===typeof t||null===t},required:!0},previousLink:{validator:function(t){return"string"===typeof t||null===t},required:!0},paginationInfo:{type:String,required:!0},filterQuery:{type:Object,required:!1,default:function(){return{}}},rowsPerPageItems:{type:Array,default:function(){return[10]}}},data:function(){return{search:"",searchData:!1,pageNumber:10}},mounted:function(){Object.prototype.hasOwnProperty.call(this.filterQuery,"search")&&(this.search=this.filterQuery.search)},methods:{setPageNumber:function(t){this.pageNumber=t,this.$emit("update:page-number",this.pageNumber)},syncFetchApiLink:function(t){this.$emit("update:fetchApi",t)},setSearchQueryParams:function(){this.$emit("update:queryParams",{search:this.search})}}}),o=i,n=(a("46ee"),a("2877")),c=a("6544"),l=a.n(c),u=a("8336"),d=a("62ad"),v=a("132d"),f=a("0fd9b"),p=a("b974"),h=a("2fa4"),m=a("8654"),_=Object(n["a"])(o,s,r,!1,null,null,null);e["a"]=_.exports;l()(_,{VBtn:u["a"],VCol:d["a"],VIcon:v["a"],VRow:f["a"],VSelect:p["a"],VSpacer:h["a"],VTextField:m["a"]})},a7e5:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("vue-page-wrapper",{attrs:{title:t.htmlTitle,"bread-crumbs":t.breadCrumbItems}},[t.fetched?a("v-row",[a("v-col",{attrs:{md:"3"}},[a("v-card",[a("v-card-text",[a("div",[t._v("Total Work Logs")]),a("div",{staticClass:"text-h4 success--text"},[t._v(" "+t._s(t.response.statistics.total_work_logs)+" ")])])],1)],1),a("v-col",{attrs:{md:"3"}},[a("v-card",[a("v-card-text",[a("div",[t._v("Total Score")]),a("div",{staticClass:"text-h4 primary--text"},[t._v(" "+t._s(t.response.statistics.total_score||"0")+" ")])])],1)],1),a("v-col",{attrs:{md:"3"}},[a("v-card",[a("v-card-text",[a("div",[t._v("Avg Score Per Log")]),a("div",{staticClass:"text-h4 info--text"},[t._v(" "+t._s(t.response.statistics.average_score||"0")+" ")])])],1)],1),a("v-col",{attrs:{md:"3"}},[a("v-card",[a("v-card-text",[a("div",[t._v("Pending")]),a("div",{staticClass:"text-h4 warning--text"},[t._v(" "+t._s(t.response.statistics.pending_review)+" ")])])],1)],1),a("v-col",{attrs:{md:"9"}},[a("v-card",[a("vue-card-title",{attrs:{title:"Worklog Leaderboard",subtitle:"The list below contains leaderboard of the worklog.",icon:"mdi-account-circle-outline"}},[a("template",{slot:"actions"},[a("v-btn",{attrs:{icon:""},on:{click:function(e){t.showFilters=!t.showFilters}}},[a("v-icon",{attrs:{small:""},domProps:{textContent:t._s("mdi-filter-variant")}})],1)],1)],2),a("v-divider"),a("v-slide-y-transition",[a("v-row",{directives:[{name:"show",rawName:"v-show",value:t.showFilters,expression:"showFilters"}],staticClass:"px-3"},[a("v-col",[a("v-text-field",{attrs:{value:t.filters.search,label:"Search Employees","prepend-inner-icon":"mdi-magnify","hide-details":""},on:{change:function(e){t.filters.search=e}}})],1),a("v-col",[a("date-filter-menu",{attrs:{default:"All Time","hide-details":""},model:{value:t.filters.dateFilter,callback:function(e){t.$set(t.filters,"dateFilter",e)},expression:"filters.dateFilter"}})],1)],1)],1),t.showFilters?a("v-divider"):t._e(),a("v-card-text",[a("v-row",[a("v-col",{staticClass:"text-right",attrs:{md:"12"}},[a("pagination-component",{attrs:{"show-search":!1,"fetch-api":t.fetchAPI,"next-link":t.nextLink,"previous-link":t.previousLink,"pagination-info":t.paginationInfo},on:{"update:fetchApi":function(e){t.fetchAPI=e},"update:fetch-api":function(e){t.fetchAPI=e}}})],1),t.fetchedData.length?t._l(t.fetchedData,(function(t,e){return a("v-col",{key:e,attrs:{md:"4"}},[a("work-log-user-card",{attrs:{"user-data":t}})],1)})):a("vue-no-data")],2)],1)],1)],1),a("v-col",{attrs:{md:"3"}},[a("v-card",[a("vue-card-title",{attrs:{title:"Log Efficiency",subtitle:"Efficiency of all users",icon:"mdi-format-list-checkbox"}}),a("v-divider"),a("v-card-text",{staticClass:"text-center"},[a("v-progress-circular",{attrs:{rotate:180,size:100,width:15,color:"success",value:t.response.statistics.efficiency}},[t._v(" "+t._s((t.response.statistics.efficiency||0).toFixed(2))+" ")])],1)],1),a("v-card",{staticClass:"mt-3"},[a("vue-card-title",{attrs:{title:"Score Distribution",subtitle:"Score of the work logs.",icon:"mdi-file-document-outline"}}),a("v-divider"),a("v-card-text",[t.response.score_distribution.length>0?a("v-timeline",{attrs:{"align-top":"",dense:""}},t._l(t.response.score_distribution,(function(e,s){return a("v-timeline-item",{key:s,attrs:{small:""}},[a("v-row",[a("v-col",[t._v(" "+t._s(e.user.full_name)+" got score of "),a("strong",[t._v(t._s(e.score))]),t._v(" on "+t._s(e.date)+". ")])],1)],1)})),1):a("div",[a("vue-no-data",{attrs:{text:"Score distributions not found."}})],1)],1)],1)],1)],1):a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{md:"12"}},[a("default-svg-loader")],1)],1)],1)},r=[],i=a("5530"),o=(a("ac1f"),a("841c"),a("fe8d")),n=a("0549"),c=a("ca6d"),l=a("82a4"),u=a("c197"),d=a("e585"),v=a("ac94"),f={components:{VuePageWrapper:n["default"],DateFilterMenu:v["a"],WorkLogUserCard:c["a"],PaginationComponent:l["a"],DefaultSvgLoader:u["default"],VueNoData:d["default"]},mixins:[o["a"]],data:function(){return{htmlTitle:"Overview | Work Logs | User",breadCrumbItems:[{text:"Work Log",disabled:!0},{text:"Overview",disabled:!0}],filters:{search:"",dateFilter:{start_date:"",end_date:""}},showFilters:!1,fetched:!1,fetchedScoreDistribution:!1,users:[],statistics:{},scoreDistribution:[],efficiency:20,fetchAPI:"/work-log/overview/",searchLabel:"Search for users..."}},computed:{queryParams:function(){return Object(i["a"])({search:this.filters.search},this.filters.dateFilter)}},watch:{fetchAPI:function(){this.fetchData()}},created:function(){this.fetchData()}},p=f,h=a("2877"),m=a("6544"),_=a.n(m),g=a("8336"),b=a("b0af"),x=a("99d9"),w=a("62ad"),y=a("ce7e"),k=a("132d"),C=a("490a"),P=a("0fd9b"),D=a("0789"),L=a("8654"),V=a("8414"),S=a("1e06"),A=Object(h["a"])(p,s,r,!1,null,null,null);e["default"]=A.exports;_()(A,{VBtn:g["a"],VCard:b["a"],VCardText:x["c"],VCol:w["a"],VDivider:y["a"],VIcon:k["a"],VProgressCircular:C["a"],VRow:P["a"],VSlideYTransition:D["g"],VTextField:L["a"],VTimeline:V["a"],VTimelineItem:S["a"]})},ca6d:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"text-center",attrs:{height:"100%"}},[a("v-img",{attrs:{src:t.userData.cover_picture,height:"100px"}}),a("v-row",[a("v-col",{attrs:{cols:"4"}}),a("v-col",{attrs:{cols:"4"}},[a("v-avatar",{staticClass:"mt-n12",attrs:{size:"90"}},[a("v-img",{staticClass:"white-border",attrs:{src:t.userData.profile_picture}})],1)],1),a("v-col",{attrs:{cols:"4"}})],1),a("v-col",{staticClass:"text-center"},[a("a",{domProps:{textContent:t._s(t.userData.full_name)},on:{click:function(e){return t.viewProfileDetail(t.userData.id)}}}),a("div",{domProps:{textContent:t._s(t.userData.job_title||"N/A")}}),a("div",[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("span",t._g({},s),[t._v(" "+t._s(t._f("truncate")(t.get(t.userData,"division.name","N/A"),15))+" ")])]}}])},[a("span",[t._v(" "+t._s(t.get(t.userData,"division.name","N/A"))+" ")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("span",t._g({},s),[t._v(" "+t._s(t._f("truncate")(" | "+t.userData.employee_level,20))+" ")])]}}])},[a("span",[t._v(" "+t._s(t.userData.employee_level)+" ")])])],1),a("v-divider"),a("v-card",{attrs:{flat:"",extended:""}},[a("v-row",[a("v-col",{staticClass:"text-left",attrs:{cols:"6"}},[a("span",{domProps:{textContent:t._s("Total Work Logs")}}),a("br"),a("span",[t._v(" "+t._s(t.userData.total_work_logs||"0")+" ")])]),a("v-col",{staticClass:"text-left",attrs:{cols:"6"}},[a("span",[t._v(" Efficiency ")]),a("br"),t._v(" "+t._s((t.userData.efficiency||0).toFixed(2)||"N/A")+" ")]),a("v-col",{staticClass:"text-left",attrs:{cols:"6"}},[a("span",[t._v(" Total Score ")]),a("br"),t._v(" "+t._s(t.userData.total_score||"0")+" ")]),a("v-col",{staticClass:"text-left",attrs:{cols:"6"}},[a("span",[t._v(" Average Score ")]),a("br"),t.userData.average_score?a("span",[t._v(" "+t._s(t.userData.average_score.toFixed(2))+" ")]):a("span",[t._v(" 0 ")])])],1)],1)],1),a("v-spacer"),a("v-divider"),a("v-card-actions",{staticClass:"pa-0"},[t.userData.supervisor?a("v-col",{staticClass:"pa-0 text-center"},[a("div",{staticClass:"py-2 shade",domProps:{textContent:t._s("Supervisor")}}),a("v-divider"),a("div",{staticClass:"my-2"},[a("vue-user",{attrs:{user:t.userData.supervisor,"normal-user":""}})],1)],1):a("v-col",[a("v-divider"),a("div",{domProps:{textContent:t._s("Supervisor")}}),a("v-divider"),a("v-responsive",{attrs:{height:"48"}},[a("v-row",{attrs:{justify:"center",align:"center"}},[t._v(" No Supervisor Assigned yet ")])],1)],1)],1)],1)},r=[],i=a("02cb"),o={components:{VueUser:i["default"]},props:{userData:{type:Object,required:!0}},data:function(){return{}},methods:{viewProfileDetail:function(t){this.$router.push({name:"user-employee-directory-id-profile-detail",params:{id:t}})}}},n=o,c=(a("f2bc"),a("2877")),l=a("6544"),u=a.n(l),d=a("8212"),v=a("b0af"),f=a("99d9"),p=a("62ad"),h=a("ce7e"),m=a("adda"),_=a("6b53"),g=a("0fd9b"),b=a("2fa4"),x=a("3a2f"),w=Object(c["a"])(n,s,r,!1,null,"0b28d171",null);e["a"]=w.exports;u()(w,{VAvatar:d["a"],VCard:v["a"],VCardActions:f["a"],VCol:p["a"],VDivider:h["a"],VImg:m["a"],VResponsive:_["a"],VRow:g["a"],VSpacer:b["a"],VTooltip:x["a"]})},f2bc:function(t,e,a){"use strict";a("1406")},fe8d:function(t,e,a){"use strict";var s=a("5530"),r=(a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("63ea")),i=a.n(r),o=a("2f62"),n=a("cf45");e["a"]={data:function(){return{fetched:!1,nextLink:"",showNotify:!1,previousLink:"",paginationInfo:"",fetchedData:[],totalCount:"",response:{},rowsPerPageItems:[10,20,30,40,50]}},watch:{queryParams:{handler:function(t,e){i()(t,e)||this.fetchData()},deep:!0}},methods:Object(s["a"])(Object(s["a"])({},Object(o["d"])({setSnackBar:"common/setSnackBar"})),{},{fetchData:function(){var t=this;this.loading=!0,this.fetched=!1;var e=this.queryParams;this.$http.get(this.fetchAPI,{params:e}).then((function(e){t.response=e,t.totalCount=e.count,t.fetchedData=e.results,t.nextLink=t.getSecureURL(e.next),t.previousLink=t.getSecureURL(e.previous),t.paginationInfo=t.calculatePaginationInfo(e),t.fetched=!0,t.loading=!1,t.postFetchData(e)})).catch((function(){t.showNotify=!0,setTimeout((function(){t.showNotify=!1}),2e3)})).finally((function(){t.loading=!1}))},getSecureURL:function(t){if(t){var e=new URL(t);if("production"===Object(n["f"])("VUE_APP_ENV")&&"http:"===e.protocol)return e.protocol="https:",e.href}return t},postFetchData:function(){},calculatePaginationInfo:function(t){var e=t.count;if(t.next){var a=new URL(t.next);this.toCount=a.searchParams.get("offset")}else this.toCount=e;return t.previous?this.fromCount=this.toCount-t.results.length:this.fromCount=0,this.fromCount+=1,0===t.count&&(this.fromCount=0),this.fromCount+" - "+this.toCount+" of "+e}})}}}]);