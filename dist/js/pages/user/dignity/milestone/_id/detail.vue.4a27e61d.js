(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages/user/dignity/milestone/_id/detail.vue"],{"32c0":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("vue-page-wrapper",{attrs:{title:e.htmlTitle,"bread-crumbs":e.breadCrumbItems}},[e.fetched?i("v-row",{attrs:{align:"start"}},[i("v-col",{attrs:{md:"8"}},[i("milestone-detail-info",{attrs:{"milestone-detail":e.milestoneDetail,"objective-current-status":e.milestoneCurrentStatus,"read-only":e.isReadOnly},on:{refresh:e.refreshObjectiveDetail}}),e.milestoneDetail.milestone_checklists.length>0?i("milestone-check-lists",{attrs:{"user-id":e.milestoneDetail.assigned_to.id,"check-lists":e.milestoneDetail.milestone_checklists,"milestone-detail":e.milestoneDetail,"milestone-id":e.milestoneID,"read-only":e.isReadOnly}}):e._e(),i("milestone-detail-comments",{attrs:{"milestone-detail":e.milestoneDetail,"read-only":e.isReadOnly}}),i("milestone-detail-attachments",{attrs:{"milestone-detail":e.milestoneDetail,"read-only":e.isReadOnly}})],1),i("v-col",{attrs:{md:"4"}},[i("milestone-detail-status",{attrs:{"milestone-detail":e.milestoneDetail,"read-only":e.isReadOnly},on:{refresh:e.refreshObjectiveDetail}}),i("milestone-recent-activities")],1)],1):i("v-row",[i("v-col",{attrs:{md:"12"}},[i("default-svg-loader")],1)],1)],1)},s=[],l=i("1da1"),n=i("5530"),o=(i("caad"),i("2532"),i("96cf"),i("0549")),r=i("e6e4"),d=i("8f4e"),c=i("5f9e"),u=i("1ed9"),m=i("b38e"),h=i("c197"),f=i("2f62"),D=i("dd34"),v=i("9725"),p={components:{MilestoneRecentActivities:v["a"],VuePageWrapper:o["default"],MilestoneDetailInfo:r["a"],MilestoneCheckLists:c["a"],MilestoneDetailComments:d["a"],MilestoneDetailAttachments:u["a"],MilestoneDetailStatus:m["a"],DefaultSvgLoader:h["default"]},validate:function(e){var t=e.params;return/^\d+$/.test(t.id)},data:function(){return{htmlTitle:"Milestone",breadCrumbItems:[{text:"Milestone",disabled:!0},{text:"Milestone Detail",disabled:!0}],milestoneID:this.$route.params.milestoneId,fetched:!1,milestoneDetail:null,objectiveActivity:[],milestoneCurrentStatus:null,objectiveProjectDetail:null,showProjectDetail:!1,isReadOnly:!0}},computed:Object(n["a"])({},Object(f["c"])({getAuthStateUser:"auth/getAuthStateUser"})),created:function(){var e=this.$route.params.milestoneId;this.fetchMilestoneDetail(e)},methods:{fetchMilestoneDetail:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return t.fetched=!1,i.next=3,t.$http.get(D["a"].updateMilestone(t.getOrganizationSlug,t.$route.params.id,t.$route.params.goalId,e)).then((function(e){t.milestoneDetail=e,t.milestoneCurrentStatus=e.status,t.checkReadStatus(),t.fetched=!0}));case 3:case"end":return i.stop()}}),i)})))()},checkReadStatus:function(){var e=this.milestoneDetail.assigned_to.id,t=this.milestoneDetail.created_by.id,i=[e,t];this.isReadOnly=!i.includes(this.getAuthStateUser.user.id)||this.milestoneDetail.approved},refreshObjectiveDetail:function(){this.fetchMilestoneDetail(this.milestoneDetail.id)}}},b=p,g=i("2877"),y=i("6544"),O=i.n(y),w=i("62ad"),M=i("0fd9b"),R=Object(g["a"])(b,a,s,!1,null,null,null);t["default"]=R.exports;O()(R,{VCol:w["a"],VRow:M["a"]})}}]);