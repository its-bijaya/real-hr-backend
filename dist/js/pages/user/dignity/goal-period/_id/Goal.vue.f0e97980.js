(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages/user/dignity/goal-period/_id/Goal.vue"],{"618d":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("vue-page-wrapper",{attrs:{title:t.htmlTitle,"bread-crumbs":t.breadCrumbItems}},[i("v-card",{attrs:{height:"auto"}},[i("vue-card-title",{attrs:{title:"List of Goal for "+t.goalPeriod.title,subtitle:"These are the list of the organizational goal.",icon:"mdi-format-list-bulleted"}},[i("template",{slot:"actions"},[i("v-btn",{attrs:{icon:""},on:{click:function(e){t.filters.show=!t.filters.show}}},[i("v-icon",{attrs:{small:""},domProps:{textContent:t._s("mdi-filter-variant")}})],1)],1)],2),i("v-divider"),i("v-slide-y-transition",{directives:[{name:"show",rawName:"v-show",value:t.filters.show,expression:"filters.show"}]},[t.filters.show?i("v-row",{staticClass:"px-2 py-0"},[i("v-col",[i("v-text-field",{attrs:{value:t.filters.search,label:"Search","prepend-inner-icon":"mdi-magnify"},on:{change:function(e){t.filters.search=e}}})],1),i("v-col",[i("v-select",{attrs:{items:t.priorityFilters,label:"Filter by Priority","item-text":"text","item-value":"value"},model:{value:t.filters.priority,callback:function(e){t.$set(t.filters,"priority",e)},expression:"filters.priority"}})],1)],1):t._e()],1),t.filters.show?i("v-divider"):t._e(),i("v-data-table",{attrs:{headers:t.headers,items:t.fetchedResults,"sort-desc":t.pagination.descending,"sort-by":t.pagination.sortBy,page:t.pagination.page,"items-per-page":t.pagination.rowsPerPage,"footer-props":t.footerProps,"server-items-length":t.pagination.totalItems,"must-sort":"","mobile-breakpoint":0},on:{"update:sortDesc":function(e){return t.$set(t.pagination,"descending",e)},"update:sort-desc":function(e){return t.$set(t.pagination,"descending",e)},"update:sortBy":function(e){return t.$set(t.pagination,"sortBy",e)},"update:sort-by":function(e){return t.$set(t.pagination,"sortBy",e)},"update:page":function(e){return t.$set(t.pagination,"page",e)},"update:itemsPerPage":function(e){return t.$set(t.pagination,"rowsPerPage",e)},"update:items-per-page":function(e){return t.$set(t.pagination,"rowsPerPage",e)},filter:function(e){t.filters=Object.assign({},t.filters,e)}},scopedSlots:t._u([{key:"item",fn:function(e){return[i("tr",[i("td",[i("div",{staticClass:"text--lighten-5 pointer",on:{click:function(i){return t.viewDetail(e.item)}}},[t._v(" "+t._s(t._f("truncate")(e.item.title,25))+" ")])]),i("td",[i("div",{class:t.priorityMapper[e.item.priority].color+"--text"},[t._v(" "+t._s(e.item.priority)+" ")])]),i("td",[i("div",{staticClass:"text--lighten-5 pointer",on:{click:function(i){return t.viewDetail(e.item)}}},[t._v(" "+t._s(t._f("truncate")(e.item.description,40))+" ")])]),i("td",[i("vue-context-menu",{attrs:{"context-list":[{name:"View Details",icon:"mdi-eye-outline",color:"info"}]},on:{click0:function(i){t.viewMilestone=!0,t.goalId=e.item.id}}})],1)])]}}])},[i("template",{slot:"no-data"},[i("no-data-found",{attrs:{loading:t.loading}})],1)],2)],1),i("v-dialog",{attrs:{width:"670",persistent:"",scrollable:""},model:{value:t.showFullDetail,callback:function(e){t.showFullDetail=e},expression:"showFullDetail"}},[i("v-card",[i("vue-card-title",{attrs:{icon:"mdi-cog-outline",title:"Goal Details",closable:"",dark:""},on:{close:function(e){t.showFullDetail=!1}}}),i("v-divider"),t.showFullDetail?i("v-card-text",{staticClass:"mt-4"},[i("h3",[t._v("Goal Title")]),i("p",[t._v(t._s(t.goalDetail.title))]),i("h3",[t._v("Goal Description")]),i("p",[t._v(t._s(t.goalDetail.description))]),i("h3",[t._v("Goal Period")]),i("p",[t._v(" "+t._s(t.goalDetail.goal_period.title)+" ")]),i("h3",[t._v("Priority")]),i("p",{class:t.priorityMapper[t.goalDetail.priority].color+"--text"},[t._v(" "+t._s(t.goalDetail.priority)+" ")])]):t._e()],1)],1),i("v-bottom-sheet",{attrs:{transition:"dialog-bottom-transition",scrollable:""},on:{keydown:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;t.viewMilestone=!1}},model:{value:t.viewMilestone,callback:function(e){t.viewMilestone=e},expression:"viewMilestone"}},[t.viewMilestone?i("Milestone",{attrs:{"goal-period-id":this.$route.params.id,"goal-id":t.goalId},on:{close:function(e){t.viewMilestone=!1}}}):t._e()],1)],1)},o=[],r=i("5530"),l=(i("a9e3"),i("ac1f"),i("841c"),i("d3b7"),i("0549")),s=i("a51f"),n=i("e4bf"),d=i("dd34"),c=i("17cc"),u=i("c44a"),p=i("2f62"),g=i("7f51"),f={components:{VueContextMenu:n["default"],NoDataFound:s["default"],VuePageWrapper:l["default"],Milestone:g["a"]},mixins:[c["a"],u["a"]],props:{id:{type:Number,required:!1}},data:function(){return{htmlTitle:"Goal",breadCrumbItems:[{text:"Goal period",disabled:!1,to:{name:"user-dignity-goal-period"}},{text:"Goal",disabled:!0}],loading:!1,filters:{show:!1,search:"",priority:""},goalPeriod:{},headers:[{text:"Goal Title",sortable:!0,value:"title"},{text:"Priority",sortable:!1,width:"20%",align:"left"},{text:"Description",sortable:!1,width:""},{text:"Action",sortable:!1}],priorityMapper:{Undefined:{color:"grey"},Minor:{color:"green"},Major:{color:"purple"},Critical:{color:"red"}},priorityFilters:[{text:"All",value:""},{text:"Undefined",value:"Undefined"},{text:"Critical",value:"Critical"},{text:"Major",value:"Major"},{text:"Minor",value:"Minor"}],goal:"",goalEndpoint:"",showFullDetail:!1,goalDetail:"",viewMilestone:!1,goalId:""}},computed:{DataTableFilter:function(){return{search:this.filters.search,priority:this.filters.priority,status:this.filters.status}}},watch:{params:function(){this.fetchDataTable()},goalIdPeriod:function(t){t&&(this.getGoalPeriod(),this.loadDataTableChange())}},created:function(){this.$route.params.id?(this.getGoalPeriod(),this.loadDataTableChange()):this.goalEndpoint=d["a"].getGoalPeriod(this.getOrganizationSlug)},methods:Object(r["a"])(Object(r["a"])({},Object(p["d"])({setQueryParams:"common/setQueryParams"})),{},{viewDetail:function(t){this.showFullDetail=!0,this.goalDetail=t},getGoalPeriod:function(){var t=this;this.$http.get(d["a"].viewGoalPeriod(this.getOrganizationSlug,this.$route.params.id?this.$route.params.id:this.goalIdPeriod)).then((function(e){t.goalPeriod=e}))},fetchDataTable:function(){var t=this;this.loading||(this.loading=!0,this.$http.get(d["a"].getGoal(this.getOrganizationSlug,this.$route.params.id),{params:this.fullParams}).then((function(e){t.loadDataTable(e),t.goal=e.results})).finally((function(){t.loading=!1})))}})},h=f,v=i("2877"),m=i("6544"),b=i.n(m),w=i("288c"),y=i("8336"),x=i("b0af"),D=i("99d9"),_=i("62ad"),P=i("8fea"),M=i("169a"),k=i("ce7e"),C=i("132d"),G=i("0fd9b"),V=i("b974"),$=i("0789"),T=i("8654"),F=Object(v["a"])(h,a,o,!1,null,null,null);e["default"]=F.exports;b()(F,{VBottomSheet:w["a"],VBtn:y["a"],VCard:x["a"],VCardText:D["c"],VCol:_["a"],VDataTable:P["a"],VDialog:M["a"],VDivider:k["a"],VIcon:C["a"],VRow:G["a"],VSelect:V["a"],VSlideYTransition:$["g"],VTextField:T["a"]})}}]);