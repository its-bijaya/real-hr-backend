(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages/user/pa/appraisal/_id/forms","chunk-5327bb52"],{"8cd3":function(a,t,e){"use strict";var n=e("5530"),r=(e("d3b7"),e("f0d5"));t["a"]={mixins:[r["a"]],data:function(){return{dataTableEndpoint:"",fetchedResults:[],response:null,footerProps:{itemsPerPageOptions:[10,20,30,40,50,100]},pagination:{sortBy:["modified_at"],descending:!1,totalItems:0,page:1,rowsPerPage:10,pageCount:0},loadTableOnInit:!0}},computed:{filterParams:function(){var a=Object(n["a"])(Object(n["a"])({},this.dataTableFilter),{},{offset:(this.pagination.page-1)*this.pagination.rowsPerPage,limit:this.pagination.rowsPerPage,ordering:this.pagination.descending?this.pagination.sortBy:"-"+this.pagination.sortBy});return this.convertToURLSearchParams(a,!1)}},watch:{filterParams:function(){var a=this;this.$nextTick((function(){a.fetchDataTable()}))},dataTableFilter:function(){this.pagination.page=1}},created:function(){var a=this;setTimeout((function(){a.loadTableOnInit&&a.fetchDataTable()}),0)},methods:{fetchDataTable:function(a,t){var e=this;return new Promise((function(n,r){!a&&!e.dataTableEndpoint||e.loading||(e.loadTableOnInit=!1,e.loading=!0,e.fetchedResults=[],e.$http.get(a||e.dataTableEndpoint,t||{params:e.filterParams}).then((function(a){e.response=a,e.fetchedResults=a.results,e.pagination.totalItems=a.count,e.processAfterTableLoad(a),n(a),e.loading=!1})).catch((function(a){e.pushErrors(a),e.notifyInvalidFormResponse(),r(a),e.loading=!1})))}))},processAfterTableLoad:function(){}}}},"931c":function(a,t,e){"use strict";e("99af");t["a"]={getFormSettings:function(a,t){return"/appraisal/".concat(a,"/year/slot/").concat(t,"/form-design/")},postFormSettings:function(a,t){return"/appraisal/".concat(a,"/year/slot/").concat(t,"/form-design/")},generateAppraiseeForms:function(a,t){return"/appraisal/".concat(a,"/year/slot/").concat(t,"/form-design/generate/question-set/")},getAppraiseeForms:function(a,t){return"appraisal/".concat(a,"/year/slot/").concat(t,"/question-set/count/")},getAppraiseeFormsById:function(a,t,e){return"appraisal/".concat(a,"/year/slot/").concat(t,"/appraisee/").concat(e,"/appraiser/")},getAppraiserFormsById:function(a,t,e){return"appraisal/".concat(a,"/year/slot/").concat(t,"/appraiser/").concat(e,"/appraisee/")},postAppraisedForm:function(a,t,e,n){return"appraisal/".concat(a,"/year/slot/").concat(t,"/appraiser/").concat(e,"/appraisee/").concat(n,"/answer/")},approveAppraisedForm:function(a,t,e,n){return"appraisal/".concat(a,"/year/slot/").concat(t,"/appraisee/").concat(e,"/appraiser/").concat(n,"/approve/")},resendAppraisedForm:function(a,t,e,n){return"appraisal/".concat(a,"/year/slot/").concat(t,"/appraisee/").concat(e,"/appraiser/").concat(n,"/resend/")},getAppraiseeFormDetailForAppraiser:function(a,t,e,n){return"appraisal/".concat(a,"/year/slot/").concat(t,"/appraisee/").concat(e,"/appraiser/").concat(n,"/question-set/")},getFormSubmissionStatus:function(a,t){return"/appraisal/".concat(a,"/year/slot/").concat(t,"/question-set/statistics/")},getFormSubmissionList:function(a,t,e){return"/appraisal/".concat(a,"/year/slot/").concat(t,"/appraisee/").concat(e,"/appraiser/")},getFormApprovalStatus:function(a,t){return"/appraisal/".concat(a,"/year/slot/").concat(t,"/question-set/approval/")},updateAppraisalFormDates:function(a,t){return"/appraisal/".concat(a,"/year/slot/").concat(t,"/mode/update/date-parameters/")},sendAppraisalForms:function(a,t){return"appraisal/".concat(a,"/year/slot/").concat(t,"/form-design/send/question-set/")},getKaarFormSubmissionList:function(a,t){return"appraisal/".concat(a,"/year/slot/").concat(t,"/kaar-appraiser")},KaarFormSettings:function(a,t){return"/appraisal/".concat(a,"/year/slot/").concat(t,"/kaar-form-design/")},generateKaarAppraiseeForms:function(a,t){return"/appraisal/".concat(a,"/year/slot/").concat(t,"/kaar-form-design/generate/question-set/")},getKaarAppraiseeFormsCount:function(a,t){return"appraisal/".concat(a,"/year/slot/").concat(t,"/kaar-question-set/count/")},getKaarAppraiserConfig:function(a,t,e){return"appraisal/".concat(a,"/year/slot/").concat(t,"/kaar-appraiser/").concat(e,"/")},getKaarFormSubmissionStatus:function(a,t){return"/appraisal/".concat(a,"/year/slot/").concat(t,"/kaar-question-set/statistics/")},sendKaarAppraisalForms:function(a,t){return"appraisal/".concat(a,"/year/slot/").concat(t,"/kaar-form-design/send/question-set/")},postKaarAppraisedForm:function(a,t,e){return"appraisal/".concat(a,"/year/slot/").concat(t,"/kaar-appraiser/").concat(e,"/submit-answer/")},assignKaarScoreSetting:function(a,t){return"appraisal/".concat(a,"/year/slot/").concat(t,"/setting/kaar-scaling-setting/")},updateKaarScoreSetting:function(a,t,e){return"appraisal/".concat(a,"/year/slot/").concat(t,"/setting/kaar-scaling-setting/").concat(e)},supervisorEvaluation:function(a,t){return"appraisal/".concat(a,"/year/slot/").concat(t,"/supervisor-evaluation")},reviewerEvaluation:function(a,t){return"appraisal/".concat(a,"/year/slot/").concat(t,"/reviewer-evaluation")},updateReviewerEvaluation:function(a,t,e){return"appraisal/".concat(a,"/year/slot/").concat(t,"/reviewer-evaluation/").concat(e)},exportPaStatusReport:function(a,t){return"appraisal/".concat(a,"/year/slot/").concat(t,"/kaar-question-set/statistics/export")}}},"983c":function(a,t,e){"use strict";e("d3b7");t["a"]={methods:{getData:function(a,t,e){var n=this,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Promise((function(s,i){!n.loading&&a&&(n.clearNonFieldErrors(),n.$validator.errors.clear(),n.loading=r,n.$http.get(a,e||{params:t||{}}).then((function(a){s(a),n.loading=!1})).catch((function(a){n.pushErrors(a),n.notifyInvalidFormResponse(),i(a),n.loading=!1})))}))},getBlockingData:function(a,t,e){var n=this;return new Promise((function(r,s){n.getData(a,t,e,!0).then((function(a){r(a)})).catch((function(a){s(a)}))}))}}}},a1b8:function(a,t,e){"use strict";e("99af");t["a"]={getAppraisalList:function(a){return"appraisal/".concat(a,"/year/")},postAppraisalList:function(a){return"appraisal/".concat(a,"/year/")},updateAppraisalList:function(a,t){return"appraisal/".concat(a,"/year/").concat(t,"/")},getModeOfAppraisal:function(a,t){return"appraisal/".concat(a,"/year/slot/").concat(t,"/mode/")},postModeOfAppraisal:function(a,t){return"appraisal/".concat(a,"/year/slot/").concat(t,"/mode/")},getAppraiseeSettings:function(a,t){return"appraisal/".concat(a,"/year/slot/").concat(t,"/setting/appraisal/")},postAppraiseeSettings:function(a,t){return"appraisal/".concat(a,"/year/slot/").concat(t,"/setting/appraisal/")},getScoreAndScaling:function(a,t){return"appraisal/".concat(a,"/year/slot/").concat(t,"/setting/score-and-scaling/")},postScoreAndScaling:function(a,t){return"appraisal/".concat(a,"/year/slot/").concat(t,"/setting/score-and-scaling/")},getDeadLineExceedCondition:function(a,t){return"appraisal/".concat(a,"/year/slot/").concat(t,"/setting/deadline-extend-condition/")},postDeadLineExceedCondition:function(a,t){return"appraisal/".concat(a,"/year/slot/").concat(t,"/setting/deadline-extend-condition/")},getScoreDeductionCondition:function(a,t){return"appraisal/".concat(a,"/year/slot/").concat(t,"/setting/deduction-criteria/")},postScoreDeductionCondition:function(a,t){return"appraisal/".concat(a,"/year/slot/").concat(t,"/setting/deduction-criteria/")},getStepUpDownSettings:function(a,t){return"appraisal/".concat(a,"/year/slot/").concat(t,"/setting/step-up-down/")},postStepUpDownSettings:function(a,t){return"appraisal/".concat(a,"/year/slot/").concat(t,"/setting/step-up-down/")},getFormReviewRules:function(a,t){return"appraisal/".concat(a,"/year/slot/").concat(t,"/setting/form-review/")},postFormReviewRules:function(a,t){return"appraisal/".concat(a,"/year/slot/").concat(t,"/setting/form-review/")},getSelfAppraisalSettings:function(a,t){return"appraisal/".concat(a,"/year/slot/").concat(t,"/setting/self-appraiser/")},getPeerToPeerAppraisalSettings:function(a,t){return"appraisal/".concat(a,"/year/slot/").concat(t,"/setting/peer-to-peer-appraiser/")},getSubordinateAppraisalSettings:function(a,t){return"appraisal/".concat(a,"/year/slot/").concat(t,"/setting/subordinate-appraiser/")},bulkAssignSubordinateAppraisalForm:function(a,t){return"appraisal/".concat(a,"/year/slot/").concat(t,"/setting/subordinate-appraiser/assign/bulk/")},bulkUnAssignSubordinateAppraisalForm:function(a,t){return"appraisal/".concat(a,"/year/slot/").concat(t,"/setting/subordinate-appraiser/unassign/bulk/")},getSelectedSubordinates:function(a,t){return"/appraisal/".concat(a,"/year/slot/").concat(t,"/setting/subordinate-appraiser/selected-subordinates/")},updateSelectedSubordinates:function(a,t,e){return"/appraisal/".concat(a,"/year/slot/").concat(t,"/setting/subordinate-appraiser/").concat(e,"/")},getSupervisorAppraisalSettings:function(a,t){return"appraisal/".concat(a,"/year/slot/").concat(t,"/setting/supervisor-appraiser/")},assignSupervisorAppraisalForm:function(a,t){return"appraisal/".concat(a,"/year/slot/").concat(t,"/setting/supervisor-appraiser/assign/individual/")},unAssignSupervisorAppraisalForm:function(a,t){return"appraisal/".concat(a,"/year/slot/").concat(t,"/setting/supervisor-appraiser/unassign/individual/")},bulkAssignSupervisorAppraisalForm:function(a,t){return"appraisal/".concat(a,"/year/slot/").concat(t,"/setting/supervisor-appraiser/assign/bulk/")},bulkUnAssignSupervisorAppraisalForm:function(a,t){return"appraisal/".concat(a,"/year/slot/").concat(t,"/setting/supervisor-appraiser/unassign/bulk/")},removeAppraisers:function(a,t){return"appraisal/".concat(a,"/year/slot/").concat(t,"/appraisal/remove-appraisers/")},getAppraisalOverview:function(a){return"/appraisal/".concat(a,"/overview/")},getRecommendationList:function(a,t){return"appraisal/".concat(a,"/year/slot/").concat(t,"/recommendation/")},postRecommendationForm:function(a,t){return"appraisal/".concat(a,"/year/slot/").concat(t,"/recommendation/start-review/")},assignReviewerForm:function(a,t){return"appraisal/".concat(a,"/year/slot/").concat(t,"/setting/reviewer-evaluation/assign/individual/")},unAssignReviewerForm:function(a,t){return"appraisal/".concat(a,"/year/slot/").concat(t,"/setting/reviewer-evaluation/unassign/individual/")},getReviewerAppraisalSettings:function(a,t){return"appraisal/".concat(a,"/year/slot/").concat(t,"/setting/reviewer-evaluation/")},bulkAssignReviewerForm:function(a,t){return"appraisal/".concat(a,"/year/slot/").concat(t,"/setting/reviewer-evaluation/assign/bulk")},bulkUnAssignReviewerForm:function(a,t){return"appraisal/".concat(a,"/year/slot/").concat(t,"/setting/reviewer-evaluation/unassign/bulk")},getKaarSupervisorAppraisalSettings:function(a,t){return"appraisal/".concat(a,"/year/slot/").concat(t,"/setting/supervisor-appraiser-config/")},assignKaarSupervisorAppraisalForm:function(a,t){return"appraisal/".concat(a,"/year/slot/").concat(t,"/setting/supervisor-appraiser-config/assign/individual/")},unAssignKaarSupervisorAppraisalForm:function(a,t){return"appraisal/".concat(a,"/year/slot/").concat(t,"/setting/supervisor-appraiser-config/unassign/individual/")},bulkAssignKaarSupervisorAppraisalForm:function(a,t){return"appraisal/".concat(a,"/year/slot/").concat(t,"/setting/supervisor-appraiser-config/assign/bulk/")},bulkUnAssignKaarSupervisorAppraisalForm:function(a,t){return"appraisal/".concat(a,"/year/slot/").concat(t,"/setting/supervisor-appraiser-config/unassign/bulk/")},kaarScoreConfigSetting:function(a,t){return"appraisal/".concat(a,"/year/slot/").concat(t,"/setting/kaar-score-and-scaling/")},kaarScoreConfig:function(a,t,e){return"appraisal/".concat(a,"/year/slot/").concat(t,"/setting/kaar-score-and-scaling/").concat(e,"/")},kaarScoreForm:function(a,t,e){return"appraisal/".concat(a,"/year/slot/").concat(t,"/setting/kaar-score-and-scaling/").concat(e,"/create-scores")},updateScores:function(a,t,e){return"appraisal/".concat(a,"/year/slot/").concat(t,"/setting/kaar-score-and-scaling/").concat(e,"/update-scores")},kaarDefaultScore:function(a,t){return"appraisal/".concat(a,"/year/slot/").concat(t,"/setting/kaar-default-score-setting/")}}},d9ee:function(a,t,e){"use strict";e.r(t);var n=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("vue-page-wrapper",{attrs:{"bread-crumbs":a.breadCrumbItems,title:a.htmlTitle}},[e("v-card",[e("vue-card-title",{attrs:{title:"Performance Appraisal Forms",subtitle:"Here you can view list of performance appraisal forms.",icon:"mdi-account-check-outline"}}),e("v-divider"),e("v-tabs",{attrs:{"show-arrows":"","slider-color":"blue"},model:{value:a.activeStatus,callback:function(t){a.activeStatus=t},expression:"activeStatus"}},a._l(a.tabs,(function(t){return e("v-tab",{key:t.tabName,attrs:{ripple:"",disabled:a.loading}},[e("span",{staticClass:"pr-2 text-capitalize"},[a._v(" "+a._s(t.tabName)+" ")]),e("v-chip",{staticClass:"white--text",attrs:{color:t.color,small:""}},[a._v(" "+a._s(t.count)+" ")])],1)})),1),e("v-divider"),e("v-data-table",{attrs:{headers:a.heading,items:a.fetchedResults,"sort-desc":a.pagination.descending,"sort-by":a.pagination.sortBy,page:a.pagination.page,"items-per-page":a.pagination.rowsPerPage,"footer-props":a.footerProps,"server-items-length":a.pagination.totalItems,"mobile-breakpoint":0,"must-sort":""},on:{"update:sortDesc":function(t){return a.$set(a.pagination,"descending",t)},"update:sort-desc":function(t){return a.$set(a.pagination,"descending",t)},"update:sortBy":function(t){return a.$set(a.pagination,"sortBy",t)},"update:sort-by":function(t){return a.$set(a.pagination,"sortBy",t)},"update:page":function(t){return a.$set(a.pagination,"page",t)},"update:itemsPerPage":function(t){return a.$set(a.pagination,"rowsPerPage",t)},"update:items-per-page":function(t){return a.$set(a.pagination,"rowsPerPage",t)}},scopedSlots:a._u([{key:"item",fn:function(t){return[e("tr",[e("td",[e("vue-user",{attrs:{user:t.item.appraisee}})],1),e("td",[e("div",[a._v(" "+a._s(t.item.sent_at?a.$dayjs(t.item.sent_at).format("YYYY-MM-DD"):"N/A")+" ")])]),e("td",[e("div",[a._v(" "+a._s(t.item.deadline?a.$dayjs(t.item.deadline).format("YYYY-MM-DD"):"N/A")+" ")])]),e("td",[e("div",[a._v(" "+a._s(t.item.committed_at?a.$dayjs(t.item.committed_at).format("YYYY-MM-DD"):"N/A")+" ")])]),e("td",[e("div",[a._v(" "+a._s(t.item.approved_at?a.$dayjs(t.item.approved_at).format("YYYY-MM-DD"):"N/A")+" ")])]),e("td",{staticClass:"text-center"},[e("v-chip",{staticClass:"white--text text-capitalize",attrs:{color:a.statusMap[t.item.status].color,small:""},domProps:{textContent:a._s(a.statusMap[t.item.status].text)}})],1),e("td",{staticClass:"text-center"},[e("vue-context-menu",{attrs:{"context-list":[{name:"View Question Set",icon:"mdi-eye-outline",color:"info",disabled:!["saved","sent"].includes(t.item.status)&&!a.selectedAppraisals.includes(a.tabs[a.activeStatus].tabTempName),disable_message:"Not Allowed"}]},on:{click0:function(e){return a.viewQuestionSet(t.item)}}})],1)])]}}])},[e("template",{slot:"no-data"},[e("data-table-no-data",{attrs:{loading:a.loading}})],1)],2),a.showIndividualForm?e("v-dialog",{attrs:{scrollable:"","max-width":"960px"},model:{value:a.showIndividualForm,callback:function(t){a.showIndividualForm=t},expression:"showIndividualForm"}},[e("individual-forms",{attrs:{"appraisal-type":a.tabs[a.activeStatus].value,"selected-appraisee":a.selectedAppraisee,"selected-appraiser":a.selectedAppraiser,as:"appraiser"},on:{close:function(t){a.showIndividualForm=!1},refresh:a.refresh}})],1):a._e()],1)],1)},r=[],s=(e("d3b7"),e("3ca3"),e("ddb0"),e("7db0"),e("8cd3")),i=e("931c"),o=e("a1b8"),c=e("983c"),p={components:{IndividualForms:function(){return Promise.all([e.e("chunk-debbd02c"),e.e("chunk-2d22d378")]).then(e.bind(null,"1840"))},VueContextMenu:function(){return e.e("chunk-2d2259e9").then(e.bind(null,"e4bf"))},VueUser:function(){return Promise.resolve().then(e.bind(null,"02cb"))},VuePageWrapper:function(){return e.e("chunk-31f8a6e6").then(e.bind(null,"0549"))},DataTableNoData:function(){return e.e("chunk-26c51c79").then(e.bind(null,"a51f"))}},mixins:[s["a"],c["a"]],data:function(){return{htmlTitle:"Appraisal Forms | Performance Appraisal | User",breadCrumbItems:[{text:"Performance Appraisal",disabled:!1,to:{name:"user-pa-overview"}},{text:"Appraisal",disabled:!1,to:{name:"user-pa-appraisal"}},{text:"Forms",disabled:!0}],heading:[{text:"Appraisee",value:"appraisee"},{text:"Received Date",value:"sent_at"},{text:"Deadline",value:"deadline"},{text:"Sent Date",value:"committed_at"},{text:"Approved Date",value:"approved_at"},{text:"Status",value:"status",sortable:!1,align:"center"},{text:"Action",value:"",sortable:!1,align:"center"}],selectedAppraiser:null,selectedAppraisee:null,showIndividualForm:!1,activeStatus:0,statusMap:{sent:{color:"red",text:"Received"},saved:{color:"cyan",text:"Saved"},received:{color:"green",text:"Sent"},approved:{color:"orange",text:"Approved"}},selectedAppraisals:[],tabs:[{tabName:"Self",tabTempName:"Self Appraisal",value:"self_appraisal",count:"0",color:"orange",index:0},{tabName:"As Supervisor",tabTempName:"Supervisor Appraisal",value:"supervisor_appraisal",count:"0",color:"green",index:1},{tabName:"As Subordinate",tabTempName:"Subordinate Appraisal",value:"subordinate_appraisal",count:"0",color:"purple",index:2},{tabName:"Peer To Peer Feedback",tabTempName:"Peer To Peer Feedback",value:"peer_to_peer_feedback",count:"0",color:"blue",index:3}]}},computed:{dataTableFilter:function(){return{appraisal_type:this.tabs[this.activeStatus].value}}},created:function(){this.checkFormReviewRules();var a=this.$route.query.appraisal_type||"Self";this.activeStatus=this.tabs.find((function(t){return t.tabName===a})).index,this.dataTableEndpoint=i["a"].getAppraiserFormsById(this.getOrganizationSlug,this.$route.params.id,this.getAuthStateUserId)},methods:{checkFormReviewRules:function(){var a=this;this.getData(o["a"].getFormReviewRules(this.getOrganizationSlug,this.$route.params.id)).then((function(t){a.selectedAppraisals=t.results[0].viewable_appraisal_submitted_form_type}))},processAfterTableLoad:function(){this.selectedAppraiser=this.response.appraiser,this.tabs[0].count=this.response.stats["self_appraisal"],this.tabs[1].count=this.response.stats["supervisor_appraisal"],this.tabs[2].count=this.response.stats["subordinate_appraisal"],this.tabs[3].count=this.response.stats["peer_to_peer_feedback"],this.loading=!1},viewQuestionSet:function(a){this.showIndividualForm=!0,this.selectedAppraisee=a.appraisee},refresh:function(){this.showIndividualForm=!1,this.fetchDataTable()}}},u=p,l=e("2877"),d=e("6544"),g=e.n(d),f=e("b0af"),m=e("cc20"),v=e("8fea"),b=e("169a"),h=e("ce7e"),y=e("71a3"),A=e("fe57"),S=Object(l["a"])(u,n,r,!1,null,null,null);t["default"]=S.exports;g()(S,{VCard:f["a"],VChip:m["a"],VDataTable:v["a"],VDialog:b["a"],VDivider:h["a"],VTab:y["a"],VTabs:A["a"]})},f0d5:function(a,t,e){"use strict";e("d3b7"),e("3ca3"),e("ddb0");var n=e("c44a");t["a"]={components:{NonFieldFormErrors:function(){return e.e("chunk-6441e173").then(e.bind(null,"ab8a"))}},mixins:[n["a"]],data:function(){return{crud:{name:"record",message:"",addAnother:!1},formValues:{},loading:!1}}}}}]);