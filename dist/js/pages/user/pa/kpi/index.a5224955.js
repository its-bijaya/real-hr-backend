(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages/user/pa/kpi/index"],{b979:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("vue-page-wrapper",{attrs:{title:e.htmlTitle,"bread-crumbs":e.breadCrumbItems}},[i("v-card",[i("vue-card-title",{attrs:{title:"Individual KPI",subtitle:"This page contains list of KPI assign to you.",icon:"mdi-file-document-outline"}},[i("template",{slot:"actions"},[i("v-btn",{attrs:{icon:""},on:{click:function(t){e.showFilters=!e.showFilters}}},[i("v-icon",{attrs:{small:""},domProps:{textContent:e._s("mdi-filter-variant")}})],1)],1)],2),i("v-divider"),i("v-slide-y-transition",[i("v-row",{directives:[{name:"show",rawName:"v-show",value:e.showFilters,expression:"showFilters"}],staticClass:"px-3"},[i("v-col",{attrs:{md:"3",cols:"12"}},[i("vue-search",{attrs:{search:e.search},on:{"update:search":function(t){e.search=t}},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),i("v-col",{attrs:{md:"3",cols:"12"}},[i("vue-auto-complete",{attrs:{endpoint:e.fiscalYearEndpoint,label:"Filter by Fiscal Year","item-text":"name","item-value":"id"},model:{value:e.filter.fiscal_year,callback:function(t){e.$set(e.filter,"fiscal_year",t)},expression:"filter.fiscal_year"}})],1)],1)],1),i("v-divider"),i("v-tabs",{attrs:{"slider-color":"blue","show-arrows":"",expand:""},model:{value:e.activeStatus,callback:function(t){e.activeStatus=t},expression:"activeStatus"}},e._l(e.statusTabs,(function(t,a){return i("v-tab",{key:t.text,attrs:{disabled:e.loading,ripple:""},on:{click:function(t){e.activeStatus=a}}},[i("span",{staticClass:"mr-2 text-capitalize"},[e._v(" "+e._s(t.text)+" ")]),i("v-chip",{attrs:{color:t.color,"text-color":"white",small:""}},[e._v(" "+e._s(e.statusCounts[t.text])+" ")])],1)})),1),i("v-divider"),i("v-data-table",{attrs:{headers:e.headers,items:e.fetchedResults,"sort-desc":e.pagination.descending,"sort-by":e.pagination.sortBy,page:e.pagination.page,"items-per-page":e.pagination.rowsPerPage,"footer-props":e.footerProps,"server-items-length":e.pagination.totalItems,"mobile-breakpoint":0,"must-sort":""},on:{"update:sortDesc":function(t){return e.$set(e.pagination,"descending",t)},"update:sort-desc":function(t){return e.$set(e.pagination,"descending",t)},"update:sortBy":function(t){return e.$set(e.pagination,"sortBy",t)},"update:sort-by":function(t){return e.$set(e.pagination,"sortBy",t)},"update:page":function(t){return e.$set(e.pagination,"page",t)},"update:itemsPerPage":function(t){return e.$set(e.pagination,"rowsPerPage",t)},"update:items-per-page":function(t){return e.$set(e.pagination,"rowsPerPage",t)}},scopedSlots:e._u([{key:"item",fn:function(t){return[i("tr",[i("td",[i("span",{domProps:{textContent:e._s(t.item.title)}})]),i("td",[i("span",{domProps:{textContent:e._s(t.item.fiscal_year.name)}})]),i("td",[t.item.status?i("v-chip",{attrs:{color:e.statusColor[t.item.status],small:"",outlined:""},domProps:{textContent:e._s(t.item.status)}}):i("span",{domProps:{textContent:e._s("N/A")}})],1),i("td",[i("vue-context-menu",{attrs:{"context-list":[{name:"View Individual KPI",icon:"mdi-eye",color:"info"},{name:"Edit Individual KPI",icon:"mdi-pencil-outline",hide:["Confirmed","Archived"].includes(t.item.status),color:"info"},{name:"Revise KPI",icon:"mdi-content-copy",hide:"Confirmed"!==t.item.status,color:"info"}]},on:{click0:function(i){return e.viewAssignKpi(t.item)},click1:function(i){e.editKpi=!0,e.selectedIndividualKpi=t.item},click2:function(i){e.reviseKpi=!0,e.selectedIndividualKpi=t.item}}})],1)])]}}])}),i("v-dialog",{key:e.showDetail,attrs:{persistent:"",fullscreen:""},model:{value:e.showDetail,callback:function(t){e.showDetail=t},expression:"showDetail"}},[i("individual-kpi-details",{attrs:{"individual-kpi-details":e.assignedData,"show-button":"Pending"===e.assignedData.status},on:{close:function(t){e.showDetail=!1},refresh:function(t){return e.fetchDataTable()}}})],1),e.editKpi?i("v-bottom-sheet",{key:e.editKpi,attrs:{persistent:""},on:{keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;e.editKpi=!1}},model:{value:e.editKpi,callback:function(t){e.editKpi=t},expression:"editKpi"}},[i("individual-kpi",{attrs:{"edit-dialog":!0,"individual-kpi-item":e.selectedIndividualKpi,as:"user"},on:{close:function(t){e.editKpi=!1,e.selectedIndividualKpi={}},refresh:function(t){return e.fetchDataTable()}}})],1):e._e(),e.reviseKpi?i("v-bottom-sheet",{key:e.reviseKpi,attrs:{persistent:""},on:{keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;e.reviseKpi=!1}},model:{value:e.reviseKpi,callback:function(t){e.reviseKpi=t},expression:"reviseKpi"}},[i("individual-kpi",{attrs:{"edit-dialog":!1,"individual-kpi-item":e.selectedIndividualKpi,as:"user"},on:{close:function(t){e.reviseKpi=!1,e.selectedIndividualKpi={}},refresh:function(t){return e.fetchDataTable()}}})],1):e._e()],1)],1)},s=[],n=i("5530"),o=(i("ac1f"),i("841c"),i("4de4"),i("0549")),r=i("8cd3"),l=i("5660"),d=i("be30"),c=i("e4bf"),u=i("f008"),p=i("51d8"),v=i("5102"),f={name:"index",components:{IndividualKpi:v["a"],VueContextMenu:c["default"],VueAutoComplete:l["default"],VuePageWrapper:o["default"],IndividualKpiDetails:u["a"]},mixins:[r["a"]],data:function(){return{htmlTitle:"KPI | Performance Appraisal | User",breadCrumbItems:[{text:"Performance Appraisal",disabled:!0},{text:"KPI",disabled:!0}],headers:[{text:"Title",value:"title"},{text:"Fiscal Year",value:"fiscal_year"},{text:"Status",value:"status",sortable:!1},{text:"Action",value:"action",sortable:!1}],filter:{},showFilters:!1,showDetail:!1,assignedData:{},search:"",fiscalYearEndpoint:"",activeStatus:0,statusCounts:{Pending:0,Submitted:0,Confirmed:0,Archived:0,All:0},statusTabs:[{text:"Pending",color:"orange",value:"Pending",status:"Pending"},{text:"Submitted",color:"purple",value:"Submitted",status:"Submitted"},{text:"Confirmed",color:"green",value:"Confirmed",status:"Confirmed"},{text:"Archived",color:"red",value:"Archived",status:"Archived"},{text:"All",color:"blue",value:"",status:""}],statusColor:{Pending:"orange",Archived:"red",Submitted:"purple",Confirmed:"blue"},editKpi:!1,reviseKpi:!1,selectedIndividualKpi:{}}},computed:{dataTableFilter:function(){return Object(n["a"])({status:this.statusTabs[this.activeStatus].value,search:this.search},this.filter)}},created:function(){this.initializeUrls()},methods:{initializeUrls:function(){this.dataTableEndpoint=d["a"].individualKpi(this.getOrganizationSlug)+"?as=user",this.fiscalYearEndpoint=p["a"].getFiscalYear(this.getOrganizationSlug)},viewAssignKpi:function(e){this.assignedData=e,this.showDetail=!0},processAfterTableLoad:function(e){this.statusCounts={Pending:e.counts.Pending,Submitted:e.counts.Submitted,Confirmed:e.counts.Confirmed,Archived:e.counts.Archived,All:e.counts.All}}}},m=f,h=i("2877"),b=i("6544"),g=i.n(b),x=i("288c"),K=i("8336"),k=i("b0af"),w=i("cc20"),P=i("62ad"),y=i("8fea"),C=i("169a"),I=i("ce7e"),_=i("132d"),A=i("0fd9b"),D=i("0789"),S=i("71a3"),T=i("fe57"),V=Object(h["a"])(m,a,s,!1,null,"5bcb7af8",null);t["default"]=V.exports;g()(V,{VBottomSheet:x["a"],VBtn:K["a"],VCard:k["a"],VChip:w["a"],VCol:P["a"],VDataTable:y["a"],VDialog:C["a"],VDivider:I["a"],VIcon:_["a"],VRow:A["a"],VSlideYTransition:D["g"],VTab:S["a"],VTabs:T["a"]})}}]);