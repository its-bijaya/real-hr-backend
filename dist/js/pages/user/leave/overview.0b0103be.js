(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages/user/leave/overview"],{"227f":function(t,e,r){"use strict";r("99af");e["a"]={getAllLeaveRequest:function(t){return"/leave/".concat(t,"/request/")},getLeaveReportExport:function(t){return"/leave/".concat(t,"/request/export/")},getLeaveRequestDetail:function(t,e){return"/leave/".concat(t,"/request/").concat(e,"/")},getOverviewLeaveRequest:function(t){return"/leave/".concat(t,"/request/counts/")},getRequestHistory:function(t,e){return"/leave/".concat(t,"/user/").concat(e,"/requests/")},getLeaveTypeHistory:function(t,e){return"/leave/".concat(t,"/request/").concat(e,"/history/")},getRequestBalance:function(t,e){return"/leave/".concat(t,"/user-balance/").concat(e,"/")},postByUser:function(t){return"/leave/".concat(t,"/request/")},requestOnBehalf:function(t){return"/leave/".concat(t,"/request-on-behalf/")},approveRequest:function(t,e){return"/leave/".concat(t,"/request/").concat(e,"/")},declineRequest:function(t,e){return"/leave/".concat(t,"/request/").concat(e,"/")},forwardRequest:function(t,e){return"/leave/".concat(t,"/request/").concat(e,"/")},deleteLeaveRequest:function(t,e){return"/leave/".concat(t,"/request/").concat(e,"/")},postBulkLeaveRequest:function(t){return"/leave/".concat(t,"/request/bulk-action/")},getDeleteRequest:function(t,e){return"/leave/".concat(t,"/delete-request/").concat(e,"/")},approveDeleteRequest:function(t,e){return"/leave/".concat(t,"/delete-request/").concat(e,"/approve/")},denyDeleteRequest:function(t,e){return"/leave/".concat(t,"/delete-request/").concat(e,"/deny/")},forwardDeleteRequest:function(t,e){return"/leave/".concat(t,"/delete-request/").concat(e,"/deny/")},cancelApprovedLeave:function(t,e){return"/leave/".concat(t,"/request/").concat(e,"/")},alternateLeaveAccountsApply:function(t){return"/leave/".concat(t,"/request/alternate-leave-accounts-apply/")}}},"732c":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("vue-page-wrapper",{attrs:{title:t.htmlTitle,"bread-crumbs":t.breadCrumbItems}},[r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("information-bar",{on:{"update:appliedFilterText":function(e){t.dateFilterText=e},filter:function(e){t.filters=e}}})],1),r("v-col",{attrs:{md:"4",cols:"12"}},[r("requests",{attrs:{filters:t.filters}})],1),r("v-col",{attrs:{md:"4",cols:"12"}},[r("leave-taken",{attrs:{filters:t.filters,"date-filter-text":t.dateFilterText}})],1),r("v-col",{attrs:{md:"4",cols:"12"}},[r("leave-balance",{attrs:{filters:t.filters}})],1)],1)],1)},n=[],i=r("0549"),o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card",{attrs:{align:"center"}},[r("v-col",[r("v-row",{attrs:{"no-gutters":"",align:"center"}},[r("v-col",[r("div",{staticClass:"text-h4 info--text",domProps:{textContent:t._s(t.summary["leave_days"])}}),r("div",{domProps:{textContent:t._s("On Leave")}})]),r("v-col",[r("div",{staticClass:"text-h4 indigo--text",domProps:{textContent:t._s(t.summary["present_days"])}}),r("div",{domProps:{textContent:t._s("Present Days")}})]),r("v-col",[r("div",{staticClass:"text-h4 warning--text",domProps:{textContent:t._s(t.summary["working_days"])}}),r("div",{domProps:{textContent:t._s("Total Working Days")}})]),r("date-filter-menu",{attrs:{default:"This Month","include-future":"","no-input":""},on:{input:function(e){t.getLeaveOverview(),t.$emit("filter",e)},update:function(e){return t.$emit("update:appliedFilterText",e.dateStatus)}},model:{value:t.dateFilter,callback:function(e){t.dateFilter=e},expression:"dateFilter"}})],1)],1)],1)},s=[],l=r("ac94"),c=(r("99af"),{getOverview:function(t,e){return"/leave/".concat(t,"/reports/user-overview/").concat(e,"/")},getLeaveTaken:function(t,e){return"/leave/".concat(t,"/reports/user-overview/").concat(e,"/leave-history/?ordering=-total_consumed")},getLeaveBalance:function(t,e){return"/leave/".concat(t,"/user-balance/").concat(e,"/?ordering=-usable_balance")}}),u={components:{DateFilterMenu:l["a"]},props:{appliedFilterText:{type:String,default:"This Month"}},data:function(){return{summary:{},dateFilter:{start_date:"",end_date:""}}},methods:{getLeaveOverview:function(){var t=this,e=c.getOverview(this.getOrganizationSlug,this.getAuthStateUserId);this.$http.get(e,{params:this.dateFilter}).then((function(e){t.summary=e}))}}},d=u,v=r("2877"),f=r("6544"),p=r.n(f),h=r("b0af"),m=r("62ad"),g=r("0fd9b"),y=Object(v["a"])(d,o,s,!1,null,null,null),x=y.exports;p()(y,{VCard:h["a"],VCol:m["a"],VRow:g["a"]});var L=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card",{attrs:{height:"100%"}},[r("vue-card-title",{attrs:{title:"Leave Requests",subtitle:"Your Leave Request Information",icon:"mdi-calendar-multiselect"}}),r("v-divider"),t.loading?r("v-progress-linear",{attrs:{indeterminate:"",height:"2"}}):t._e(),t.loading?r("v-col",t._l(3,(function(t){return r("list-loader",{key:t,attrs:{"primary-color":"#eee","secondary-color":"#d5d5d7"}})})),1):t._e(),t.loading?t._e():r("div",[r("v-list",[t._l(t.requests,(function(e,a,n){return[r("v-list-item",{key:a},[r("v-list-item-icon",[r("v-icon",{domProps:{textContent:t._s(t.mapIcons[a])}})],1),r("v-list-item-content",[r("v-list-item-title",{domProps:{textContent:t._s(a)}})],1),r("v-list-item-action",[r("v-list-item-title",{class:t.mapColors[a]+"--text",domProps:{textContent:t._s(e)}})],1)],1),3!==n?r("v-divider",{key:"D-"+n}):t._e()]}))],2)],1)],1)},_=[],b=r("5530"),w=r("227f"),q=r("e330"),C={components:{ListLoader:q["d"]},props:{filters:{type:Object,default:function(){return{}}}},data:function(){return{loading:!0,requests:{},mapColors:{Requested:"orange",Approved:"green",Forwarded:"purple",Denied:"pink"},mapIcons:{Requested:"mdi-dots-vertical",Approved:"mdi-check",Forwarded:"mdi-send-outline",Denied:"mdi-close"}}},watch:{filters:function(){this.getLeaveRequests()}},methods:{getLeaveRequests:function(){var t=this;this.loading=!0;var e=w["a"].getRequestHistory(this.getOrganizationSlug,this.getAuthStateUserId);this.$http.get(e,{params:Object(b["a"])({user_id:this.getAuthStateUserId,limit:0},this.filters)}).then((function(e){t.requests={Requested:e.counts.Requested,Approved:e.counts.Approved,Forwarded:e.counts.Forwarded,Denied:e.counts.Denied},t.loading=!1}))}}},T=C,V=r("ce7e"),k=r("132d"),O=r("8860"),I=r("da13"),R=r("1800"),A=r("5d23"),S=r("34c3"),M=r("8e36"),P=Object(v["a"])(T,L,_,!1,null,null,null),B=P.exports;p()(P,{VCard:h["a"],VCol:m["a"],VDivider:V["a"],VIcon:k["a"],VList:O["a"],VListItem:I["a"],VListItemAction:R["a"],VListItemContent:A["a"],VListItemIcon:S["a"],VListItemTitle:A["c"],VProgressLinear:M["a"]});var D=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card",{attrs:{height:"100%"}},[r("vue-card-title",{attrs:{title:"Leave Taken",subtitle:"Types of leave you have taken",icon:"mdi-card-bulleted-settings-outline"}}),r("v-divider"),t.loading?r("v-progress-linear",{attrs:{indeterminate:"",height:"2"}}):t._e(),t.loading?r("v-col",t._l(3,(function(t){return r("list-loader",{key:t,attrs:{"primary-color":"#eee","secondary-color":"#d5d5d7"}})})),1):t._e(),t.loading?t._e():r("div",[0===t.leaveTaken.length?r("vue-no-data"):r("v-list",[t._l(t.leaveTaken,(function(e,a){return[r("v-list-item",{key:a},[r("v-list-item-content",[r("v-list-item-title",{domProps:{textContent:t._s(e.leave_type)}})],1),r("v-list-item-action",[r("v-list-item-title",["Time Off"===e.category?r("span",{domProps:{textContent:t._s(t.getHoursAndMinutes(e.total_consumed))}}):r("span",{domProps:{textContent:t._s(e.total_consumed)}})])],1)],1),a!==t.leaveTaken.length-1?r("v-divider",{key:"D-"+a}):t._e()]}))],2)],1)],1)},F=[],N=r("e585"),$={components:{ListLoader:q["d"],VueNoData:N["default"]},props:{filters:{type:Object,default:function(){return{}}},dateFilterText:{type:String,default:"This Month"}},data:function(){return{loading:!0,leaveTaken:{},filterChoices:["Today","This Week","This Month","Last Month","This Year","Till Date"]}},watch:{filters:function(){this.getLeaveTaken()}},methods:{getLeaveTaken:function(){var t=this;this.loading=!0;var e=c.getLeaveTaken(this.getOrganizationSlug,this.getAuthStateUserId);this.$http.get(e,{params:this.filters}).then((function(e){t.loading=!1,t.leaveTaken=e.results}))},getHoursAndMinutes:function(t){if(null===t)return"N/A";var e=t/60,r=Math.floor(e),a=60*(e-r),n=Math.round(a);return r+" : "+n}}},j=$,H=Object(v["a"])(j,D,F,!1,null,null,null),U=H.exports;p()(H,{VCard:h["a"],VCol:m["a"],VDivider:V["a"],VList:O["a"],VListItem:I["a"],VListItemAction:R["a"],VListItemContent:A["a"],VListItemTitle:A["c"],VProgressLinear:M["a"]});var E=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card",[r("vue-card-title",{attrs:{title:"Leave Balance",subtitle:"Your Leave Type & Balances",icon:"mdi-chart-timeline"}}),r("v-divider"),t.loading?r("v-progress-linear",{attrs:{indeterminate:"",height:"2"}}):t._e(),t.loading?r("v-col",t._l(3,(function(t){return r("list-loader",{key:t,attrs:{"primary-color":"#eee","secondary-color":"#d5d5d7"}})})),1):t._e(),t.loading?t._e():r("div",[0===t.leaveBalance.length?r("vue-no-data"):r("v-list",t._l(t.leaveBalance,(function(e,a){return r("div",{key:a},[r("v-list-item",[r("v-list-item-content",[r("v-list-item-title",{domProps:{textContent:t._s(e.leave_type.name)}})],1),r("v-list-item-action",[r("v-list-item-title",[["Time Off","Credit Hour"].includes(e.leave_type.category)?r("span",{domProps:{textContent:t._s(t.getHourMinuteFromTotalMinute(e.usable_balance))}}):r("span",{domProps:{textContent:t._s(e.usable_balance)}})])],1)],1),a!==t.leaveBalance.length-1?r("v-divider"):t._e()],1)})),0)],1)],1)},K=[],z=r("ce0c"),Y={components:{ListLoader:q["d"],VueNoData:N["default"]},props:{filters:{type:Object,default:function(){return{}}}},data:function(){return{loading:!0,leaveBalance:{}}},watch:{filters:function(){this.getLeaveBalance()}},methods:{getHourMinuteFromTotalMinute:z["a"],getLeaveBalance:function(){var t=this;this.loading=!0;var e=c.getLeaveBalance(this.getOrganizationSlug,this.getAuthStateUserId);this.$http.get(e,{params:this.filters}).then((function(e){t.loading=!1,t.leaveBalance=e.results}))}}},W=Y,G=Object(v["a"])(W,E,K,!1,null,null,null),J=G.exports;p()(G,{VCard:h["a"],VCol:m["a"],VDivider:V["a"],VList:O["a"],VListItem:I["a"],VListItemAction:R["a"],VListItemContent:A["a"],VListItemTitle:A["c"],VProgressLinear:M["a"]});var Q={components:{VuePageWrapper:i["default"],InformationBar:x,Requests:B,LeaveTaken:U,LeaveBalance:J},data:function(){return{htmlTitle:"Overview | Leave | User",breadCrumbItems:[{text:"Leave",disabled:!0},{text:"Overview",disabled:!0}],filters:{start_date:"",end_date:""},dateFilterText:"This Month"}}},X=Q,Z=Object(v["a"])(X,a,n,!1,null,null,null);e["default"]=Z.exports;p()(Z,{VCol:m["a"],VRow:g["a"]})},"92fa":function(t,e){var r=/^(attrs|props|on|nativeOn|class|style|hook)$/;function a(t,e){return function(){t&&t.apply(this,arguments),e&&e.apply(this,arguments)}}t.exports=function(t){return t.reduce((function(t,e){var n,i,o,s,l;for(o in e)if(n=t[o],i=e[o],n&&r.test(o))if("class"===o&&("string"===typeof n&&(l=n,t[o]=n={},n[l]=!0),"string"===typeof i&&(l=i,e[o]=i={},i[l]=!0)),"on"===o||"nativeOn"===o||"hook"===o)for(s in i)n[s]=a(n[s],i[s]);else if(Array.isArray(n))t[o]=n.concat(i);else if(Array.isArray(i))t[o]=[n].concat(i);else for(s in i)n[s]=i[s];else t[o]=e[o];return t}),{})}},ce0c:function(t,e,r){"use strict";r.d(e,"b",(function(){return n})),r.d(e,"c",(function(){return o})),r.d(e,"a",(function(){return s}));var a=r("3835");r("d3b7"),r("25f0"),r("ac1f"),r("1276");function n(t,e){if(!t&&0!==t)return"N/A";var r=parseInt(t/3600),a=parseInt(t%3600/60);return i(r,a,e)}function i(t,e,r){var a=e.toString().length<2&&e<10?"0":"",n=t.toString().length<2&&t<10?"0":"",i=a+e,o=n+t;return":"===r?o+":"+i:0===t?i+" Minutes":o+" Hours "+i+" Minutes"}function o(t){if(!t)return"N/A";if("00:00:00"===t)return"N/A";var e=t.split(":"),r=Object(a["a"])(e,3),n=r[0],i=r[1],o=r[2];return"00"===n&&"00"===i?o+" Seconds":"00"===n?i+" Minutes":n+" Hours "+i+" Minutes"}function s(t){if(isNaN(parseInt(t)))return"-";var e=parseInt(t/60);e.toString().length<2&&(e="0"+e.toString());var r=parseInt(t%60);return r.toString().length<2&&(r="0"+r.toString()),e+":"+r}},e330:function(t,e,r){"use strict";r.d(e,"b",(function(){return o})),r.d(e,"a",(function(){return s})),r.d(e,"c",(function(){return l})),r.d(e,"d",(function(){return c}));var a=r("92fa"),n=r.n(a),i=function(){return Math.random().toString(36).substring(2)},o={name:"ContentLoader",functional:!0,props:{width:{type:[Number,String],default:400},height:{type:[Number,String],default:130},speed:{type:Number,default:2},preserveAspectRatio:{type:String,default:"xMidYMid meet"},baseUrl:{type:String,default:""},primaryColor:{type:String,default:"#f9f9f9"},secondaryColor:{type:String,default:"#ecebeb"},primaryOpacity:{type:Number,default:1},secondaryOpacity:{type:Number,default:1},uniqueKey:{type:String},animate:{type:Boolean,default:!0}},render:function(t,e){var r=e.props,a=e.data,o=e.children,s=r.uniqueKey?r.uniqueKey+"-idClip":i(),l=r.uniqueKey?r.uniqueKey+"-idGradient":i();return t("svg",n()([a,{attrs:{viewBox:"0 0 "+r.width+" "+r.height,version:"1.1",preserveAspectRatio:r.preserveAspectRatio}}]),[t("rect",{style:{fill:"url("+r.baseUrl+"#"+l+")"},attrs:{"clip-path":"url("+r.baseUrl+"#"+s+")",x:"0",y:"0",width:r.width,height:r.height}}),t("defs",[t("clipPath",{attrs:{id:s}},[o||t("rect",{attrs:{x:"0",y:"0",rx:"5",ry:"5",width:r.width,height:r.height}})]),t("linearGradient",{attrs:{id:l}},[t("stop",{attrs:{offset:"0%","stop-color":r.primaryColor,"stop-opacity":r.primaryOpacity}},[r.animate?t("animate",{attrs:{attributeName:"offset",values:"-2; 1",dur:r.speed+"s",repeatCount:"indefinite"}}):null]),t("stop",{attrs:{offset:"50%","stop-color":r.secondaryColor,"stop-opacity":r.secondaryOpacity}},[r.animate?t("animate",{attrs:{attributeName:"offset",values:"-1.5; 1.5",dur:r.speed+"s",repeatCount:"indefinite"}}):null]),t("stop",{attrs:{offset:"100%","stop-color":r.primaryColor,"stop-opacity":r.primaryOpacity}},[r.animate?t("animate",{attrs:{attributeName:"offset",values:"-1; 2",dur:r.speed+"s",repeatCount:"indefinite"}}):null])])])])}},s={name:"BulletListLoader",functional:!0,render:function(t,e){var r=e.data;return t(o,r,[t("circle",{attrs:{cx:"10",cy:"20",r:"8"}}),t("rect",{attrs:{x:"25",y:"15",rx:"5",ry:"5",width:"220",height:"10"}}),t("circle",{attrs:{cx:"10",cy:"50",r:"8"}}),t("rect",{attrs:{x:"25",y:"45",rx:"5",ry:"5",width:"220",height:"10"}}),t("circle",{attrs:{cx:"10",cy:"80",r:"8"}}),t("rect",{attrs:{x:"25",y:"75",rx:"5",ry:"5",width:"220",height:"10"}}),t("circle",{attrs:{cx:"10",cy:"110",r:"8"}}),t("rect",{attrs:{x:"25",y:"105",rx:"5",ry:"5",width:"220",height:"10"}})])}},l={name:"FacebookLoader",functional:!0,render:function(t,e){var r=e.data;return t(o,r,[t("rect",{attrs:{x:"70",y:"15",rx:"4",ry:"4",width:"117",height:"6.4"}}),t("rect",{attrs:{x:"70",y:"35",rx:"3",ry:"3",width:"85",height:"6.4"}}),t("rect",{attrs:{x:"0",y:"80",rx:"3",ry:"3",width:"350",height:"6.4"}}),t("rect",{attrs:{x:"0",y:"100",rx:"3",ry:"3",width:"380",height:"6.4"}}),t("rect",{attrs:{x:"0",y:"120",rx:"3",ry:"3",width:"201",height:"6.4"}}),t("circle",{attrs:{cx:"30",cy:"30",r:"30"}})])}},c={name:"ListLoader",functional:!0,render:function(t,e){var r=e.data;return t(o,r,[t("rect",{attrs:{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"}}),t("rect",{attrs:{x:"20",y:"20",rx:"3",ry:"3",width:"220",height:"10"}}),t("rect",{attrs:{x:"20",y:"40",rx:"3",ry:"3",width:"170",height:"10"}}),t("rect",{attrs:{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"}}),t("rect",{attrs:{x:"20",y:"80",rx:"3",ry:"3",width:"200",height:"10"}}),t("rect",{attrs:{x:"20",y:"100",rx:"3",ry:"3",width:"80",height:"10"}})])}}}}]);