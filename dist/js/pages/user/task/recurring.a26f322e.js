(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages/user/task/recurring","chunk-2d212b99","chunk-26c51c79","chunk-2d0c8a11","chunk-2d2259e9","chunk-6441e173","chunk-aee42bec","chunk-1b4245df","chunk-2d0e6279","chunk-2d213000","chunk-2d0d6ae8"],{"0780":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.userData.length?e._e():n("p",{domProps:{textContent:e._s("Selected users will appear here ...")}}),n("v-row",{attrs:{justify:"start"}},e._l(e.userData,(function(t,a){return n("v-col",{key:a,attrs:{md:"4"}},[n("v-list",{attrs:{"two-line":""}},[n("v-list-item",[n("v-list-item-avatar",[n("v-img",{attrs:{src:t.profile_picture}})],1),n("v-list-item-content",[n("v-list-item-title",{domProps:{textContent:e._s(t.full_name)}}),n("v-list-item-subtitle",{domProps:{textContent:e._s(t.division)}})],1)],1)],1)],1)})),1)],1)},i=[],r={props:{userData:{type:[Array],default:function(){return[]}}}},s=r,o=n("2877"),l=n("6544"),c=n.n(l),u=n("62ad"),d=n("adda"),h=n("8860"),p=n("da13"),f=n("8270"),m=n("5d23"),v=n("0fd9b"),g=Object(o["a"])(s,a,i,!1,null,null,null);t["a"]=g.exports;c()(g,{VCol:u["a"],VImg:d["a"],VList:h["a"],VListItem:p["a"],VListItemAvatar:f["a"],VListItemContent:m["a"],VListItemSubtitle:m["b"],VListItemTitle:m["c"],VRow:v["a"]})},"0798":function(e,t,n){"use strict";var a=n("5530"),i=n("ade3"),r=(n("caad"),n("0c18"),n("10d2")),s=n("afdd"),o=n("9d26"),l=n("f2e7"),c=n("7560"),u=n("f40d"),d=n("58df"),h=n("d9bd");t["a"]=Object(d["a"])(r["a"],l["a"],u["a"]).extend({name:"v-alert",props:{border:{type:String,validator:function(e){return["top","right","bottom","left"].includes(e)}},closeLabel:{type:String,default:"$vuetify.close"},coloredBorder:Boolean,dense:Boolean,dismissible:Boolean,closeIcon:{type:String,default:"$cancel"},icon:{default:"",type:[Boolean,String],validator:function(e){return"string"===typeof e||!1===e}},outlined:Boolean,prominent:Boolean,text:Boolean,type:{type:String,validator:function(e){return["info","error","success","warning"].includes(e)}},value:{type:Boolean,default:!0}},computed:{__cachedBorder:function(){if(!this.border)return null;var e={staticClass:"v-alert__border",class:Object(i["a"])({},"v-alert__border--".concat(this.border),!0)};return this.coloredBorder&&(e=this.setBackgroundColor(this.computedColor,e),e.class["v-alert__border--has-color"]=!0),this.$createElement("div",e)},__cachedDismissible:function(){var e=this;if(!this.dismissible)return null;var t=this.iconColor;return this.$createElement(s["a"],{staticClass:"v-alert__dismissible",props:{color:t,icon:!0,small:!0},attrs:{"aria-label":this.$vuetify.lang.t(this.closeLabel)},on:{click:function(){return e.isActive=!1}}},[this.$createElement(o["a"],{props:{color:t}},this.closeIcon)])},__cachedIcon:function(){return this.computedIcon?this.$createElement(o["a"],{staticClass:"v-alert__icon",props:{color:this.iconColor}},this.computedIcon):null},classes:function(){var e=Object(a["a"])(Object(a["a"])({},r["a"].options.computed.classes.call(this)),{},{"v-alert--border":Boolean(this.border),"v-alert--dense":this.dense,"v-alert--outlined":this.outlined,"v-alert--prominent":this.prominent,"v-alert--text":this.text});return this.border&&(e["v-alert--border-".concat(this.border)]=!0),e},computedColor:function(){return this.color||this.type},computedIcon:function(){return!1!==this.icon&&("string"===typeof this.icon&&this.icon?this.icon:!!["error","info","success","warning"].includes(this.type)&&"$".concat(this.type))},hasColoredIcon:function(){return this.hasText||Boolean(this.border)&&this.coloredBorder},hasText:function(){return this.text||this.outlined},iconColor:function(){return this.hasColoredIcon?this.computedColor:void 0},isDark:function(){return!(!this.type||this.coloredBorder||this.outlined)||c["a"].options.computed.isDark.call(this)}},created:function(){this.$attrs.hasOwnProperty("outline")&&Object(h["a"])("outline","outlined",this)},methods:{genWrapper:function(){var e=[this.$slots.prepend||this.__cachedIcon,this.genContent(),this.__cachedBorder,this.$slots.append,this.$scopedSlots.close?this.$scopedSlots.close({toggle:this.toggle}):this.__cachedDismissible],t={staticClass:"v-alert__wrapper"};return this.$createElement("div",t,e)},genContent:function(){return this.$createElement("div",{staticClass:"v-alert__content"},this.$slots.default)},genAlert:function(){var e={staticClass:"v-alert",attrs:{role:"alert"},on:this.listeners$,class:this.classes,style:this.styles,directives:[{name:"show",value:this.isActive}]};if(!this.coloredBorder){var t=this.hasText?this.setTextColor:this.setBackgroundColor;e=t(this.computedColor,e)}return this.$createElement("div",e,[this.genWrapper()])},toggle:function(){this.isActive=!this.isActive}},render:function(e){var t=this.genAlert();return this.transition?e("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},[t]):t}})},"0c18":function(e,t,n){},"0f05":function(e,t,n){"use strict";n("99af");t["a"]={getEvents:"/event/",postEvent:"/event/",patchEvent:function(e){return"/event/".concat(e,"/")},deleteEvent:function(e){return"/event/".concat(e,"/")},acceptEvent:function(e){return"/event/".concat(e,"/accept/")},getEventByEventId:function(e){return"/event/".concat(e,"/")},getEventPostsByEventId:function(e){return"/event/".concat(e,"/post/")},getTopLikes:function(e){return"/event/".concat(e,"/top-likes/")},getTopComments:function(e){return"/event/".concat(e,"/top-comments/")},submitEventPost:"/noticeboard/posts/",updateComment:function(e,t){return"/noticeboard/post/comment/".concat(e,"/").concat(t,"/")},toggleEvent:function(e){return"/event/".concat(e,"/")},postAttachment:function(e){return"/event/".concat(e,"/meeting/document/")},getAttachments:function(e){return"/event/".concat(e,"/meeting/document/")},deleteAttachment:function(e,t){return"/event/".concat(e,"/meeting/document/").concat(t)},getMeetingEvent:function(e){return"/event/".concat(e,"/meeting/")},getExportEventDetails:function(e){return"/event/event/".concat(e,"/export-event-details/")},postMeetingInformation:function(e,t){return"/event/".concat(e,"/meeting/agenda/").concat(t,"/")},getAgendaById:function(e,t){return"/event/".concat(e,"/meeting/agenda/").concat(t,"/")},getAgendaComments:function(e){return"/event/meeting/agenda/".concat(e,"/comment/")},postAgendaComments:function(e){return"/event/meeting/agenda/".concat(e,"/comment/")},updateAgendaComments:function(e,t){return"/event/meeting/agenda/".concat(e,"/comment/").concat(t,"/")},deleteAgendaComments:function(e,t){return"/event/meeting/agenda/".concat(e,"/comment/").concat(t,"/")},getAllAgendas:function(e){return"/event/".concat(e,"/meeting/agenda/")},updateAgenda:function(e,t){return"/event/".concat(e,"/meeting/agenda/").concat(t,"/")},deleteAgenda:function(e,t){return"/event/".concat(e,"/meeting/agenda/").concat(t,"/")},postOtherInformation:function(e){return"/event/event/".concat(e,"/")},prepareMeeting:function(e){return"/event/event/".concat(e,"/")},acknowledgeMeeting:function(e){return"/event/".concat(e,"/meeting/acknowledge/")},createTask:function(e,t){return"event/".concat(e,"/meeting/agenda/").concat(t,"/task/")},removeMember:function(e,t){return"/event/".concat(e,"/member/").concat(t)}}},"17cc":function(e,t,n){"use strict";var a=n("b85c"),i=n("1da1"),r=n("5530");n("96cf"),n("ac1f"),n("841c"),n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),n("b64b");t["a"]={data:function(){return{fetchedResults:[],response:{},extra_data:"",appliedFilters:{},footerProps:{itemsPerPageOptions:[10,20,30,40,50,100]},pagination:{sortBy:["modified_at"],descending:!1,totalItems:0,page:1,rowsPerPage:10,pageCount:0},triggerDataTable:!0,fullParams:""}},created:function(){this.getParams(this.DataTableFilter)},methods:{getParams:function(e){var t=Object(r["a"])(Object(r["a"])({},e),{},{offset:(this.pagination.page-1)*this.pagination.rowsPerPage,limit:this.pagination.rowsPerPage,ordering:this.pagination.descending?this.pagination.sortBy:"-"+this.pagination.sortBy});this.fullParams=this.convertToURLSearchParams(t)},loadDataTable:function(e){this.response=e,this.fetchedResults=e.results,this.pagination.totalItems=e.count,this.extra_data=e.extra_data,this.triggerDataTable=!0},fetchData:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var a,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return console.warn("DatatableMixin: fetchData has been deprecated. Please use the function in page itself."),a=Object(r["a"])(Object(r["a"])(Object(r["a"])({},e),t.appliedFilters),{},{search:t.search,offset:(t.pagination.page-1)*t.pagination.rowsPerPage,limit:t.pagination.rowsPerPage,ordering:t.pagination.descending?t.pagination.sortBy:"-"+t.pagination.sortBy}),i=t.convertToURLSearchParams(a),t.loading=!0,n.next=6,t.$http.get(t.endpoint,{params:i}).then((function(e){t.response=e,t.fetchedResults=e.results,t.pagination.totalItems=e.count})).finally((function(){t.loading=!1}));case 6:case"end":return n.stop()}}),n)})))()},applyFilters:function(e){this.appliedFilters=e,this.fetchData(e)},convertToURLSearchParams:function(e){for(var t=new URLSearchParams,n=0,i=Object.keys(e);n<i.length;n++){var r=i[n],s=e[r];if(void 0===s&&(s=""),Array.isArray(s)){var o,l=Object(a["a"])(s);try{for(l.s();!(o=l.n()).done;){var c=o.value;t.append(r,c)}}catch(u){l.e(u)}finally{l.f()}}else t.append(r,s)}return t},loadDataTableChange:function(){var e=this;this.triggerDataTable&&(this.getParams(this.DataTableFilter),this.$nextTick((function(){e.fetchDataTable()})))}},watch:{DataTableFilter:function(e){this.fetchedResults=[],this.getParams(e),this.fetchDataTable(),this.pagination.page=1},"pagination.sortBy":function(){this.fetchedResults=[],this.loadDataTableChange()},"pagination.descending":function(){this.fetchedResults=[],this.loadDataTableChange()},"pagination.page":function(){this.fetchedResults=[],this.loadDataTableChange()},"pagination.rowsPerPage":function(){this.fetchedResults=[],this.loadDataTableChange()}}}},"19c3":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-form",{on:{submit:function(t){return t.preventDefault(),e.getFormAction.apply(null,arguments)}}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-container",{staticClass:"px-12"},[n("v-row",[n("v-col",{attrs:{md:"6",sm:"12"}},[e.nonFieldErrors?n("non-field-form-errors",{attrs:{"non-field-errors":e.nonFieldErrors}}):e._e(),n("v-row",[n("v-col",{attrs:{sm:"12",md:"6",cols:"12"}},[n("user-auto-complete",e._b({directives:[{name:"validate",rawName:"v-validate",value:"",expression:"''"}],attrs:{"data-cy-variable":"responsiblePersons",params:{user_status:"current",have_experience:!0},"items-to-exclude":e.previousResponsiblePersons.map((function(e){return e.user.id})),"user-object":e.responsiblePersonsObject,multiple:""},on:{"update:userObject":function(t){e.responsiblePersonsObject=t},"update:user-object":function(t){e.responsiblePersonsObject=t}},model:{value:e.responsiblePersons,callback:function(t){e.responsiblePersons=t},expression:"responsiblePersons"}},"user-auto-complete",e.veeValidate("responsible_persons","Assign To *"),!1))],1),n("v-col",{attrs:{sm:"12",md:"6",cols:"12"}},[n("user-auto-complete",e._b({directives:[{name:"validate",rawName:"v-validate",value:"",expression:"''"}],attrs:{"data-cy-variable":"observers",params:{user_status:"current",have_experience:!0},"items-to-exclude":e.previousObservers.map((function(e){return e.user.id})),"user-object":e.observersObject,multiple:""},on:{"update:userObject":function(t){e.observersObject=t},"update:user-object":function(t){e.observersObject=t}},model:{value:e.observers,callback:function(t){e.observers=t},expression:"observers"}},"user-auto-complete",e.veeValidate("observers","Observers"),!1))],1)],1),n("v-col",[n("div",{domProps:{textContent:e._s("Priority: ")}}),n("v-btn-toggle",{attrs:{"data-cy":"btn-priority"},model:{value:e.formValues.priority,callback:function(t){e.$set(e.formValues,"priority",t)},expression:"formValues.priority"}},e._l(e.priorityChoices,(function(t){return n("v-btn",{key:t.value,class:t.value===e.formValues.priority?t.color+" white--text":"black--text",attrs:{"data-cy":"btn-priority-"+t.text,value:t.value,text:"",small:""},domProps:{textContent:e._s(t.text)}})})),1)],1),n("v-col",[n("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],model:{value:e.formValues.title,callback:function(t){e.$set(e.formValues,"title",t)},expression:"formValues.title"}},"v-text-field",e.veeValidate("title","Title *"),!1))],1),n("v-col",[n("vue-date-time-picker",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"place-holder":"Deadline of the task"},model:{value:e.formValues.deadline,callback:function(t){e.$set(e.formValues,"deadline",t)},expression:"formValues.deadline"}},"vue-date-time-picker",e.veeValidate("deadline","Deadline *"),!1))],1),n("v-col",[n("v-switch",{attrs:{"data-cy":"switch-changeable-deadline",label:"Changeable Deadline"},model:{value:e.formValues.changeable_deadline,callback:function(t){e.$set(e.formValues,"changeable_deadline",t)},expression:"formValues.changeable_deadline"}})],1),n("v-col",[n("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"max:100",expression:"'max:100'"}],attrs:{counter:100,placeholder:"Things to do ...","append-icon":"mdi-plus"},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.addToCheckList.apply(null,arguments))},"click:append":e.addToCheckList},model:{value:e.formValues.check_list_title,callback:function(t){e.$set(e.formValues,"check_list_title",t)},expression:"formValues.check_list_title"}},"v-text-field",e.veeValidate("check_list_title","Checklists"),!1))],1),n("v-row",{staticClass:"pointer",attrs:{"data-cy":"text-advanced",align:"center"},on:{click:function(t){e.advanced=!e.advanced}}},[n("span",{domProps:{textContent:e._s("Advanced")}}),n("v-icon",{domProps:{textContent:e._s(e.advanced?"mdi-menu-up":"mdi-menu-down")}})],1),e.advanced||e.projectId?n("v-col",[n("vue-trumbowyg",e._b({directives:[{name:"validate",rawName:"v-validate",value:"max:100000",expression:"'max:100000'"}],attrs:{placeholder:"Write a description for this task"},model:{value:e.formValues.description,callback:function(t){e.$set(e.formValues,"description",t)},expression:"formValues.description"}},"vue-trumbowyg",e.veeValidate("description","Description"),!1))],1):e._e(),e.advanced||e.projectId?n("v-col",[1===e.get(e.actionData,"status")?n("vue-date-time-picker",e._b({directives:[{name:"validate",rawName:"v-validate",value:"",expression:"''"}],attrs:{"place-holder":"Deadline of the task"},model:{value:e.formValues.starts_at,callback:function(t){e.$set(e.formValues,"starts_at",t)},expression:"formValues.starts_at"}},"vue-date-time-picker",e.veeValidate("starts_at","Start At "),!1)):e._e()],1):e._e(),n("v-col",[n("create-task-attachments",{model:{value:e.attachments,callback:function(t){e.attachments=t},expression:"attachments"}})],1),e.advanced||e.projectId?n("v-col",{staticClass:"py-0"},[e.projectId?n("v-switch",{attrs:{"data-cy":"switch-task-belongs-to-project","hide-details":"",label:"Task Belongs to Project"},model:{value:e.hasProjectId,callback:function(t){e.hasProjectId=t},expression:"hasProjectId"}}):n("v-switch",{attrs:{"data-cy":"switch-task-belongs-to-project","hide-details":"",label:"Task Belongs to Project"},model:{value:e.projectTaskSwitch,callback:function(t){e.projectTaskSwitch=t},expression:"projectTaskSwitch"}})],1):e._e(),e.advanced||e.projectId?n("v-col",{staticClass:"py-0"},[e.projectTaskSwitch||e.projectId?n("vue-auto-complete",{attrs:{"data-cy-variable":"task-project",endpoint:e.taskProjectEndpoint,label:"Task Project","hide-details":"","item-text":"name","item-value":"id"},model:{value:e.formValues.project,callback:function(t){e.$set(e.formValues,"project",t)},expression:"formValues.project"}}):e._e()],1):e._e(),e.advanced||e.projectId?n("v-col",{staticClass:"py-0"},[n("vue-repeat-rule",{model:{value:e.repeatRule,callback:function(t){e.repeatRule=t},expression:"repeatRule"}})],1):e._e(),e.advanced&&e.repeatRule||e.repeatRule&&e.projectId?n("v-col",{staticClass:"mt-n9 mb-3"},[n("vue-date-picker",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"data-cy-variable":"repeat-from"},model:{value:e.repeatFrom,callback:function(t){e.repeatFrom=t},expression:"repeatFrom"}},"vue-date-picker",e.veeValidate("recurring_first_run","Repeat From *"),!1))],1):e._e()],1),n("v-col",{staticClass:"mt-4",attrs:{md:"6",sm:"12"}},[n("div",[n("h4",[e._v("Responsible Person")]),n("div",[n("v-divider"),e.actualResponsiblePersonsObject&&!e.actualResponsiblePersonsObject.length?n("p",{domProps:{textContent:e._s("Select Responsible person to view their result areas")}}):e._l(e.actualResponsiblePersonsObject,(function(t,a){return n("v-col",{key:a,attrs:{cols:"12",md:"12"}},[n("v-col",{attrs:{cols:"12"}},[n("vue-user",{attrs:{user:Object.assign({},t,{job_title:t.division}),horizontal:"","justify-center":""}})],1),n("v-row",{attrs:{align:"center"}},[n("v-col",{attrs:{cols:"12"}},[e.userCoreTasks[t.id]?e.userCoreTasks[t.id].length?e._l(e.userCoreTasks[t.id],(function(i,r){return n("div",{key:i.id},[n("v-row",{attrs:{align:"center",justify:"start",dense:""}},[n("v-col",{attrs:{sm:"12"}},[n("v-switch",{key:i.id,staticClass:"mt-0",attrs:{id:String(i.id),"data-cy":"switch-show-core-task-"+(r+1),"hide-details":""},on:{change:function(t){return e.removeCoreTask(i,a)}},model:{value:i.showCoreTask,callback:function(t){e.$set(i,"showCoreTask",t)},expression:"resultArea.showCoreTask"}},[n("template",{slot:"label"},[n("span",[e._v(" "+e._s(i.result_area.title+"-")+" ")]),i.key_result_area?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("span",e._g({staticClass:"font-weight-bold",domProps:{textContent:e._s(" KRA")}},a))]}}],null,!0)},[n("span",[e._v(" Key Result Area")])]):e._e()],1)],2)],1)],1),i.showCoreTask?n("span",e._l(i.core_tasks,(function(a,i){return n("v-row",{key:a.id,staticClass:"ml-3",attrs:{align:"center",dense:""}},[n("v-col",{attrs:{sm:"12"}},[n("v-checkbox",{staticClass:"mt-0",attrs:{id:String(a.id),"data-cy":"show-task-"+(r+1)+"-checkbox-"+(i+1),label:a.title,value:a.id,loading:!0,"hide-details":"",multiple:""},model:{value:t.core_tasks,callback:function(n){e.$set(t,"core_tasks",n)},expression:"user.core_tasks"}})],1)],1)})),1):e._e()],1)})):n("p",{domProps:{textContent:e._s(t.full_name+" has no core task.")}}):n("p",{domProps:{textContent:e._s("Fetching...")}})],2)],1),n("v-divider")],1)}))],2),e.previousResponsiblePersons&&e.previousResponsiblePersons.length?n("div",[n("span",{domProps:{textContent:e._s("Existing Responsible Persons")}}),e._l(e.previousResponsiblePersons,(function(t,a){return n("div",{key:a},[n("v-hover",{scopedSlots:e._u([{key:"default",fn:function(i){var r=i.hover;return n("div",{},[n("v-avatar",{attrs:{size:"20"}},[n("v-img",{attrs:{src:t.user.profile_picture}})],1),e._v(" "+e._s(t.user.full_name)+" "),r?n("a",{on:{click:function(n){return e.removeResponsiblePerson(t,a)}}},[n("v-tooltip",{attrs:{right:""},scopedSlots:e._u([{key:"activator",fn:function(a){var i=a.on;return[n("v-icon",e._g({attrs:{color:t.read_only?"green":"red",small:""},domProps:{textContent:e._s(t.read_only?"mdi-chevron-down":"mdi-close")}},i))]}}],null,!0)},[n("span",{domProps:{textContent:e._s(t.read_only?"Move to observers":"Remove")}})])],1):e._e()],1)}}],null,!0)})],1)}))],2):e._e()]),n("br"),n("div",[n("h4",[e._v("Observers")]),n("div",[n("v-divider"),n("task-user-involvement-view",{attrs:{"user-data":e.observersObject}}),e.previousObservers&&e.previousObservers.length?n("div",[n("span",{domProps:{textContent:e._s("Existing Observers")}}),e._l(e.previousObservers,(function(t,a){return n("div",{key:a},[n("v-hover",{scopedSlots:e._u([{key:"default",fn:function(i){var r=i.hover;return n("div",{},[n("v-avatar",{attrs:{size:"20"}},[n("v-img",{attrs:{src:t.user.profile_picture}})],1),e._v(" "+e._s(t.user.full_name)+" "),r&&!t.read_only?n("a",{on:{click:function(t){return e.previousObservers.splice(a,1)}}},[n("v-icon",{attrs:{small:""},domProps:{textContent:e._s("mdi-close")}})],1):e._e()],1)}}],null,!0)})],1)}))],2):e._e()],1)]),n("br"),n("h4",[e._v("Deadline")]),n("v-divider"),n("v-col",{attrs:{cols:"12",md:"6"}},[e.formValues.deadline?n("div",[n("div",[n("span",{staticClass:"mr-1"},[e._v(" "+e._s(e.getDeadline(e.formValues.deadline))+" ")]),n("span",[e._v(e._s(e._f("dayjs")(e.formValues.deadline,"fromNow")))])]),n("div",[e._v(" "+e._s(e._f("dayjs")(e.formValues.deadline,"h mm a"))+" ")])]):n("span",{domProps:{textContent:e._s("Please select a deadline for this task")}})]),n("h4",[e._v(" Checklists "),e.checklists&&e.checklists.length?n("v-btn",{attrs:{small:"","data-cy":"btn-clear-all-checklists",icon:""},on:{click:function(t){e.checklists=[]}}},[n("v-icon",{attrs:{size:"20"}},[e._v(" mdi-close ")])],1):e._e()],1),n("v-divider"),n("v-col",{attrs:{cols:"12",md:"6"}},[e.checklists&&0===e.checklists.length?n("p",{domProps:{textContent:e._s("Added checklists will appear here")}}):e._e(),e.sortingStarted?e._e():n("div",{attrs:{id:"checklistWrapper"}},e._l(e.checklists,(function(t,a){return n("ul",{key:a,staticClass:"sortHandle my-1",class:{pointer:!e.editChecklist}},[n("v-hover",{scopedSlots:e._u([{key:"default",fn:function(i){var r=i.hover;return n("li",{},[e.editChecklist&&a===e.editChecklistIndex?n("span",[n("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"max:100",expression:"'max:100'"}],attrs:{"append-icon":"mdi-check",counter:"100"},on:{"click:append":function(t){e.updateRecentChecklist(a),e.initializeSortableJs()}},model:{value:e.list,callback:function(t){e.list=t},expression:"list"}},"v-text-field",e.veeValidate("checklist_title","Title"),!1))],1):n("span",[n("span",{domProps:{textContent:e._s(t)}}),r?n("a",{attrs:{"data-cy":"btn-clear-checklist-"+(a+1)},on:{click:function(t){return e.checklists.splice(a,1)}}},[n("v-icon",{attrs:{small:""}},[e._v("mdi-close")])],1):e._e(),r?n("a",{attrs:{"data-cy":"btn-edit-checklist-"+(a+1)},on:{click:function(t){e.editChecklist=!0,e.editChecklistIndex=a,e.list=e.checklists[a],e.destroySortableJs()}}},[n("v-icon",{attrs:{small:""}},[e._v("mdi-pencil")])],1):e._e()])])}}],null,!0)})],1)})),0),e.previousCheckLists&&e.previousCheckLists.length?n("div",[n("span",{domProps:{textContent:e._s("Existing Checklists")}}),e.sortingStarted?e._e():n("div",{attrs:{id:"previousChecklistWrapper"}},e._l(e.previousCheckLists,(function(t,a){return n("ul",{key:a,staticClass:"sortHandles my-1"},[n("v-hover",{scopedSlots:e._u([{key:"default",fn:function(i){var r=i.hover;return n("li",{},[e.editPreviousChecklist&&a===e.editChecklistPrevIndex?n("span",[n("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"max:100",expression:"'max:100'"}],attrs:{"data-cy":"input-checklist-title","append-icon":"mdi-check",counter:"100"},on:{"click:append":function(n){e.updateChecklist(t.id,a),e.editPreviousChecklist=!1,e.initializeSortableForPreviousList()}},model:{value:e.prevList,callback:function(t){e.prevList=t},expression:"prevList"}},"v-text-field",e.veeValidate("checklist_title","Title"),!1))],1):n("span",[e._v(" "+e._s(t.check_list_title)+" "),r&&!t.completed_on?n("a",{attrs:{"data-cy":"btn-clear-prev-checklist-"+(a+1)},on:{click:function(n){return e.deleteCheckList(t.id,a)}}},[n("v-icon",{attrs:{small:""}},[e._v("mdi-close")])],1):e._e(),r&&!t.completed_on?n("a",[n("v-icon",{attrs:{small:"","data-cy":"btn-edit-prev-checklist-"+(a+1)},on:{click:function(t){e.editPreviousChecklist=!0,e.editChecklistPrevIndex=a,e.prevList=e.previousCheckLists[a].check_list_title,e.destroySortableJs()}}},[e._v("mdi-pencil ")])],1):e._e()])])}}],null,!0)})],1)})),0)]):e._e()]),n("h4",[e._v("Attachments")]),n("v-divider"),n("v-col",{attrs:{cols:"12",md:"6"}},[e.attachments&&0===e.attachments.length?n("p",{domProps:{textContent:e._s("Added attachments will appear here")}}):n("div",e._l(e.reverseAttachment,(function(t,a){return n("ul",{key:a},[n("v-hover",{scopedSlots:e._u([{key:"default",fn:function(i){var r=i.hover;return n("li",{},[n("span",[e._v(" "+e._s(t.caption)+" "),r?n("a",{attrs:{"data-cy":"btn-clear-attachment-"+(a+1)},on:{click:function(t){return e.attachments.splice(a,1)}}},[n("v-icon",{attrs:{small:""}},[e._v("mdi-close")])],1):e._e()])])}}],null,!0)})],1)})),0),e.previousAttachments&&e.previousAttachments.length?n("div",[n("span",{domProps:{textContent:e._s("Existing Attachments")}}),e._l(e.previousAttachments,(function(t,a){return n("ul",{key:a},[n("v-hover",{scopedSlots:e._u([{key:"default",fn:function(i){var r=i.hover;return n("li",{},[n("span",{domProps:{textContent:e._s(t.caption)},on:{click:function(n){return e.viewAttachment(t.attachment)}}}),r&&e.canDeleteAttachment(t)?n("v-icon",{attrs:{"data-cy":"btn-clear-previous-attachment-"+(a+1),small:""},domProps:{textContent:e._s("mdi-close")},on:{click:function(t){e.deleteNotification.dialog=!0,e.deleteAttachmentIndex=a}}}):e._e()],1)}}],null,!0)})],1)}))],2):e._e()])],1)],1)],1),n("v-footer",{staticClass:"py-3",attrs:{fixed:"",height:"auto"}},[n("v-spacer"),n("v-btn",{staticClass:"mx-2",attrs:{disabled:e.loading,type:"submit",color:"primary"}},[e.formValues.id?n("span",{domProps:{textContent:e._s("Update")}}):n("span",{domProps:{textContent:e._s("Assign")}})]),n("v-btn",{attrs:{outlined:""},domProps:{textContent:e._s("Cancel")},on:{click:function(t){return e.$emit("dismiss-form")}}})],1)],1),n("vue-dialog",{attrs:{notify:e.deleteNotification},on:{close:function(t){e.deleteNotification.dialog=!1},agree:e.deleteAttachment},model:{value:e.deleteNotification.dialog,callback:function(t){e.$set(e.deleteNotification,"dialog",t)},expression:"deleteNotification.dialog"}}),n("vue-notify",{attrs:{notify:e.notify}})],1)},i=[],r=n("b85c"),s=n("1da1"),o=n("5530"),l=(n("96cf"),n("a9e3"),n("159b"),n("d81d"),n("fb6a"),n("4de4"),n("caad"),n("2532"),n("a4d3"),n("e01a"),n("d3b7"),n("a434"),n("b0c0"),n("99af"),n("c44a")),c=n("ef8c"),u=n("ab8a"),d=n("0780"),h=n("b1a9"),p=n("5660"),f=n("6593"),m=n("02cb"),v=n("f8a4"),g=n("0f05"),y=n("2a18"),b=n("a019"),_=n("741f"),k=n("1467"),x=n("2f62"),w=n("aa47"),C=n("338b"),T={components:{UserAutoComplete:c["default"],TaskUserInvolvementView:d["a"],NonFieldFormErrors:u["default"],VueAutoComplete:p["default"],VueDatePicker:_["default"],VueRepeatRule:f["a"],VueUser:m["default"],CreateTaskAttachments:h["a"],VueTrumbowyg:k["default"]},mixins:[l["a"],C["a"]],props:{actionData:{type:Object,default:function(){return{status:1}}},parentTask:{type:Object,required:!1,default:function(){return{}}},projectId:{type:Number,required:!1,default:null},meeting:{type:Boolean,default:!1},agendaId:{type:Number,default:null}},data:function(){return{notify:{},responsiblePersons:[],previousResponsiblePersons:[],observers:[],previousObservers:[],responsiblePersonsObject:[],actualResponsiblePersonsObject:[],observersObject:[],userCoreTasks:{},priorityChoices:[{text:"Minor",value:"MINOR",color:"green"},{text:"Major",value:"MAJOR",color:"purple"},{text:"Critical",value:"CRITICAL",color:"red"}],checklists:[],editChecklistIndex:"",prevList:"",previousCheckLists:[],attachments:[],previousAttachments:[],deleteNotification:{dialog:!1,heading:"Confirm Delete",text:"Are you sure you want to delete this attachment?",deleteAttachmentIndex:null},formValues:{},projectTaskSwitch:"",taskProject:null,taskProjectEndpoint:"/task/projects",startDate:"",editChecklistPrevIndex:"",editChecklist:!1,editPreviousChecklist:!1,repeatRule:"",repeatFrom:"",advanced:this.displayAdvancedOptions(),loading:!1,sortable:null,sortingStarted:!1,taskId:this.$route.params.id,useNepaliDate:localStorage.useNepaliDate}},computed:Object(o["a"])(Object(o["a"])({},Object(x["c"])({getAuthStateUser:"auth/getAuthStateUser",getOrganizationSlug:"organization/getOrganizationSlug",isSupervisor:"auth/isSupervisor"})),{},{todaysDate:function(){var e=this.$dayjs().add(7,"days").format("YYYY-MM-DD"),t="";return t="true"===localStorage.useNepaliDate&&e?this.ad2bs(e):e,t},observersData:function(){var e=[];return this.observers.forEach((function(t){e.unshift({user:t})})),e},responsiblePersonsData:function(){return this.actualResponsiblePersonsObject.map((function(e){return{user:e.id,core_tasks:e.core_tasks||[]}}))},hasProjectId:function(){return!!this.projectId},reverseAttachment:function(){return this.attachments.slice(0).reverse()}}),watch:{projectTaskSwitch:function(e){e||(this.taskProject=null,this.formValues.project=null)},responsiblePersonsObject:function(e,t){if(this.responsiblePersonsObject=e,e&&e.length){var n=t.map((function(e){return e.id})),a=e.map((function(e){return e.id}));e.length<t.length?this.actualResponsiblePersonsObject=this.actualResponsiblePersonsObject.filter((function(e){return a.includes(e.id)})):n.includes(e[0].id)||this.actualResponsiblePersonsObject.push(e[0]),this.getUserCoreTasks(e)}else this.actualResponsiblePersonsObject=e}},mounted:function(){this.initializeSortableJs(),this.initializeSortableForPreviousList()},created:function(){this.formValues=this.deepCopy(this.taskDefaultData()),this.projectTaskSwitch=!!this.taskDefaultData().project,this.repeatRule=this.get(this.taskDefaultData(),"recurring.recurring_rule"),this.repeatFrom=this.get(this.taskDefaultData(),"recurring.recurring_first_run"),this.actionData.id&&this.prepareEditForm(),this.projectId&&(this.formValues.project=this.projectId,this.projectTaskSwitch=!0)},beforeDestroy:function(){this.destroySortableJs()},methods:Object(o["a"])(Object(o["a"])({},Object(x["d"])({setNavDrawerItems:"common/setTaskCount"})),{},{displayAdvancedOptions:function(){return!!this.taskDefaultData().starts_at||!!this.taskDefaultData().description||!!this.taskDefaultData().recurring||!!this.taskDefaultData().project},getFormAction:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.validateAllFields();case 2:if(!t.sent){t.next=4;break}return t.abrupt("return",e.formValues.id?e.updateTask():e.createTask());case 4:case"end":return t.stop()}}),t)})))()},prepareEditForm:function(){this.previousResponsiblePersons=this.formValues.responsible_persons,this.previousObservers=this.formValues.observers,this.previousCheckLists=this.formValues.check_lists,this.getPreviousAttachments()},getPreviousAttachments:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get(v["a"].getAttachment(e.actionData.id)).then((function(t){e.previousAttachments=t.results}));case 2:case"end":return t.stop()}}),t)})))()},getUserCoreTasks:function(e){var t=this,n=e[0];this.userCoreTasks[n.id]||this.$http.get(b["a"].getUserResultAreas(n.organization_slug,n.id)).then((function(e){var a=e.experiences.filter((function(e){return e.is_current}));if(a.length&&a[0].result_areas.length){var i=a[0].result_areas;t.$set(t.userCoreTasks,n.id,i)}else t.userCoreTasks[n.id]=[]}))},addToCheckList:function(){var e=this;this.formValues.check_list_title?this.formValues.check_list_title.length>100?this.notifyUser("The Checklists field may not be greater than 100 characters","red"):this.actionData.id?this.$http.post(y["a"].postCheckList(this.actionData.id),{check_list_title:this.formValues.check_list_title}).then((function(t){e.previousCheckLists.push({id:t.id,check_list_title:t.check_list_title}),e.formValues.check_list_title=""})):(this.checklists.push(this.formValues.check_list_title),this.formValues.check_list_title="",this.editChecklistIndex="",this.editChecklistPrevIndex=""):this.notifyUser("Please write something on your checklist.","red")},createTask:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.loading=!0,e.$http.post(v["a"].postTask,e.constructFormData()).then((function(t){if(e.notifyUser("Successfully created task!","green"),e.$emit("dismiss-form"),e.attachments.length)e.createAttachment(t.id,"created");else if(e.updateSideBarCounts(),e.meeting)e.$http.post(g["a"].createTask(e.taskId,e.agendaId),{task:t.id}),e.emit("dismissForm");else{var n=e.get(e.$route.params,"slug");e.$router.push({name:n?"admin-slug-task-id-detail":"user-task-my-id-detail",params:{id:t.id,slug:n||""}})}})).catch((function(t){e.pushErrors(t)})).finally((function(){e.loading=!1}));case 2:case"end":return t.stop()}}),t)})))()},updateTask:function(){var e=this,t=this.constructFormData();delete t.check_lists,t.check_lists=this.previousCheckLists.length?this.previousCheckLists.map((function(e){return e.id})):[],this.loading=!0,this.$http.patch(v["a"].updateTask(t.id),t).then((function(t){e.attachments.length?e.createAttachment(t.id,"updated"):(e.notifyUser("Successfully updated task!","green"),e.$emit("dismiss-form"),e.updateSideBarCounts())})).catch((function(t){e.pushErrors(t)})).finally((function(){e.loading=!1}))},updateSideBarCounts:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get(v["a"].navBarCounts).then((function(t){e.setNavDrawerItems(t)}));case 2:case"end":return t.stop()}}),t)})))()},addCheckList:function(e){this.$http.post(y["a"].postCheckList(this.formValues.id),{check_list_title:e})},initializeSortableJs:function(){var e=document.getElementById("checklistWrapper");e&&(this.sortable=w["a"].create(e,{selectedClass:"sortHandle",draggable:".sortHandle",handle:".sortHandle",onEnd:this.reArrangeChecklist}))},initializeSortableForPreviousList:function(){var e=document.getElementById("previousChecklistWrapper");e&&(this.sortable=w["a"].create(e,{selectedClass:"sortHandles",draggable:".sortHandles",handle:".sortHandles",onEnd:this.reArrangePreviousChecklist}))},destroySortableJs:function(){this.sortable.destroy(),this.sortable=null},reArrangeChecklist:function(e){var t=this;this.sortingStarted=!0,this.checklists.splice(e.newIndex,0,this.checklists.splice(e.oldIndex,1)[0]),this.$nextTick((function(){t.sortingStarted=!1,t.$nextTick((function(){t.initializeSortableJs()}))}))},reArrangePreviousChecklist:function(e){var t=this;this.sortingStarted=!0,this.previousCheckLists.splice(e.newIndex,0,this.previousCheckLists.splice(e.oldIndex,1)[0]),this.$nextTick((function(){t.sortingStarted=!1,t.$nextTick((function(){t.initializeSortableForPreviousList()}))}))},swapChecklistByIndex:function(e,t){var n=this.checklists[e];this.checklists[e]=this.checklists[t],this.checklists[t]=n},updateRecentChecklist:function(e){this.list?this.list.length>100?(this.notifyUser("The Checklists field may not be greater than 100 characters","red"),this.editChecklist=!1,this.editChecklistPrevIndex=""):(this.checklists.splice(e,1,this.list),this.editChecklist=!1):(this.notifyUser("Please write something on your checklist.","red"),this.editChecklist=!1)},updateChecklist:function(e,t){var n=this;this.prevList?this.prevList.length>100?this.notifyUser("The Checklists field may not be greater than 100 characters","red"):this.$http.put(y["a"].putCheckList(this.formValues.id,e),{check_list_title:this.prevList}).then((function(e){n.previousCheckLists[t].check_list_title=e.check_list_title})).catch((function(e){n.notifyInvalidFormResponse(),n.pushErrors(e)})):this.notifyUser("Please write something on your checklist.","red")},createAttachment:function(e,t){var n=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,s,o,l,c,u;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:i=0,s=Object(r["a"])(n.attachments.splice(0).reverse()),a.prev=2,s.s();case 4:if((o=s.n()).done){a.next=14;break}return l=o.value,c=new FormData,c.append("attachment",l.file,l.file.name),c.append("caption",l.caption),c.append("task",e),a.next=12,n.$http.post(v["a"].postAttachment(e),c).catch((function(){i+=1}));case 12:a.next=4;break;case 14:a.next=19;break;case 16:a.prev=16,a.t0=a["catch"](2),s.e(a.t0);case 19:return a.prev=19,s.f(),a.finish(19);case 22:i?n.notifyUser("Successfully ".concat(t," task but some attachments failed"),"warning"):n.notifyUser("Successfully ".concat(t," task"),"green"),n.$emit("dismiss-form"),n.updateSideBarCounts(),u=n.get(n.$route.params,"slug"),n.$router.push({name:u?"admin-slug-task-id-detail":"user-task-my-id-detail",params:{id:e,slug:u||""}});case 27:case"end":return a.stop()}}),a,null,[[2,16,19,22]])})))()},deleteCheckList:function(e,t){var n=this;this.$http.delete(y["a"].deleteCheckList(this.actionData.id,e)).then((function(){n.notifyUser("Successfully deleted Checklist","green"),n.previousCheckLists.splice(t,1)})).catch((function(){n.notifyUser("Only pending Checklist can be deleted","red")}))},deleteAttachment:function(){var e=this,t=this.previousAttachments[this.deleteAttachmentIndex].id;this.$http.delete(v["a"].deleteAttachment(this.actionData.id,t)).then((function(){e.notifyUser("Successfully deleted attachment","green"),e.deleteNotification.dialog=!1,e.previousAttachments.splice(e.deleteAttachmentIndex,1)}))},canDeleteAttachment:function(e){return e.created_by===this.getAuthStateUser.user.id&&e.created_by!==this.actionData.created_by.id||e.created_by===this.getAuthStateUser.user.id&&e.created_by===this.actionData.created_by.id&&1===this.actionData.status},viewAttachment:function(e){var t="https://docs.google.com/viewerng/viewer?url=".concat(e);window.open(t,"_blank")},constructFormData:function(){var e=this,t=this.previousObservers?this.previousObservers.map((function(e){return{user:e.user.id,read_only:e.read_only}})):[],n=this.previousResponsiblePersons.map((function(e){return{user:e.user.id,core_tasks:e.core_tasks.map((function(e){return e.id})),read_only:e.read_only}})),a=null;this.repeatRule&&(a={recurring_rule:this.repeatRule,recurring_first_run:this.repeatFrom});var i={id:this.formValues.id||null,observers:t.concat(this.observersData),responsible_persons:n.concat(this.responsiblePersonsData),priority:this.formValues.priority,check_lists:this.checklists,title:this.formValues.title,changeable_deadline:this.formValues.changeable_deadline,deadline:this.formValues.deadline,starts_at:1===this.get(this.actionData,"status")&&this.formValues.starts_at||null,description:this.formValues.description,project:this.projectTaskSwitch?this.formValues.project:null,recurring:a,parent:this.parentTask?this.parentTask.id:null};if(this.actionData.id){var r=function(t){return e.$dayjs(t).format("YYYY-MM-DD hh mm a")};this.get(a,"recurring_first_run")===this.get(this.actionData,"recurring.recurring_first_run")&&this.get(a,"recurring_rule")===this.get(this.actionData,"recurring.recurring_rule")&&delete i.recurring,r(i.deadline)===r(this.actionData.deadline)&&delete i.deadline}return i},taskDefaultData:function(){return this.actionData.id?this.actionData:{title:"",status:1,description:"",priority:"MINOR",checklist:"",changeable_deadline:!1,skip_offday:!1,approve_required:!1,working_day:!1,auto_complete:!1,start_at:"",deadline:this.get(this.parentTask,"deadline")?this.$dayjs(this.parentTask.deadline).subtract(1,"days"):this.todaysDate+"T17:30",start:"",finish:"",project:null,recurring:null}},removeResponsiblePerson:function(e,t){e.read_only&&this.previousObservers.unshift(e),this.previousResponsiblePersons.splice(t,1)},removeCoreTask:function(e,t){var n=this.deepCopy(this.responsiblePersonsObject[t]),a=this.deepCopy(e).core_tasks.map((function(e){return e.id}));n.core_tasks||(n.core_tasks=[]),n.core_tasks=n.core_tasks.filter((function(e){return!a.includes(e)})),this.$set(this.responsiblePersonsObject,t,n)},getDeadline:function(e){return e?"true"===this.useNepaliDate&&this.$dayjs(e).diff(this.$dayjs(),"year")<50?this.ad2bs(e):this.$dayjs(e).format("YYYY-MM-DD"):"N/A"}})},D=T,S=n("2877"),O=n("6544"),E=n.n(O),P=n("8212"),I=n("8336"),A=n("a609"),R=n("ac7c"),j=n("62ad"),V=n("a523"),N=n("ce7e"),L=n("553a"),B=n("4bd4"),$=n("ce87"),M=n("132d"),F=n("adda"),Y=n("0fd9b"),U=n("2fa4"),H=n("b73d"),z=n("8654"),q=n("3a2f"),W=Object(S["a"])(D,a,i,!1,null,null,null);t["a"]=W.exports;E()(W,{VAvatar:P["a"],VBtn:I["a"],VBtnToggle:A["a"],VCheckbox:R["a"],VCol:j["a"],VContainer:V["a"],VDivider:N["a"],VFooter:L["a"],VForm:B["a"],VHover:$["a"],VIcon:M["a"],VImg:F["a"],VRow:Y["a"],VSpacer:U["a"],VSwitch:H["a"],VTextField:z["a"],VTooltip:q["a"]})},"1d4e":function(e,t,n){"use strict";n("3b72")},"1e6c":function(e,t,n){"use strict";var a=n("9d65"),i=n("4e82"),r=n("c3f0"),s=n("80d2"),o=n("58df"),l=Object(o["a"])(a["a"],Object(i["a"])("windowGroup","v-window-item","v-window"));t["a"]=l.extend().extend().extend({name:"v-window-item",directives:{Touch:r["a"]},props:{disabled:Boolean,reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},value:{required:!1}},data:function(){return{isActive:!1,inTransition:!1}},computed:{classes:function(){return this.groupClasses},computedTransition:function(){return this.windowGroup.internalReverse?"undefined"!==typeof this.reverseTransition?this.reverseTransition||"":this.windowGroup.computedTransition:"undefined"!==typeof this.transition?this.transition||"":this.windowGroup.computedTransition}},methods:{genDefaultSlot:function(){return this.$slots.default},genWindowItem:function(){return this.$createElement("div",{staticClass:"v-window-item",class:this.classes,directives:[{name:"show",value:this.isActive}],on:this.$listeners},this.genDefaultSlot())},onAfterTransition:function(){this.inTransition&&(this.inTransition=!1,this.windowGroup.transitionCount>0&&(this.windowGroup.transitionCount--,0===this.windowGroup.transitionCount&&(this.windowGroup.transitionHeight=void 0)))},onBeforeTransition:function(){this.inTransition||(this.inTransition=!0,0===this.windowGroup.transitionCount&&(this.windowGroup.transitionHeight=Object(s["g"])(this.windowGroup.$el.clientHeight)),this.windowGroup.transitionCount++)},onTransitionCancelled:function(){this.onAfterTransition()},onEnter:function(e){var t=this;this.inTransition&&this.$nextTick((function(){t.computedTransition&&t.inTransition&&(t.windowGroup.transitionHeight=Object(s["g"])(e.clientHeight))}))}},render:function(e){var t=this;return e("transition",{props:{name:this.computedTransition},on:{beforeEnter:this.onBeforeTransition,afterEnter:this.onAfterTransition,enterCancelled:this.onTransitionCancelled,beforeLeave:this.onBeforeTransition,afterLeave:this.onAfterTransition,leaveCancelled:this.onTransitionCancelled,enter:this.onEnter}},this.showLazyContent((function(){return[t.genWindowItem()]})))}})},"1f09":function(e,t,n){},"2a18":function(e,t,n){"use strict";n("99af");t["a"]={completeCheckList:function(e,t){return"/task/".concat(e,"/checklists/").concat(t,"/check/")},getCheckList:function(e){return"/task/".concat(e,"/checklists/")},postCheckList:function(e){return"/task/".concat(e,"/checklists/")},putCheckList:function(e,t){return"/task/".concat(e,"/checklists/").concat(t,"/")},deleteCheckList:function(e,t){return"/task/".concat(e,"/checklists/").concat(t,"/")}}},"2ab5":function(e,t,n){"use strict";n("9d1c")},3129:function(e,t,n){"use strict";var a=n("3835"),i=n("5530"),r=(n("ac1f"),n("1276"),n("d81d"),n("a630"),n("3ca3"),n("5319"),n("1f09"),n("c995")),s=n("24b2"),o=n("7560"),l=n("58df"),c=n("80d2");t["a"]=Object(l["a"])(r["a"],s["a"],o["a"]).extend({name:"VSkeletonLoader",props:{boilerplate:Boolean,loading:Boolean,tile:Boolean,transition:String,type:String,types:{type:Object,default:function(){return{}}}},computed:{attrs:function(){return this.isLoading?this.boilerplate?{}:Object(i["a"])({"aria-busy":!0,"aria-live":"polite",role:"alert"},this.$attrs):this.$attrs},classes:function(){return Object(i["a"])(Object(i["a"])({"v-skeleton-loader--boilerplate":this.boilerplate,"v-skeleton-loader--is-loading":this.isLoading,"v-skeleton-loader--tile":this.tile},this.themeClasses),this.elevationClasses)},isLoading:function(){return!("default"in this.$scopedSlots)||this.loading},rootTypes:function(){return Object(i["a"])({actions:"button@2",article:"heading, paragraph",avatar:"avatar",button:"button",card:"image, card-heading","card-avatar":"image, list-item-avatar","card-heading":"heading",chip:"chip","date-picker":"list-item, card-heading, divider, date-picker-options, date-picker-days, actions","date-picker-options":"text, avatar@2","date-picker-days":"avatar@28",heading:"heading",image:"image","list-item":"text","list-item-avatar":"avatar, text","list-item-two-line":"sentences","list-item-avatar-two-line":"avatar, sentences","list-item-three-line":"paragraph","list-item-avatar-three-line":"avatar, paragraph",paragraph:"text@3",sentences:"text@2",table:"table-heading, table-thead, table-tbody, table-tfoot","table-heading":"heading, text","table-thead":"heading@6","table-tbody":"table-row-divider@6","table-row-divider":"table-row, divider","table-row":"table-cell@6","table-cell":"text","table-tfoot":"text@2, avatar@2",text:"text"},this.types)}},methods:{genBone:function(e,t){return this.$createElement("div",{staticClass:"v-skeleton-loader__".concat(e," v-skeleton-loader__bone")},t)},genBones:function(e){var t=this,n=e.split("@"),i=Object(a["a"])(n,2),r=i[0],s=i[1],o=function(){return t.genStructure(r)};return Array.from({length:s}).map(o)},genStructure:function(e){var t=[];e=e||this.type||"";var n=this.rootTypes[e]||"";if(e===n);else{if(e.indexOf(",")>-1)return this.mapBones(e);if(e.indexOf("@")>-1)return this.genBones(e);n.indexOf(",")>-1?t=this.mapBones(n):n.indexOf("@")>-1?t=this.genBones(n):n&&t.push(this.genStructure(n))}return[this.genBone(e,t)]},genSkeleton:function(){var e=[];return this.isLoading?e.push(this.genStructure()):e.push(Object(c["s"])(this)),this.transition?this.$createElement("transition",{props:{name:this.transition},on:{afterEnter:this.resetStyles,beforeEnter:this.onBeforeEnter,beforeLeave:this.onBeforeLeave,leaveCancelled:this.resetStyles}},e):e},mapBones:function(e){return e.replace(/\s/g,"").split(",").map(this.genStructure)},onBeforeEnter:function(e){this.resetStyles(e),this.isLoading&&(e._initialStyle={display:e.style.display,transition:e.style.transition},e.style.setProperty("transition","none","important"))},onBeforeLeave:function(e){e.style.setProperty("display","none","important")},resetStyles:function(e){e._initialStyle&&(e.style.display=e._initialStyle.display||"",e.style.transition=e._initialStyle.transition,delete e._initialStyle)}},render:function(e){return e("div",{staticClass:"v-skeleton-loader",attrs:this.attrs,on:this.$listeners,class:this.classes,style:this.isLoading?this.measurableStyles:void 0},[this.genSkeleton()])}})},3860:function(e,t,n){"use strict";var a=n("604c");t["a"]=a["a"].extend({name:"button-group",provide:function(){return{btnToggle:this}},computed:{classes:function(){return a["a"].options.computed.classes.call(this)}},methods:{genData:a["a"].options.methods.genData}})},"3b72":function(e,t,n){},"553a":function(e,t,n){"use strict";var a=n("5530"),i=(n("a9e3"),n("c7cd"),n("b5b6"),n("8dd9")),r=n("3a66"),s=n("d10f"),o=n("58df"),l=n("80d2");t["a"]=Object(o["a"])(i["a"],Object(r["a"])("footer",["height","inset"]),s["a"]).extend({name:"v-footer",props:{height:{default:"auto",type:[Number,String]},inset:Boolean,padless:Boolean,tag:{type:String,default:"footer"}},computed:{applicationProperty:function(){return this.inset?"insetFooter":"footer"},classes:function(){return Object(a["a"])(Object(a["a"])({},i["a"].options.computed.classes.call(this)),{},{"v-footer--absolute":this.absolute,"v-footer--fixed":!this.absolute&&(this.app||this.fixed),"v-footer--padless":this.padless,"v-footer--inset":this.inset})},computedBottom:function(){if(this.isPositioned)return this.app?this.$vuetify.application.bottom:0},computedLeft:function(){if(this.isPositioned)return this.app&&this.inset?this.$vuetify.application.left:0},computedRight:function(){if(this.isPositioned)return this.app&&this.inset?this.$vuetify.application.right:0},isPositioned:function(){return Boolean(this.absolute||this.fixed||this.app)},styles:function(){var e=parseInt(this.height);return Object(a["a"])(Object(a["a"])({},i["a"].options.computed.styles.call(this)),{},{height:isNaN(e)?e:Object(l["g"])(e),left:Object(l["g"])(this.computedLeft),right:Object(l["g"])(this.computedRight),bottom:Object(l["g"])(this.computedBottom)})}},methods:{updateApplication:function(){var e=parseInt(this.height);return isNaN(e)?this.$el?this.$el.clientHeight:0:e}},render:function(e){var t=this.setBackgroundColor(this.color,{staticClass:"v-footer",class:this.classes,style:this.styles});return e(this.tag,t,this.$slots.default)}})},5660:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex space-between"},[n("v-autocomplete",{key:e.componentKey,ref:"autoComplete",class:e.appliedClass,attrs:{id:e.id,items:e.itemsSorted,"search-input":e.search,loading:e.isLoading,multiple:e.multiple,label:e.label,error:e.errorMessages.length>0,"error-messages":e.errorMessages,disabled:e.disabled,readonly:e.readonly,"data-cy":"autocomplete-"+e.dataCyVariable,"prepend-inner-icon":e.prependInnerIcon,clearable:e.clearable&&!e.readonly,"hide-details":e.hideDetails,"item-text":e.itemText,"item-value":e.itemValue,"small-chips":e.multiple||e.chips,"deletable-chips":e.multiple,hint:e.hint,"persistent-hint":e.persistentHint,chips:e.chips,solo:e.solo,flat:e.flat,"cache-items":e.cacheItems,placeholder:e.placeholder,dense:e.dense,"hide-selected":"","hide-no-data":""},on:{"update:searchInput":function(t){e.search=t},"update:search-input":function(t){e.search=t},focus:e.populateOnFocus,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.searchText())},change:e.updateState,blur:function(t){return e.$emit("blur")}},scopedSlots:e._u([{key:"selection",fn:function(t){return[e._t("selection",(function(){return[e.itemText&&t.item?n("div",[e.multiple||e.chips?n("v-chip",{attrs:{close:(e.clearable||!e.clearable&&!e.multiple)&&!e.readonly,small:""},on:{"click:close":function(n){return e.remove(t.item)}}},[t.item[e.itemText]?n("div",[t.item[e.itemText].length>40?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(a){var i=a.on;return[n("span",e._g({},i),[e._v(" "+e._s(e._f("truncate")(t.item[e.itemText],40)))])]}}],null,!0)},[n("span",[e._v(e._s(t.item[e.itemText]))])]):n("span",[e._v(e._s(t.item[e.itemText]))])],1):n("div",[n("span",[e._v(e._s(t.item))])])]):n("div",[t.item[e.itemText]?n("div",[t.item[e.itemText].length>40?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(a){var i=a.on;return[n("span",e._g({},i),[e._v(" "+e._s(e._f("truncate")(t.item[e.itemText],40)))])]}}],null,!0)},[n("span",[e._v(e._s(t.item[e.itemText]))])]):n("span",[e._v(e._s(t.item[e.itemText]))])],1):n("div",[n("span",[e._v(e._s(t.item))])])])],1):e._e()]}),{props:t})]}},{key:"item",fn:function(t){return[n("v-list-item-content",[n("v-list-item-title",[e._t("item",(function(){return[e.itemText&&t.item?n("div",[t.item[e.itemText]?n("div",[t.item[e.itemText].length>40?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(a){var i=a.on;return[n("span",e._g({},i),[e._v(" "+e._s(e._f("truncate")(t.item[e.itemText],40)))])]}}],null,!0)},[n("span",[e._v(e._s(t.item[e.itemText]))])]):n("span",[e._v(e._s(t.item[e.itemText]))])],1):n("div",[n("span",[e._v(e._s(t.item))])])]):e._e()]}),{props:t})],2)],1)]}},{key:"append-item",fn:function(){return[!e.fullyLoaded&&e.showMoreIcon?n("div",[n("v-list-item-content",{staticClass:"px-4 pointer primary--text font-weight-bold"},[n("v-list-item-title",{on:{click:function(t){return e.fetchData()}}},[e._v(" Load More Items ... ")])],1)],1):e._e()]},proxy:!0}],null,!0),model:{value:e.selectedData,callback:function(t){e.selectedData=t},expression:"selectedData"}}),e._t("default")],2)},i=[],r=n("2909"),s=n("5530"),o=n("53ca"),l=n("1da1"),c=(n("96cf"),n("a9e3"),n("ac1f"),n("841c"),n("7db0"),n("d81d"),n("159b"),n("4de4"),n("4e827"),n("2ca0"),n("d3b7"),n("c740"),n("a434"),n("3ca3"),n("ddb0"),n("2b3d"),n("caad"),n("2532"),n("63ea")),u=n.n(c),d={props:{value:{type:[Number,String,Array,Object],default:void 0},id:{type:String,default:""},dataCyVariable:{type:String,default:""},endpoint:{type:String,default:""},itemText:{type:String,required:!0},itemValue:{type:String,required:!0},params:{type:Object,required:!1,default:function(){return{}}},itemsToExclude:{type:[Array,Number],default:null},forceFetch:{type:Boolean,default:!1},staticItems:{type:Array,default:function(){return[]}},errorMessages:{type:[String,Array],default:function(){return[]}},label:{type:String,default:""},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},hint:{type:String,default:void 0},persistentHint:{type:Boolean,required:!1,default:!1},multiple:{type:Boolean,required:!1,default:!1},clearable:{type:Boolean,default:!0},hideDetails:{type:Boolean,default:!1},solo:{type:Boolean,default:!1},flat:{type:Boolean,default:!1},chips:{type:Boolean,default:!1},prependInnerIcon:{type:String,default:void 0},cacheItems:{type:Boolean,default:!1},appliedClass:{type:String,default:""},placeholder:{type:String,default:""},dense:{type:Boolean,default:!1}},data:function(){return{componentKey:0,items:[],selectedData:null,search:null,initialFetchStarted:!1,nextLimit:null,nextOffset:null,showMoreIcon:!1,fullyLoaded:!1,isLoading:!1}},computed:{itemsSorted:function(){return this.sortBySearch(this.items,this.search?this.search.toLowerCase():"")}},watch:{value:{handler:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var n,a,i,r,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=10;break}if(!this.forceFetch||this.initialFetchStarted){e.next=6;break}return this.initialFetchStarted=!0,e.next=5,this.fetchData();case 5:this.removeDuplicateItem();case 6:Array.isArray(t)?(i=[],"object"===Object(o["a"])(t[0])?(this.selectedData=t.map((function(e){return e[s.itemValue]})),t.forEach((function(e){var t=s.items.find((function(t){return t===e}));t||i.push(e)}))):(t.forEach((function(e){var t=s.items.find((function(t){return t[s.itemValue]===e}));t||i.push(e)})),this.selectedData=t),i.length>0&&(r=this.items).push.apply(r,i)):"object"===Object(o["a"])(t)?(this.selectedData=t[this.itemValue],n=this.items.find((function(e){return e[s.itemValue]===t})),n||this.items.push(t)):(this.selectedData=t,a=this.items.find((function(e){return e===t})),a||this.items.push(t)),this.updateData(this.selectedData),e.next=11;break;case 10:t||(this.selectedData=null);case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),immediate:!0},selectedData:function(e){this.updateData(e)},params:{handler:function(e,t){u()(e,t)||(this.fullyLoaded=!1,this.initialFetchStarted=!1,this.items=[],this.componentKey+=1)},deep:!0}},methods:{sortBySearch:function(e,t){var n=this.itemText,a=e.filter((function(e){return"object"===Object(o["a"])(e)}));return a.sort((function(e,a){return e[n].toLowerCase().startsWith(t)&&a[n].toLowerCase().startsWith(t)?e[n].toLowerCase().localeCompare(a[n].toLowerCase()):e[n].toLowerCase().startsWith(t)?-1:a[n].toLowerCase().startsWith(t)?1:e[n].toLowerCase().localeCompare(a[n].toLowerCase())}))},populateOnFocus:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.initialFetchStarted){t.next=2;break}return t.abrupt("return");case 2:return e.initialFetchStarted=!0,t.next=5,e.fetchData();case 5:e.removeDuplicateItem();case 6:case"end":return t.stop()}}),t)})))()},fetchData:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.staticItems.length>0)){t.next=3;break}return e.items=e.staticItems,t.abrupt("return");case 3:return n=e.nextLimit,a=e.nextOffset,e.search&&(n=null,a=null),e.isLoading=!0,t.next=9,e.$http.get(e.endpoint,{params:Object(s["a"])(Object(s["a"])({},e.params),{},{search:e.search,limit:n,offset:a})}).then((function(t){var n;t.results||(t.results=t),t.next?(e.showMoreIcon=!0,e.extractLimitOffset(t.next)):(e.showMoreIcon=!1,e.search||(e.fullyLoaded=!0)),e.itemsToExclude&&(t.results=e.excludeRecord(t.results)),(n=e.items).push.apply(n,Object(r["a"])(t.results))})).finally((function(){e.isLoading=!1}));case 9:case"end":return t.stop()}}),t)})))()},removeDuplicateItem:function(){var e=this,t=this.items.indexOf(this.selectedData);if(t>=0){var n=this.items.findIndex((function(t){return t[e.itemValue]===e.selectedData}));n>=0&&(this.items.splice(t,1),this.componentKey+=1)}},updateData:function(e){var t=this,n=[];e instanceof Array?e.forEach((function(e){n.unshift(t.items.find((function(n){return n[t.itemValue]===e})))})):n=this.items.find((function(n){return n[t.itemValue]===e})),this.$emit("input",e),this.$emit("update:selectedFullData",n)},searchText:function(){0!==this.$refs.autoComplete.filteredItems.length||this.fullyLoaded||this.fetchData()},extractLimitOffset:function(e){var t=new URL(e);this.nextLimit=t.searchParams.get("limit"),this.nextOffset=t.searchParams.get("offset")},excludeRecord:function(e){var t=this,n=[];return"number"===typeof this.itemsToExclude?n.push(this.itemsToExclude):n=this.itemsToExclude,e.filter((function(e){if(e[t.itemValue])return!n.includes(e[t.itemValue])}))},remove:function(e){if(this.selectedData instanceof Object){var t=this.selectedData.indexOf(e[this.itemValue]);t>=0&&this.selectedData.splice(t,1)}else this.selectedData=null},updateState:function(){this.search="",this.nextLimit&&(this.showMoreIcon=!0)}}},h=d,p=n("2877"),f=n("6544"),m=n.n(f),v=n("c6a6"),g=n("cc20"),y=n("5d23"),b=n("3a2f"),_=Object(p["a"])(h,a,i,!1,null,null,null);t["default"]=_.exports;m()(_,{VAutocomplete:v["a"],VChip:g["a"],VListItemContent:y["a"],VListItemTitle:y["c"],VTooltip:b["a"]})},6593:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mb-10"},[n("v-switch",{attrs:{"data-cy":"switch-repeat",label:e.label,disabled:e.disabled},on:{change:function(t){return e.resetRRule()}},model:{value:e.repeat,callback:function(t){e.repeat=t},expression:"repeat"}}),n("v-slide-y-transition",[e.repeat?n("div",[n("div",{domProps:{textContent:e._s(e.label)}}),n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"12"}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-col",[n("v-select",{attrs:{"data-cy":"select-frequency",items:e.repeatFrequency.choices,label:"Frequency","prepend-inner-icon":"mdi-repeat"},on:{input:e.calculateRRule},model:{value:e.repeatFrequency.name,callback:function(t){e.$set(e.repeatFrequency,"name",t)},expression:"repeatFrequency.name"}})],1),"Monthly"===e.repeatFrequency.name?n("v-col",{staticClass:"d-flex"},[n("v-text-field",{attrs:{type:"number","data-cy":"input-monthly-interval",prefix:"Every",suffix:"month(s)"},on:{change:e.calculateRRule},model:{value:e.monthly.interval,callback:function(t){e.$set(e.monthly,"interval",t)},expression:"monthly.interval"}})],1):e._e(),"Weekly"===e.repeatFrequency.name?n("v-col",[n("v-text-field",{attrs:{"data-cy":"input-weekly-interval",type:"number",prefix:"Every",suffix:"week(s)"},on:{change:e.calculateRRule},model:{value:e.weekly.interval,callback:function(t){e.$set(e.weekly,"interval",t)},expression:"weekly.interval"}})],1):e._e(),"Daily"===e.repeatFrequency.name?n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{attrs:{type:"number","data-cy":"input-daily-interval",prefix:"Every",suffix:"day(s)","prepend-inner-icon":"mdi-repeat"},on:{change:e.calculateRRule},model:{value:e.daily.interval,callback:function(t){e.$set(e.daily,"interval",t)},expression:"daily.interval"}})],1):e._e()],1)],1),"Yearly"===e.repeatFrequency.name?n("v-col",[n("v-row",{attrs:{align:"center","no-gutters":""}},[n("v-col",[n("v-select",{attrs:{items:["On","On The"],"data-cy":"select-repeat-rule",label:"Repeat Rule","prepend-inner-icon":"mdi-repeat"},on:{input:e.calculateRRule},model:{value:e.yearly.type,callback:function(t){e.$set(e.yearly,"type",t)},expression:"yearly.type"}})],1),"On"===e.yearly.type?n("v-col",[n("v-select",{attrs:{items:e.months,"data-cy":"select-month","item-text":"text","item-value":"value",label:"Month","prepend-inner-icon":"mdi-repeat"},on:{input:e.calculateRRule},model:{value:e.yearly.on.month,callback:function(t){e.$set(e.yearly.on,"month",t)},expression:"yearly.on.month"}})],1):e._e(),"On"===e.yearly.type?n("v-col",[n("v-select",{attrs:{"data-cy":"select-day",items:e.days,label:"Day","prepend-inner-icon":"mdi-repeat"},on:{input:e.calculateRRule},model:{value:e.yearly.on.day,callback:function(t){e.$set(e.yearly.on,"day",t)},expression:"yearly.on.day"}})],1):e._e(),"On The"===e.yearly.type?n("v-col",[n("v-select",{attrs:{"data-cy":"select-week-type",items:e.weekTypeChoices,"item-text":"text","item-value":"value",label:"Week Type","prepend-inner-icon":"mdi-repeat"},on:{input:e.calculateRRule},model:{value:e.yearly.onThe.weekType,callback:function(t){e.$set(e.yearly.onThe,"weekType",t)},expression:"yearly.onThe.weekType"}})],1):e._e(),"On The"===e.yearly.type?n("v-col",[n("v-select",{attrs:{"data-cy":"select-week",items:e.weeks,"item-text":"text","item-value":"value",label:"Week","prepend-inner-icon":"mdi-repeat"},on:{input:e.calculateRRule},model:{value:e.yearly.onThe.week,callback:function(t){e.$set(e.yearly.onThe,"week",t)},expression:"yearly.onThe.week"}})],1):e._e(),"On The"===e.yearly.type?n("v-col",[n("v-select",{attrs:{"data-cy":"select-yearly-on-month",items:e.months,prefix:"Of","item-text":"text","item-value":"value",label:"Month","prepend-inner-icon":"mdi-repeat"},on:{input:e.calculateRRule},model:{value:e.yearly.onThe.month,callback:function(t){e.$set(e.yearly.onThe,"month",t)},expression:"yearly.onThe.month"}})],1):e._e()],1)],1):e._e(),"Monthly"===e.repeatFrequency.name?n("v-col",[n("v-row",{attrs:{align:"center","no-gutters":""}},[n("v-col",[n("v-select",{attrs:{"data-cy":"select-monthly-type",items:["On","On The"],label:"Repeat Rule","prepend-inner-icon":"mdi-repeat"},on:{input:e.calculateRRule},model:{value:e.monthly.type,callback:function(t){e.$set(e.monthly,"type",t)},expression:"monthly.type"}})],1),"On"===e.monthly.type?n("v-col",[n("v-select",{attrs:{"data-cy":"select-monthly-on-day",items:e.days,label:"Day","prepend-inner-icon":"mdi-repeat"},on:{input:e.calculateRRule},model:{value:e.monthly.on.day,callback:function(t){e.$set(e.monthly.on,"day",t)},expression:"monthly.on.day"}})],1):e._e(),"On The"===e.monthly.type?n("v-col",[n("v-select",{attrs:{"data-cy":"select-monthly-on-week-type",items:e.weekTypeChoices,"item-text":"text","item-value":"value",label:"Week Type","prepend-inner-icon":"mdi-repeat"},on:{input:e.calculateRRule},model:{value:e.monthly.onThe.weekType,callback:function(t){e.$set(e.monthly.onThe,"weekType",t)},expression:"monthly.onThe.weekType"}})],1):e._e(),"On The"===e.monthly.type?n("v-col",[n("v-select",{attrs:{"data-cy":"select-monthly-on-week",items:e.weeks,"item-text":"text","item-value":"value",label:"Week","prepend-inner-icon":"mdi-repeat"},on:{input:e.calculateRRule},model:{value:e.monthly.onThe.week,callback:function(t){e.$set(e.monthly.onThe,"week",t)},expression:"monthly.onThe.week"}})],1):e._e()],1)],1):e._e(),"Weekly"===e.repeatFrequency.name?n("v-col",[n("v-btn-toggle",{attrs:{multiple:"","data-cy":"btn-week"},on:{change:e.calculateRRule},model:{value:e.weekly.days,callback:function(t){e.$set(e.weekly,"days",t)},expression:"weekly.days"}},e._l(e.weeks,(function(t){return n("v-btn",{key:t.text,attrs:{value:t.value,text:"",small:""}},[e._v(" "+e._s(t.text)+" ")])})),1)],1):e._e(),n("v-col",{attrs:{cols:"12"}},[n("v-row",{attrs:{align:"center","no-gutters":""}},[n("v-col",[n("v-select",{attrs:{"data-cy":"select-end-type",items:e.endTypeChoices,label:"End","prepend-inner-icon":"mdi-repeat"},on:{input:e.calculateRRule},model:{value:e.end.type,callback:function(t){e.$set(e.end,"type",t)},expression:"end.type"}})],1),"On Date"===e.end.type?n("v-col",[n("vue-date-picker",{attrs:{clearable:!1,"data-cy-variable":"on-date",label:"End Date"},on:{input:e.calculateRRule},model:{value:e.end.date,callback:function(t){e.$set(e.end,"date",t)},expression:"end.date"}})],1):"After"===e.end.type?n("v-col",[n("v-text-field",{attrs:{"data-cy":"input-total-repetition",type:"number",suffix:"Repeat Sessions",label:"Total Repetition"},on:{input:e.calculateRRule},model:{value:e.end.after,callback:function(t){e.$set(e.end,"after",t)},expression:"end.after"}})],1):e._e()],1)],1)],1)],1):e._e()])],1)},i=[],r=(n("38cf"),n("b0c0"),n("caad"),n("2532"),n("a15b"),n("ac1f"),n("1276"),n("741f")),s={components:{VueDatePicker:r["default"]},props:{value:{type:String,default:""},label:{type:String,default:"Repeat"},disabled:{type:Boolean,default:!1}},data:function(){return this.initialData()},created:function(){this.decodeRRule()},methods:{initialData:function(){return{repeat:!1,rRule:this.value,repeatFrequency:{name:"Yearly",choices:["Yearly","Monthly","Weekly","Daily"]},weeks:[{text:"Sunday",value:"SU"},{text:"Monday",value:"MO"},{text:"Tuesday",value:"TU"},{text:"Wednesday",value:"WE"},{text:"Thursday",value:"TH"},{text:"Friday",value:"FR"},{text:"Saturday",value:"SA"}],months:[{text:"Jan",value:1},{text:"Feb",value:2},{text:"Mar",value:3},{text:"Apr",value:4},{text:"May",value:5},{text:"Jun",value:6},{text:"Jul",value:7},{text:"Aug",value:8},{text:"Sep",value:9},{text:"Oct",value:10},{text:"Nov",value:11},{text:"Dec",value:12}],days:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],weekTypeChoices:[{text:"First",value:1},{text:"Second",value:2},{text:"Third",value:3},{text:"Fourth",value:4},{text:"Last",value:5}],endTypeChoices:["On Date","After"],yearly:{type:"On",on:{month:1,day:1},onThe:{weekType:1,week:"SU",month:1}},monthly:{interval:1,type:"On",on:{day:1},onThe:{weekType:1,week:"SU"}},weekly:{interval:1,days:["SU"]},daily:{interval:1},end:{type:"On Date",date:this.$dayjs().format("YYYY-MM-DD"),after:1}}},resetRRule:function(){this.repeatFrequency=this.initialData().repeatFrequency,this.yearly=this.initialData().yearly,this.end=this.initialData().end,this.repeat?this.calculateRRule():this.rRule="",this.$emit("input",this.rRule)},calculateRRule:function(){this.rule=[];var e=this.repeatFrequency.name;"Yearly"===e?this.calculateYearlyRule():"Monthly"===e?this.calculateMonthlyRule():"Weekly"===e?this.calculateWeeklyRule():"Daily"===e&&this.calculateDailyRule()},decodeRRule:function(){if(this.repeat=!!this.rRule,this.rRule){var e=this.rRule;e.includes("FREQ=YEARLY")?this.decodeYearlyRule():e.includes("FREQ=MONTHLY")?this.decodeMonthlyRule():e.includes("FREQ=WEEKLY")?this.decodeWeeklyRule():e.includes("FREQ=DAILY")&&this.decodeDailyRule()}},calculateYearlyRule:function(){var e=["FREQ=YEARLY"];"On Date"===this.end.type?e.push("UNTIL="+this.end.date):"After"===this.end.type&&e.push("COUNT="+this.end.after),"On"===this.yearly.type?(e.push("BYMONTH="+this.yearly.on.month),e.push("BYMONTHDAY="+this.yearly.on.day)):(e.push("BYSETPOS="+this.yearly.onThe.weekType),e.push("BYDAY="+this.yearly.onThe.week),e.push("BYMONTH="+this.yearly.onThe.month)),this.rRule=e.join(";"),this.$emit("input",this.rRule)},calculateMonthlyRule:function(){var e=["FREQ=MONTHLY","INTERVAL="+this.monthly.interval];"On Date"===this.end.type?e.push("UNTIL="+this.end.date):"After"===this.end.type&&e.push("COUNT="+this.end.after),"On"===this.monthly.type?e.push("BYMONTHDAY="+this.monthly.on.day):(e.push("BYSETPOS="+this.monthly.onThe.weekType),e.push("BYDAY="+this.monthly.onThe.week)),this.rRule=e.join(";"),this.$emit("input",this.rRule)},calculateWeeklyRule:function(){var e=["FREQ=WEEKLY","INTERVAL="+this.weekly.interval];"On Date"===this.end.type?e.push("UNTIL="+this.end.date):"After"===this.end.type&&e.push("COUNT="+this.end.after),e.push("BYDAY="+this.weekly.days.join(",")),this.rRule=e.join(";"),this.$emit("input",this.rRule)},calculateDailyRule:function(){var e=["FREQ=DAILY","INTERVAL="+this.daily.interval];"On Date"===this.end.type?e.push("UNTIL="+this.end.date):"After"===this.end.type&&e.push("COUNT="+this.end.after),this.rRule=e.join(";"),this.$emit("input",this.rRule)},decodeYearlyRule:function(){var e=this.rRule;this.repeatFrequency.name="Yearly",e.includes("UNTIL")?(this.end.type="On Date",this.end.date=e.split("UNTIL=")[1].split(";")[0]):e.includes("COUNT")?(this.end.type="After",this.end.after=e.split("COUNT=")[1].split(";")[0]):this.end.type="Never",e.includes("BYMONTH")&&e.includes("BYMONTHDAY")?(this.yearly.type="On",this.yearly.on.month=parseInt(e.split("BYMONTH=")[1].split(";")[0]),this.yearly.on.day=parseInt(e.split("BYMONTHDAY=")[1].split(";")[0])):(this.yearly.type="On The",this.yearly.onThe.weekType=parseInt(e.split("BYSETPOS=")[1].split(";")[0]),this.yearly.onThe.week=e.split("BYDAY=")[1].split(";")[0],this.yearly.onThe.month=parseInt(e.split("BYMONTH=")[1].split(";")[0]))},decodeMonthlyRule:function(){var e=this.rRule;this.repeatFrequency.name="Monthly",this.monthly.interval=parseInt(e.split("INTERVAL=")[1].split(";")[0]),e.includes("UNTIL")?(this.end.type="On Date",this.end.date=e.split("UNTIL=")[1].split(";")[0]):e.includes("COUNT")?(this.end.type="After",this.end.after=e.split("COUNT=")[1].split(";")[0]):this.end.type="Never",e.includes("BYMONTHDAY")?(this.monthly.type="On",this.monthly.on.day=parseInt(e.split("BYMONTHDAY=")[1].split(";")[0])):(this.monthly.type="On The",this.monthly.onThe.weekType=parseInt(e.split("BYSETPOS=")[1].split(";")[0]),this.monthly.onThe.week=e.split("BYDAY=")[1].split(";")[0])},decodeWeeklyRule:function(){var e=this.rRule;this.repeatFrequency.name="Weekly",this.weekly.interval=parseInt(e.split("INTERVAL=")[1].split(";")[0]),e.includes("UNTIL")?(this.end.type="On Date",this.end.date=e.split("UNTIL=")[1].split(";")[0]):e.includes("COUNT")?(this.end.type="After",this.end.after=e.split("COUNT=")[1].split(";")[0]):this.end.type="Never",this.weekly.days=e.split("BYDAY=")[1].split(";")[0].split(",")},decodeDailyRule:function(){var e=this.rRule;this.repeatFrequency.name="Daily",this.daily.interval=parseInt(e.split("INTERVAL=")[1].split(";")[0]),e.includes("UNTIL")?(this.end.type="On Date",this.end.date=e.split("UNTIL=")[1].split(";")[0]):e.includes("COUNT")?(this.end.type="After",this.end.after=e.split("COUNT=")[1].split(";")[0]):this.end.type="Never"}}},o=s,l=n("2877"),c=n("6544"),u=n.n(c),d=n("8336"),h=n("a609"),p=n("62ad"),f=n("0fd9b"),m=n("b974"),v=n("0789"),g=n("b73d"),y=n("8654"),b=Object(l["a"])(o,a,i,!1,null,null,null);t["a"]=b.exports;u()(b,{VBtn:d["a"],VBtnToggle:h["a"],VCol:p["a"],VRow:f["a"],VSelect:m["a"],VSlideYTransition:v["g"],VSwitch:g["a"],VTextField:y["a"]})},"741f":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return["true"!==e.useNepaliDate?n("v-text-field",e._g({class:e.appliedClass,attrs:{id:e.id,clearable:!e.readOnly,"data-cy":"date-picker-"+e.dataCyVariable,disabled:e.disabled,error:e.errorMessages.length>0,"error-messages":e.errorMessages,"hide-details":e.hideDetails,hint:e.hint,label:e.label,"prepend-inner-icon":e.prependInnerIcon,"single-line":e.singleLine,value:e.value,readonly:""},on:{paste:function(e){e.preventDefault()},"click:clear":function(t){return e.$emit("close")}},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}},a)):n("v-text-field",e._g({class:e.appliedClass,attrs:{id:e.id,label:e.label,value:e.value,"data-cy":"date-picker-"+e.dataCyVariable,error:e.errorMessages.length>0,"error-messages":e.errorMessages,disabled:e.disabled,clearable:!e.readOnly,hint:e.hint,"hide-details":e.hideDetails,"single-line":e.singleLine,"prepend-inner-icon":e.prependInnerIcon,readonly:""},on:{paste:function(e){e.preventDefault()},"click:clear":function(t){return e.$emit("close")}},model:{value:e.nepaliDate,callback:function(t){e.nepaliDate=t},expression:"nepaliDate"}},a))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},["true"===e.showCalendarChoice?n("v-btn",{attrs:{block:"",depressed:"",tile:"",color:"shade primary--text font-weight-bold"},on:{click:function(t){e.international=!e.international}}},[e._v(" "+e._s(e.international?"NE":"EN")+" ")]):e._e(),e.readOnly||e.international?e._e():n("localized-calendar",{ref:"datePicker",attrs:{"fiscal-year":[],"localized-date":e.localizedDate},on:{"update:localizedDate":function(t){e.localizedDate=t},"update:localized-date":function(t){e.localizedDate=t},"limit-mapping":function(t){e.limitMapping=t}},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}}),!e.readOnly&&e.international?n("v-date-picker",{attrs:{type:e.type,"allowed-dates":e.allowedDates,"no-title":""},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}}):e._e()],1)],1)},i=[],r=n("1da1"),s=(n("b64b"),n("99af"),n("96cf"),n("3bce")),o=n("338b"),l=n("cf45"),c={components:{LocalizedCalendar:s["a"]},mixins:[o["a"]],props:{value:{type:String,default:""},id:{type:String,default:""},type:{type:String,default:"date"},label:{type:String,default:""},disabled:{type:Boolean,default:!1},errorMessages:{type:[String,Array],default:function(){return[]}},dataCyVariable:{type:String,default:""},readOnly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},hint:{type:String,default:""},hideDetails:{type:Boolean,default:!1},singleLine:{type:Boolean,default:!1},appliedClass:{type:String,default:""},prependInnerIcon:{type:String,default:"mdi-calendar-month-outline"}},data:function(){return{menu:!1,date:this.value,nepaliDate:this.value,localizedDate:"",international:"English"===Object(l["f"])("VUE_APP_SET_DEFAULT_CALENDAR_TO"),showCalendarChoice:Object(l["f"])("VUE_APP_SHOW_CALENDAR_CHOICE"),useNepaliDate:localStorage.useNepaliDate,hasConverted:!1}},watch:{value:function(e){this.date=e},date:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e&&"true"===t.useNepaliDate&&t.hasConverted?t.nepaliDate=t.ad2bs(e):t.nepaliDate=e,n.next=3,t.$emit("input",e);case 3:return n.next=5,t.$emit("update:localizedDate",t.localizedDate);case 5:if(!e){n.next=8;break}return n.next=8,t.$emit("blur");case 8:case"end":return n.stop()}}),n)})))()},international:function(e){this.$emit("update:international",e)}},created:function(){this.date&&"true"===this.useNepaliDate&&!this.hasConverted?(this.hasConverted=!0,this.date=this.bs2ad(this.date)):this.date||"true"!==this.useNepaliDate||(this.hasConverted=!0)},methods:{allowedDates:function(e){if("false"===this.showCalendarChoice&&"English"===Object(l["f"])("VUE_APP_SET_DEFAULT_CALENDAR_TO"))return!0;var t=[],n="",a="";t=Object.keys(this.bs),n=t[0],a=t[t.length-1];var i={max:this.bs2ad("".concat(a,"-12-").concat(this.bs[a][11])),min:this.bs2ad("".concat(n,"-01-01"))};return e<=i.max&&e>=i.min}}},u=c,d=n("2877"),h=n("6544"),p=n.n(h),f=n("8336"),m=n("2e4b"),v=n("e449"),g=n("8654"),y=Object(d["a"])(u,a,i,!1,null,null,null);t["default"]=y.exports;p()(y,{VBtn:f["a"],VDatePicker:m["a"],VMenu:v["a"],VTextField:g["a"]})},"7e58":function(e,t,n){},9376:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("vue-page-wrapper",{attrs:{title:e.htmlTitle,"bread-crumbs":e.breadCrumbItems}},[n("v-card",[n("vue-card-title",{attrs:{title:"Recurring Tasks",subtitle:"The table below contains list of your recurring tasks",icon:"mdi-file-restore-outline"}},[n("template",{slot:"actions"},[n("v-btn",{attrs:{small:"",depressed:"",color:"primary"},on:{click:function(t){e.createTaskForm=!0}}},[e._v(" Assign Task ")]),n("v-btn",{attrs:{icon:""},on:{click:function(t){e.showFilters=!e.showFilters}}},[n("v-icon",{attrs:{small:""},domProps:{textContent:e._s("mdi-filter-variant")}})],1)],1)],2),n("v-divider"),n("v-slide-y-transition",[n("div",{directives:[{name:"show",rawName:"v-show",value:e.showFilters,expression:"showFilters"}]},[n("my-task-filters",{attrs:{search:e.taskSearch,recurring:""},on:{"update:search":function(t){e.taskSearch=t},"update:priority":function(t){e.selectedPriority=t},"update:assignedTo":function(t){e.selectedAssignee=t},"update:created":function(t){e.selectedDate=t}}}),n("v-divider")],1)]),n("task-data-table",{attrs:{"task-search":e.taskSearch,"task-endpoint":e.myTaskEndpoint}})],1),n("v-dialog",{attrs:{transition:"dialog-bottom-transition",fullscreen:"",scrollable:"",persistents:""},on:{keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;e.createTaskForm=!1}},model:{value:e.createTaskForm,callback:function(t){e.createTaskForm=t},expression:"createTaskForm"}},[n("v-card",[n("vue-card-title",{attrs:{title:"Assign New Task",subtitle:"Assign New Task",icon:"mdi-file-document-outline",dark:"",closable:""},on:{close:function(t){e.createTaskForm=!1}}}),n("v-divider"),n("v-card-text",[e.createTaskForm?n("task-form",{attrs:{"form-bottom-sheet":e.createTaskForm},on:{"dismiss-form":function(t){e.createTaskForm=!1}}}):e._e()],1)],1)],1)],1)},i=[],r=(n("99af"),n("a15b"),n("0549")),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-row",{staticClass:"ml-4 mr-4"},[n("v-col",{attrs:{md:"3",cols:"12"}},[n("vue-search",{attrs:{search:e.search,value:e.search},on:{"update:search":[function(t){e.search=t},function(t){return e.$emit("update:search",e.search)}]}})],1),n("v-col",{attrs:{md:"3",cols:"12"}},[n("users-auto-complete",{attrs:{label:"Assigned To"},on:{input:function(t){return e.$emit("update:assignedTo",t)}},model:{value:e.assignedBy,callback:function(t){e.assignedBy=t},expression:"assignedBy"}})],1),n("v-col",{attrs:{md:"3",cols:"12"}},[n("v-select",{attrs:{items:e.priorities,label:"Priority","item-text":"text","item-value":"value"},on:{input:function(t){return e.$emit("update:priority",t)}}})],1),n("v-col",{attrs:{md:"3",cols:"12"}},[n("date-filter-menu",{attrs:{default:e.recurring?"All Time":"This Month",label:"Date Filter"},on:{input:function(t){return e.$emit("update:created",t)}},model:{value:e.created,callback:function(t){e.created=t},expression:"created"}})],1)],1)},o=[],l=n("5530"),c=n("2f62"),u=n("ef8c"),d=n("c44a"),h=n("ac94"),p={components:{DateFilterMenu:h["a"],UsersAutoComplete:u["default"]},mixins:[d["a"]],props:{search:{type:String,required:!1,default:function(){return""}},recurring:{type:Boolean,default:!1}},data:function(){return{assignedBy:null,priorities:[{text:"All",value:""},{text:"Critical",value:"CRITICAL"},{text:"Major",value:"MAJOR"},{text:"Minor",value:"MINOR"}],created:{start_date:"",end_date:""}}},computed:Object(l["a"])({},Object(c["c"])({getAuthStateUser:"auth/getAuthStateUser"}))},f=p,m=n("2877"),v=n("6544"),g=n.n(v),y=n("62ad"),b=n("0fd9b"),_=n("b974"),k=Object(m["a"])(f,s,o,!1,null,null,null),x=k.exports;g()(k,{VCol:y["a"],VRow:b["a"],VSelect:_["a"]});var w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-data-table",{attrs:{headers:e.headers,items:e.fetchedResults,"sort-desc":e.pagination.descending,"sort-by":e.pagination.sortBy,page:e.pagination.page,"items-per-page":e.pagination.rowsPerPage,"footer-props":e.footerProps,"server-items-length":e.pagination.totalItems,"must-sort":"","single-expand":"","mobile-breakpoint":0},on:{"update:sortDesc":function(t){return e.$set(e.pagination,"descending",t)},"update:sort-desc":function(t){return e.$set(e.pagination,"descending",t)},"update:sortBy":function(t){return e.$set(e.pagination,"sortBy",t)},"update:sort-by":function(t){return e.$set(e.pagination,"sortBy",t)},"update:page":function(t){return e.$set(e.pagination,"page",t)},"update:itemsPerPage":function(t){return e.$set(e.pagination,"rowsPerPage",t)},"update:items-per-page":function(t){return e.$set(e.pagination,"rowsPerPage",t)}},scopedSlots:e._u([{key:"item",fn:function(t){return[n("tr",[n("td",[n("v-tooltip",{attrs:{right:""},scopedSlots:e._u([{key:"activator",fn:function(a){var i=a.on;return[n("a",e._g({on:{click:function(n){return e.viewTaskDetails(t.item.id)}}},i),[e._v(" "+e._s(t.item.id)+": "+e._s(e._f("truncate")(t.item.title,30))+" ")])]}}],null,!0)},[n("span",{domProps:{textContent:e._s(t.item.title)}})]),t.item.parent&&t.item.can_view_parent_task?n("div",{on:{click:function(n){return e.viewTaskDetails(t.item.parent.id)}}},[n("span",{domProps:{textContent:e._s("Parent task: ")}}),n("v-tooltip",{attrs:{right:""},scopedSlots:e._u([{key:"activator",fn:function(a){var i=a.on;return[n("span",e._g({on:{click:function(n){return e.viewTaskDetails(t.item.parent.id)}}},i),[e._v(e._s(e._f("truncate")(t.item.parent.title,35,"...")))])]}}],null,!0)},[n("span",{domProps:{textContent:e._s(t.item.parent.title)}})])],1):e._e(),n("v-icon",{attrs:{color:"primary"},domProps:{textContent:e._s(t.isExpanded?"mdi-chevron-up":"mdi-chevron-down")},on:{click:function(n){t.expand(!t.isExpanded),e.selected=[]}}})],1),n("td",[n("v-chip",{attrs:{color:e.priorityColor[t.item.priority],outlined:"",small:""}},[e._v(" "+e._s(t.item.priority)+" ")])],1),n("td",[n("user-thumbnails",{attrs:{users:t.item.responsible_persons.map((function(e){return e.user})),"total-users":t.item.responsible_persons.length},on:{showMore:function(n){e.responsiblePerson.data=t.item.responsible_persons,e.responsiblePerson.dialog=!0}}})],1),n("td",[n("v-row",{staticClass:"ml-1"},[n("vue-context-menu",{attrs:{"context-list":[{name:"View Details",icon:"mdi-eye-outline",color:"info"}]},on:{click0:function(n){return e.viewTaskDetails(t.item.id)}}})],1)],1)])]}},{key:"expanded-item",fn:function(t){var a=t.item,i=t.headers;return[n("tr",{staticClass:"very-light-blue"},[n("td",{attrs:{colspan:i.length}},[n("v-card",{staticClass:"my-4",attrs:{flat:"","min-height":"60px"}},[n("v-tabs",{attrs:{height:"40px"},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[n("v-tab",{attrs:{ripple:"","active-class":"indigo accent-4 white--text"}},[n("span",[e._v(" Created ")])]),n("v-tab",{attrs:{ripple:"","active-class":"indigo accent-4 white--text"}},[n("span",[e._v(" Not-Created ")])]),n("v-tab-item",[n("v-divider"),n("v-card-text",{staticClass:"py-0"},[n("v-row",[a.recurring_task_queue.every((function(e){return null===e.created_task}))?n("v-col",[n("vue-no-data",{attrs:{text:"No Recurring Task created yet."}})],1):e._e(),e._l(a.recurring_task_queue,(function(t,a){return[t.created_task?n("v-col",{key:a,attrs:{cols:"4"}},[n("v-hover",{scopedSlots:e._u([{key:"default",fn:function(a){var i=a.hover;return n("v-card",{class:"elevation-"+(i?12:2)},[n("v-card-text",{class:"white light-4"},[n("div",[n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(a){var i=a.on;return[n("a",e._g({on:{click:function(n){return e.viewTaskDetails(t.created_task.id)}}},i),[e._v(" "+e._s(t.created_task.id)+": "+e._s(e._f("truncate")(t.created_task.title,30))+" ")])]}}],null,!0)},[n("span",{domProps:{textContent:e._s(t.created_task.title)}})]),n("div",[e._v(" Created At : "+e._s(e._f("dayjs")(t.created_task.created_at,"YYYY-MM-DD HH:mm:ss"))+" ")]),n("div",[n("v-chip",{attrs:{color:e.taskStatus(t.created_task.status-1).color,outlined:"",small:""}},[e._v(" "+e._s(e.taskStatusMap[t.created_task.status-1])+" ")])],1)],1)])],1)}}],null,!0)})],1):e._e()]}))],2)],1)],1),n("v-tab-item",[n("v-divider"),a.recurring_task_queue.every((function(e){return null!==e.created_task}))?e._e():n("v-card-title",[n("v-spacer"),e.selected!==[]?n("v-btn",{staticClass:"red--text",attrs:{small:"",text:""},on:{click:function(t){e.selected=[]}}},[n("v-icon",{attrs:{small:""}},[e._v("mdi-minus-box-outline")]),e._v(" Remove All ")],1):e._e(),n("v-btn",{staticClass:"success--text",attrs:{small:"",text:""},on:{click:function(t){return e.selectAllTasks(a.recurring_task_queue)}}},[n("v-icon",{attrs:{small:""}},[e._v("mdi-plus-box-outline")]),e._v(" Select All ")],1),n("v-btn",{attrs:{color:"primary",small:"",disabled:0===e.selected.length},on:{click:function(t){e.confirmNotify.dialog=!0,e.id=a.id}}},[e._v("Stop Task")])],1),n("v-card-text",{staticClass:"py-0"},[a.recurring_task_queue.every((function(e){return null!==e.created_task}))?e._e():n("v-alert",{staticClass:"text-body-2 my-0",attrs:{dense:"",border:"left",text:"",type:"info"}},[e._v(" Click on the tasks to select. ")]),n("v-row",[a.recurring_task_queue.every((function(e){return null!==e.created_task}))?n("v-col",[n("vue-no-data",{attrs:{text:"All the recurring task has been created."}})],1):e._e(),e._l(a.recurring_task_queue,(function(t,a){return[null===t.created_task?n("v-col",{key:a,attrs:{cols:"12",md:"4"}},[n("v-hover",{scopedSlots:e._u([{key:"default",fn:function(a){var i=a.hover;return n("v-card",{class:"elevation-"+(i?12:2),on:{click:function(n){return e.selectTask(t.id)}}},[n("v-card-text",{class:"white light-4"},[n("v-row",[n("v-col",[n("div",[e._v(" A new task will be created at "+e._s(e.humanizeDate(t.recurring_at))+" ")])]),n("v-col",{attrs:{cols:"2"}},[e.selected.find((function(e){return e===t.id}))?n("v-icon",{attrs:{size:"20",color:"success"}},[e._v("mdi-check")]):e._e()],1)],1)],1)],1)}}],null,!0)})],1):e._e()]}))],2)],1)],1)],1)],1)],1)])]}}])},[n("template",{slot:"no-data"},[n("data-table-no-data",{attrs:{loading:e.loading}})],1)],2),e.responsiblePerson.dialog?n("user-list-dialog",{attrs:{users:e.responsiblePerson.data.map((function(e){return e.user}))},on:{close:function(t){e.responsiblePerson.dialog=!1}},model:{value:e.responsiblePerson.dialog,callback:function(t){e.$set(e.responsiblePerson,"dialog",t)},expression:"responsiblePerson.dialog"}}):e._e(),n("vue-dialog",{attrs:{notify:e.confirmNotify},on:{agree:e.stopTask,close:function(t){e.confirmNotify.dialog=!1}}})],1)},C=[],T=(n("7db0"),n("c740"),n("a434"),n("159b"),n("d3b7"),n("17cc")),D=n("cde3"),S=n("a51f"),O=n("e4bf"),E=n("9815"),P=n("e585"),I={components:{VueNoData:P["default"],DataTableNoData:S["default"],UserThumbnails:D["default"],UserListDialog:E["default"],VueContextMenu:O["default"]},mixins:[T["a"],d["a"]],props:{taskEndpoint:{type:String,required:!0}},data:function(){return{id:null,confirmNotify:{dialog:!1,heading:"Stop Tasks",subheading:"Confirm your action.",text:"Are you sure you want stop the selected tasks?"},selected:[],selectedTask:!1,loading:!1,headers:[{text:"Title",align:"left",sortable:!1},{text:"Priority",align:"left",sortable:!1},{text:"Assigned To",align:"left",sortable:!1},{text:"Action",align:"left",sortable:!1}],taskStatusMap:["Pending","In Progress","On Hold","Completed","Closed"],endpoint:"",responsiblePerson:{dialog:!1,data:[]},priorityColor:{MAJOR:"amber",MINOR:"blue",CRITICAL:"red"},rowsPerPageItems:[10,20,30,40,50],active:null}},watch:{taskEndpoint:{handler:function(e){e&&this.refreshDataTable(e)},immediate:!0}},methods:{selectTask:function(e){if(this.selected.find((function(t){return t===e}))){var t=this.selected.findIndex((function(t){return t===e}));this.selected.splice(t,1)}else this.selected.unshift(e)},selectAllTasks:function(e){var t=this;e.forEach((function(e){null===e.created_task&&(t.selected.find((function(t){return t===e.id}))?t.selected:t.selected.unshift(e.id))}))},stopTask:function(){var e=this;this.$http.post("task/".concat(this.id,"/stop/recurring/"),{queued_task:this.selected}).then((function(){e.notifyUser("Successfully stopped the selected tasks."),e.refreshDataTable(),e.selected=[],e.confirmNotify.dialog=!1}))},fetchDataTable:function(){var e=this;this.loading=!0,this.$http.get(this.taskEndpoint,{params:this.fullParams}).then((function(t){e.loadDataTable(t)})).finally((function(){e.loading=!1}))},viewTaskDetails:function(e){this.$router.push({name:"user-task-my-id-detail",params:{id:e}})},refreshDataTable:function(){this.fetchDataTable()},humanizeDate:function(e){return this.$dayjs(e).format("YYYY-MM-DD")},taskStatus:function(e){var t=[{text:"Pending",color:"amber"},{text:"In Progress",color:"blue"},{text:"On Hold",color:"pink accent-1"},{text:"Completed",color:"green"},{text:"Closed",color:"purple"}];return t[e]}}},A=I,R=(n("1d4e"),n("0798")),j=n("8336"),V=n("b0af"),N=n("99d9"),L=n("cc20"),B=n("8fea"),$=n("ce7e"),M=n("ce87"),F=n("132d"),Y=n("2fa4"),U=n("71a3"),H=n("c671"),z=n("fe57"),q=n("3a2f"),W=Object(m["a"])(A,w,C,!1,null,null,null),X=W.exports;g()(W,{VAlert:R["a"],VBtn:j["a"],VCard:V["a"],VCardText:N["c"],VCardTitle:N["d"],VChip:L["a"],VCol:y["a"],VDataTable:B["a"],VDivider:$["a"],VHover:M["a"],VIcon:F["a"],VRow:b["a"],VSpacer:Y["a"],VTab:U["a"],VTabItem:H["a"],VTabs:z["a"],VTooltip:q["a"]});var G=n("f8a4"),J=n("19c3"),K={components:{MyTaskFilters:x,TaskDataTable:X,VuePageWrapper:r["default"],TaskForm:J["a"]},data:function(){return{htmlTitle:"Recurring Tasks | Tasks | User",breadCrumbItems:[{text:"Task",disabled:!1,to:{name:"user-task-overview"}},{text:"My Recurring Task",disabled:!0}],selectedStatus:"pending",selectedPriority:"",selectedAssignee:"",selectedDate:{start_date:"",end_date:""},showFilters:!1,taskFilters:[{text:"Pending",color:"yellow-1",value:0,reference:"pending"},{text:"In Progress",color:"blue-1",value:0,reference:"in_progress"},{text:"Completed",color:"green-1",value:0,reference:"completed"},{text:"Closed",color:"brown-1",value:0,reference:"closed"},{text:"On Hold",color:"purple-2",value:0,reference:"on_hold"},{text:"Delayed",color:"red-1",value:0,reference:"delayed"},{text:"All",color:"clay-1",value:0,reference:"all_tasks"}],taskSearch:"",createTaskForm:!1}},computed:{myTaskEndpoint:function(){var e={all_tasks:"",pending:1,in_progress:2,on_hold:3,completed:4,closed:5,delayed:"",verified:""},t=["status=".concat(e[this.selectedStatus]),"priority=".concat(this.selectedPriority),"assignee=".concat(this.selectedAssignee||""),"search=".concat(this.taskSearch),"start_date=".concat(this.selectedDate.start_date),"end_date=".concat(this.selectedDate.end_date),"only=parent"];return"delayed"===this.selectedStatus&&t.push("delayed=true"),"verified"===this.selectedStatus&&t.push("completion_verified=true"),"".concat(G["a"].getRecurringTask,"?").concat(t.join("&"))}},watch:{taskSearch:function(e){this.taskSearch=e}}},Q=K,Z=n("169a"),ee=n("0789"),te=Object(m["a"])(Q,a,i,!1,null,null,null);t["default"]=te.exports;g()(te,{VBtn:j["a"],VCard:V["a"],VCardText:N["c"],VDialog:Z["a"],VDivider:$["a"],VIcon:F["a"],VSlideYTransition:ee["g"]})},9815:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{width:"500",persistent:"",scrollable:""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.$emit("input",!1)}},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("vue-card-title",{attrs:{title:e.title,subtitle:"List of Employees",icon:"mdi-account-group-outline",dark:"",closable:""},on:{close:function(t){return e.$emit("input",!1)}}}),n("v-divider"),e.headerInfo?n("v-list",{staticClass:"primaryLight pl-9 pr-5 py-0"},[n("v-list-item",[n("v-list-item-content",{staticClass:"text-body-1",attrs:{md:"5"}},[e._v(" Name ")]),n("v-list-item-action",{staticClass:"text-body-1 text-center"},[e._v(" "+e._s(e.headerInfo)+" ")])],1)],1):e._e(),n("v-divider"),n("v-card-text",{staticClass:"pb-0"},[e.endpoint||0!==e.users.length?e._e():n("div",[n("vue-no-data")],1),e.userInstance&&e.userInstance.length?n("v-list",e._l(e.userInstance,(function(t){return n("v-list-item",{key:t.id},[n("v-list-item-content",[n("vue-user",{attrs:{user:t.liked_by||t.user||t}})],1),e._l(e.infoList,(function(a,i){return[n("v-list-item-action",{key:i},[n("span",[i>0?n("span",[n("span",[e._v("|")])]):e._e(),e._v(" "+e._s(t[a])+" ")])])]})),n("v-list-item-action",[e._t("info",null,{user:t})],2)],2)})),1):e._e(),e.dialog&&e.endpoint?n("div",[n("infinite-loading-base",{attrs:{endpoint:e.endpoint,"response-key":e.responseKey},on:{setInfiniteResponse:e.setInfiniteResponse}})],1):e._e()],1)],1)],1)},i=[],r=n("2909"),s=(n("99af"),n("e585")),o=n("02cb"),l=n("cdd1"),c={components:{VueUser:o["default"],VueNoData:s["default"],InfiniteLoadingBase:l["a"]},extends:l["a"],props:{value:{type:Boolean,default:!1},users:{type:Array,default:function(){return[]}},title:{type:String,default:"List Of Employees"},infoList:{type:Array,default:function(){return[]}},endpoint:{type:String,default:""},headerInfo:{type:String,default:""},responseKey:{type:String,default:"results"}},data:function(){return{userInstance:[],dialog:this.value,fetched:!this.endpoint}},watch:{value:function(e){this.dialog=e,this.userInstance=this.users}},created:function(){this.userInstance=Object(r["a"])(this.users)},methods:{setInfiniteResponse:function(e){this.userInstance=this.userInstance.concat(e[this.responseKey])}}},u=c,d=n("2877"),h=n("6544"),p=n.n(h),f=n("b0af"),m=n("99d9"),v=n("169a"),g=n("ce7e"),y=n("8860"),b=n("da13"),_=n("1800"),k=n("5d23"),x=Object(d["a"])(u,a,i,!1,null,null,null);t["default"]=x.exports;p()(x,{VCard:f["a"],VCardText:m["c"],VDialog:v["a"],VDivider:g["a"],VList:y["a"],VListItem:b["a"],VListItemAction:_["a"],VListItemContent:k["a"]})},"9d1c":function(e,t,n){},a019:function(e,t,n){"use strict";n("99af");t["a"]={getUserResultAreas:function(e,t){return"/hris/".concat(e,"/user-result-areas/").concat(t,"/")}}},a51f:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.search.length>0?n("span",[e._v(' Your search for "'+e._s(e.search)+'" found no results. ')]):e.loading?n("v-skeleton-loader",{attrs:{type:"table",height:e.skeletonLoaderHeight}}):n("no-data-found",{attrs:{text:e.text,height:e.height}},[e._t("default")],2)],1)},i=[],r=(n("a9e3"),n("e585")),s={components:{NoDataFound:r["default"]},props:{search:{type:String,default:""},loading:{type:Boolean,required:!0},text:{type:String,default:"No data available at the moment"},height:{type:[String,Number],default:200},skeletonLoaderHeight:{type:[String,Number],default:void 0}}},o=s,l=n("2877"),c=n("6544"),u=n.n(c),d=n("3129"),h=Object(l["a"])(o,a,i,!1,null,null,null);t["default"]=h.exports;u()(h,{VSkeletonLoader:d["a"]})},a609:function(e,t,n){"use strict";var a=n("5530"),i=(n("7e58"),n("3860")),r=n("a9ad"),s=n("58df");t["a"]=Object(s["a"])(i["a"],r["a"]).extend({name:"v-btn-toggle",props:{backgroundColor:String,borderless:Boolean,dense:Boolean,group:Boolean,rounded:Boolean,shaped:Boolean,tile:Boolean},computed:{classes:function(){return Object(a["a"])(Object(a["a"])({},i["a"].options.computed.classes.call(this)),{},{"v-btn-toggle":!0,"v-btn-toggle--borderless":this.borderless,"v-btn-toggle--dense":this.dense,"v-btn-toggle--group":this.group,"v-btn-toggle--rounded":this.rounded,"v-btn-toggle--shaped":this.shaped,"v-btn-toggle--tile":this.tile},this.themeClasses)}},methods:{genData:function(){var e=this.setTextColor(this.color,Object(a["a"])({},i["a"].options.methods.genData.call(this)));return this.group?e:this.setBackgroundColor(this.backgroundColor,e)}}})},aa47:function(e,t,n){"use strict";(function(e){
/**!
 * Sortable 1.13.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i.apply(this,arguments)}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){a(e,t,n[t])}))}return e}function s(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}function o(e,t){if(null==e)return{};var n,a,i=s(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l="1.13.0";function c(e){if("undefined"!==typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var u=c(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),d=c(/Edge/i),h=c(/firefox/i),p=c(/safari/i)&&!c(/chrome/i)&&!c(/android/i),f=c(/iP(ad|od|hone)/i),m=c(/chrome/i)&&c(/android/i),v={capture:!1,passive:!1};function g(e,t,n){e.addEventListener(t,n,!u&&v)}function y(e,t,n){e.removeEventListener(t,n,!u&&v)}function b(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(n){return!1}return!1}}function _(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function k(e,t,n,a){if(e){n=n||document;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&b(e,t):b(e,t))||a&&e===n)return e;if(e===n)break}while(e=_(e))}return null}var x,w=/\s+/g;function C(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var a=(" "+e.className+" ").replace(w," ").replace(" "+t+" "," ");e.className=(a+(n?" "+t:"")).replace(w," ")}}function T(e,t,n){var a=e&&e.style;if(a){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in a||-1!==t.indexOf("webkit")||(t="-webkit-"+t),a[t]=n+("string"===typeof n?"":"px")}}function D(e,t){var n="";if("string"===typeof e)n=e;else do{var a=T(e,"transform");a&&"none"!==a&&(n=a+" "+n)}while(!t&&(e=e.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function S(e,t,n){if(e){var a=e.getElementsByTagName(t),i=0,r=a.length;if(n)for(;i<r;i++)n(a[i],i);return a}return[]}function O(){var e=document.scrollingElement;return e||document.documentElement}function E(e,t,n,a,i){if(e.getBoundingClientRect||e===window){var r,s,o,l,c,d,h;if(e!==window&&e.parentNode&&e!==O()?(r=e.getBoundingClientRect(),s=r.top,o=r.left,l=r.bottom,c=r.right,d=r.height,h=r.width):(s=0,o=0,l=window.innerHeight,c=window.innerWidth,d=window.innerHeight,h=window.innerWidth),(t||n)&&e!==window&&(i=i||e.parentNode,!u))do{if(i&&i.getBoundingClientRect&&("none"!==T(i,"transform")||n&&"static"!==T(i,"position"))){var p=i.getBoundingClientRect();s-=p.top+parseInt(T(i,"border-top-width")),o-=p.left+parseInt(T(i,"border-left-width")),l=s+r.height,c=o+r.width;break}}while(i=i.parentNode);if(a&&e!==window){var f=D(i||e),m=f&&f.a,v=f&&f.d;f&&(s/=v,o/=m,h/=m,d/=v,l=s+d,c=o+h)}return{top:s,left:o,bottom:l,right:c,width:h,height:d}}}function P(e,t,n){var a=N(e,!0),i=E(e)[t];while(a){var r=E(a)[n],s=void 0;if(s="top"===n||"left"===n?i>=r:i<=r,!s)return a;if(a===O())break;a=N(a,!1)}return!1}function I(e,t,n){var a=0,i=0,r=e.children;while(i<r.length){if("none"!==r[i].style.display&&r[i]!==ze.ghost&&r[i]!==ze.dragged&&k(r[i],n.draggable,e,!1)){if(a===t)return r[i];a++}i++}return null}function A(e,t){var n=e.lastElementChild;while(n&&(n===ze.ghost||"none"===T(n,"display")||t&&!b(n,t)))n=n.previousElementSibling;return n||null}function R(e,t){var n=0;if(!e||!e.parentNode)return-1;while(e=e.previousElementSibling)"TEMPLATE"===e.nodeName.toUpperCase()||e===ze.clone||t&&!b(e,t)||n++;return n}function j(e){var t=0,n=0,a=O();if(e)do{var i=D(e),r=i.a,s=i.d;t+=e.scrollLeft*r,n+=e.scrollTop*s}while(e!==a&&(e=e.parentNode));return[t,n]}function V(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var a in t)if(t.hasOwnProperty(a)&&t[a]===e[n][a])return Number(n);return-1}function N(e,t){if(!e||!e.getBoundingClientRect)return O();var n=e,a=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=T(n);if(n.clientWidth<n.scrollWidth&&("auto"==i.overflowX||"scroll"==i.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==i.overflowY||"scroll"==i.overflowY)){if(!n.getBoundingClientRect||n===document.body)return O();if(a||t)return n;a=!0}}}while(n=n.parentNode);return O()}function L(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function B(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function $(e,t){return function(){if(!x){var n=arguments,a=this;1===n.length?e.call(a,n[0]):e.apply(a,n),x=setTimeout((function(){x=void 0}),t)}}}function M(){clearTimeout(x),x=void 0}function F(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function Y(t){var n=window.Polymer,a=e||window.Zepto;return n&&n.dom?n.dom(t).cloneNode(!0):a?a(t).clone(!0)[0]:t.cloneNode(!0)}var U="Sortable"+(new Date).getTime();function H(){var e,t=[];return{captureAnimationState:function(){if(t=[],this.options.animation){var e=[].slice.call(this.el.children);e.forEach((function(e){if("none"!==T(e,"display")&&e!==ze.ghost){t.push({target:e,rect:E(e)});var n=r({},t[t.length-1].rect);if(e.thisAnimationDuration){var a=D(e,!0);a&&(n.top-=a.f,n.left-=a.e)}e.fromRect=n}}))}},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(V(t,{target:e}),1)},animateAll:function(n){var a=this;if(!this.options.animation)return clearTimeout(e),void("function"===typeof n&&n());var i=!1,r=0;t.forEach((function(e){var t=0,n=e.target,s=n.fromRect,o=E(n),l=n.prevFromRect,c=n.prevToRect,u=e.rect,d=D(n,!0);d&&(o.top-=d.f,o.left-=d.e),n.toRect=o,n.thisAnimationDuration&&B(l,o)&&!B(s,o)&&(u.top-o.top)/(u.left-o.left)===(s.top-o.top)/(s.left-o.left)&&(t=q(u,l,c,a.options)),B(o,s)||(n.prevFromRect=s,n.prevToRect=o,t||(t=a.options.animation),a.animate(n,u,o,t)),t&&(i=!0,r=Math.max(r,t),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout((function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null}),t),n.thisAnimationDuration=t)})),clearTimeout(e),i?e=setTimeout((function(){"function"===typeof n&&n()}),r):"function"===typeof n&&n(),t=[]},animate:function(e,t,n,a){if(a){T(e,"transition",""),T(e,"transform","");var i=D(this.el),r=i&&i.a,s=i&&i.d,o=(t.left-n.left)/(r||1),l=(t.top-n.top)/(s||1);e.animatingX=!!o,e.animatingY=!!l,T(e,"transform","translate3d("+o+"px,"+l+"px,0)"),this.forRepaintDummy=z(e),T(e,"transition","transform "+a+"ms"+(this.options.easing?" "+this.options.easing:"")),T(e,"transform","translate3d(0,0,0)"),"number"===typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){T(e,"transition",""),T(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),a)}}}}function z(e){return e.offsetWidth}function q(e,t,n,a){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*a.animation}var W=[],X={initializeByDefault:!0},G={mount:function(e){for(var t in X)X.hasOwnProperty(t)&&!(t in e)&&(e[t]=X[t]);W.forEach((function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")})),W.push(e)},pluginEvent:function(e,t,n){var a=this;this.eventCanceled=!1,n.cancel=function(){a.eventCanceled=!0};var i=e+"Global";W.forEach((function(a){t[a.pluginName]&&(t[a.pluginName][i]&&t[a.pluginName][i](r({sortable:t},n)),t.options[a.pluginName]&&t[a.pluginName][e]&&t[a.pluginName][e](r({sortable:t},n)))}))},initializePlugins:function(e,t,n,a){for(var r in W.forEach((function(a){var r=a.pluginName;if(e.options[r]||a.initializeByDefault){var s=new a(e,t,e.options);s.sortable=e,s.options=e.options,e[r]=s,i(n,s.defaults)}})),e.options)if(e.options.hasOwnProperty(r)){var s=this.modifyOption(e,r,e.options[r]);"undefined"!==typeof s&&(e.options[r]=s)}},getEventProperties:function(e,t){var n={};return W.forEach((function(a){"function"===typeof a.eventProperties&&i(n,a.eventProperties.call(t[a.pluginName],e))})),n},modifyOption:function(e,t,n){var a;return W.forEach((function(i){e[i.pluginName]&&i.optionListeners&&"function"===typeof i.optionListeners[t]&&(a=i.optionListeners[t].call(e[i.pluginName],n))})),a}};function J(e){var t=e.sortable,n=e.rootEl,a=e.name,i=e.targetEl,s=e.cloneEl,o=e.toEl,l=e.fromEl,c=e.oldIndex,h=e.newIndex,p=e.oldDraggableIndex,f=e.newDraggableIndex,m=e.originalEvent,v=e.putSortable,g=e.extraEventProperties;if(t=t||n&&n[U],t){var y,b=t.options,_="on"+a.charAt(0).toUpperCase()+a.substr(1);!window.CustomEvent||u||d?(y=document.createEvent("Event"),y.initEvent(a,!0,!0)):y=new CustomEvent(a,{bubbles:!0,cancelable:!0}),y.to=o||n,y.from=l||n,y.item=i||n,y.clone=s,y.oldIndex=c,y.newIndex=h,y.oldDraggableIndex=p,y.newDraggableIndex=f,y.originalEvent=m,y.pullMode=v?v.lastPutMode:void 0;var k=r({},g,G.getEventProperties(a,t));for(var x in k)y[x]=k[x];n&&n.dispatchEvent(y),b[_]&&b[_].call(t,y)}}var K=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.evt,i=o(n,["evt"]);G.pluginEvent.bind(ze)(e,t,r({dragEl:Z,parentEl:ee,ghostEl:te,rootEl:ne,nextEl:ae,lastDownEl:ie,cloneEl:re,cloneHidden:se,dragStarted:be,putSortable:he,activeSortable:ze.active,originalEvent:a,oldIndex:oe,oldDraggableIndex:ce,newIndex:le,newDraggableIndex:ue,hideGhostForTarget:Fe,unhideGhostForTarget:Ye,cloneNowHidden:function(){se=!0},cloneNowShown:function(){se=!1},dispatchSortableEvent:function(e){Q({sortable:t,name:e,originalEvent:a})}},i))};function Q(e){J(r({putSortable:he,cloneEl:re,targetEl:Z,rootEl:ne,oldIndex:oe,oldDraggableIndex:ce,newIndex:le,newDraggableIndex:ue},e))}var Z,ee,te,ne,ae,ie,re,se,oe,le,ce,ue,de,he,pe,fe,me,ve,ge,ye,be,_e,ke,xe,we,Ce=!1,Te=!1,De=[],Se=!1,Oe=!1,Ee=[],Pe=!1,Ie=[],Ae="undefined"!==typeof document,Re=f,je=d||u?"cssFloat":"float",Ve=Ae&&!m&&!f&&"draggable"in document.createElement("div"),Ne=function(){if(Ae){if(u)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),Le=function(e,t){var n=T(e),a=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),i=I(e,0,t),r=I(e,1,t),s=i&&T(i),o=r&&T(r),l=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+E(i).width,c=o&&parseInt(o.marginLeft)+parseInt(o.marginRight)+E(r).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&s["float"]&&"none"!==s["float"]){var u="left"===s["float"]?"left":"right";return!r||"both"!==o.clear&&o.clear!==u?"horizontal":"vertical"}return i&&("block"===s.display||"flex"===s.display||"table"===s.display||"grid"===s.display||l>=a&&"none"===n[je]||r&&"none"===n[je]&&l+c>a)?"vertical":"horizontal"},Be=function(e,t,n){var a=n?e.left:e.top,i=n?e.right:e.bottom,r=n?e.width:e.height,s=n?t.left:t.top,o=n?t.right:t.bottom,l=n?t.width:t.height;return a===s||i===o||a+r/2===s+l/2},$e=function(e,t){var n;return De.some((function(a){if(!A(a)){var i=E(a),r=a[U].options.emptyInsertThreshold,s=e>=i.left-r&&e<=i.right+r,o=t>=i.top-r&&t<=i.bottom+r;return r&&s&&o?n=a:void 0}})),n},Me=function(e){function t(e,n){return function(a,i,r,s){var o=a.options.group.name&&i.options.group.name&&a.options.group.name===i.options.group.name;if(null==e&&(n||o))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"===typeof e)return t(e(a,i,r,s),n)(a,i,r,s);var l=(n?a:i).options.group.name;return!0===e||"string"===typeof e&&e===l||e.join&&e.indexOf(l)>-1}}var a={},i=e.group;i&&"object"==n(i)||(i={name:i}),a.name=i.name,a.checkPull=t(i.pull,!0),a.checkPut=t(i.put),a.revertClone=i.revertClone,e.group=a},Fe=function(){!Ne&&te&&T(te,"display","none")},Ye=function(){!Ne&&te&&T(te,"display","")};Ae&&document.addEventListener("click",(function(e){if(Te)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Te=!1,!1}),!0);var Ue=function(e){if(Z){e=e.touches?e.touches[0]:e;var t=$e(e.clientX,e.clientY);if(t){var n={};for(var a in e)e.hasOwnProperty(a)&&(n[a]=e[a]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[U]._onDragOver(n)}}},He=function(e){Z&&Z.parentNode[U]._isOutsideThisEl(e.target)};function ze(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=i({},t),e[U]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Le(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==ze.supportPointer&&"PointerEvent"in window&&!p,emptyInsertThreshold:5};for(var a in G.initializePlugins(this,e,n),n)!(a in t)&&(t[a]=n[a]);for(var r in Me(t),this)"_"===r.charAt(0)&&"function"===typeof this[r]&&(this[r]=this[r].bind(this));this.nativeDraggable=!t.forceFallback&&Ve,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?g(e,"pointerdown",this._onTapStart):(g(e,"mousedown",this._onTapStart),g(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(g(e,"dragover",this),g(e,"dragenter",this)),De.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),i(this,H())}function qe(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function We(e,t,n,a,i,r,s,o){var l,c,h=e[U],p=h.options.onMove;return!window.CustomEvent||u||d?(l=document.createEvent("Event"),l.initEvent("move",!0,!0)):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=t,l.from=e,l.dragged=n,l.draggedRect=a,l.related=i||t,l.relatedRect=r||E(t),l.willInsertAfter=o,l.originalEvent=s,e.dispatchEvent(l),p&&(c=p.call(h,l,s)),c}function Xe(e){e.draggable=!1}function Ge(){Pe=!1}function Je(e,t,n){var a=E(A(n.el,n.options.draggable)),i=10;return t?e.clientX>a.right+i||e.clientX<=a.right&&e.clientY>a.bottom&&e.clientX>=a.left:e.clientX>a.right&&e.clientY>a.top||e.clientX<=a.right&&e.clientY>a.bottom+i}function Ke(e,t,n,a,i,r,s,o){var l=a?e.clientY:e.clientX,c=a?n.height:n.width,u=a?n.top:n.left,d=a?n.bottom:n.right,h=!1;if(!s)if(o&&xe<c*i){if(!Se&&(1===ke?l>u+c*r/2:l<d-c*r/2)&&(Se=!0),Se)h=!0;else if(1===ke?l<u+xe:l>d-xe)return-ke}else if(l>u+c*(1-i)/2&&l<d-c*(1-i)/2)return Qe(t);return h=h||s,h&&(l<u+c*r/2||l>d-c*r/2)?l>u+c/2?1:-1:0}function Qe(e){return R(Z)<R(e)?1:-1}function Ze(e){var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,a=0;while(n--)a+=t.charCodeAt(n);return a.toString(36)}function et(e){Ie.length=0;var t=e.getElementsByTagName("input"),n=t.length;while(n--){var a=t[n];a.checked&&Ie.push(a)}}function tt(e){return setTimeout(e,0)}function nt(e){return clearTimeout(e)}ze.prototype={constructor:ze,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(_e=null)},_getDirection:function(e,t){return"function"===typeof this.options.direction?this.options.direction.call(this,e,t,Z):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,a=this.options,i=a.preventOnFilter,r=e.type,s=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,o=(s||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||o,c=a.filter;if(et(n),!Z&&!(/mousedown|pointerdown/.test(r)&&0!==e.button||a.disabled)&&!l.isContentEditable&&(this.nativeDraggable||!p||!o||"SELECT"!==o.tagName.toUpperCase())&&(o=k(o,a.draggable,n,!1),(!o||!o.animated)&&ie!==o)){if(oe=R(o),ce=R(o,a.draggable),"function"===typeof c){if(c.call(this,e,o,this))return Q({sortable:t,rootEl:l,name:"filter",targetEl:o,toEl:n,fromEl:n}),K("filter",t,{evt:e}),void(i&&e.cancelable&&e.preventDefault())}else if(c&&(c=c.split(",").some((function(a){if(a=k(l,a.trim(),n,!1),a)return Q({sortable:t,rootEl:a,name:"filter",targetEl:o,fromEl:n,toEl:n}),K("filter",t,{evt:e}),!0})),c))return void(i&&e.cancelable&&e.preventDefault());a.handle&&!k(l,a.handle,n,!1)||this._prepareDragStart(e,s,o)}}},_prepareDragStart:function(e,t,n){var a,i=this,r=i.el,s=i.options,o=r.ownerDocument;if(n&&!Z&&n.parentNode===r){var l=E(n);if(ne=r,Z=n,ee=Z.parentNode,ae=Z.nextSibling,ie=n,de=s.group,ze.dragged=Z,pe={target:Z,clientX:(t||e).clientX,clientY:(t||e).clientY},ge=pe.clientX-l.left,ye=pe.clientY-l.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,Z.style["will-change"]="all",a=function(){K("delayEnded",i,{evt:e}),ze.eventCanceled?i._onDrop():(i._disableDelayedDragEvents(),!h&&i.nativeDraggable&&(Z.draggable=!0),i._triggerDragStart(e,t),Q({sortable:i,name:"choose",originalEvent:e}),C(Z,s.chosenClass,!0))},s.ignore.split(",").forEach((function(e){S(Z,e.trim(),Xe)})),g(o,"dragover",Ue),g(o,"mousemove",Ue),g(o,"touchmove",Ue),g(o,"mouseup",i._onDrop),g(o,"touchend",i._onDrop),g(o,"touchcancel",i._onDrop),h&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Z.draggable=!0),K("delayStart",this,{evt:e}),!s.delay||s.delayOnTouchOnly&&!t||this.nativeDraggable&&(d||u))a();else{if(ze.eventCanceled)return void this._onDrop();g(o,"mouseup",i._disableDelayedDrag),g(o,"touchend",i._disableDelayedDrag),g(o,"touchcancel",i._disableDelayedDrag),g(o,"mousemove",i._delayedDragTouchMoveHandler),g(o,"touchmove",i._delayedDragTouchMoveHandler),s.supportPointer&&g(o,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(a,s.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Z&&Xe(Z),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;y(e,"mouseup",this._disableDelayedDrag),y(e,"touchend",this._disableDelayedDrag),y(e,"touchcancel",this._disableDelayedDrag),y(e,"mousemove",this._delayedDragTouchMoveHandler),y(e,"touchmove",this._delayedDragTouchMoveHandler),y(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?g(document,"pointermove",this._onTouchMove):g(document,t?"touchmove":"mousemove",this._onTouchMove):(g(Z,"dragend",this),g(ne,"dragstart",this._onDragStart));try{document.selection?tt((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(n){}},_dragStarted:function(e,t){if(Ce=!1,ne&&Z){K("dragStarted",this,{evt:t}),this.nativeDraggable&&g(document,"dragover",He);var n=this.options;!e&&C(Z,n.dragClass,!1),C(Z,n.ghostClass,!0),ze.active=this,e&&this._appendGhost(),Q({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(fe){this._lastX=fe.clientX,this._lastY=fe.clientY,Fe();var e=document.elementFromPoint(fe.clientX,fe.clientY),t=e;while(e&&e.shadowRoot){if(e=e.shadowRoot.elementFromPoint(fe.clientX,fe.clientY),e===t)break;t=e}if(Z.parentNode[U]._isOutsideThisEl(e),t)do{if(t[U]){var n=void 0;if(n=t[U]._onDragOver({clientX:fe.clientX,clientY:fe.clientY,target:e,rootEl:t}),n&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);Ye()}},_onTouchMove:function(e){if(pe){var t=this.options,n=t.fallbackTolerance,a=t.fallbackOffset,i=e.touches?e.touches[0]:e,r=te&&D(te,!0),s=te&&r&&r.a,o=te&&r&&r.d,l=Re&&we&&j(we),c=(i.clientX-pe.clientX+a.x)/(s||1)+(l?l[0]-Ee[0]:0)/(s||1),u=(i.clientY-pe.clientY+a.y)/(o||1)+(l?l[1]-Ee[1]:0)/(o||1);if(!ze.active&&!Ce){if(n&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(te){r?(r.e+=c-(me||0),r.f+=u-(ve||0)):r={a:1,b:0,c:0,d:1,e:c,f:u};var d="matrix(".concat(r.a,",").concat(r.b,",").concat(r.c,",").concat(r.d,",").concat(r.e,",").concat(r.f,")");T(te,"webkitTransform",d),T(te,"mozTransform",d),T(te,"msTransform",d),T(te,"transform",d),me=c,ve=u,fe=i}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!te){var e=this.options.fallbackOnBody?document.body:ne,t=E(Z,!0,Re,!0,e),n=this.options;if(Re){we=e;while("static"===T(we,"position")&&"none"===T(we,"transform")&&we!==document)we=we.parentNode;we!==document.body&&we!==document.documentElement?(we===document&&(we=O()),t.top+=we.scrollTop,t.left+=we.scrollLeft):we=O(),Ee=j(we)}te=Z.cloneNode(!0),C(te,n.ghostClass,!1),C(te,n.fallbackClass,!0),C(te,n.dragClass,!0),T(te,"transition",""),T(te,"transform",""),T(te,"box-sizing","border-box"),T(te,"margin",0),T(te,"top",t.top),T(te,"left",t.left),T(te,"width",t.width),T(te,"height",t.height),T(te,"opacity","0.8"),T(te,"position",Re?"absolute":"fixed"),T(te,"zIndex","100000"),T(te,"pointerEvents","none"),ze.ghost=te,e.appendChild(te),T(te,"transform-origin",ge/parseInt(te.style.width)*100+"% "+ye/parseInt(te.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,a=e.dataTransfer,i=n.options;K("dragStart",this,{evt:e}),ze.eventCanceled?this._onDrop():(K("setupClone",this),ze.eventCanceled||(re=Y(Z),re.draggable=!1,re.style["will-change"]="",this._hideClone(),C(re,this.options.chosenClass,!1),ze.clone=re),n.cloneId=tt((function(){K("clone",n),ze.eventCanceled||(n.options.removeCloneOnHide||ne.insertBefore(re,Z),n._hideClone(),Q({sortable:n,name:"clone"}))})),!t&&C(Z,i.dragClass,!0),t?(Te=!0,n._loopId=setInterval(n._emulateDragOver,50)):(y(document,"mouseup",n._onDrop),y(document,"touchend",n._onDrop),y(document,"touchcancel",n._onDrop),a&&(a.effectAllowed="move",i.setData&&i.setData.call(n,a,Z)),g(document,"drop",n),T(Z,"transform","translateZ(0)")),Ce=!0,n._dragStartId=tt(n._dragStarted.bind(n,t,e)),g(document,"selectstart",n),be=!0,p&&T(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,a,i,s=this.el,o=e.target,l=this.options,c=l.group,u=ze.active,d=de===c,h=l.sort,p=he||u,f=this,m=!1;if(!Pe){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),o=k(o,l.draggable,s,!0),N("dragOver"),ze.eventCanceled)return m;if(Z.contains(e.target)||o.animated&&o.animatingX&&o.animatingY||f._ignoreWhileAnimating===o)return B(!1);if(Te=!1,u&&!l.disabled&&(d?h||(a=!ne.contains(Z)):he===this||(this.lastPutMode=de.checkPull(this,u,Z,e))&&c.checkPut(this,u,Z,e))){if(i="vertical"===this._getDirection(e,o),t=E(Z),N("dragOverValid"),ze.eventCanceled)return m;if(a)return ee=ne,L(),this._hideClone(),N("revert"),ze.eventCanceled||(ae?ne.insertBefore(Z,ae):ne.appendChild(Z)),B(!0);var v=A(s,l.draggable);if(!v||Je(e,i,this)&&!v.animated){if(v===Z)return B(!1);if(v&&s===e.target&&(o=v),o&&(n=E(o)),!1!==We(ne,s,Z,t,o,n,e,!!o))return L(),s.appendChild(Z),ee=s,$(),B(!0)}else if(o.parentNode===s){n=E(o);var g,y,b=0,_=Z.parentNode!==s,x=!Be(Z.animated&&Z.toRect||t,o.animated&&o.toRect||n,i),w=i?"top":"left",D=P(o,"top","top")||P(Z,"top","top"),S=D?D.scrollTop:void 0;if(_e!==o&&(g=n[w],Se=!1,Oe=!x&&l.invertSwap||_),b=Ke(e,o,n,i,x?1:l.swapThreshold,null==l.invertedSwapThreshold?l.swapThreshold:l.invertedSwapThreshold,Oe,_e===o),0!==b){var O=R(Z);do{O-=b,y=ee.children[O]}while(y&&("none"===T(y,"display")||y===te))}if(0===b||y===o)return B(!1);_e=o,ke=b;var I=o.nextElementSibling,j=!1;j=1===b;var V=We(ne,s,Z,t,o,n,e,j);if(!1!==V)return 1!==V&&-1!==V||(j=1===V),Pe=!0,setTimeout(Ge,30),L(),j&&!I?s.appendChild(Z):o.parentNode.insertBefore(Z,j?I:o),D&&F(D,0,S-D.scrollTop),ee=Z.parentNode,void 0===g||Oe||(xe=Math.abs(g-E(o)[w])),$(),B(!0)}if(s.contains(Z))return B(!1)}return!1}function N(l,c){K(l,f,r({evt:e,isOwner:d,axis:i?"vertical":"horizontal",revert:a,dragRect:t,targetRect:n,canSort:h,fromSortable:p,target:o,completed:B,onMove:function(n,a){return We(ne,s,Z,t,n,E(n),e,a)},changed:$},c))}function L(){N("dragOverAnimationCapture"),f.captureAnimationState(),f!==p&&p.captureAnimationState()}function B(t){return N("dragOverCompleted",{insertion:t}),t&&(d?u._hideClone():u._showClone(f),f!==p&&(C(Z,he?he.options.ghostClass:u.options.ghostClass,!1),C(Z,l.ghostClass,!0)),he!==f&&f!==ze.active?he=f:f===ze.active&&he&&(he=null),p===f&&(f._ignoreWhileAnimating=o),f.animateAll((function(){N("dragOverAnimationComplete"),f._ignoreWhileAnimating=null})),f!==p&&(p.animateAll(),p._ignoreWhileAnimating=null)),(o===Z&&!Z.animated||o===s&&!o.animated)&&(_e=null),l.dragoverBubble||e.rootEl||o===document||(Z.parentNode[U]._isOutsideThisEl(e.target),!t&&Ue(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),m=!0}function $(){le=R(Z),ue=R(Z,l.draggable),Q({sortable:f,name:"change",toEl:s,newIndex:le,newDraggableIndex:ue,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){y(document,"mousemove",this._onTouchMove),y(document,"touchmove",this._onTouchMove),y(document,"pointermove",this._onTouchMove),y(document,"dragover",Ue),y(document,"mousemove",Ue),y(document,"touchmove",Ue)},_offUpEvents:function(){var e=this.el.ownerDocument;y(e,"mouseup",this._onDrop),y(e,"touchend",this._onDrop),y(e,"pointerup",this._onDrop),y(e,"touchcancel",this._onDrop),y(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;le=R(Z),ue=R(Z,n.draggable),K("drop",this,{evt:e}),ee=Z&&Z.parentNode,le=R(Z),ue=R(Z,n.draggable),ze.eventCanceled||(Ce=!1,Oe=!1,Se=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),nt(this.cloneId),nt(this._dragStartId),this.nativeDraggable&&(y(document,"drop",this),y(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),p&&T(document.body,"user-select",""),T(Z,"transform",""),e&&(be&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),te&&te.parentNode&&te.parentNode.removeChild(te),(ne===ee||he&&"clone"!==he.lastPutMode)&&re&&re.parentNode&&re.parentNode.removeChild(re),Z&&(this.nativeDraggable&&y(Z,"dragend",this),Xe(Z),Z.style["will-change"]="",be&&!Ce&&C(Z,he?he.options.ghostClass:this.options.ghostClass,!1),C(Z,this.options.chosenClass,!1),Q({sortable:this,name:"unchoose",toEl:ee,newIndex:null,newDraggableIndex:null,originalEvent:e}),ne!==ee?(le>=0&&(Q({rootEl:ee,name:"add",toEl:ee,fromEl:ne,originalEvent:e}),Q({sortable:this,name:"remove",toEl:ee,originalEvent:e}),Q({rootEl:ee,name:"sort",toEl:ee,fromEl:ne,originalEvent:e}),Q({sortable:this,name:"sort",toEl:ee,originalEvent:e})),he&&he.save()):le!==oe&&le>=0&&(Q({sortable:this,name:"update",toEl:ee,originalEvent:e}),Q({sortable:this,name:"sort",toEl:ee,originalEvent:e})),ze.active&&(null!=le&&-1!==le||(le=oe,ue=ce),Q({sortable:this,name:"end",toEl:ee,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){K("nulling",this),ne=Z=ee=te=ae=re=ie=se=pe=fe=be=le=ue=oe=ce=_e=ke=he=de=ze.dragged=ze.ghost=ze.clone=ze.active=null,Ie.forEach((function(e){e.checked=!0})),Ie.length=me=ve=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":Z&&(this._onDragOver(e),qe(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e,t=[],n=this.el.children,a=0,i=n.length,r=this.options;a<i;a++)e=n[a],k(e,r.draggable,this.el,!1)&&t.push(e.getAttribute(r.dataIdAttr)||Ze(e));return t},sort:function(e,t){var n={},a=this.el;this.toArray().forEach((function(e,t){var i=a.children[t];k(i,this.options.draggable,a,!1)&&(n[e]=i)}),this),t&&this.captureAnimationState(),e.forEach((function(e){n[e]&&(a.removeChild(n[e]),a.appendChild(n[e]))})),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return k(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var a=G.modifyOption(this,e,t);n[e]="undefined"!==typeof a?a:t,"group"===e&&Me(n)},destroy:function(){K("destroy",this);var e=this.el;e[U]=null,y(e,"mousedown",this._onTapStart),y(e,"touchstart",this._onTapStart),y(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(y(e,"dragover",this),y(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),De.splice(De.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!se){if(K("hideClone",this),ze.eventCanceled)return;T(re,"display","none"),this.options.removeCloneOnHide&&re.parentNode&&re.parentNode.removeChild(re),se=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(se){if(K("showClone",this),ze.eventCanceled)return;Z.parentNode!=ne||this.options.group.revertClone?ae?ne.insertBefore(re,ae):ne.appendChild(re):ne.insertBefore(re,Z),this.options.group.revertClone&&this.animate(Z,re),T(re,"display",""),se=!1}}else this._hideClone()}},Ae&&g(document,"touchmove",(function(e){(ze.active||Ce)&&e.cancelable&&e.preventDefault()})),ze.utils={on:g,off:y,css:T,find:S,is:function(e,t){return!!k(e,t,e,!1)},extend:L,throttle:$,closest:k,toggleClass:C,clone:Y,index:R,nextTick:tt,cancelNextTick:nt,detectDirection:Le,getChild:I},ze.get=function(e){return e[U]},ze.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(ze.utils=r({},ze.utils,e.utils)),G.mount(e)}))},ze.create=function(e,t){return new ze(e,t)},ze.version=l;var at,it,rt,st,ot,lt,ct=[],ut=!1;function dt(){function e(){for(var e in this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"===typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?g(document,"dragover",this._handleAutoScroll):this.options.supportPointer?g(document,"pointermove",this._handleFallbackAutoScroll):t.touches?g(document,"touchmove",this._handleFallbackAutoScroll):g(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?y(document,"dragover",this._handleAutoScroll):(y(document,"pointermove",this._handleFallbackAutoScroll),y(document,"touchmove",this._handleFallbackAutoScroll),y(document,"mousemove",this._handleFallbackAutoScroll)),pt(),ht(),M()},nulling:function(){ot=it=at=ut=lt=rt=st=null,ct.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n=this,a=(e.touches?e.touches[0]:e).clientX,i=(e.touches?e.touches[0]:e).clientY,r=document.elementFromPoint(a,i);if(ot=e,t||d||u||p){ft(e,this.options,r,t);var s=N(r,!0);!ut||lt&&a===rt&&i===st||(lt&&pt(),lt=setInterval((function(){var r=N(document.elementFromPoint(a,i),!0);r!==s&&(s=r,ht()),ft(e,n.options,r,t)}),10),rt=a,st=i)}else{if(!this.options.bubbleScroll||N(r,!0)===O())return void ht();ft(e,this.options,N(r,!1),!1)}}},i(e,{pluginName:"scroll",initializeByDefault:!0})}function ht(){ct.forEach((function(e){clearInterval(e.pid)})),ct=[]}function pt(){clearInterval(lt)}var ft=$((function(e,t,n,a){if(t.scroll){var i,r=(e.touches?e.touches[0]:e).clientX,s=(e.touches?e.touches[0]:e).clientY,o=t.scrollSensitivity,l=t.scrollSpeed,c=O(),u=!1;it!==n&&(it=n,ht(),at=t.scroll,i=t.scrollFn,!0===at&&(at=N(n,!0)));var d=0,h=at;do{var p=h,f=E(p),m=f.top,v=f.bottom,g=f.left,y=f.right,b=f.width,_=f.height,k=void 0,x=void 0,w=p.scrollWidth,C=p.scrollHeight,D=T(p),S=p.scrollLeft,P=p.scrollTop;p===c?(k=b<w&&("auto"===D.overflowX||"scroll"===D.overflowX||"visible"===D.overflowX),x=_<C&&("auto"===D.overflowY||"scroll"===D.overflowY||"visible"===D.overflowY)):(k=b<w&&("auto"===D.overflowX||"scroll"===D.overflowX),x=_<C&&("auto"===D.overflowY||"scroll"===D.overflowY));var I=k&&(Math.abs(y-r)<=o&&S+b<w)-(Math.abs(g-r)<=o&&!!S),A=x&&(Math.abs(v-s)<=o&&P+_<C)-(Math.abs(m-s)<=o&&!!P);if(!ct[d])for(var R=0;R<=d;R++)ct[R]||(ct[R]={});ct[d].vx==I&&ct[d].vy==A&&ct[d].el===p||(ct[d].el=p,ct[d].vx=I,ct[d].vy=A,clearInterval(ct[d].pid),0==I&&0==A||(u=!0,ct[d].pid=setInterval(function(){a&&0===this.layer&&ze.active._onTouchMove(ot);var t=ct[this.layer].vy?ct[this.layer].vy*l:0,n=ct[this.layer].vx?ct[this.layer].vx*l:0;"function"===typeof i&&"continue"!==i.call(ze.dragged.parentNode[U],n,t,e,ot,ct[this.layer].el)||F(ct[this.layer].el,n,t)}.bind({layer:d}),24))),d++}while(t.bubbleScroll&&h!==c&&(h=N(h,!1)));ut=u}}),30),mt=function(e){var t=e.originalEvent,n=e.putSortable,a=e.dragEl,i=e.activeSortable,r=e.dispatchSortableEvent,s=e.hideGhostForTarget,o=e.unhideGhostForTarget;if(t){var l=n||i;s();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,u=document.elementFromPoint(c.clientX,c.clientY);o(),l&&!l.el.contains(u)&&(r("spill"),this.onSpill({dragEl:a,putSortable:n}))}};function vt(){}function gt(){}vt.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var a=I(this.sortable.el,this.startIndex,this.options);a?this.sortable.el.insertBefore(t,a):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:mt},i(vt,{pluginName:"revertOnSpill"}),gt.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable,a=n||this.sortable;a.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),a.animateAll()},drop:mt},i(gt,{pluginName:"removeOnSpill"});ze.mount(new dt),ze.mount(gt,vt),t["a"]=ze}).call(this,n("1157"))},ab8a:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.changeType&&0!==e.nonFieldErrors.length?n("div",e._l(e.nonFieldErrors,(function(t,a){return n("v-col",{key:a},e._l(t,(function(t,a){return n("div",{key:a},[n("span",{domProps:{textContent:e._s(e.key)}}),n("span",{domProps:{textContent:e._s(t.toString())}})])})),0)})),1):e._e(),e.changeType||0===e.nonFieldErrors.length?e._e():n("v-alert",{staticClass:"ma-3",attrs:{outlined:"",dense:"",tile:"",dismissible:"",color:"danger"}},[n("span",{domProps:{textContent:e._s("There are some errors")}}),e._l(e.nonFieldErrors,(function(t,a){return n("div",{key:a},e._l(t,(function(t,a){return n("div",{key:a},[n("ul",[n("li",[n("span",{domProps:{textContent:e._s(e.key)}}),n("span",{domProps:{textContent:e._s(t.toString())}})])])])})),0)}))],2)],1)},i=[],r={props:{nonFieldErrors:{type:Array,required:!0},changeType:{type:Boolean,default:!1}},data:function(){return{key:""}}},s=r,o=n("2877"),l=n("6544"),c=n.n(l),u=n("0798"),d=n("62ad"),h=Object(o["a"])(s,a,i,!1,null,null,null);t["default"]=h.exports;c()(h,{VAlert:u["a"],VCol:d["a"]})},b1a9:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-row",{attrs:{dense:"",align:"start"}},[n("v-col",{attrs:{md:"6",cols:"12"}},[n("file-upload",{staticClass:"pr-2",attrs:{label:"Attachment",hint:"Files with jpg, png, odt extensions are not available for preview."},model:{value:e.attachment,callback:function(t){e.attachment=t},expression:"attachment"}})],1),n("v-col",{attrs:{md:"6",cols:"12"}},[n("v-text-field",{staticClass:"pl-2",attrs:{"data-cy":"input-caption",disabled:!e.attachment,label:"Caption"},model:{value:e.caption,callback:function(t){e.caption=t},expression:"caption"}},[n("v-icon",{attrs:{slot:"append-outer","data-cy":"btn-add-attachment",color:"primary"},on:{click:e.appendFile},slot:"append-outer"},[e._v(" mdi-plus-box-outline ")])],1)],1)],1)},i=[],r=n("5530"),s=n("f82f"),o=n("2f62"),l={components:{FileUpload:s["a"]},props:{value:{type:Array,default:function(){return[]}}},data:function(){return{attachment:"",caption:"",attachments:[]}},watch:{attachments:function(e){this.$emit("input",e)}},methods:Object(r["a"])(Object(r["a"])({},Object(o["d"])({setSnackBar:"common/setSnackBar"})),{},{appendFile:function(){this.attachment&&this.caption?(this.setSnackBar({display:!1}),this.attachments.unshift({file:this.attachment,caption:this.caption}),this.attachment=null,this.caption=""):this.setSnackBar({text:"Please add both attachment and caption",color:"red"})}})},c=l,u=n("2877"),d=n("6544"),h=n.n(d),p=n("62ad"),f=n("132d"),m=n("0fd9b"),v=n("8654"),g=Object(u["a"])(c,a,i,!1,null,null,null);t["a"]=g.exports;h()(g,{VCol:p["a"],VIcon:f["a"],VRow:m["a"],VTextField:v["a"]})},b5b6:function(e,t,n){},c671:function(e,t,n){"use strict";var a=n("1e6c");t["a"]=a["a"].extend({name:"v-tab-item",props:{id:String},methods:{genWindowItem:function(){var e=a["a"].options.methods.genWindowItem.call(this);return e.data.domProps=e.data.domProps||{},e.data.domProps.id=this.id||this.value,e}}})},cde3:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"download-only"},e._l(e.users,(function(t,a){return n("v-chip",{key:a,staticClass:"ma-1",attrs:{small:"",label:""}},[e._v(" "+e._s(t.full_name)+" ")])})),1),n("v-row",{staticClass:"download-hidden",attrs:{"no-gutters":""}},[e.users&&!e.users.length?n("div",[n("v-col",{staticClass:"ma-0 pa-0"},[n("v-avatar",{staticClass:"mr-1",attrs:{size:"20"}},[n("v-img",{attrs:{src:"/images/info/user-default.png"}})],1),n("span",{staticClass:"grey--text text-caption"},[e._v("No Employee")])],1)],1):e._l(e.users.slice(0,3),(function(t,a){return n("div",{key:a,staticClass:"text-left"},[n("v-badge",{attrs:{dot:"",right:"",bottom:"",overlap:"","offset-y":"5",color:t.user&&t.user.is_online?"green":"transparent"}},[n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(a){var i=a.on;return[n("a",[n("v-avatar",e._g({staticClass:"mr-n1",attrs:{size:e.imgSize}},i),[n("v-img",{attrs:{height:e.imgSize,width:e.imgSize,src:t.profile_picture||t.user.profile_picture},on:{click:e.showMore}})],1)],1)]}}],null,!0)},[n("span",{domProps:{textContent:e._s(t.full_name||t.user.full_name)}}),t[e.type]?n("span",[e._v(" : "),n("span",{domProps:{textContent:e._s(t[e.type])}})]):e._e()])],1)],1)})),e.users&&e.users.length&&e.totalUsers>3?n("div",[n("v-col",{staticClass:"pl-2 py-0 text-subtitle-1"},[n("a",{on:{click:e.showMore}},[e._v(" +"+e._s(parseInt(e.totalUsers)-3)+" ")])])],1):e._e()],2)],1)},i=[],r=(n("a9e3"),{name:"ThumbnailUsers",props:{users:{type:Array,default:function(){return[]}},totalUsers:{type:Number,required:!0},type:{type:String,default:""},imgSize:{type:[String,Number],default:22}},watch:{users:function(e){this.users=e}},methods:{showMore:function(){this.users&&0===this.users.length||this.$emit("showMore")}}}),s=r,o=(n("2ab5"),n("2877")),l=n("6544"),c=n.n(l),u=n("8212"),d=n("4ca6"),h=n("cc20"),p=n("62ad"),f=n("adda"),m=n("0fd9b"),v=n("3a2f"),g=Object(o["a"])(s,a,i,!1,null,"51021d54",null);t["default"]=g.exports;c()(g,{VAvatar:u["a"],VBadge:d["a"],VChip:h["a"],VCol:p["a"],VImg:f["a"],VRow:m["a"],VTooltip:v["a"]})},ce87:function(e,t,n){"use strict";var a=n("16b7"),i=n("f2e7"),r=n("58df"),s=n("d9bd");t["a"]=Object(r["a"])(a["a"],i["a"]).extend({name:"v-hover",props:{disabled:{type:Boolean,default:!1},value:{type:Boolean,default:void 0}},methods:{onMouseEnter:function(){this.runDelay("open")},onMouseLeave:function(){this.runDelay("close")}},render:function(){return this.$scopedSlots.default||void 0!==this.value?(this.$scopedSlots.default&&(e=this.$scopedSlots.default({hover:this.isActive})),Array.isArray(e)&&1===e.length&&(e=e[0]),e&&!Array.isArray(e)&&e.tag?(this.disabled||(e.data=e.data||{},this._g(e.data,{mouseenter:this.onMouseEnter,mouseleave:this.onMouseLeave})),e):(Object(s["c"])("v-hover should only contain a single element",this),e)):(Object(s["c"])("v-hover is missing a default scopedSlot or bound value",this),null);var e}})},e4bf:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.contextList.filter((function(e){return!e.hide})).length<3&&!e.hideIcons||e.showIcons?n("div",e._l(e.contextList,(function(t,a){return n("span",{key:a},[t.hide?e._e():n("v-tooltip",{attrs:{disabled:e.$vuetify.breakpoint.xs,top:""},scopedSlots:e._u([{key:"activator",fn:function(i){var r=i.on;return[n("v-btn",e._g({staticClass:"mx-0",attrs:{text:"",width:e.small?"18":"22",depressed:"",icon:""}},r),[n("v-icon",{attrs:{disabled:t.disabled,color:t.color,"data-cy":e.dataCyVariable+"btn-dropdown-menu-item-"+(a+1),dark:!t.disabled,small:e.small,size:"20",dense:""},domProps:{textContent:e._s(t.icon)},on:{click:function(t){return e.$emit("click"+a)}}})],1)]}}],null,!0)},[n("span",{domProps:{textContent:e._s(t.disabled&&t.disable_message||t.name)}})])],1)})),0):n("v-menu",{attrs:{"offset-y":"",left:"",transition:"slide-y-transition"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{small:"",text:"",icon:""}},a),[n("v-icon",{attrs:{"data-cy":"btn-dropdown-menu"},domProps:{textContent:e._s("mdi-dots-vertical")}})],1)]}}])},e._l(e.contextList,(function(t,a){return n("v-list",{key:a,staticClass:"pa-0",attrs:{dense:""}},[t.hide?e._e():n("div",[t.disabled?n("v-list-item",{attrs:{"data-cy":"btn-dropdown-menu-item"}},[n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(a){var i=a.on;return[n("v-list-item-title",e._g({},i),[n("v-icon",{attrs:{disabled:"",small:"",color:t.color},domProps:{textContent:e._s(t.icon)}}),n("span",{staticClass:"ml-1 grey--text",domProps:{textContent:e._s(t.name)}})],1)]}}],null,!0)},[n("span",{domProps:{textContent:e._s(t.disabled&&t.disable_message||t.name)}})])],1):n("v-list-item",{attrs:{"data-cy":"btn-dropdown-menu-item"},on:{click:function(t){return e.$emit("click"+a)}}},[n("v-list-item-title",[n("v-icon",{attrs:{color:t.color,small:"",dense:""},domProps:{textContent:e._s(t.icon)}}),n("span",{staticClass:"ml-1",class:t.text_color,domProps:{textContent:e._s(t.name)}})],1)],1)],1)])})),1)],1)},i=[],r={name:"VueContextMenu",props:{contextList:{type:Array,default:function(){return[]}},dataCyVariable:{type:String,default:""},showIcons:{type:Boolean,default:!1},hideIcons:{type:Boolean,default:!1},small:{type:Boolean,default:!1}}},s=r,o=n("2877"),l=n("6544"),c=n.n(l),u=n("8336"),d=n("132d"),h=n("8860"),p=n("da13"),f=n("5d23"),m=n("e449"),v=n("3a2f"),g=Object(o["a"])(s,a,i,!1,null,"71ee785c",null);t["default"]=g.exports;c()(g,{VBtn:u["a"],VIcon:d["a"],VList:h["a"],VListItem:p["a"],VListItemTitle:f["c"],VMenu:m["a"],VTooltip:v["a"]})},ef8c:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-autocomplete",{class:e.appliedClass,attrs:{items:e.itemsSorted,loading:e.isLoading,"search-input":e.search,multiple:e.multiple,label:e.label,error:e.errorMessages.length>0,"error-messages":e.errorMessages,disabled:e.disabled,"prepend-inner-icon":e.prependInnerIcon,clearable:e.clearable&&!e.readonly,readonly:!!e.readonly,"hide-details":e.hideDetails,"data-cy":"input-user-autocomplete-"+e.dataCyVariable,placeholder:e.placeholder,"hide-selected":"","hide-no-data":"","item-text":"full_name","item-value":"id"},on:{"update:searchInput":function(t){e.search=t},"update:search-input":function(t){e.search=t},blur:function(t){return e.$emit("blur")}},scopedSlots:e._u([{key:"selection",fn:function(t){return[n("v-chip",{attrs:{"input-value":t.selected,close:(e.clearable||!e.clearable&&!e.multiple)&&!e.readonly,small:""},on:{"click:close":function(n){return e.remove(t.item)}}},[n("v-avatar",{attrs:{left:""}},[n("v-img",{attrs:{src:t.item.profile_picture,cover:""}})],1),e._v(" "+e._s(e._f("truncate")(t.item.full_name,e.truncate))+" ")],1)]}},{key:"item",fn:function(t){var a=t.item;return[n("v-list-item-avatar",[n("v-avatar",{attrs:{size:"30"}},[n("v-img",{attrs:{src:a.profile_picture,cover:""}})],1)],1),n("v-list-item-content",[n("v-list-item-title",[e._v(" "+e._s(e._f("truncate")(a.full_name,20))+" "),a.employee_code?n("span",[e._v("("+e._s(a.employee_code)+")")]):e._e()]),a.division?n("v-list-item-subtitle",{domProps:{textContent:e._s(a.division)}}):e._e()],1)]}}]),model:{value:e.selectedData,callback:function(t){e.selectedData=t},expression:"selectedData"}})],1)},i=[],r=n("53ca"),s=(n("a9e3"),n("ac1f"),n("841c"),n("4e827"),n("2ca0"),n("d81d"),n("a434"),n("d3b7"),n("159b"),n("7db0"),n("4de4"),n("caad"),n("2532"),n("fab2")),o=n("63ea"),l=n.n(o),c={props:{value:{type:[Number,String,Array,Object],required:!1,default:function(){return null}},dataCyVariable:{type:String,default:""},userObject:{type:[Object,Array],required:!1,default:function(){return{}}},params:{type:[Object,Array],required:!1,default:function(){return{}}},multiple:{type:Boolean,required:!1,default:!1},disabled:{type:Boolean,required:!1,default:!1},errorMessages:{type:[String,Array],default:function(){return[]}},label:{type:String,default:"Select Employee"},prependInnerIcon:{type:String,default:"mdi-account-plus-outline"},itemsToExclude:{type:[Array,Number],default:null},itemsToInclude:{type:[Array,Number],default:null},clearable:{type:Boolean,default:!0},readonly:{type:Boolean,default:!1},hideDetails:{type:Boolean,default:!1},appliedClass:{type:String,default:""},truncate:{type:Number,default:10},placeholder:{type:String,default:""}},data:function(){return{isLoading:!1,items:[],allUsers:[],selectedData:null,search:null}},computed:{itemsSorted:function(){return this.sortBySearch(this.items,this.search?this.search.toLowerCase():"")}},watch:{value:{handler:function(e,t){!e&&t&&(this.selectedData="",this.populateInitialUsers()),!t&&e&&this.populateInitialUsers()},immediate:!0},search:function(e){!e||this.items.length>0||this.fetchUsers()},selectedData:function(e){this.search="",this.syncUserData(e),this.$emit("input",e)},itemsToExclude:function(){this.items=this.excludeRecord(this.allUsers)},itemsToInclude:function(){this.items=this.includeRecord(this.allUsers)},params:{handler:function(e,t){l()(e,t)||this.fetchUsers()},deep:!0}},methods:{sortBySearch:function(e,t){return e.sort((function(e,n){return e.full_name.toLowerCase().startsWith(t)&&n.full_name.toLowerCase().startsWith(t)?e.full_name.toLowerCase().localeCompare(n.full_name.toLowerCase()):e.full_name.toLowerCase().startsWith(t)?-1:n.full_name.toLowerCase().startsWith(t)?1:e.full_name.toLowerCase().localeCompare(n.full_name.toLowerCase())}))},populateInitialUsers:function(){this.fetchUsers(this.value),Array.isArray(this.value)?"object"===Object(r["a"])(this.value[0])?this.selectedData=this.value.map((function(e){return e.user.id})):this.selectedData=this.value:null===this.value?this.selectedData="":"object"===Object(r["a"])(this.value)?this.selectedData=this.value.id:this.selectedData=this.value,this.$emit("input",this.selectedData)},remove:function(e){if(this.selectedData instanceof Object){var t=this.selectedData.indexOf(e.id);t>=0&&this.selectedData.splice(t,1),this.$emit("remove",e)}else this.selectedData=""},fetchUsers:function(e){var t=this;this.isLoading||(this.isLoading=!0,this.$http.get(s["a"].autocomplete,{params:this.params}).then((function(n){t.allUsers=n,t.itemsToExclude&&(n=t.excludeRecord(n)),t.itemsToInclude&&(n=t.includeRecord(n)),t.items=n,e&&t.syncUserData(e)})).finally((function(){return t.isLoading=!1})))},syncUserData:function(e){var t=this;if(e instanceof Array){var n=[];e.forEach((function(e){n.unshift(t.items.find((function(t){return t.id===e})))})),this.$emit("update:userObject",n)}else{var a=this.items.find((function(t){return t.id===e}));this.$emit("update:userObject",a)}},excludeRecord:function(e){var t=[];return"number"===typeof this.itemsToExclude?t.push(this.itemsToExclude):t=this.itemsToExclude,e.filter((function(e){return!t.includes(e.id)}))},includeRecord:function(e){var t=this;return e.filter((function(e){return t.itemsToInclude.includes(e.id)}))}}},u=c,d=n("2877"),h=n("6544"),p=n.n(h),f=n("c6a6"),m=n("8212"),v=n("cc20"),g=n("adda"),y=n("8270"),b=n("5d23"),_=Object(d["a"])(u,a,i,!1,null,null,null);t["default"]=_.exports;p()(_,{VAutocomplete:f["a"],VAvatar:m["a"],VChip:v["a"],VImg:g["a"],VListItemAvatar:y["a"],VListItemContent:b["a"],VListItemSubtitle:b["b"],VListItemTitle:b["c"]})},f82f:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-text-field",{class:e.appliedClass,attrs:{id:e.id,label:e.label,"data-cy":"input-file-upload",error:e.errorMessages.length>0,"error-messages":e.errorMessages,"hide-details":e.hideDetails,hint:e.hint,"persistent-hint":!!e.hint,disabled:e.disabled,readonly:"","prepend-inner-icon":"mdi-attachment","append-icon":"mdi-close"},on:{"click:prepend":e.pickFile,"click:append":function(t){return e.clear()},click:e.pickFile,blur:function(t){return e.$emit("blur")}},model:{value:e.fileName,callback:function(t){e.fileName=t},expression:"fileName"}}),n("input",{ref:"upload",staticClass:"d-none",attrs:{id:"fileUpload",type:"file",multiple:"multiple"},on:{change:e.upload}})],1)},i=[],r=n("1da1"),s=n("5530"),o=(n("96cf"),n("a9e3"),n("ac1f"),n("1276"),n("b0c0"),n("2f62")),l={props:{value:{type:[String,File,Object],default:void 0},default:{type:[String,File],default:void 0},text:{type:String,default:void 0},id:{type:String,default:""},label:{type:String,default:"Browse file from here"},hint:{type:String,default:void 0},errorMessages:{type:[String,Array],default:function(){return[]}},hideDetails:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},appliedClass:{type:String,default:""},returnObject:{type:Boolean,default:!1},maxSize:{type:Number,default:5}},data:function(){return{fileName:null}},watch:{default:{handler:function(e){!e||e instanceof File||(this.fileName=e)},immediate:!0},value:function(e){e||(this.fileName=""),document.getElementById("fileUpload").value=null}},methods:Object(s["a"])(Object(s["a"])({},Object(o["d"])({setSnackBar:"common/setSnackBar"})),{},{pickFile:function(){this.$refs.upload.click()},upload:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var a,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:a=new FileReader,a.readAsDataURL(e.target.files[0]),i="",1===e.target.files[0].name.split(".").length?i="Please upload known file type.":e.target.files[0].size>1024*t.maxSize*1024?i="File size cannot be greater than ".concat(t.maxSize,"MB."):"svg"===e.target.files[0].name.split(".").pop()&&(i="SVG image not allowed here."),i?t.setSnackBar({text:i,color:"red"}):a.onload=function(){t.returnObject?t.$emit("input",{file_name:e.target.files[0].name,file_content:e.target.files[0]}):t.$emit("input",e.target.files[0]),t.$emit("blur"),t.$emit("update",a.result),t.fileName=e.target.files[0].name};case 5:case"end":return n.stop()}}),n)})))()},clear:function(){this.fileName=null,this.returnObject?this.$emit("input",{file_name:"",file_content:""}):this.$emit("input",this.fileName)}})},c=l,u=n("2877"),d=n("6544"),h=n.n(d),p=n("8654"),f=Object(u["a"])(c,a,i,!1,null,null,null);t["a"]=f.exports;h()(f,{VTextField:p["a"]})},fab2:function(e,t,n){"use strict";t["a"]={getUserList:"/users/",postUser:"/users/",autocomplete:"/users/autocomplete/",postImportUser:"/users/import/",downloadUserImportSample:function(e){return"/users/import/sample/?organization=".concat(e)},getUserDetail:function(e){return"/users/".concat(e,"/")},getInternalUserDetail:function(e){return"/users/".concat(e,"/internal-detail")},deleteUser:function(e){return"/users/".concat(e,"/")},updateUser:function(e){return"/users/".concat(e,"/")},changePassword:function(e){return"/users/".concat(e,"/change-password/")},getUserCV:function(e){return"/users/".concat(e,"/cv/")},getProfileCompleteness:function(e){return"users/".concat(e,"/profile-completeness/")}}}}]);