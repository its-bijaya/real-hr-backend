(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages/user/payroll/payslip/index","chunk-2d0c8a11","chunk-da62e0c8","chunk-2d22d378"],{"03e7":function(e,t,a){"use strict";a("7183")},2438:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-divider"),a("v-row",{staticClass:"px-3",attrs:{align:"center"}},[e._l(e.filters,(function(t){return a("v-col",{key:t.label,class:t.grid||"xs3"},["v-checkbox"===t.component?a(t.component,e._b({tag:"component",attrs:{value:t.value},on:{change:function(t){return e.$emit("input",e.appliedFilters)}},model:{value:e.appliedFilters[t.bind],callback:function(a){e.$set(e.appliedFilters,t.bind,a)},expression:"appliedFilters[field.bind]"}},"component",t.props,!1)):e._e(),"search"===t.type?a("v-text-field",e._b({attrs:{value:e.appliedFilters[t.bind]},on:{change:function(a){e.appliedFilters[t.bind]=a,e.$emit("input",e.appliedFilters)}}},"v-text-field",t.props,!1)):a(t.component,e._b({tag:"component",attrs:{value:t.value,"item-text":t.itemText,"item-value":t.itemValue},on:{input:function(t){return e.$emit("input",e.appliedFilters)}},model:{value:e.appliedFilters[t.bind],callback:function(a){e.$set(e.appliedFilters,t.bind,a)},expression:"appliedFilters[field.bind]"}},"component",t.props,!1))],1)})),e._t("default")],2)],1)},n=[],s=(a("07ac"),a("159b"),a("5660")),r=a("ef8c"),o=a("ec30"),l=a("ac94"),c=a("d567"),u={components:{VueAutoComplete:s["default"],VueUsersAutoComplete:r["default"],VueTimePicker:o["a"],VueDatePicker:l["a"],VueDateTimePicker:c["a"]},props:{filters:{type:[Array,Object],required:!0},alignCenter:{type:Boolean,default:!0}},data:function(){return{appliedFilters:{}}},beforeMount:function(){this.assignDefaultValues()},methods:{assignDefaultValues:function(){var e=this,t=Array.isArray(this.filters)?this.filters:Object.values(this.filters);t.forEach((function(t){t.default&&(e.appliedFilters[t.bind]=t.default)}))}}},d=u,p=a("2877"),m=a("6544"),f=a.n(m),h=a("62ad"),v=a("ce7e"),g=a("0fd9b"),y=a("8654"),b=Object(p["a"])(d,i,n,!1,null,null,null);t["a"]=b.exports;f()(b,{VCol:h["a"],VDivider:v["a"],VRow:g["a"],VTextField:y["a"]})},"51d8":function(e,t,a){"use strict";a("99af");t["a"]={getFiscalYear:function(e){return"/org/".concat(e,"/fiscal-year/")},postFiscalYear:function(e){return"/org/".concat(e,"/fiscal-year/")},getFiscalYearDetails:function(e,t){return"/org/".concat(e,"/fiscal-year/").concat(t,"/")},updateFiscalYear:function(e,t){return"/org/".concat(e,"/fiscal-year/").concat(t,"/")},deleteFiscalYear:function(e,t){return"/org/".concat(e,"/fiscal-year/").concat(t,"/")},exportRebate:function(e){return"/payroll/".concat(e,"/user-voluntary-rebates/export/")}}},5660:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"d-flex space-between"},[a("v-autocomplete",{key:e.componentKey,ref:"autoComplete",class:e.appliedClass,attrs:{id:e.id,items:e.itemsSorted,"search-input":e.search,loading:e.isLoading,multiple:e.multiple,label:e.label,error:e.errorMessages.length>0,"error-messages":e.errorMessages,disabled:e.disabled,readonly:e.readonly,"data-cy":"autocomplete-"+e.dataCyVariable,"prepend-inner-icon":e.prependInnerIcon,clearable:e.clearable&&!e.readonly,"hide-details":e.hideDetails,"item-text":e.itemText,"item-value":e.itemValue,"small-chips":e.multiple||e.chips,"deletable-chips":e.multiple,hint:e.hint,"persistent-hint":e.persistentHint,chips:e.chips,solo:e.solo,flat:e.flat,"cache-items":e.cacheItems,placeholder:e.placeholder,dense:e.dense,"hide-selected":"","hide-no-data":""},on:{"update:searchInput":function(t){e.search=t},"update:search-input":function(t){e.search=t},focus:e.populateOnFocus,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.searchText())},change:e.updateState,blur:function(t){return e.$emit("blur")}},scopedSlots:e._u([{key:"selection",fn:function(t){return[e._t("selection",(function(){return[e.itemText&&t.item?a("div",[e.multiple||e.chips?a("v-chip",{attrs:{close:(e.clearable||!e.clearable&&!e.multiple)&&!e.readonly,small:""},on:{"click:close":function(a){return e.remove(t.item)}}},[t.item[e.itemText]?a("div",[t.item[e.itemText].length>40?a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(i){var n=i.on;return[a("span",e._g({},n),[e._v(" "+e._s(e._f("truncate")(t.item[e.itemText],40)))])]}}],null,!0)},[a("span",[e._v(e._s(t.item[e.itemText]))])]):a("span",[e._v(e._s(t.item[e.itemText]))])],1):a("div",[a("span",[e._v(e._s(t.item))])])]):a("div",[t.item[e.itemText]?a("div",[t.item[e.itemText].length>40?a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(i){var n=i.on;return[a("span",e._g({},n),[e._v(" "+e._s(e._f("truncate")(t.item[e.itemText],40)))])]}}],null,!0)},[a("span",[e._v(e._s(t.item[e.itemText]))])]):a("span",[e._v(e._s(t.item[e.itemText]))])],1):a("div",[a("span",[e._v(e._s(t.item))])])])],1):e._e()]}),{props:t})]}},{key:"item",fn:function(t){return[a("v-list-item-content",[a("v-list-item-title",[e._t("item",(function(){return[e.itemText&&t.item?a("div",[t.item[e.itemText]?a("div",[t.item[e.itemText].length>40?a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(i){var n=i.on;return[a("span",e._g({},n),[e._v(" "+e._s(e._f("truncate")(t.item[e.itemText],40)))])]}}],null,!0)},[a("span",[e._v(e._s(t.item[e.itemText]))])]):a("span",[e._v(e._s(t.item[e.itemText]))])],1):a("div",[a("span",[e._v(e._s(t.item))])])]):e._e()]}),{props:t})],2)],1)]}},{key:"append-item",fn:function(){return[!e.fullyLoaded&&e.showMoreIcon?a("div",[a("v-list-item-content",{staticClass:"px-4 pointer primary--text font-weight-bold"},[a("v-list-item-title",{on:{click:function(t){return e.fetchData()}}},[e._v(" Load More Items ... ")])],1)],1):e._e()]},proxy:!0}],null,!0),model:{value:e.selectedData,callback:function(t){e.selectedData=t},expression:"selectedData"}}),e._t("default")],2)},n=[],s=a("2909"),r=a("5530"),o=a("53ca"),l=a("1da1"),c=(a("96cf"),a("a9e3"),a("ac1f"),a("841c"),a("7db0"),a("d81d"),a("159b"),a("4de4"),a("4e827"),a("2ca0"),a("d3b7"),a("c740"),a("a434"),a("3ca3"),a("ddb0"),a("2b3d"),a("caad"),a("2532"),a("63ea")),u=a.n(c),d={props:{value:{type:[Number,String,Array,Object],default:void 0},id:{type:String,default:""},dataCyVariable:{type:String,default:""},endpoint:{type:String,default:""},itemText:{type:String,required:!0},itemValue:{type:String,required:!0},params:{type:Object,required:!1,default:function(){return{}}},itemsToExclude:{type:[Array,Number],default:null},forceFetch:{type:Boolean,default:!1},staticItems:{type:Array,default:function(){return[]}},errorMessages:{type:[String,Array],default:function(){return[]}},label:{type:String,default:""},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},hint:{type:String,default:void 0},persistentHint:{type:Boolean,required:!1,default:!1},multiple:{type:Boolean,required:!1,default:!1},clearable:{type:Boolean,default:!0},hideDetails:{type:Boolean,default:!1},solo:{type:Boolean,default:!1},flat:{type:Boolean,default:!1},chips:{type:Boolean,default:!1},prependInnerIcon:{type:String,default:void 0},cacheItems:{type:Boolean,default:!1},appliedClass:{type:String,default:""},placeholder:{type:String,default:""},dense:{type:Boolean,default:!1}},data:function(){return{componentKey:0,items:[],selectedData:null,search:null,initialFetchStarted:!1,nextLimit:null,nextOffset:null,showMoreIcon:!1,fullyLoaded:!1,isLoading:!1}},computed:{itemsSorted:function(){return this.sortBySearch(this.items,this.search?this.search.toLowerCase():"")}},watch:{value:{handler:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var a,i,n,s,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=10;break}if(!this.forceFetch||this.initialFetchStarted){e.next=6;break}return this.initialFetchStarted=!0,e.next=5,this.fetchData();case 5:this.removeDuplicateItem();case 6:Array.isArray(t)?(n=[],"object"===Object(o["a"])(t[0])?(this.selectedData=t.map((function(e){return e[r.itemValue]})),t.forEach((function(e){var t=r.items.find((function(t){return t===e}));t||n.push(e)}))):(t.forEach((function(e){var t=r.items.find((function(t){return t[r.itemValue]===e}));t||n.push(e)})),this.selectedData=t),n.length>0&&(s=this.items).push.apply(s,n)):"object"===Object(o["a"])(t)?(this.selectedData=t[this.itemValue],a=this.items.find((function(e){return e[r.itemValue]===t})),a||this.items.push(t)):(this.selectedData=t,i=this.items.find((function(e){return e===t})),i||this.items.push(t)),this.updateData(this.selectedData),e.next=11;break;case 10:t||(this.selectedData=null);case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),immediate:!0},selectedData:function(e){this.updateData(e)},params:{handler:function(e,t){u()(e,t)||(this.fullyLoaded=!1,this.initialFetchStarted=!1,this.items=[],this.componentKey+=1)},deep:!0}},methods:{sortBySearch:function(e,t){var a=this.itemText,i=e.filter((function(e){return"object"===Object(o["a"])(e)}));return i.sort((function(e,i){return e[a].toLowerCase().startsWith(t)&&i[a].toLowerCase().startsWith(t)?e[a].toLowerCase().localeCompare(i[a].toLowerCase()):e[a].toLowerCase().startsWith(t)?-1:i[a].toLowerCase().startsWith(t)?1:e[a].toLowerCase().localeCompare(i[a].toLowerCase())}))},populateOnFocus:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.initialFetchStarted){t.next=2;break}return t.abrupt("return");case 2:return e.initialFetchStarted=!0,t.next=5,e.fetchData();case 5:e.removeDuplicateItem();case 6:case"end":return t.stop()}}),t)})))()},fetchData:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.staticItems.length>0)){t.next=3;break}return e.items=e.staticItems,t.abrupt("return");case 3:return a=e.nextLimit,i=e.nextOffset,e.search&&(a=null,i=null),e.isLoading=!0,t.next=9,e.$http.get(e.endpoint,{params:Object(r["a"])(Object(r["a"])({},e.params),{},{search:e.search,limit:a,offset:i})}).then((function(t){var a;t.results||(t.results=t),t.next?(e.showMoreIcon=!0,e.extractLimitOffset(t.next)):(e.showMoreIcon=!1,e.search||(e.fullyLoaded=!0)),e.itemsToExclude&&(t.results=e.excludeRecord(t.results)),(a=e.items).push.apply(a,Object(s["a"])(t.results))})).finally((function(){e.isLoading=!1}));case 9:case"end":return t.stop()}}),t)})))()},removeDuplicateItem:function(){var e=this,t=this.items.indexOf(this.selectedData);if(t>=0){var a=this.items.findIndex((function(t){return t[e.itemValue]===e.selectedData}));a>=0&&(this.items.splice(t,1),this.componentKey+=1)}},updateData:function(e){var t=this,a=[];e instanceof Array?e.forEach((function(e){a.unshift(t.items.find((function(a){return a[t.itemValue]===e})))})):a=this.items.find((function(a){return a[t.itemValue]===e})),this.$emit("input",e),this.$emit("update:selectedFullData",a)},searchText:function(){0!==this.$refs.autoComplete.filteredItems.length||this.fullyLoaded||this.fetchData()},extractLimitOffset:function(e){var t=new URL(e);this.nextLimit=t.searchParams.get("limit"),this.nextOffset=t.searchParams.get("offset")},excludeRecord:function(e){var t=this,a=[];return"number"===typeof this.itemsToExclude?a.push(this.itemsToExclude):a=this.itemsToExclude,e.filter((function(e){if(e[t.itemValue])return!a.includes(e[t.itemValue])}))},remove:function(e){if(this.selectedData instanceof Object){var t=this.selectedData.indexOf(e[this.itemValue]);t>=0&&this.selectedData.splice(t,1)}else this.selectedData=null},updateState:function(){this.search="",this.nextLimit&&(this.showMoreIcon=!0)}}},p=d,m=a("2877"),f=a("6544"),h=a.n(f),v=a("c6a6"),g=a("cc20"),y=a("5d23"),b=a("3a2f"),x=Object(m["a"])(p,i,n,!1,null,null,null);t["default"]=x.exports;h()(x,{VAutocomplete:v["a"],VChip:g["a"],VListItemContent:y["a"],VListItemTitle:y["c"],VTooltip:b["a"]})},"6b20":function(e,t,a){"use strict";t["a"]={getEmployeePayroll:"/payroll/employee-payroll/",patchApprovePayroll:function(e){return"/payroll/employee-payroll/".concat(e,"/")},getPayrollConfig:function(e){return"/payroll/organization-payroll-configs/".concat(e,"/")}}},"6c6f":function(e,t,a){"use strict";a("d3b7");t["a"]={data:function(){return{deleteNotification:{dialog:!1,heading:"Confirm Delete",text:"Are you sure you want to delete ?"}}},methods:{deleteData:function(e,t){var a=this;return new Promise((function(i,n){!a.loading&&e&&(a.loading=!0,a.$http.delete(e,t||{}).then((function(e){a.crud.message&&setTimeout((function(){a.notifyUser(a.crud.message)}),1e3),i(e),a.loading=!1})).catch((function(e){a.pushErrors(e),a.notifyInvalidFormResponse(),n(e),a.loading=!1})).finally((function(){a.deleteNotification.dialog=!1})))}))}}}},7183:function(e,t,a){},"7a6c":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("vue-page-wrapper",{attrs:{title:e.htmlTitle,"bread-crumbs":e.breadCrumbItems}},[a("v-card",[a("vue-card-title",{attrs:{title:"Payslip and Tax",subtitle:"The list below is the list of generated payroll.",icon:"mdi-cash-100"}},[a("template",{slot:"actions"},[a("v-btn",{attrs:{icon:""},on:{click:function(t){e.showFilters=!e.showFilters}}},[a("v-icon",{attrs:{small:""},domProps:{textContent:e._s("mdi-filter-variant")}})],1)],1)],2),a("v-divider"),a("v-slide-y-transition",[e.showFilters?a("filter-generator",{attrs:{filters:e.filters},model:{value:e.appliedFilters,callback:function(t){e.appliedFilters=t},expression:"appliedFilters"}}):e._e()],1),e.showFilters?a("v-divider"):e._e(),a("v-tabs",{key:e.tabComponentKey,attrs:{value:e.activeStatus,"slider-color":"blue","show-arrows":"",expand:""}},e._l(e.statusTabs,(function(t,i){return a("v-tab",{key:t.text,attrs:{disabled:e.loading,ripple:""},on:{click:function(t){e.activeStatus=i}}},[a("span",{staticClass:"mr-2 text-capitalize"},[e._v(" "+e._s(t.text)+" ")]),a("v-chip",{attrs:{color:t.color,"text-color":"white",small:""}},[e._v(" "+e._s(e.statusCounts[t.text])+" ")])],1)})),1),a("v-divider"),a("v-card-text",{staticClass:"ma-0 pa-0"},[a("v-data-table",{attrs:{headers:e.headers,items:e.fetchedResults,"sort-desc":e.pagination.descending,"sort-by":e.pagination.sortBy,page:e.pagination.page,"items-per-page":e.pagination.rowsPerPage,"footer-props":e.footerProps,"server-items-length":e.pagination.totalItems,"mobile-breakpoint":0,"must-sort":""},on:{"update:sortDesc":function(t){return e.$set(e.pagination,"descending",t)},"update:sort-desc":function(t){return e.$set(e.pagination,"descending",t)},"update:sortBy":function(t){return e.$set(e.pagination,"sortBy",t)},"update:sort-by":function(t){return e.$set(e.pagination,"sortBy",t)},"update:page":function(t){return e.$set(e.pagination,"page",t)},"update:itemsPerPage":function(t){return e.$set(e.pagination,"rowsPerPage",t)},"update:items-per-page":function(t){return e.$set(e.pagination,"rowsPerPage",t)}},scopedSlots:e._u([{key:"item",fn:function(t){return[a("tr",[a("td",[a("span",{domProps:{textContent:e._s(t.item.from_date)}})]),a("td",[e._v(" "+e._s(t.item.to_date)+" ")]),a("td",{staticClass:"text-center"},[a("span",[a("v-chip",{staticClass:"white--text",attrs:{color:e.statusColor[t.item.acknowledgement_status],small:""},on:{click:function(a){t.item.total_comment>0&&(e.displayCommentDialog=!0,e.userId=t.item.id)}}},[e._v(" "+e._s(t.item.total_comment||0)+" ")])],1)]),a("td",{staticClass:"text-center"},[t.item.acknowledgement_status?a("v-chip",{attrs:{color:e.statusColor[t.item.acknowledgement_status],small:"",outlined:""},domProps:{textContent:e._s(t.item.acknowledgement_status)}}):a("span",{domProps:{textContent:e._s("N/A")}})],1),a("td",{staticClass:"text-center"},[a("vue-context-menu",{attrs:{"context-list":[{name:"View Payslip",icon:"mdi-receipt",color:"blue"},{name:"View Tax",icon:"mdi-file-percent-outline",color:"blue"},{name:"View Comments",icon:"mdi-comment-text-outline",color:"blue"}]},on:{click0:function(a){e.showPayslipDetails=!0,e.payrollId=t.item.payroll},click1:function(a){e.taxDetails.display=!0,e.payrollId=t.item.payroll,e.taxDetails.selectedPayroll=t.item},click2:function(a){e.displayCommentDialog=!0,e.userId=t.item.id}}})],1)])]}}])},[a("template",{slot:"no-data"},[a("data-table-no-data",{attrs:{loading:e.loading}})],1)],2)],1)],1),e.showPayslipDetails?a("v-dialog",{attrs:{persistent:"",fullscreen:"",scrollable:""},on:{keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;e.showPayslipDetails=!1}},model:{value:e.showPayslipDetails,callback:function(t){e.showPayslipDetails=t},expression:"showPayslipDetails"}},[e.payrollId?a("payslip-base",{attrs:{"payroll-id":e.payrollId,"user-id":e.getAuthStateUserId,"selected-template":e.selectedTemplate,as:""},on:{close:function(t){e.showPayslipDetails=!1,e.fetchDataTable()}}}):e._e()],1):e._e(),e.taxDetails.display?a("v-dialog",{attrs:{persistent:"",fullscreen:"",transition:"dialog-bottom-transition"},on:{keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;e.taxDetails.display=!1}},model:{value:e.taxDetails.display,callback:function(t){e.$set(e.taxDetails,"display",t)},expression:"taxDetails.display"}},[a("tax-report-table",{attrs:{"read-only":"","user-id":e.getAuthStateUserId,"payroll-id":e.payrollId},on:{close:function(t){e.taxDetails.display=!1}}})],1):e._e(),a("v-dialog",{attrs:{persistent:"",scrollable:"",width:"920"},on:{keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;e.displayCommentDialog=!1}},model:{value:e.displayCommentDialog,callback:function(t){e.displayCommentDialog=t},expression:"displayCommentDialog"}},[e.displayCommentDialog?a("comment-dialog",{attrs:{"payroll-id":e.userId},on:{close:function(t){e.displayCommentDialog=!1},create:function(t){e.displayCommentDialog=!1,e.loadDataTableChange()}}}):e._e()],1)],1)},n=[],s=a("1da1"),r=a("5530"),o=(a("96cf"),a("d3b7"),a("3ca3"),a("ddb0"),a("99af"),a("0549")),l=a("a51f"),c=a("2438"),u=a("51d8"),d=a("8cd3"),p=a("6b20"),m=a("3da5"),f=a("e4bf"),h=a("cd2d"),v=a("36e4"),g=a("983c"),y={components:{TaxReportTable:v["a"],VueContextMenu:f["default"],VuePageWrapper:o["default"],DataTableNoData:l["default"],FilterGenerator:c["a"],PayslipBase:function(){return a.e("chunk-f3b87ecc").then(a.bind(null,"a1b4"))},CommentDialog:h["a"]},mixins:[d["a"],g["a"]],data:function(){return{breadCrumbItems:[{text:"Payroll",disabled:!0},{text:"List",disabled:!0}],htmlTitle:"Payslip And Tax | Payroll | User",activeStatus:0,statusCounts:{Generated:0,All:0,Pending:0,Acknowledged:0},userId:"",isConfirmed:!1,statusTabs:[{text:"Pending",color:"orange",value:"Pending",status:"Confirmed"},{text:"Acknowledged",color:"green",value:"Acknowledged",status:"Confirmed"},{text:"All",color:"blue",value:"",status:""}],displayCommentDialog:!1,headers:[{text:"From Date",align:"left",value:"from_date"},{text:"To Date",align:"left",value:"to_date"},{text:"No. of Comments",align:"center",value:"total_comment"},{text:"Status",align:"center",value:"status",sortable:!1},{text:"Action",align:"center",sortable:!1}],showFilters:!1,payrollId:"",dataTableFetch:!0,filters:{fiscal_year:{component:"vue-auto-complete",bind:"fiscal_year",itemValue:"slug",itemText:"name",props:{label:"Select Fiscal Year",prependInnerIcon:"mdi-calendar-month-outline",endpoint:""}}},appliedFilters:{},taxDetails:{display:!1,selectedPayroll:{}},loading:!1,showPayslipDetails:!1,statusColor:{Acknowledged:"green",Pending:"orange",Generated:"purple"},deleteGenerated:!1,selectedTemplate:"",showGenerated:!1,tabComponentKey:0}},computed:{dataTableFilter:function(){return Object(r["a"])({payroll__status:this.statusTabs[this.activeStatus].status,acknowledgement_status:this.statusTabs[this.activeStatus].value,employee__id:this.getAuthStateUserId},this.appliedFilters)}},created:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.getOrganizationSlug,t.next=3,e.getData(m["a"].showGeneratedPayslip(a));case 3:i=t.sent,e.loadTableOnInit=!1,e.dataTableEndpoint=p["a"].getEmployeePayroll+"?employee__detail__organization__slug=".concat(a),e.pagination.sortBy="id",e.filters.fiscal_year.props.endpoint=u["a"].getFiscalYear(a),e.showGenerated=i.show_generated_payslip,e.showGenerated&&(e.statusTabs.unshift({text:"Generated",color:"purple",value:"Generated",status:""}),e.tabComponentKey+=1);case 10:case"end":return t.stop()}}),t)})))()},methods:{processAfterTableLoad:function(e){this.statusCounts={Generated:e.counts.generated,All:e.counts.total,Pending:e.counts.pending,Acknowledged:e.counts.acknowledged},this.selectedTemplate=this.response.payslip_template||"Template 1"},getTaxDetails:function(e){var t="/payroll/employees/".concat(this.getAuthStateUserId,"/payslip/").concat(e,"/tax-detail/");this.getData(t)}}},b=y,x=a("2877"),_=a("6544"),w=a.n(_),k=a("8336"),D=a("b0af"),C=a("99d9"),T=a("cc20"),V=a("8fea"),S=a("169a"),P=a("ce7e"),F=a("132d"),I=a("0789"),$=a("71a3"),A=a("fe57"),O=Object(x["a"])(b,i,n,!1,null,null,null);t["default"]=O.exports;w()(O,{VBtn:k["a"],VCard:D["a"],VCardText:C["c"],VChip:T["a"],VDataTable:V["a"],VDialog:S["a"],VDivider:P["a"],VIcon:F["a"],VSlideYTransition:I["g"],VTab:$["a"],VTabs:A["a"]})},"983c":function(e,t,a){"use strict";a("d3b7");t["a"]={methods:{getData:function(e,t,a){var i=this,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Promise((function(s,r){!i.loading&&e&&(i.clearNonFieldErrors(),i.$validator.errors.clear(),i.loading=n,i.$http.get(e,a||{params:t||{}}).then((function(e){s(e),i.loading=!1})).catch((function(e){i.pushErrors(e),i.notifyInvalidFormResponse(),r(e),i.loading=!1})))}))},getBlockingData:function(e,t,a){var i=this;return new Promise((function(n,s){i.getData(e,t,a,!0).then((function(e){n(e)})).catch((function(e){s(e)}))}))}}}},ec30:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition",absolute:"","offset-y":"","offset-x":""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("div",[a("v-text-field",e._g({class:e.customClass,attrs:{id:e.id,messages:e.messages,label:e.label,error:e.errorMessages.length>0,"error-message":e.errorMessages,disabled:e.disabled,clearable:"",flat:"","data-cy":"time-picker-"+e.dataCyVariable,"hide-details":e.hideDetails,readonly:"","clear-icon":"mdi-close","prepend-inner-icon":e.prependInnerIcon},on:{"click:append":e.resetDateTime,input:function(t){return e.$emit("blur")}},model:{value:e.dateTime,callback:function(t){e.dateTime=t},expression:"dateTime"}},i)),e.errorMessages.length>0?a("span",{staticClass:"danger--text"},[e._v(" "+e._s(e.errorMessages[0])+" ")]):e._e()],1)]}}]),model:{value:e.showPicker,callback:function(t){e.showPicker=t},expression:"showPicker"}},[a("v-card",[a("v-responsive",{attrs:{width:"200"}},[a("div",[a("div",{staticClass:"text-center font-weight-black pa-2"},[e._v("Time")])]),a("v-divider"),a("v-row",{staticClass:"d-flex mx-3",attrs:{id:"time-picker","no-gutters":""}},[a("v-col",[a("v-text-field",{attrs:{mask:"##"},model:{value:e.hour,callback:function(t){e.hour=t},expression:"hour"}})],1),a("v-col",{staticClass:"text-center"},[a("div",{staticClass:"mt-6",domProps:{textContent:e._s(":")}})]),a("v-col",[a("v-text-field",{attrs:{mask:"##"},model:{value:e.minute,callback:function(t){e.minute=t},expression:"minute"}})],1)],1),a("v-divider"),a("v-row",{attrs:{align:"center",justify:"center","no-gutters":""}},[a("v-col",{staticClass:"text-center"},[a("div",[a("v-btn",{attrs:{icon:""},on:{click:function(t){return e.changeHour("increment")}}},[a("v-icon",[e._v(" mdi-chevron-up ")])],1)],1),a("v-btn",{attrs:{icon:""}},[e._v(" "+e._s(e.hour)+" ")]),a("div",[a("v-btn",{attrs:{icon:""},on:{click:function(t){return e.changeHour("decrement")}}},[a("v-icon",[e._v(" mdi-chevron-down ")])],1)],1)],1),a("span",{domProps:{textContent:e._s(":")}}),a("v-col",{staticClass:"text-center"},[a("div",[a("v-btn",{attrs:{icon:""},on:{click:function(t){return e.changeMinute("increment")}}},[a("v-icon",[e._v(" mdi-chevron-up ")])],1)],1),a("v-btn",{attrs:{icon:""}},[e._v(" "+e._s(e.minute)+" ")]),a("div",[a("v-btn",{attrs:{icon:""},on:{click:function(t){return e.changeMinute("decrement")}}},[a("v-icon",[e._v(" mdi-chevron-down ")])],1)],1)],1)],1)],1)],1)],1)},n=[],s=(a("ac1f"),a("1276"),a("d3b7"),a("25f0"),{props:{placeHolder:{type:String,required:!1,default:function(){return"HH:MM:SS"}},messages:{type:Array,required:!1,default:function(){return[]}},dataCyVariable:{type:String,default:""},value:{type:String,default:void 0},id:{type:String,default:""},label:{type:String,default:""},errorMessages:{type:[String,Array],default:function(){return[]}},customClass:{type:[String],default:""},prependInnerIcon:{type:String,default:"mdi-clock-outline"},defaultValue:{validator:function(e){if(""===e)return!0;var t=e.split(":");return 2===t.length&&2===t[0].length&&2===t[1].length},type:String,required:!1,default:""},disabled:{type:Boolean,default:!1},hideDetails:{type:Boolean,default:!1}},data:function(){return{showPicker:!1,menu:!1,date:"",dateTime:"",hour:"",minute:"",seconds:"00"}},computed:{time:function(){return this.hour&&this.minute?this.hour+":"+this.minute:""}},watch:{value:function(e){this.dateTime=e},hour:function(e){var t=this;e=parseInt(e),e>23&&(this.hour=23),e<0&&(this.hour=23),this.setDate(),"00"!==e.toString()&&"0"!==e.toString()&&!1===isNaN(e)&&setTimeout((function(){t.hour=(t.hour<10&&t.hour.toString().length<2?"0":"")+t.hour.toString()}),1e3)},minute:function(e){var t=this;e=parseInt(e),e>59&&(this.minute=59),e<0&&(this.minute=0),this.setDate(),"00"!==e.toString()&&"0"!==e.toString()&&!1===isNaN(e)&&setTimeout((function(){t.minute=(t.minute<10&&t.minute.toString().length<2?"0":"")+t.minute.toString()}),1e3)},dateTime:function(e){this.$emit("input",e)},showPicker:function(e){!this.dateTime&&e&&(this.defaultValue?(this.hour=this.defaultValue.split(":")[0],this.minute=this.defaultValue.split(":")[1]):this.dateTime||(this.hour=this.$dayjs().format("HH"),this.minute=this.$dayjs().format("mm"),this.hour=this.defaultTime.split(":")[0]||this.$dayjs().format("HH:mm"),this.minute=this.defaultTime.split(":")[1]||this.$dayjs().format("mm"),this.setDate()))}},created:function(){this.value&&(this.hour=this.value.split(":")[0],this.minute=this.value.split(":")[1])},methods:{changeHour:function(e){this.hour=parseInt(this.hour),"increment"===e?23===this.hour?this.hour=0:this.hour+=1:0===this.hour?this.hour=23:this.hour-=1},changeMinute:function(e){this.minute=parseInt(this.minute),"increment"===e?59===this.minute?(this.minute=0,this.changeHour("increment")):this.minute+=1:0===this.minute?(this.minute=59,this.changeHour("decrement")):this.minute-=1},setDate:function(){this.dateTime=this.time||""},resetDateTime:function(){this.showPicker=!1,this.dateTime="",this.$emit("click:append")}}}),r=s,o=(a("03e7"),a("2877")),l=a("6544"),c=a.n(l),u=a("8336"),d=a("b0af"),p=a("62ad"),m=a("ce7e"),f=a("132d"),h=a("e449"),v=a("6b53"),g=a("0fd9b"),y=a("8654"),b=Object(o["a"])(r,i,n,!1,null,null,null);t["a"]=b.exports;c()(b,{VBtn:u["a"],VCard:d["a"],VCol:p["a"],VDivider:m["a"],VIcon:f["a"],VMenu:h["a"],VResponsive:v["a"],VRow:g["a"],VTextField:y["a"]})},f12b:function(e,t,a){"use strict";var i=a("f0d5"),n=a("983c"),s=a("f70a"),r=a("6c6f");t["a"]={mixins:[i["a"],n["a"],s["a"],r["a"]]}},f70a:function(e,t,a){"use strict";a("d3b7"),a("caad");t["a"]={methods:{insertData:function(e,t){var a=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=i.validate,s=void 0===n||n,r=i.clearForm,o=void 0===r||r,l=arguments.length>3?arguments[3]:void 0;return new Promise((function(i,n){!a.loading&&e&&(a.clearErrors(),a.$validator.validateAll().then((function(r){s||(r=!0),r&&(a.loading=!0,a.$http.post(e,t,l||{}).then((function(e){a.clearErrors(),o&&(a.formValues={}),a.crud.addAnother||a.$emit("create"),a.crud.message&&setTimeout((function(){a.notifyUser(a.crud.message)}),1e3),i(e),a.loading=!1})).catch((function(e){a.pushErrors(e),a.notifyInvalidFormResponse(),n(e),a.loading=!1})))})))}))},patchData:function(e,t){var a=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=i.validate,s=void 0===n||n,r=i.clearForm,o=void 0===r||r,l=arguments.length>3?arguments[3]:void 0;return new Promise((function(i,n){a.updateData(e,t,{validate:s,clearForm:o},"patch",l).then((function(e){i(e)})).catch((function(e){n(e)}))}))},putData:function(e,t){var a=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=i.validate,s=void 0===n||n,r=i.clearForm,o=void 0===r||r,l=arguments.length>3?arguments[3]:void 0;return new Promise((function(i,n){a.updateData(e,t,{validate:s,clearForm:o},"put",l).then((function(e){i(e)})).catch((function(e){n(e)}))}))},updateData:function(e,t){var a=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=i.validate,s=void 0===n||n,r=i.clearForm,o=void 0===r||r,l=arguments.length>3?arguments[3]:void 0,c=arguments.length>4?arguments[4]:void 0;return new Promise((function(i,n){!a.loading&&e&&["put","patch"].includes(l)&&(a.clearErrors(),a.$validator.validateAll().then((function(r){s||(r=!0),r&&(a.loading=!0,a.$http[l](e,t,c||{}).then((function(e){a.$emit("update"),a.clearErrors(),o&&(a.formValues={}),a.crud.message&&setTimeout((function(){a.notifyUser(a.crud.message)}),1e3),i(e),a.loading=!1})).catch((function(e){a.pushErrors(e),a.notifyInvalidFormResponse(),n(e),a.loading=!1})))})))}))},clearErrors:function(){this.clearNonFieldErrors(),this.$validator.errors.clear()}}}}}]);