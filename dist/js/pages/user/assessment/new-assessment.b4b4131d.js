(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages/user/assessment/new-assessment","chunk-31f8a6e6","chunk-2d2160c2","chunk-2d2160c2","chunk-2d2160c2","chunk-2d2160c2","chunk-2d2160c2"],{"0549":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-row",{staticClass:"mb-3",attrs:{"no-gutters":""}},[t.breadCrumbs?a("v-col",{attrs:{cols:"12"}},[a("v-card",{attrs:{flat:""}},[a("v-breadcrumbs",{staticClass:"text-body-1 pa-2",class:{"text-caption pa-1":t.$vuetify.breakpoint.xs},attrs:{items:t.breadCrumbs},scopedSlots:t._u([{key:"item",fn:function(e){return[a("span",{class:e.item.disabled?"grey--text":"baseColor--text text--accent-2 pointer",domProps:{textContent:t._s(e.item.text)},on:{click:function(a){return t.$router.push(e.item.to)}}})]}}],null,!1,1670153796)},[a("v-icon",{attrs:{slot:"divider"},slot:"divider"},[t._v("mdi-chevron-right")])],1)],1)],1):t._e()],1),a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"12"}},[t._t("default")],2)],1)],1)},i=[],n=a("5530"),r=(a("ac1f"),a("1276"),a("b0c0"),a("2f62")),o={props:{title:{type:String,required:!0},breadCrumbs:{type:Array,default:function(){return[]}}},computed:Object(n["a"])({},Object(r["c"])({getOrganizationName:"organization/getOrganizationName",getSupervisorSwitchedOrganization:"supervisor/getSwitchedOrganization"})),mounted:function(){document.title="".concat(this.title," | RealHRsoft");var t=this.$route.params.slug?"admin-slug-dashboard":"root",e=this.$route.name.split("-"),a=this.getOrganizationName;this.getSupervisorSwitchedOrganization&&"user"===e[0]&&"supervisor"===e[1]&&(a=this.getSupervisorSwitchedOrganization.name),this.breadCrumbs.unshift({text:a,disabled:!1,to:{name:t,params:{slug:this.$route.params.slug}}})}},l=o,c=a("2877"),d=a("6544"),u=a.n(d),h=a("2bc5"),p=a("b0af"),g=a("62ad"),m=a("132d"),f=a("0fd9b"),v=Object(c["a"])(l,s,i,!1,null,null,null);e["default"]=v.exports;u()(v,{VBreadcrumbs:h["a"],VCard:p["a"],VCol:g["a"],VIcon:m["a"],VRow:f["a"]})},"0798":function(t,e,a){"use strict";var s=a("5530"),i=a("ade3"),n=(a("caad"),a("0c18"),a("10d2")),r=a("afdd"),o=a("9d26"),l=a("f2e7"),c=a("7560"),d=a("f40d"),u=a("58df"),h=a("d9bd");e["a"]=Object(u["a"])(n["a"],l["a"],d["a"]).extend({name:"v-alert",props:{border:{type:String,validator:function(t){return["top","right","bottom","left"].includes(t)}},closeLabel:{type:String,default:"$vuetify.close"},coloredBorder:Boolean,dense:Boolean,dismissible:Boolean,closeIcon:{type:String,default:"$cancel"},icon:{default:"",type:[Boolean,String],validator:function(t){return"string"===typeof t||!1===t}},outlined:Boolean,prominent:Boolean,text:Boolean,type:{type:String,validator:function(t){return["info","error","success","warning"].includes(t)}},value:{type:Boolean,default:!0}},computed:{__cachedBorder:function(){if(!this.border)return null;var t={staticClass:"v-alert__border",class:Object(i["a"])({},"v-alert__border--".concat(this.border),!0)};return this.coloredBorder&&(t=this.setBackgroundColor(this.computedColor,t),t.class["v-alert__border--has-color"]=!0),this.$createElement("div",t)},__cachedDismissible:function(){var t=this;if(!this.dismissible)return null;var e=this.iconColor;return this.$createElement(r["a"],{staticClass:"v-alert__dismissible",props:{color:e,icon:!0,small:!0},attrs:{"aria-label":this.$vuetify.lang.t(this.closeLabel)},on:{click:function(){return t.isActive=!1}}},[this.$createElement(o["a"],{props:{color:e}},this.closeIcon)])},__cachedIcon:function(){return this.computedIcon?this.$createElement(o["a"],{staticClass:"v-alert__icon",props:{color:this.iconColor}},this.computedIcon):null},classes:function(){var t=Object(s["a"])(Object(s["a"])({},n["a"].options.computed.classes.call(this)),{},{"v-alert--border":Boolean(this.border),"v-alert--dense":this.dense,"v-alert--outlined":this.outlined,"v-alert--prominent":this.prominent,"v-alert--text":this.text});return this.border&&(t["v-alert--border-".concat(this.border)]=!0),t},computedColor:function(){return this.color||this.type},computedIcon:function(){return!1!==this.icon&&("string"===typeof this.icon&&this.icon?this.icon:!!["error","info","success","warning"].includes(this.type)&&"$".concat(this.type))},hasColoredIcon:function(){return this.hasText||Boolean(this.border)&&this.coloredBorder},hasText:function(){return this.text||this.outlined},iconColor:function(){return this.hasColoredIcon?this.computedColor:void 0},isDark:function(){return!(!this.type||this.coloredBorder||this.outlined)||c["a"].options.computed.isDark.call(this)}},created:function(){this.$attrs.hasOwnProperty("outline")&&Object(h["a"])("outline","outlined",this)},methods:{genWrapper:function(){var t=[this.$slots.prepend||this.__cachedIcon,this.genContent(),this.__cachedBorder,this.$slots.append,this.$scopedSlots.close?this.$scopedSlots.close({toggle:this.toggle}):this.__cachedDismissible],e={staticClass:"v-alert__wrapper"};return this.$createElement("div",e,t)},genContent:function(){return this.$createElement("div",{staticClass:"v-alert__content"},this.$slots.default)},genAlert:function(){var t={staticClass:"v-alert",attrs:{role:"alert"},on:this.listeners$,class:this.classes,style:this.styles,directives:[{name:"show",value:this.isActive}]};if(!this.coloredBorder){var e=this.hasText?this.setTextColor:this.setBackgroundColor;t=e(this.computedColor,t)}return this.$createElement("div",t,[this.genWrapper()])},toggle:function(){this.isActive=!this.isActive}},render:function(t){var e=this.genAlert();return this.transition?t("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},[e]):e}})},"0c18":function(t,e,a){},"17cc":function(t,e,a){"use strict";var s=a("b85c"),i=a("1da1"),n=a("5530");a("96cf"),a("ac1f"),a("841c"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("b64b");e["a"]={data:function(){return{fetchedResults:[],response:{},extra_data:"",appliedFilters:{},footerProps:{itemsPerPageOptions:[10,20,30,40,50,100]},pagination:{sortBy:["modified_at"],descending:!1,totalItems:0,page:1,rowsPerPage:10,pageCount:0},triggerDataTable:!0,fullParams:""}},created:function(){this.getParams(this.DataTableFilter)},methods:{getParams:function(t){var e=Object(n["a"])(Object(n["a"])({},t),{},{offset:(this.pagination.page-1)*this.pagination.rowsPerPage,limit:this.pagination.rowsPerPage,ordering:this.pagination.descending?this.pagination.sortBy:"-"+this.pagination.sortBy});this.fullParams=this.convertToURLSearchParams(e)},loadDataTable:function(t){this.response=t,this.fetchedResults=t.results,this.pagination.totalItems=t.count,this.extra_data=t.extra_data,this.triggerDataTable=!0},fetchData:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var s,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return console.warn("DatatableMixin: fetchData has been deprecated. Please use the function in page itself."),s=Object(n["a"])(Object(n["a"])(Object(n["a"])({},t),e.appliedFilters),{},{search:e.search,offset:(e.pagination.page-1)*e.pagination.rowsPerPage,limit:e.pagination.rowsPerPage,ordering:e.pagination.descending?e.pagination.sortBy:"-"+e.pagination.sortBy}),i=e.convertToURLSearchParams(s),e.loading=!0,a.next=6,e.$http.get(e.endpoint,{params:i}).then((function(t){e.response=t,e.fetchedResults=t.results,e.pagination.totalItems=t.count})).finally((function(){e.loading=!1}));case 6:case"end":return a.stop()}}),a)})))()},applyFilters:function(t){this.appliedFilters=t,this.fetchData(t)},convertToURLSearchParams:function(t){for(var e=new URLSearchParams,a=0,i=Object.keys(t);a<i.length;a++){var n=i[a],r=t[n];if(void 0===r&&(r=""),Array.isArray(r)){var o,l=Object(s["a"])(r);try{for(l.s();!(o=l.n()).done;){var c=o.value;e.append(n,c)}}catch(d){l.e(d)}finally{l.f()}}else e.append(n,r)}return e},loadDataTableChange:function(){var t=this;this.triggerDataTable&&(this.getParams(this.DataTableFilter),this.$nextTick((function(){t.fetchDataTable()})))}},watch:{DataTableFilter:function(t){this.fetchedResults=[],this.getParams(t),this.fetchDataTable(),this.pagination.page=1},"pagination.sortBy":function(){this.fetchedResults=[],this.loadDataTableChange()},"pagination.descending":function(){this.fetchedResults=[],this.loadDataTableChange()},"pagination.page":function(){this.fetchedResults=[],this.loadDataTableChange()},"pagination.rowsPerPage":function(){this.fetchedResults=[],this.loadDataTableChange()}}}},"2bc5":function(t,e,a){"use strict";var s=a("5530"),i=(a("a15b"),a("abd3"),a("ade3")),n=a("1c87"),r=a("58df"),o=Object(r["a"])(n["a"]).extend({name:"v-breadcrumbs-item",props:{activeClass:{type:String,default:"v-breadcrumbs__item--disabled"},ripple:{type:[Boolean,Object],default:!1}},computed:{classes:function(){return Object(i["a"])({"v-breadcrumbs__item":!0},this.activeClass,this.disabled)}},render:function(t){var e=this.generateRouteLink(),a=e.tag,i=e.data;return t("li",[t(a,Object(s["a"])(Object(s["a"])({},i),{},{attrs:Object(s["a"])(Object(s["a"])({},i.attrs),{},{"aria-current":this.isActive&&this.isLink?"page":void 0})}),this.$slots.default)])}}),l=a("80d2"),c=Object(l["i"])("v-breadcrumbs__divider","li"),d=a("7560");e["a"]=Object(r["a"])(d["a"]).extend({name:"v-breadcrumbs",props:{divider:{type:String,default:"/"},items:{type:Array,default:function(){return[]}},large:Boolean},computed:{classes:function(){return Object(s["a"])({"v-breadcrumbs--large":this.large},this.themeClasses)}},methods:{genDivider:function(){return this.$createElement(c,this.$slots.divider?this.$slots.divider:this.divider)},genItems:function(){for(var t=[],e=!!this.$scopedSlots.item,a=[],s=0;s<this.items.length;s++){var i=this.items[s];a.push(i.text),e?t.push(this.$scopedSlots.item({item:i})):t.push(this.$createElement(o,{key:a.join("."),props:i},[i.text])),s<this.items.length-1&&t.push(this.genDivider())}return t}},render:function(t){var e=this.$slots.default||this.genItems();return t("ul",{staticClass:"v-breadcrumbs",class:this.classes},e)}})},"4e53":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",{staticClass:"pb-1",attrs:{"no-gutters":"",align:"center"}},[a("v-col",{staticClass:"pl-1 text-caption",attrs:{md:"6",cols:"12"}},[a("v-row",{staticClass:"px-2",attrs:{align:"center","no-gutters":""}},[a("v-col",{attrs:{cols:t.small?"8":"4"}},[t._v(" Rows Per Page :")]),a("v-col",{attrs:{cols:t.small?"4":"2"}},[a("v-select",{staticClass:"ma-0 text-caption",attrs:{"hide-details":"",dense:"",items:t.footerProps.itemsPerPageOptions},on:{change:function(e){return t.loadData(e)}},model:{value:t.pagination.rowsPerPage,callback:function(e){t.$set(t.pagination,"rowsPerPage",e)},expression:"pagination.rowsPerPage"}})],1)],1)],1),a("v-col",{staticClass:"text-right",attrs:{md:"6",cols:"12"}},[a("v-row",{attrs:{align:"center","no-gutters":""}},[a("v-col",{attrs:{offset:t.small?"0":"6"}}),a("v-col",{staticClass:"text-caption",attrs:{cols:t.small?"8":"4"}},[t._v(" Showing "),0===t.pagination.totalItems?a("span",[t._v(" 0 ")]):a("span",[t._v(" "+t._s(t.pagination.page*t.pagination.rowsPerPage-(t.pagination.rowsPerPage-1))+" ")]),t._v(" - "),t.pagination.totalItems>t.pagination.page*t.pagination.rowsPerPage?a("span",[t._v(" "+t._s(t.pagination.page*t.pagination.rowsPerPage)+" ")]):a("span",[t._v(" "+t._s(t.pagination.totalItems)+" ")]),t._v(" of "+t._s(t.pagination.totalItems)+" ")]),a("v-col",{attrs:{cols:t.small?"4":"2"}},[a("v-icon",{attrs:{text:"",disabled:!t.response.previous||t.loading},domProps:{textContent:t._s("mdi-chevron-left")},on:{click:function(e){t.pagination.page--}}}),a("v-icon",{attrs:{text:"",disabled:!t.response.next||t.loading},domProps:{textContent:t._s("mdi-chevron-right")},on:{click:function(e){t.pagination.page++}}})],1)],1)],1)],1)},i=[],n={props:{pagination:{type:Object,required:!0},footerProps:{type:Object,required:!0},response:{type:[Array,Object],required:!0},small:{type:Boolean,required:!1,default:!1},loading:{type:Boolean,default:!1}},methods:{loadData:function(t){this.pagination.page=1,this.pagination.rowsPerPage=t}}},r=n,o=a("2877"),l=a("6544"),c=a.n(l),d=a("62ad"),u=a("132d"),h=a("0fd9b"),p=a("b974"),g=Object(o["a"])(r,s,i,!1,null,null,null);e["a"]=g.exports;c()(g,{VCol:d["a"],VIcon:u["a"],VRow:h["a"],VSelect:p["a"]})},abd3:function(t,e,a){},ba18:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("vue-page-wrapper",{attrs:{"bread-crumbs":t.breadCrumbItems,title:t.htmlTitle}},[a("v-card",[a("vue-card-title",{attrs:{title:"New Assessment",subtitle:"Please refer to the information below for your assessment information.",icon:"mdi-text-box-plus-outline"}}),a("v-divider"),a("v-tabs",[a("v-tab",{attrs:{"data-cy":"tab-assessment",disabled:t.loading},on:{click:function(e){t.selectedFilter="pending"}}},[t._v(" Pending ")]),a("v-tab",{attrs:{"data-cy":"tab-assessment",disabled:t.loading},on:{click:function(e){t.selectedFilter="in-progress"}}},[t._v(" In Progress ")])],1)],1),t.loading?a("default-svg-loader"):!t.loading&&t.fetchedResults.length>0?a("v-row",[a("v-col",{staticClass:"pb-0",attrs:{cols:"12"}},[a("data-table-card-pagination",{attrs:{"footer-props":t.footerProps,response:t.response,pagination:t.pagination}})],1),t._l(t.fetchedResults,(function(e,s){return a("v-col",{key:s,attrs:{cols:"12"}},[a("take-assessment-card",{attrs:{assessment:e,"user-organization-slug":t.userOrganizationSlug}})],1)}))],2):a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-card",{staticClass:"my-2"},[a("v-card-text",[a("v-alert",{staticClass:"text-body-2 my-2",attrs:{color:"blue-grey",dark:"",type:"info"}},[t._v(" You don't have any assessments for now. ")])],1)],1)],1)],1)],1)},i=[],n=a("5530"),r=(a("d3b7"),a("2f62")),o=a("0549"),l=a("17cc"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{height:"auto"}},[a("v-card-text",{staticClass:"scrollbar-md"},[a("v-row",{attrs:{align:"center"}},[a("v-col",{staticClass:"text-center",attrs:{md:"3"}},[a("v-icon",{staticClass:"pa-5 grey--text",staticStyle:{border:"1px solid #efefef"},attrs:{size:"100"}},[t._v(" mdi-format-list-checks ")])],1),a("v-col",{attrs:{md:"9"}},[t.expired?a("p",{staticClass:"text-right align-center font-weight-bold red--text"},[t._v(" Expired: "+t._s(t._f("dayjs")(t.assessment.expiry_date,"YYYY-MM-DD HH:mm:ss"))+" ")]):a("p",{staticClass:"text-right align-center font-weight-bold"},[t._v(" Expire On: "+t._s(t._f("dayjs")(t.assessment.expiry_date,"YYYY-MM-DD HH:mm:ss"))+" ")]),a("v-row",[a("p",{staticClass:"text-h6 font-weight-bold"},[t._v(t._s(t.assessment.title))]),a("p",{staticClass:"grey--text"},[t._v(" "+t._s(t.assessment.description)+" ")])]),a("v-row",[a("v-col",{attrs:{md:"4"}},[a("strong",[t._v("Duration")]),a("v-chip",{staticClass:"ma-2 font-weight-bold",attrs:{color:"blue",label:"",small:"",outlined:""}},[a("v-icon",{attrs:{left:"",size:"20"}},[t._v("mdi-clock")]),t._v(" "+t._s(t.assessment.duration)+" ")],1)],1),a("v-col",{attrs:{md:"4"}},[a("strong",[t._v("Marginal Weightage")]),a("v-chip",{staticClass:"ma-2 font-weight-bold",attrs:{color:"red",label:"",small:"",outlined:""}},[t._v(" "+t._s(t.assessment.marginal_weightage)+" ")])],1),a("v-col",{attrs:{md:"4"}},[a("strong",[t._v("Total Weightage")]),a("v-chip",{staticClass:"ma-2 font-weight-bold",attrs:{color:"green",label:"",small:"",outlined:""}},[t._v(" "+t._s(t.assessment.total_weightage)+" ")])],1)],1)],1)],1)],1),a("v-divider"),a("v-card-actions",{staticClass:"grey lighten-4"},[a("v-spacer"),a("v-btn",{staticClass:"white--text",attrs:{disabled:t.expired,color:"primary",small:""},on:{click:function(e){return t.takeAssessment()}}},[t._v("Take Assessment")])],1)],1)},d=[],u=(a("99af"),a("c44a")),h={mixins:[u["a"]],props:{assessment:{type:Object,required:!0},userOrganizationSlug:{type:String,required:!0}},data:function(){return{expired:!1}},created:function(){var t=new Date,e=new Date(this.assessment.expiry_date);e<t&&(this.expired=!0)},methods:{takeAssessment:function(){var t=this,e="/assessment/".concat(this.userOrganizationSlug,"/assessments/").concat(this.assessment.id,"/take/start/");this.$http.post(e).then((function(){t.notifyUser("Your assessment will take place shortly.")})).catch((function(){})),this.$router.push({name:"user-assessment-id-take-assessment",params:{id:this.assessment.id}})}}},p=h,g=a("2877"),m=a("6544"),f=a.n(m),v=a("8336"),b=a("b0af"),_=a("99d9"),y=a("cc20"),C=a("62ad"),x=a("ce7e"),w=a("132d"),P=a("0fd9b"),O=a("2fa4"),$=Object(g["a"])(p,c,d,!1,null,null,null),j=$.exports;f()($,{VBtn:v["a"],VCard:b["a"],VCardActions:_["a"],VCardText:_["c"],VChip:y["a"],VCol:C["a"],VDivider:x["a"],VIcon:w["a"],VRow:P["a"],VSpacer:O["a"]});var k=a("4e53"),D=a("c197"),S={components:{VuePageWrapper:o["default"],TakeAssessmentCard:j,DataTableCardPagination:k["a"],DefaultSvgLoader:D["default"]},mixins:[l["a"]],data:function(){return{htmlTitle:"Assessment | New | User",breadCrumbItems:[{text:"Assessment",disabled:!0},{text:"New",disabled:!0}],showFilters:!1,filters:{},loading:!1,selectedFilter:"pending"}},computed:Object(n["a"])(Object(n["a"])({},Object(r["c"])({userOrganizationSlug:"organization/getCurrentOrganizationSlug"})),{},{DataTableFilter:function(){return{status:this.selectedFilter,my:!0}}}),mounted:function(){this.fetchDataTable()},methods:{fetchDataTable:function(){var t=this;this.loading=!0;var e="/assessment/".concat(this.userOrganizationSlug,"/assessments/");this.$http.get(e,{params:this.fullParams}).then((function(e){e.count>0&&"in-progress"===t.selectedFilter?t.$router.push({name:"user-assessment-id-take-assessment",params:{id:e.results[0].id},query:{status:"resume"}}):t.loadDataTable(e)})).finally((function(){t.loading=!1}))}}},T=S,B=a("0798"),V=a("71a3"),I=a("fe57"),R=Object(g["a"])(T,s,i,!1,null,null,null);e["default"]=R.exports;f()(R,{VAlert:B["a"],VCard:b["a"],VCardText:_["c"],VCol:C["a"],VDivider:x["a"],VRow:P["a"],VTab:V["a"],VTabs:I["a"]})},c197:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.divClass},[a("v-img",{class:t.imgClass,attrs:{src:"/svg/three-dots.svg",height:t.height,contain:""}}),a("h3",{staticClass:"text-center grey--text",domProps:{textContent:t._s(t.message)}})],1)},i=[],n={props:{message:{type:String,default:"Please wait. Fetching data just for you ..."},divClass:{type:String,default:"pa-12"},imgClass:{type:String,default:"my-6"},height:{type:String,default:"20"}},data:function(){return{}}},r=n,o=a("2877"),l=a("6544"),c=a.n(l),d=a("adda"),u=Object(o["a"])(r,s,i,!1,null,null,null);e["default"]=u.exports;c()(u,{VImg:d["a"]})}}]);