(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages/index","chunk-26c51c79","pages/user/events/_id/posts/_postId/index~pages/user/events/_id/posts/scheduled/index~pages/user/pos~b020450d","pages/user/events/_id/posts/scheduled/index~pages/user/posts/_id/index~pages/user/posts/scheduled/index","chunk-1b4245df","chunk-2d0e6279"],{"0075":function(t,e,n){"use strict";n("99af");e["a"]={getHoliday:function(t){return"/org/".concat(t,"/holiday/")},postHoliday:function(t){return"/org/".concat(t,"/holiday/")},updateHoliday:function(t,e){return"/org/".concat(t,"/holiday/").concat(e,"/")},deleteHoliday:function(t,e){return"/org/".concat(t,"/holiday/").concat(e,"/")},exportHoliday:function(t){return"/org/".concat(t,"/holiday/export/")},importHoliday:function(t){return"/org/".concat(t,"/holiday/import/")},downloadSampleHoliday:function(t){return"/org/".concat(t,"/holiday/import/sample")}}},"0346":function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.editable?n("attachment-form",{attrs:{images:t.images},on:{add:t.addPostImage,delete:t.deleteAttachment}}):n("attachment-view",{attrs:{attachments:t.attachments}})},i=[],a=(n("a434"),n("b0c0"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-row",{attrs:{dense:!t.meetingRoom,"no-gutters":t.meetingRoom}},[t._l(t.images,(function(e,s){return n("v-col",{key:s,staticClass:"pa-2",attrs:{cols:t.meetingRoom?"2":"3"}},[n("v-hover",{scopedSlots:t._u([{key:"default",fn:function(i){var a=i.hover;return n("v-img",{staticStyle:{border:"1px solid #efefef"},attrs:{src:e.image,width:t.meetingRoom?"200":"115",height:t.meetingRoom?"200":"115",cover:""}},[a?n("v-icon",{staticClass:"float-right ma-1",attrs:{color:"danger"},domProps:{textContent:t._s("mdi-close")},on:{click:function(e){return t.deleteAttachment(s)}}}):n("v-chip",{staticClass:"float-right ma-1",attrs:{color:"primary",small:""}},[t._v(" "+t._s(s+1)+" ")])],1)}}],null,!0)})],1)})),n("v-col",[n("v-responsive",{staticClass:"primaryLight pointer",attrs:{height:t.meetingRoom?"":"115",width:t.images.length?115:"100%"},on:{click:function(e){return t.$refs.updateImage.click()}}},[n("v-row",{staticClass:"fill-height",attrs:{justify:"center",align:"center"}},[n("v-icon",{attrs:{size:"50",color:"primary"},domProps:{textContent:t._s("mdi-plus")}}),t.images.length?t._e():n("a",{domProps:{textContent:t._s("Upload An Image")}})],1)],1)],1)],2),n("input",{ref:"updateImage",staticClass:"d-none",attrs:{type:"file",accept:"image/*",multiple:""},on:{change:t.addPostImage}})],1)}),o=[],r=(n("159b"),n("b64b"),n("c44a")),c={mixins:[r["a"]],props:{images:{type:Array,default:void 0},meetingRoom:{type:Boolean,default:!1}},data:function(){return{totalFileSize:[]}},methods:{deleteAttachment:function(t){this.$emit("delete",t)},getSum:function(t,e){return t+e},addPostImage:function(t){this.validateFileSize(t)&&this.$emit("add",t),this.$refs.updateImage.value=""},validateFileSize:function(t){var e=this,n=!0,s=t.target.files;return Object.keys(s).forEach((function(i){var a=t.target.files[i].size;a>5242880?(Object.keys(s).length>1?e.notifyUser("File size of some images are greater than 5MB.","red"):e.notifyUser("File size cannot be greater than 5MB.","red"),n=!1):(e.totalFileSize.push(t.target.files[i].size),e.totalFileSize.reduce(e.getSum)>52428800&&(e.notifyUser("Total File Size cannot be greater than 50MB.","red"),n=!1))})),n}}},l=c,d=(n("c9ae"),n("2877")),u=n("6544"),p=n.n(u),m=n("cc20"),h=n("62ad"),f=n("ce87"),v=n("132d"),g=n("adda"),y=n("6b53"),_=n("0fd9b"),b=Object(d["a"])(l,a,o,!1,null,"225f022e",null),x=b.exports;p()(b,{VChip:m["a"],VCol:h["a"],VHover:f["a"],VIcon:v["a"],VImg:g["a"],VResponsive:y["a"],VRow:_["a"]});var C=n("facf"),w={components:{AttachmentForm:x,AttachmentView:C["a"]},props:{attachments:{type:Array,required:!0},editable:{type:Boolean,default:!1}},data:function(){return{images:this.deepCopy(this.attachments)}},watch:{editable:function(){this.images=this.deepCopy(this.attachments)},attachments:function(t){this.images=this.deepCopy(t)}},methods:{deleteAttachment:function(t){this.images[t].id?this.$emit("delete",this.images[t].id):this.images[t].image&&this.$emit("remove",t),this.images.splice(t,1)},addPostImage:function(t){for(var e=this,n=t.target.files,s=function(t){e.$emit("add",{file:n[t],name:n[t].name});var s=new FileReader;s.readAsDataURL(n[t]),s.addEventListener("load",(function(){e.images.push({image:s.result})}))},i=0;i<n.length;i++)s(i)}}},k=w,P=(n("d75f"),Object(d["a"])(k,s,i,!1,null,"57f6e220",null));e["a"]=P.exports},"0393":function(t,e,n){"use strict";var s=n("5530"),i=(n("0481"),n("210b"),n("604c")),a=n("d9bd");e["a"]=i["a"].extend({name:"v-expansion-panels",provide:function(){return{expansionPanels:this}},props:{accordion:Boolean,disabled:Boolean,flat:Boolean,hover:Boolean,focusable:Boolean,inset:Boolean,popout:Boolean,readonly:Boolean,tile:Boolean},computed:{classes:function(){return Object(s["a"])(Object(s["a"])({},i["a"].options.computed.classes.call(this)),{},{"v-expansion-panels":!0,"v-expansion-panels--accordion":this.accordion,"v-expansion-panels--flat":this.flat,"v-expansion-panels--hover":this.hover,"v-expansion-panels--focusable":this.focusable,"v-expansion-panels--inset":this.inset,"v-expansion-panels--popout":this.popout,"v-expansion-panels--tile":this.tile})}},created:function(){this.$attrs.hasOwnProperty("expand")&&Object(a["a"])("expand","multiple",this),Array.isArray(this.value)&&this.value.length>0&&"boolean"===typeof this.value[0]&&Object(a["a"])(':value="[true, false, true]"',':value="[0, 2]"',this)},methods:{updateItem:function(t,e){var n=this.getValue(t,e),s=this.getValue(t,e+1);t.isActive=this.toggleMethod(n),t.nextIsActive=this.toggleMethod(s)}}})},"093e":function(t,e,n){},1050:function(t,e,n){"use strict";n("99d7")},"152f":function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.response?n("v-card",{on:{click:t.viewMore}},[t.response.image?n("v-img",{attrs:{src:t.response.image,alt:t.response.title,"aspect-ratio":"2"}}):t._e(),n("v-card-text",[n("div",{domProps:{textContent:t._s(t.response.title)}}),n("div",{domProps:{textContent:t._s(t.response.description)}})])],1):t._e()},i=[],a=n("38ef"),o={props:{url:{type:[String,Array],default:""}},data:function(){return{response:null}},watch:{url:function(){this.response=null,this.getLinkPreview()}},created:function(){this.getLinkPreview()},methods:{viewMore:function(){var t=window.open(this.url,"_blank");t.focus()},getLinkPreview:function(){var t=this,e=a["a"].getLinkPreview;this.$http.get(e+"?url=".concat(this.url[0])).then((function(e){t.response=e.data}))}}},r=o,c=n("2877"),l=n("6544"),d=n.n(l),u=n("b0af"),p=n("99d9"),m=n("adda"),h=Object(c["a"])(r,s,i,!1,null,null,null);e["a"]=h.exports;d()(h,{VCard:u["a"],VCardText:p["c"],VImg:m["a"]})},"17cc":function(t,e,n){"use strict";var s=n("b85c"),i=n("1da1"),a=n("5530");n("96cf"),n("ac1f"),n("841c"),n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),n("b64b");e["a"]={data:function(){return{fetchedResults:[],response:{},extra_data:"",appliedFilters:{},footerProps:{itemsPerPageOptions:[10,20,30,40,50,100]},pagination:{sortBy:["modified_at"],descending:!1,totalItems:0,page:1,rowsPerPage:10,pageCount:0},triggerDataTable:!0,fullParams:""}},created:function(){this.getParams(this.DataTableFilter)},methods:{getParams:function(t){var e=Object(a["a"])(Object(a["a"])({},t),{},{offset:(this.pagination.page-1)*this.pagination.rowsPerPage,limit:this.pagination.rowsPerPage,ordering:this.pagination.descending?this.pagination.sortBy:"-"+this.pagination.sortBy});this.fullParams=this.convertToURLSearchParams(e)},loadDataTable:function(t){this.response=t,this.fetchedResults=t.results,this.pagination.totalItems=t.count,this.extra_data=t.extra_data,this.triggerDataTable=!0},fetchData:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var s,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return console.warn("DatatableMixin: fetchData has been deprecated. Please use the function in page itself."),s=Object(a["a"])(Object(a["a"])(Object(a["a"])({},t),e.appliedFilters),{},{search:e.search,offset:(e.pagination.page-1)*e.pagination.rowsPerPage,limit:e.pagination.rowsPerPage,ordering:e.pagination.descending?e.pagination.sortBy:"-"+e.pagination.sortBy}),i=e.convertToURLSearchParams(s),e.loading=!0,n.next=6,e.$http.get(e.endpoint,{params:i}).then((function(t){e.response=t,e.fetchedResults=t.results,e.pagination.totalItems=t.count})).finally((function(){e.loading=!1}));case 6:case"end":return n.stop()}}),n)})))()},applyFilters:function(t){this.appliedFilters=t,this.fetchData(t)},convertToURLSearchParams:function(t){for(var e=new URLSearchParams,n=0,i=Object.keys(t);n<i.length;n++){var a=i[n],o=t[a];if(void 0===o&&(o=""),Array.isArray(o)){var r,c=Object(s["a"])(o);try{for(c.s();!(r=c.n()).done;){var l=r.value;e.append(a,l)}}catch(d){c.e(d)}finally{c.f()}}else e.append(a,o)}return e},loadDataTableChange:function(){var t=this;this.triggerDataTable&&(this.getParams(this.DataTableFilter),this.$nextTick((function(){t.fetchDataTable()})))}},watch:{DataTableFilter:function(t){this.fetchedResults=[],this.getParams(t),this.fetchDataTable(),this.pagination.page=1},"pagination.sortBy":function(){this.fetchedResults=[],this.loadDataTableChange()},"pagination.descending":function(){this.fetchedResults=[],this.loadDataTableChange()},"pagination.page":function(){this.fetchedResults=[],this.loadDataTableChange()},"pagination.rowsPerPage":function(){this.fetchedResults=[],this.loadDataTableChange()}}}},"1e6c":function(t,e,n){"use strict";var s=n("9d65"),i=n("4e82"),a=n("c3f0"),o=n("80d2"),r=n("58df"),c=Object(r["a"])(s["a"],Object(i["a"])("windowGroup","v-window-item","v-window"));e["a"]=c.extend().extend().extend({name:"v-window-item",directives:{Touch:a["a"]},props:{disabled:Boolean,reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},value:{required:!1}},data:function(){return{isActive:!1,inTransition:!1}},computed:{classes:function(){return this.groupClasses},computedTransition:function(){return this.windowGroup.internalReverse?"undefined"!==typeof this.reverseTransition?this.reverseTransition||"":this.windowGroup.computedTransition:"undefined"!==typeof this.transition?this.transition||"":this.windowGroup.computedTransition}},methods:{genDefaultSlot:function(){return this.$slots.default},genWindowItem:function(){return this.$createElement("div",{staticClass:"v-window-item",class:this.classes,directives:[{name:"show",value:this.isActive}],on:this.$listeners},this.genDefaultSlot())},onAfterTransition:function(){this.inTransition&&(this.inTransition=!1,this.windowGroup.transitionCount>0&&(this.windowGroup.transitionCount--,0===this.windowGroup.transitionCount&&(this.windowGroup.transitionHeight=void 0)))},onBeforeTransition:function(){this.inTransition||(this.inTransition=!0,0===this.windowGroup.transitionCount&&(this.windowGroup.transitionHeight=Object(o["g"])(this.windowGroup.$el.clientHeight)),this.windowGroup.transitionCount++)},onTransitionCancelled:function(){this.onAfterTransition()},onEnter:function(t){var e=this;this.inTransition&&this.$nextTick((function(){e.computedTransition&&e.inTransition&&(e.windowGroup.transitionHeight=Object(o["g"])(t.clientHeight))}))}},render:function(t){var e=this;return t("transition",{props:{name:this.computedTransition},on:{beforeEnter:this.onBeforeTransition,afterEnter:this.onAfterTransition,enterCancelled:this.onTransitionCancelled,beforeLeave:this.onBeforeTransition,afterLeave:this.onAfterTransition,leaveCancelled:this.onTransitionCancelled,enter:this.onEnter}},this.showLazyContent((function(){return[e.genWindowItem()]})))}})},"1f09":function(t,e,n){},"210b":function(t,e,n){},"2ab5":function(t,e,n){"use strict";n("9d1c")},3129:function(t,e,n){"use strict";var s=n("3835"),i=n("5530"),a=(n("ac1f"),n("1276"),n("d81d"),n("a630"),n("3ca3"),n("5319"),n("1f09"),n("c995")),o=n("24b2"),r=n("7560"),c=n("58df"),l=n("80d2");e["a"]=Object(c["a"])(a["a"],o["a"],r["a"]).extend({name:"VSkeletonLoader",props:{boilerplate:Boolean,loading:Boolean,tile:Boolean,transition:String,type:String,types:{type:Object,default:function(){return{}}}},computed:{attrs:function(){return this.isLoading?this.boilerplate?{}:Object(i["a"])({"aria-busy":!0,"aria-live":"polite",role:"alert"},this.$attrs):this.$attrs},classes:function(){return Object(i["a"])(Object(i["a"])({"v-skeleton-loader--boilerplate":this.boilerplate,"v-skeleton-loader--is-loading":this.isLoading,"v-skeleton-loader--tile":this.tile},this.themeClasses),this.elevationClasses)},isLoading:function(){return!("default"in this.$scopedSlots)||this.loading},rootTypes:function(){return Object(i["a"])({actions:"button@2",article:"heading, paragraph",avatar:"avatar",button:"button",card:"image, card-heading","card-avatar":"image, list-item-avatar","card-heading":"heading",chip:"chip","date-picker":"list-item, card-heading, divider, date-picker-options, date-picker-days, actions","date-picker-options":"text, avatar@2","date-picker-days":"avatar@28",heading:"heading",image:"image","list-item":"text","list-item-avatar":"avatar, text","list-item-two-line":"sentences","list-item-avatar-two-line":"avatar, sentences","list-item-three-line":"paragraph","list-item-avatar-three-line":"avatar, paragraph",paragraph:"text@3",sentences:"text@2",table:"table-heading, table-thead, table-tbody, table-tfoot","table-heading":"heading, text","table-thead":"heading@6","table-tbody":"table-row-divider@6","table-row-divider":"table-row, divider","table-row":"table-cell@6","table-cell":"text","table-tfoot":"text@2, avatar@2",text:"text"},this.types)}},methods:{genBone:function(t,e){return this.$createElement("div",{staticClass:"v-skeleton-loader__".concat(t," v-skeleton-loader__bone")},e)},genBones:function(t){var e=this,n=t.split("@"),i=Object(s["a"])(n,2),a=i[0],o=i[1],r=function(){return e.genStructure(a)};return Array.from({length:o}).map(r)},genStructure:function(t){var e=[];t=t||this.type||"";var n=this.rootTypes[t]||"";if(t===n);else{if(t.indexOf(",")>-1)return this.mapBones(t);if(t.indexOf("@")>-1)return this.genBones(t);n.indexOf(",")>-1?e=this.mapBones(n):n.indexOf("@")>-1?e=this.genBones(n):n&&e.push(this.genStructure(n))}return[this.genBone(t,e)]},genSkeleton:function(){var t=[];return this.isLoading?t.push(this.genStructure()):t.push(Object(l["s"])(this)),this.transition?this.$createElement("transition",{props:{name:this.transition},on:{afterEnter:this.resetStyles,beforeEnter:this.onBeforeEnter,beforeLeave:this.onBeforeLeave,leaveCancelled:this.resetStyles}},t):t},mapBones:function(t){return t.replace(/\s/g,"").split(",").map(this.genStructure)},onBeforeEnter:function(t){this.resetStyles(t),this.isLoading&&(t._initialStyle={display:t.style.display,transition:t.style.transition},t.style.setProperty("transition","none","important"))},onBeforeLeave:function(t){t.style.setProperty("display","none","important")},resetStyles:function(t){t._initialStyle&&(t.style.display=t._initialStyle.display||"",t.style.transition=t._initialStyle.transition,delete t._initialStyle)}},render:function(t){return t("div",{staticClass:"v-skeleton-loader",attrs:this.attrs,on:this.$listeners,class:this.classes,style:this.isLoading?this.measurableStyles:void 0},[this.genSkeleton()])}})},3485:function(t,e,n){"use strict";n("093e")},3533:function(t,e,n){"use strict";n("e580")},3860:function(t,e,n){"use strict";var s=n("604c");e["a"]=s["a"].extend({name:"button-group",provide:function(){return{btnToggle:this}},computed:{classes:function(){return s["a"].options.computed.classes.call(this)}},methods:{genData:s["a"].options.methods.genData}})},"3e35":function(t,e,n){"use strict";var s=n("5530"),i=n("1e6c"),a=n("adda"),o=n("58df"),r=n("80d2"),c=n("1c87"),l=Object(o["a"])(i["a"],c["a"]);e["a"]=l.extend({name:"v-carousel-item",inheritAttrs:!1,methods:{genDefaultSlot:function(){return[this.$createElement(a["a"],{staticClass:"v-carousel__item",props:Object(s["a"])(Object(s["a"])({},this.$attrs),{},{height:this.windowGroup.internalHeight}),on:this.$listeners,scopedSlots:{placeholder:this.$scopedSlots.placeholder}},Object(r["s"])(this))]},genWindowItem:function(){var t=this.generateRouteLink(),e=t.tag,n=t.data;return n.staticClass="v-window-item",n.directives.push({name:"show",value:this.isActive}),this.$createElement(e,n,this.genDefaultSlot())}}})},"3e57":function(t,e,n){},"44d9":function(t,e,n){"use strict";n("3e57")},"49e2":function(t,e,n){"use strict";var s=n("0789"),i=n("9d65"),a=n("a9ad"),o=n("3206"),r=n("80d2"),c=n("58df"),l=Object(c["a"])(i["a"],a["a"],Object(o["a"])("expansionPanel","v-expansion-panel-content","v-expansion-panel"));e["a"]=l.extend().extend({name:"v-expansion-panel-content",computed:{isActive:function(){return this.expansionPanel.isActive}},created:function(){this.expansionPanel.registerContent(this)},beforeDestroy:function(){this.expansionPanel.unregisterContent()},render:function(t){var e=this;return t(s["a"],this.showLazyContent((function(){return[t("div",e.setBackgroundColor(e.color,{staticClass:"v-expansion-panel-content",directives:[{name:"show",value:e.isActive}]}),[t("div",{class:"v-expansion-panel-content__wrap"},Object(r["s"])(e))])]})))}})},"4a99":function(t,e,n){},"5e66":function(t,e,n){"use strict";var s=n("5530"),i=(n("a9e3"),n("63b7"),n("f665")),a=n("afdd"),o=n("9d26"),r=n("37c6"),c=n("3860"),l=n("80d2"),d=n("d9bd");e["a"]=i["a"].extend({name:"v-carousel",props:{continuous:{type:Boolean,default:!0},cycle:Boolean,delimiterIcon:{type:String,default:"$delimiter"},height:{type:[Number,String],default:500},hideDelimiters:Boolean,hideDelimiterBackground:Boolean,interval:{type:[Number,String],default:6e3,validator:function(t){return t>0}},mandatory:{type:Boolean,default:!0},progress:Boolean,progressColor:String,showArrows:{type:Boolean,default:!0},verticalDelimiters:{type:String,default:void 0}},data:function(){return{internalHeight:this.height,slideTimeout:void 0}},computed:{classes:function(){return Object(s["a"])(Object(s["a"])({},i["a"].options.computed.classes.call(this)),{},{"v-carousel":!0,"v-carousel--hide-delimiter-background":this.hideDelimiterBackground,"v-carousel--vertical-delimiters":this.isVertical})},isDark:function(){return this.dark||!this.light},isVertical:function(){return null!=this.verticalDelimiters}},watch:{internalValue:"restartTimeout",interval:"restartTimeout",height:function(t,e){t!==e&&t&&(this.internalHeight=t)},cycle:function(t){t?this.restartTimeout():(clearTimeout(this.slideTimeout),this.slideTimeout=void 0)}},created:function(){this.$attrs.hasOwnProperty("hide-controls")&&Object(d["a"])("hide-controls",':show-arrows="false"',this)},mounted:function(){this.startTimeout()},methods:{genControlIcons:function(){return this.isVertical?null:i["a"].options.methods.genControlIcons.call(this)},genDelimiters:function(){return this.$createElement("div",{staticClass:"v-carousel__controls",style:{left:"left"===this.verticalDelimiters&&this.isVertical?0:"auto",right:"right"===this.verticalDelimiters?0:"auto"}},[this.genItems()])},genItems:function(){for(var t=this,e=this.items.length,n=[],s=0;s<e;s++){var i=this.$createElement(a["a"],{staticClass:"v-carousel__controls__item",attrs:{"aria-label":this.$vuetify.lang.t("$vuetify.carousel.ariaLabel.delimiter",s+1,e)},props:{icon:!0,small:!0,value:this.getValue(this.items[s],s)}},[this.$createElement(o["a"],{props:{size:18}},this.delimiterIcon)]);n.push(i)}return this.$createElement(c["a"],{props:{value:this.internalValue,mandatory:this.mandatory},on:{change:function(e){t.internalValue=e}}},n)},genProgress:function(){return this.$createElement(r["a"],{staticClass:"v-carousel__progress",props:{color:this.progressColor,value:(this.internalIndex+1)/this.items.length*100}})},restartTimeout:function(){this.slideTimeout&&clearTimeout(this.slideTimeout),this.slideTimeout=void 0,window.requestAnimationFrame(this.startTimeout)},startTimeout:function(){this.cycle&&(this.slideTimeout=window.setTimeout(this.next,+this.interval>0?+this.interval:6e3))}},render:function(t){var e=i["a"].options.render.call(this,t);return e.data.style="height: ".concat(Object(l["g"])(this.height),";"),this.hideDelimiters||e.children.push(this.genDelimiters()),(this.progress||this.progressColor)&&e.children.push(this.genProgress()),e}})},"63b7":function(t,e,n){},"6d1c":function(t,e,n){"use strict";e["a"]={getPost:"/noticeboard/posts/",submitPost:"/noticeboard/posts/",patchPost:function(t){return"/noticeboard/posts/".concat(t,"/")},getLikedPostById:function(t){return"/noticeboard/post/like/".concat(t,"/")},likePostById:function(t){return"/noticeboard/post/like/".concat(t,"/")},getLikedCommentById:function(t){return"/noticeboard/post/comment/like/".concat(t,"/")},deletePostById:function(t){return"/noticeboard/posts/".concat(t,"/")},commentPostById:function(t){return"/noticeboard/post/comment/".concat(t,"/")},getCommentByPostId:function(t){return"/noticeboard/post/comment/".concat(t,"/")},getTrendingPost:"/noticeboard/posts/trending/",approveRequest:function(t){return"/noticeboard/posts/".concat(t,"/approve/")},denyRequest:function(t){return"/noticeboard/posts/".concat(t,"/deny/")}}},"6df2":function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-data-table",{attrs:{headers:t.headers,items:t.fetchedResults,"sort-desc":t.pagination.descending,"sort-by":t.pagination.sortBy,page:t.pagination.page,"items-per-page":t.pagination.rowsPerPage,"footer-props":t.overview||t.dashboard?{itemsPerPageOptions:[10]}:t.footerProps,"server-items-length":t.pagination.totalItems,"mobile-breakpoint":0,"must-sort":"","single-expand":""},on:{"update:sortDesc":function(e){return t.$set(t.pagination,"descending",e)},"update:sort-desc":function(e){return t.$set(t.pagination,"descending",e)},"update:sortBy":function(e){return t.$set(t.pagination,"sortBy",e)},"update:sort-by":function(e){return t.$set(t.pagination,"sortBy",e)},"update:page":function(e){return t.$set(t.pagination,"page",e)},"update:itemsPerPage":function(e){return t.$set(t.pagination,"rowsPerPage",e)},"update:items-per-page":function(e){return t.$set(t.pagination,"rowsPerPage",e)}},scopedSlots:t._u([{key:"item",fn:function(e){return[n("tr",[n("td",[n("v-tooltip",{attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function(s){var i=s.on;return[n("a",t._g({on:{click:function(n){return t.viewTaskDetails(e.item.id)}}},i),[t._v(" "+t._s(e.item.id)+": "+t._s(t._f("truncate")(e.item.title,30))+" ")])]}}],null,!0)},[n("span",{domProps:{textContent:t._s(e.item.title)}})]),e.item.parent&&e.item.can_view_parent_task?n("div",{on:{click:function(n){return t.viewTaskDetails(e.item.parent.id)}}},[n("span",{domProps:{textContent:t._s("Parent task: ")}}),n("v-tooltip",{attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function(s){var i=s.on;return[n("span",t._g({on:{click:function(n){return t.viewTaskDetails(e.item.parent.id)}}},i),[t._v(t._s(t._f("truncate")(e.item.parent.title,35,"...")))])]}}],null,!0)},[n("span",{domProps:{textContent:t._s(e.item.parent.title)}})])],1):t._e(),t.recurring?n("v-icon",{domProps:{textContent:t._s(e.expanded?"mdi-menu-up":"mdi-menu-down")},on:{click:function(t){return e.expand(!e.isExpanded)}}}):t._e()],1),n("td",[n("div",[t._v(" "+t._s(t._f("dayjs")(e.item.deadline,"YYYY-MM-DD"))+" ")]),n("div",[t._v(" "+t._s(t._f("dayjs")(e.item.deadline,"h:mm a"))+" ")])]),t.overview?t._e():n("td",[n("vue-user",{attrs:{user:e.item.created_by,size:"25"}})],1),t.overview?t._e():n("td",[n("user-thumbnails",{attrs:{users:e.item.responsible_persons.map((function(t){return t.user})),"total-users":e.item.responsible_persons.length},on:{showMore:function(n){t.responsiblePerson.data=e.item.responsible_persons,t.responsiblePerson.dialog=!0}}})],1),n("td",{staticClass:"text-center"},[n("v-chip",{attrs:{color:e.item.is_delayed?"red":t.taskStatus(e.item.status-1).color,outlined:"",small:""}},[n("span",[t._v(" "+t._s(t.taskStatus(e.item.status-1).text)+" ")])])],1),t.overview?t._e():n("td",{staticClass:"text-center"},[n("span",{class:{"red--text":"CRITICAL"===e.item.priority},domProps:{textContent:t._s(e.item.priority)}})])])]}},{key:"expanded-item",fn:function(e){var s=e.item,i=e.headers;return[n("td",{attrs:{colspan:i.length}},[n("v-card",{attrs:{flat:""}},t._l(s.recurring_task_queue,(function(e,s){return n("ul",{key:s},[e.created_task?n("li",[n("v-tooltip",{attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function(s){var i=s.on;return[n("a",t._g({on:{click:function(n){return t.viewTaskDetails(e.created_task.id)}}},i),[t._v(" "+t._s(e.created_task.id)+": "+t._s(e.created_task.title)+" ")])]}}],null,!0)},[n("span",{domProps:{textContent:t._s(e.created_task.title)}})]),n("v-col",[n("div",[t._v(" Deadline: "),n("span",[t._v(t._s(e.created_task.deadline))])]),n("div",[t._v(" Priority: "),n("span",[t._v(t._s(e.created_task.priority))])]),n("div",[t._v(" Status: "),n("span",[t._v(t._s(t.taskStatusMap[e.created_task.status-1]))])])])],1):n("li",[t._v(" A new task will be created at "+t._s(t.humanizeDate(e.timestamp))+" ")])])})),0)],1)]}}])},[n("template",{slot:"no-data"},[n("data-table-no-data",{attrs:{loading:t.loading}})],1)],2),t.responsiblePerson.dialog?n("user-list-dialog",{attrs:{users:t.responsiblePerson.data.map((function(t){return t.user}))},on:{close:function(e){t.responsiblePerson.dialog=!1}},model:{value:t.responsiblePerson.dialog,callback:function(e){t.$set(t.responsiblePerson,"dialog",e)},expression:"responsiblePerson.dialog"}}):t._e()],1)},i=[],a=(n("d3b7"),n("17cc")),o=n("cde3"),r=n("02cb"),c=n("a51f"),l=n("9815"),d={components:{DataTableNoData:c["default"],UserThumbnails:o["default"],VueUser:r["default"],UserListDialog:l["default"]},mixins:[a["a"]],props:{taskEndpoint:{type:String,required:!0},taskSearch:{type:String,required:!1,default:function(){return""}},taskSummary:{type:Object,required:!1,default:function(){return{}}},overview:{type:Boolean,default:!1},dashboard:{type:Boolean,default:!1},recurring:{type:Boolean,default:!1}},data:function(){return{loading:!1,fullHeaders:[{text:"Title",align:"left",sortable:!1},{text:"Deadline",align:"left",sortable:!0,value:"deadline"},{text:"Assigned BY",align:"left",sortable:!1},{text:"Assigned TO",align:"left",sortable:!1},{text:"Status",align:"center",sortable:!1},{text:"Priority",align:"left",sortable:!1}],taskStatusMap:["Pending","In Progress","On Hold","Completed","Closed"],overviewHeaders:[{text:"Title",align:"left",sortable:!1},{text:"Deadline",align:"left",sortable:!0,value:"deadline"},{text:"Status",align:"center",sortable:!1}],headers:[],search:"",showAllResponsiblePerson:!1,responsiblePerson:{dialog:!1,data:[]}}},watch:{taskEndpoint:function(t){t&&this.refreshDataTable(t)}},created:function(){this.headers=this.overview?this.overviewHeaders:this.fullHeaders,this.loadDataTableChange()},methods:{fetchDataTable:function(){var t=this;this.loading=!0,this.$http.get(this.taskEndpoint,{params:this.fullParams}).then((function(e){t.loadDataTable(e),t.$emit("update:taskSummary",e.summary)})).finally((function(){t.loading=!1}))},viewTaskDetails:function(t){var e=this.get(this.$route.params,"slug");this.$router.push({name:e?"admin-slug-task-id-detail":"user-task-my-id-detail",params:{id:t,slug:e||""}})},refreshDataTable:function(){this.fetchDataTable()},taskStatus:function(t){var e=[{text:"Pending",color:"amber"},{text:"In Progress",color:"blue"},{text:"On Hold",color:"pink accent-1"},{text:"Completed",color:"green"},{text:"Closed",color:"purple"}];return e[t]},humanizeDate:function(t){return this.$dayjs(t).format("YYYY-MM-DD")}}},u=d,p=(n("e076"),n("2877")),m=n("6544"),h=n.n(m),f=n("b0af"),v=n("cc20"),g=n("62ad"),y=n("8fea"),_=n("132d"),b=n("3a2f"),x=Object(p["a"])(u,s,i,!1,null,null,null);e["a"]=x.exports;h()(x,{VCard:f["a"],VChip:v["a"],VCol:g["a"],VDataTable:y["a"],VIcon:_["a"],VTooltip:b["a"]})},"7eb8":function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{staticClass:"mt-3 mb-4",class:t.pinned?"elevation-5":"elevation-1"},[n("v-list-item",{attrs:{"two-line":""}},[n("v-list-item-avatar",["Division Notice"===t.post.category?n("v-avatar",{attrs:{size:40,color:"baseColor"}},[n("v-icon",{attrs:{dark:"",small:""},domProps:{textContent:t._s("mdi-quadcopter")}})],1):"Organization Notice"===t.post.category?n("v-avatar",{attrs:{size:40,color:"baseColor"}},[n("v-icon",{attrs:{dark:"",small:""},domProps:{textContent:t._s("mdi-bank")}})],1):"HR Notice"===t.post.category?n("v-avatar",{staticClass:"baseColor",attrs:{size:40}},[n("v-icon",{attrs:{dark:"",small:""},domProps:{textContent:t._s("mdi-shield-account")}})],1):n("v-avatar",{attrs:{size:40}},[n("v-img",{attrs:{src:t.getProfilePicture,cover:""}})],1)],1),n("v-list-item-content",[n("v-list-item-title",["Normal Post"!==t.post.category&&"Auto Generated"!==t.post.category&&"Condolence Post"!==t.post.category?n("div",{domProps:{textContent:t._s(t.getPostedBy)}}):"Auto Generated"!=t.post.category?[t.clickableUser?n("a",{domProps:{textContent:t._s(t.post.posted_by.full_name)},on:{click:function(e){return t.viewProfileDetail(t.post.posted_by.id)}}}):n("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[n("span",t._g({domProps:{textContent:t._s(t.post.posted_by.full_name)}},s))]}}])},[t.userStatus?n("span",{domProps:{textContent:t._s(t.userStatus)}}):t._e()])]:n("a",{domProps:{textContent:t._s(t.post.posted_by.full_name)},on:{click:function(e){"Auto Generated"!==t.post.category&&t.viewProfileDetail(t.post.posted_by.id)}}})],2),n("v-list-item-subtitle",{staticClass:"text-caption"},[n("span",{domProps:{textContent:t._s(t.humanizeDate(t.post.scheduled_for?t.post.scheduled_for:t.post.created_at))}}),n("v-tooltip",{attrs:{disabled:"Normal Post"===t.post.category,right:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return["Normal Post"!==t.post.category&&"Auto Generated"!==t.post.category?n("span",t._g({domProps:{textContent:t._s(" - "+t.post.category)}},s)):t._e()]}}])},[n("span",{domProps:{textContent:t._s("Posted By "+t.post.posted_by.full_name)}})]),t.humanizedTime(t.post.created_at)!==t.humanizedTime(t.post.modified_at)?n("span"):t._e()],1)],1),n("v-list-item-action",[n("v-row",[t.isScheduledPost?n("v-chip",{attrs:{small:"",color:t.tabsColors[t.post.status],outlined:""}},[t._v(" "+t._s(t.post.status)+" ")]):t._e(),t.pinned?n("v-icon",{attrs:{color:"info",size:"15"},domProps:{textContent:t._s("mdi-pin-outline")}}):t._e(),"HR Admin"===t.getUserCategory||t.post.posted_by.id===t.getAuthStateUser.user.id&&t.getNoticeBoardAllowPost?n("v-menu",{attrs:{bottom:"",left:"","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[n("v-btn",t._g({attrs:{"data-cy":1===t.postIndex?"post-dropdown-menu-first":"post-dropdown-menu",icon:"",small:""}},s),[n("v-icon",{attrs:{small:""},domProps:{textContent:t._s("mdi-dots-vertical")}})],1)]}}],null,!1,750822686)},[n("v-list",{attrs:{dense:""}},[t.post.pinned||"HR Admin"!==t.getUserCategory?t._e():n("v-list-item",{attrs:{"data-cy":1===t.postIndex?"post-dropdown-menu-item-first":"post-dropdown-menu-item"},on:{click:function(e){t.pinNotification.dialog=!0}}},[n("v-list-item-title",[n("v-icon",{attrs:{small:""},domProps:{textContent:t._s("mdi-pin-outline")}}),n("span",{domProps:{textContent:t._s("Pin Notice")}})],1)],1),t.post.pinned&&"HR Admin"===t.getUserCategory?n("v-list-item",{attrs:{"data-cy":1===t.postIndex?"post-dropdown-menu-item-first":"post-dropdown-menu-item"},on:{click:function(e){t.unPinNotification.dialog=!0}}},[n("v-list-item-title",[n("v-icon",{attrs:{small:""},domProps:{textContent:t._s("mdi-pin-outline")}}),n("span",{domProps:{textContent:t._s("Unpin Notice")}})],1)],1):t._e(),t.post.posted_by.id===t.getAuthStateUser.user.id&&t.getNoticeBoardAllowPost||t.isScheduledPost?n("v-list-item",{attrs:{"data-cy":1===t.postIndex?"post-dropdown-menu-item-first":"post-dropdown-menu-item"},on:{click:function(e){t.noticeText=t.post.post_content,t.editNotice=!0}}},[n("v-list-item-title",[n("v-icon",{attrs:{small:""},domProps:{textContent:t._s("mdi-pencil")}}),n("span",{domProps:{textContent:t._s("Update Notice")}})],1)],1):t._e(),t.post.posted_by.id===t.getAuthStateUser.user.id&&t.getNoticeBoardAllowPost||"HR Admin"===t.getUserCategory||t.isScheduledPost||t.verifyPermission(t.allPermissions.CAN_UPDATE_DELETE_ANY_ONES_POST_COMMENTS,!0)?n("v-list-item",{attrs:{"data-cy":1===t.postIndex?"post-dropdown-menu-item-first":"post-dropdown-menu-item"},on:{click:function(e){t.deleteNotification.dialog=!0}}},[n("v-list-item-title",[n("v-icon",{attrs:{small:""},domProps:{textContent:t._s("mdi-delete")}}),n("span",{domProps:{textContent:t._s("Delete Notice")}})],1)],1):t._e()],1)],1):t._e()],1)],1)],1),n("v-card-text",{staticClass:"pt-0"},[t.editNotice?n("div",[t.isScheduledPost?n("div",[n("v-row",[n("v-col",{class:"HR Notice"===t.post.category?"md6":"md12"},[n("v-select",{attrs:{items:t.postTypes,messages:["Select type of this post."],label:"Post Type"},model:{value:t.post.category,callback:function(e){t.$set(t.post,"category",e)},expression:"post.category"}})],1),"HR Notice"===t.post.category?n("v-col",{attrs:{md:"6"}},[n("vue-date-time-picker",{attrs:{label:"HR Notice Visible Until"},model:{value:t.post.visibility_until,callback:function(e){t.$set(t.post,"visibility_until",e)},expression:"post.visibility_until"}})],1):t._e()],1),"HR Admin"===t.getUserCategory?n("v-row",[n("v-col",{attrs:{md:"6"}},[n("v-switch",{attrs:{label:"Do you want to pin this post?"},model:{value:t.post.pinned,callback:function(e){t.$set(t.post,"pinned",e)},expression:"post.pinned"}})],1),n("v-col",{attrs:{md:"6"}},[n("vue-date-time-picker",t._b({directives:[{name:"validate",rawName:"v-validate"}],attrs:{label:"Scheduled For"},model:{value:t.post.scheduled_for,callback:function(e){t.$set(t.post,"scheduled_for",e)},expression:"post.scheduled_for"}},"vue-date-time-picker",t.veeValidate("scheduled_for","Scheduled For"),!1))],1)],1):t._e(),n("v-divider")],1):t._e(),n("v-col",[n("vue-trumbowyg",t._b({directives:[{name:"validate",rawName:"v-validate",value:"max:20000",expression:"'max:20000'"}],attrs:{id:"trumbowyg","data-cy-variable":"notice_text"},model:{value:t.noticeText,callback:function(e){t.noticeText=e},expression:"noticeText"}},"vue-trumbowyg",t.veeValidate("post_content","Post Content*"),!1))],1)],1):[n("div",{staticClass:"user-content",staticStyle:{"white-space":"pre-wrap"},domProps:{innerHTML:t._s(t.getClickableLink(t.postContent))}}),t.post.upload_file?n("v-btn",{attrs:{"x-small":"",color:"primary",outlined:"",href:t.post.upload_file,target:"_blank"}},[n("v-icon",{attrs:{small:""}},[t._v("mdi-attachment")]),n("span",[t._v("Attachment")])],1):t._e()],t.url?n("link-preview",{attrs:{url:t.url}}):t._e(),n("post-attachment",{attrs:{attachments:t.post.attachments,editable:t.editNotice},on:{add:function(e){t.updatePost.newImages.files.unshift(e.file),t.updatePost.newImages.names.unshift(e.name)},delete:function(e){return t.updatePost.deletedImages.push(e)},remove:function(e){t.updatePost.newImages.files.splice(e,1),t.updatePost.newImages.names.splice(e,1)}}})],2),t.editNotice?n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{disabled:!t.isScheduledPost&&(t.noticeText===t.post.post_content&&!t.get(t.updatePost.newImages.files,"length")&&!t.get(t.updatePost.deletedImages,"length")||t.loading),loading:t.loading,color:"primary",depressed:"",small:""},domProps:{textContent:t._s("Save")},on:{click:t.updateNotice}}),n("v-btn",{attrs:{outlined:"",small:""},domProps:{textContent:t._s("Cancel")},on:{click:function(e){t.editNotice=!1,t.updatePost.deletedImages=[],t.updatePost.newImages={names:[],files:[]}}}})],1):t._e(),t.editNotice||t.isScheduledPost?t._e():n("div",[n("v-divider"),n("post-actions",{attrs:{post:t.post,"post-index":t.postIndex},on:{toggleComment:function(e){t.showComment=!t.showComment}}}),n("v-slide-y-transition",[n("div",{directives:[{name:"show",rawName:"v-show",value:t.showComment&&!t.post.disable_comment,expression:"showComment && !post.disable_comment"}]},[t.post.comments.data.length?n("v-divider"):t._e(),t._l(t.post.comments.data,(function(e,s){return n("comment-section",{key:e.id,attrs:{"comment-index":s+1,"comment-instance":e,"post-id":t.post.id,"post-index":t.postIndex},on:{delete:function(e){t.post.comments.data.splice(s,1),t.post.comments.count-=1}}})})),t.post.comments.count>3&&t.post.comments.count>t.post.comments.data.length?n("div",{staticClass:"primaryLight text-caption",attrs:{align:"center"}},[n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[n("v-btn",t._g({attrs:{"data-cy":1===t.postIndex?"btn-view-more-first":"btn-view-more",block:"",color:"primary",small:"",text:""},domProps:{textContent:t._s("View "+t.formatCount(t.post.comments.count-t.post.comments.data.length)+" More Comments")},on:{click:t.getMoreComments}},s))]}}],null,!1,691992630)},[n("span",[t._v(" "+t._s(t.post.comments.count-t.post.comments.data.length)+" ")])])],1):t._e(),n("v-divider"),n("v-textarea",{staticClass:"my-0 py-1 px-2",attrs:{"data-cy":1===t.postIndex?"input-comment-first":"input-comment",placeholder:t.$t("commentPlaceholder"),rows:1,"hide-details":"","no-resize":"",rounded:""},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.postComment.apply(null,arguments))}},model:{value:t.comment.text,callback:function(e){t.$set(t.comment,"text",e)},expression:"comment.text"}},[n("v-avatar",{attrs:{slot:"prepend",size:"35"},slot:"prepend"},[n("v-img",{attrs:{src:t.getAuthStateUser.user.profile_picture}})],1),n("v-btn",{attrs:{slot:"append","data-cy":1===t.postIndex?"btn-camera-first":"btn-camera",icon:""},on:{click:function(e){return t.$refs.image.click()}},slot:"append"},[n("v-icon",{domProps:{textContent:t._s("mdi-camera")}})],1)],1),n("input",{ref:"image",staticClass:"d-none",attrs:{accept:"image/*",type:"file"},on:{change:t.onFilePicked}}),t.comment.image.file?n("v-divider"):t._e(),t.comment.image.file?n("v-col",[n("v-row",[n("v-img",{attrs:{height:200,src:t.comment.image.url,contain:""}},[n("v-btn",{attrs:{icon:"",small:""},on:{click:function(e){t.comment.image.file=null}}},[n("v-icon",{attrs:{size:"20"},domProps:{textContent:t._s("mdi-close")}})],1)],1)],1)],1):t._e()],2)])],1),n("vue-dialog",{attrs:{notify:t.deleteNotification},on:{agree:t.deleteNotice,close:function(e){t.deleteNotification.dialog=!1}},model:{value:t.deleteNotification.dialog,callback:function(e){t.$set(t.deleteNotification,"dialog",e)},expression:"deleteNotification.dialog"}}),n("vue-dialog",{attrs:{notify:t.unPinNotification},on:{agree:t.unPinNotice,close:function(e){t.unPinNotification.dialog=!1}},model:{value:t.unPinNotification.dialog,callback:function(e){t.$set(t.unPinNotification,"dialog",e)},expression:"unPinNotification.dialog"}}),n("vue-dialog",{attrs:{notify:t.pinNotification},on:{agree:t.pinNotice,close:function(e){t.pinNotification.dialog=!1}},model:{value:t.pinNotification.dialog,callback:function(e){t.$set(t.pinNotification,"dialog",e)},expression:"pinNotification.dialog"}})],1)},i=[],a=n("1da1"),o=n("5530"),r=(n("96cf"),n("a9e3"),n("2ca0"),n("fb6a"),n("ac1f"),n("466d"),n("159b"),n("b64b"),n("a15b"),n("d3b7"),n("1276"),n("498a"),n("99af"),n("9646")),c=n("c44a"),l=n("aaf3"),d=n("0346"),u=n("152f"),p=n("ea98"),m=n("6d1c"),h=n("cf45"),f=n("2f62"),v=n("1467"),g={components:{PostActions:r["a"],CommentSection:l["default"],PostAttachment:d["a"],VueDialog:p["a"],LinkPreview:u["a"],VueTrumbowyg:v["default"]},mixins:[c["a"]],props:{postInstance:{type:Object,required:!0},postIndex:{type:Number,default:0},pinned:{type:Boolean,default:!1}},data:function(){return{post:this.deepCopy(this.postInstance),like:!1,comment:{text:"",image:{url:null,file:null},offset:3},url:"",showComment:!0,deleteNotification:{dialog:!1,heading:"Confirm Delete",text:"Are you sure you want to delete this notice?"},tabsColors:{Pending:"orange",Approved:"green",Denied:"red"},unPinNotification:{dialog:!1,heading:"Confirm Unpin Notice",subheading:"You are about to unpin this notice. Confirm your action.",text:"Are you sure you want to unpin this notice?"},pinNotification:{dialog:!1,heading:"Confirm Pin Notice",subheading:"You are about to pin this notice. Confirm your action.",text:"Are you sure you want to pin this notice?"},editNotice:!1,noticeText:" ",updatePost:{text:"",newImages:{names:[],files:[]},deletedImages:[]},loading:!1,scheduledFor:this.deepCopy(this.postInstance.scheduled_for)}},computed:Object(o["a"])(Object(o["a"])({},Object(f["c"])({getAuthStateUser:"auth/getAuthStateUser",getNoticeBoardNeedApproval:"auth/getNoticeBoardNeedApproval",getNoticeBoardAllowPost:"auth/getNoticeBoardAllowPost",getUserCategory:"organization/getUserCategory",getOrganizationSlug:"organization/getOrganizationSlug"})),{},{postContent:function(){var t=Object(h["f"])("VUE_APP_CLIENT"),e=this.post.post_content;return"laxmi"===t&&e.startsWith("Happy Work Anniversary")?e.slice(0,24):e},postTypes:function(){var t=[{text:"Normal Post",value:"Normal Post"},{text:"Division",value:"Division Notice"},{text:"Condolence Post",value:"Condolence Post"}];return"HR Admin"===this.getUserCategory&&t.push({text:"Organization",value:"Organization Notice"},{text:"HR Notice",value:"HR Notice"}),t},getIsCurrent:function(){return this.post.posted_by.is_current},sameOrganization:function(){return this.post.posted_by.organization_slug===this.getOrganizationSlug},clickableUser:function(){return this.sameOrganization&&this.getIsCurrent},userStatus:function(){return this.sameOrganization?!this.getIsCurrent&&this.sameOrganization?"Past Employee":"":"From Different Organization"},getPostedBy:function(){return"Division Notice"===this.post.category?this.post.posted_by.division:"Organization Notice"===this.post.category?this.post.posted_by.organization:"HR Notice"===this.post.category?"HR Notice":""},getProfilePicture:function(){return this.post.posted_by.profile_picture},isAuthorized:function(){return this.post.posted_by.id===this.getAuthStateUser.user.id||"HR Admin"===this.getUserCategory},getScheduledPostParam:function(){if(this.scheduledFor){var t=this.$dayjs(this.scheduledFor),e=this.$dayjs();return e.diff(t)<0?"?scheduled=True":""}return""},isScheduledPost:function(){return""!==this.getScheduledPostParam}}),created:function(){this.url=this.post.post_content.match(/\bhttps?:\/\/\S+/gi)},methods:Object(o["a"])(Object(o["a"])({},Object(f["d"])({setSnackBar:"common/setSnackBar"})),{},{getClickableLink:h["e"],formatCount:h["c"],viewProfileDetail:function(t){this.$router.push({name:"user-employee-directory-id-profile-detail",params:{id:t}})},updateNotice:function(){var t=this;if(this.loading=!0,this.noticeText){var e=new FormData;if(e.append("post_content",this.noticeText),this.post.pinned&&e.append("pinned",this.post.pinned),this.isScheduledPost&&(e.append("category",this.post.category),e.append("pinned",this.post.pinned),e.append("scheduled_for",this.post.scheduled_for),"Division Notice"===this.post.category&&this.$http.get("/users/"+"".concat(this.getAuthStateUser.user.id)+"/experience/current/").then((function(t){t.division&&e.append("divisions",t.division.slug)})),"Organization Notice"===this.post.category&&e.append("organizations",this.getOrganizationSlug)),this.updatePost.newImages.files.length){var n=this.updatePost.newImages.files.length;Object.keys(this.updatePost.newImages.files).forEach((function(s){e.append("attachment".concat(n-s-1),t.updatePost.newImages.files[n-s-1],t.updatePost.newImages.names[n-s-1])}))}this.updatePost.deletedImages.length&&e.append("deleted_attachments",this.updatePost.deletedImages.join(", ")),this.$http.put(m["a"].patchPost(this.post.id)+this.getScheduledPostParam,e).then((function(e){t.updatePost={text:"",newImages:{names:[],files:[]},deletedImages:[]},t.editNotice=!1,t.post=e,t.setSnackBar({text:"Successfully updated notice",color:"green"})})).catch((function(e){t.notifyInvalidFormResponse(),t.pushErrors(e)})).finally((function(){t.loading=!1}))}else this.notifyUser("Please write something about this post","red")},humanizeDate:function(t){var e=t,n=e.split(" ");return"true"===localStorage.useNepaliDate&&(e=this.bs2ad(t)+" "+n[1]),this.$dayjs(e).diff(this.$dayjs(),"day")<=-7?"true"===localStorage.useNepaliDate?t:this.$dayjs(e).format("YYYY-MM-DD HH:mm A"):this.$dayjs(e).fromNow()},deleteNotice:function(){var t=this;this.$http.delete(m["a"].deletePostById(this.post.id)+this.getScheduledPostParam).then((function(){t.$route.params.id&&t.$router.push({path:"/"}),t.$emit("delete",t.post.id),t.$emit("refresh"),t.setSnackBar({text:"Successfully deleted notice",color:"green"})}))},unPinNotice:function(){var t=this,e=new FormData;e.append("pinned","false"),this.$http.patch(m["a"].patchPost(this.post.id)+this.getScheduledPostParam,e).then((function(){t.$emit("refresh"),t.setSnackBar({text:"Successfully Unpinned notice",color:"green"})}))},pinNotice:function(){var t=this,e=new FormData;e.append("pinned","true"),this.$http.patch(m["a"].patchPost(this.post.id)+this.getScheduledPostParam,e).then((function(){t.$emit("refresh"),t.setSnackBar({text:"Successfully pinned notice",color:"green"})}))},postComment:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=new FormData,!(t.comment.text.length>1e3)){e.next=4;break}return t.notifyUser("The Comment field may not be greater than 1000 characters.","red"),e.abrupt("return");case 4:if(n.append("content",t.comment.text),t.comment.image.file&&n.append("image",t.comment.image.file),!t.comment.text.trim()&&!t.comment.image.file){e.next=14;break}if(!t.loading){e.next=9;break}return e.abrupt("return");case 9:return t.loading=!0,e.next=12,t.$http.post(m["a"].commentPostById(t.post.id),n).then((function(e){t.resetComment(),t.post.comments.count+=1,t.comment.offset+=1,t.post.comments.data.unshift(e)})).catch((function(e){t.notifyUser("Something went wrong.","red"),t.pushErrors(e)})).finally((function(){return t.loading=!1}));case 12:e.next=15;break;case 14:t.notifyUser("Please add a comment","red");case 15:case"end":return e.stop()}}),e)})))()},getMoreComments:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={offset:t.comment.offset,limit:5},e.next=3,t.$http.get(m["a"].getCommentByPostId(t.post.id),{params:n}).then((function(e){t.post.comments.data=t.post.comments.data.concat(e.results),t.comment.offset+=5}));case 3:case"end":return e.stop()}}),e)})))()},resetComment:function(){this.comment.text="",this.comment.image={url:null,file:null}},humanizedTime:function(t){return this.$dayjs(t).format("YYYY-MM-DD hh:mm:ss")},onFilePicked:function(t){var e=this,n=t.target.files;if(n[0]){var s=new FileReader;s.readAsDataURL(n[0]),s.addEventListener("load",(function(){e.comment.image.url=s.result,e.comment.image.file=n[0]}))}else this.imageName="",this.imageFile=null,this.imageUrl=""}})},y=g,_=(n("3485"),n("2877")),b=n("6544"),x=n.n(b),C=n("8212"),w=n("8336"),k=n("b0af"),P=n("99d9"),S=n("cc20"),D=n("62ad"),T=n("ce7e"),O=n("132d"),V=n("adda"),A=n("8860"),I=n("da13"),L=n("1800"),$=n("8270"),R=n("5d23"),j=n("e449"),U=n("0fd9b"),N=n("b974"),E=n("0789"),B=n("2fa4"),M=n("b73d"),z=n("a844"),Y=n("3a2f"),F=Object(_["a"])(y,s,i,!1,null,null,null);e["a"]=F.exports;x()(F,{VAvatar:C["a"],VBtn:w["a"],VCard:k["a"],VCardActions:P["a"],VCardText:P["c"],VChip:S["a"],VCol:D["a"],VDivider:T["a"],VIcon:O["a"],VImg:V["a"],VList:A["a"],VListItem:I["a"],VListItemAction:L["a"],VListItemAvatar:$["a"],VListItemContent:R["a"],VListItemSubtitle:R["b"],VListItemTitle:R["c"],VMenu:j["a"],VRow:U["a"],VSelect:N["a"],VSlideYTransition:E["g"],VSpacer:B["a"],VSwitch:M["a"],VTextarea:z["a"],VTooltip:Y["a"]})},8448:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{"hide-overlay":!1,width:"80%",persistent:""},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.$emit("close")}},model:{value:t.slideShow,callback:function(e){t.slideShow=e},expression:"slideShow"}},[n("v-row",{staticClass:"black ml-0"},[n("v-col",[n("v-carousel",{attrs:{cycle:!1,value:t.startFrom,"hide-delimiters":"","show-arrows":1!==t.items.length}},t._l(t.items,(function(e,s){return n("v-carousel-item",{key:s,attrs:{"lazy-src":e.image_thumb_1,src:e.image,contain:""}},[n("v-btn",{staticClass:"float-right mx-2",attrs:{fab:"",primary:"","x-small":""},on:{click:function(e){return t.$emit("close")}}},[n("v-icon",{attrs:{size:22},domProps:{textContent:t._s("mdi-close")}})],1),n("v-btn",{staticClass:"float-right mx-2",attrs:{fab:"",primary:"","x-small":""},on:{click:function(n){return t.downloadImage(e.image)}}},[n("v-icon",{attrs:{size:22},domProps:{textContent:t._s("mdi-download-outline")}})],1)],1)})),1)],1)],1)],1)},i=[],a=(n("a9e3"),{name:"ImageViewer",props:{items:{type:Array,default:function(){return[]}},slideShow:{type:Boolean,default:!0},postContent:{type:String,default:""},startFrom:{type:Number,default:0}},methods:{performClose:function(){this.$emit("close")},downloadImage:function(t){window.open(t,"_blank")}}}),o=a,r=n("2877"),c=n("6544"),l=n.n(c),d=n("8336"),u=n("5e66"),p=n("3e35"),m=n("62ad"),h=n("169a"),f=n("132d"),v=n("0fd9b"),g=Object(r["a"])(o,s,i,!1,null,null,null);e["a"]=g.exports;l()(g,{VBtn:d["a"],VCarousel:u["a"],VCarouselItem:p["a"],VCol:m["a"],VDialog:h["a"],VIcon:f["a"],VRow:v["a"]})},"84e9":function(t,e,n){"use strict";n("99af");e["a"]={getUserTrainings:function(t){return"/users/".concat(t,"/training/")},postUserTraining:function(t){return"/users/".concat(t,"/training/")},getTrainingDetail:function(t,e){return"/users/".concat(t,"/training/").concat(e,"/")},updateTrainingDetail:function(t,e){return"/users/".concat(t,"/training/").concat(e,"/")},deleteUserTraining:function(t,e){return"/users/".concat(t,"/training/").concat(e,"/")},getUpcomingTraining:function(t){return"/training/".concat(t,"/detail/upcoming/")},getTrainingTypeBudget:function(t){return"/training/".concat(t,"/detail/budget")},getTrainingStats:function(t){return"/training/".concat(t,"/detail/stats/")}}},"8df9":function(t,e,n){},9261:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-row",[n("v-col",{class:t.getNoticeBoardAllowPost?"":"pt-0",attrs:{md:"6",cols:"12"}},[t.getNoticeBoardAllowPost?n("post-form",{on:{appendResponse:t.appendPost}}):t._e(),t.existsPost?t.fetched?n("div",[t._l(t.pinnedPosts,(function(e,s){return n("individual-post",{key:e.id,attrs:{"post-instance":e,pinned:"","post-index":s+1},on:{delete:function(e){t.pinnedPosts=t.pinnedPosts.filter((function(t){return t.id!==e}))},refresh:function(e){t.resetHandler=!t.resetHandler}}})})),t._l(t.normalPosts,(function(e,s){return n("individual-post",{key:e.id,attrs:{"post-index":s+1,"post-instance":e},on:{delete:function(e){t.normalPosts=t.normalPosts.filter((function(t){return t.id!==e}))},refresh:function(e){t.resetHandler=!t.resetHandler}}})}))],2):t._e():n("v-card",[n("v-card-text",[n("h2",{staticClass:"blueGrey--text my-1"},[t._v("Welcome to RealHRSoft")]),n("div",[t._v(" Currently there are no posts. Here you can create post, view user posts, organization posts and division posts. ")])])],1),n("infinite-loading-base",{attrs:{endpoint:t.endpoint,reset:t.resetHandler,"hide-no-results":""},on:{setInfiniteResponse:t.setInfiniteResponse,resetInfiniteResponse:t.resetInfiniteResponse}})],1),t.$vuetify.breakpoint.mdAndUp?n("v-col",{staticClass:"notice-side-view",attrs:{md:"6",cols:"12"}},[n("v-row",{staticClass:"component-layout",attrs:{dense:""}},[n("v-col",{staticClass:"mb-1 d-none d-md-block",attrs:{cols:"12"}},[n("leave-and-absent-employee")],1),n("v-col",{attrs:{md:"6",cols:"12"}},[n("attendance-issues")],1),n("v-col",{attrs:{md:"6",cols:"12"}},[n(t.mapOrgPrefComp[t.orgPrefComp],{tag:"component"})],1),n("v-col",{attrs:{md:"6",cols:"12"}},[n("task-overview")],1),n("v-col",{attrs:{md:"6",cols:"12"}},[n("events")],1),n("v-col",{attrs:{md:"12",cols:"12"}},[t.isSupervisor?n("supervisor-dashboard"):t._e()],1)],1)],1):t._e()],1)},i=[],a=n("5530"),o=(n("d3b7"),n("3ca3"),n("ddb0"),n("4de4"),n("99af"),n("2f62")),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{class:t.postCardRaise},[n("v-card-title",{staticClass:"pa-2"},[n("v-avatar",{staticClass:"mr-4",attrs:{size:"40"}},[t.getAuthStateUser?n("v-img",{attrs:{src:t.getAuthStateUser.user.profile_picture,cover:""}}):t._e()],1),t.showForm?t._e():n("div",{staticClass:"text-body-1 blueGrey--text",attrs:{id:"notice-post-section"},domProps:{textContent:t._s("Share an idea, event or motivation")},on:{click:function(e){t.showForm=!t.showForm}}}),n("v-spacer"),"HR Admin"!==t.getUserCategory||t.showForm?t._e():n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[n("v-btn",t._g({attrs:{id:"notice-scheduled-btn",icon:""},on:{click:function(e){return t.$router.push({name:"user-posts-scheduled"})}}},s),[n("v-icon",{domProps:{textContent:t._s("mdi-alarm")}})],1)]}}],null,!1,3198637711)},[n("span",[t._v(" View your scheduled posts. ")])]),t.showForm?n("v-btn",{attrs:{id:"notice-setting-btn",icon:"",small:""},on:{click:function(e){t.showFilters=!t.showFilters}}},[n("v-icon",{attrs:{small:""},domProps:{textContent:t._s("mdi-cog")}})],1):t._e(),t.showForm?n("v-btn",{attrs:{icon:"",small:""},on:{click:function(e){t.showForm=!t.showForm}}},[n("v-icon",{attrs:{small:""},domProps:{textContent:t._s("mdi-close")}})],1):t._e()],1),n("v-divider"),t.showForm?n("div",[n("v-card-text",[n("v-slide-y-transition",[t.showFilters?n("div",[n("v-row",[n("v-col",{class:"HR Notice"===t.postData.category?"md3":"md6"},[n("v-select",{attrs:{id:"notice-post-type-select",items:t.postTypes,label:"Post Type"},model:{value:t.postData.category,callback:function(e){t.$set(t.postData,"category",e)},expression:"postData.category"}})],1),"HR Notice"===t.postData.category?n("v-col",{attrs:{md:"5"}},[n("vue-date-time-picker",{attrs:{label:"HR Notice Visible Until"},model:{value:t.postData.visibility_until,callback:function(e){t.$set(t.postData,"visibility_until",e)},expression:"postData.visibility_until"}})],1):t._e(),"HR Admin"===t.getUserCategory?n("v-col",{attrs:{md:"4"}},[n("vue-date-time-picker",t._b({directives:[{name:"validate",rawName:"v-validate"}],attrs:{id:"notice-post-scheduled-ddl"},model:{value:t.postData.scheduledFor,callback:function(e){t.$set(t.postData,"scheduledFor",e)},expression:"postData.scheduledFor"}},"vue-date-time-picker",t.veeValidate("scheduled_for","Scheduled For"),!1))],1):t._e()],1),n("v-row",["HR Admin"===t.getUserCategory?n("v-col",{attrs:{md:"5"}},[n("v-switch",{attrs:{id:"notice-post-pin-btn",label:"Do you want to pin this post?"},model:{value:t.postData.pinned,callback:function(e){t.$set(t.postData,"pinned",e)},expression:"postData.pinned"}})],1):t._e(),"HR Notice"===t.postData.category?n("v-col",{attrs:{md:"7"}},[n("v-switch",{attrs:{id:"notice-post-disable-comment-btn",label:"Do you want to Disable comment for this post?"},model:{value:t.postData.disable_comment,callback:function(e){t.$set(t.postData,"disable_comment",e)},expression:"postData.disable_comment"}})],1):t._e()],1),n("v-divider")],1):t._e()]),n("v-col",{attrs:{cols:"12",md:"12"}},[n("div",[n("vue-trumbowyg",t._b({directives:[{name:"validate",rawName:"v-validate",value:"max:20000",expression:"'max:20000'"}],attrs:{id:"trumbowyg","show-image-fullscreen-icon":!1,"data-cy-variable":"notice_text",placeholder:"Write here to share something about an idea, event or a motivation."},model:{value:t.postData.post_content,callback:function(e){t.$set(t.postData,"post_content",e)},expression:"postData.post_content"}},"vue-trumbowyg",t.veeValidate("post_content","Post Content*"),!1))],1)]),t.postData.attachments.length?n("v-row",{attrs:{dense:""}},[t._l(t.postData.attachments,(function(e,s){return n("v-col",{key:s,attrs:{cols:"3"}},[n("v-hover",{scopedSlots:t._u([{key:"default",fn:function(i){var a=i.hover;return n("v-img",{staticStyle:{border:"1px solid #efefef"},attrs:{src:e,cover:"",height:"115",width:"115"}},[a?n("v-icon",{staticClass:"float-right ma-1",attrs:{color:"danger"},domProps:{textContent:t._s("mdi-close")},on:{click:function(e){return t.removeImage(s)}}}):n("v-chip",{staticClass:"float-right ma-1",attrs:{color:"primary",small:""}},[t._v(" "+t._s(s+1)+" ")])],1)}}],null,!0)})],1)})),n("v-col",{attrs:{cols:"3"}},[n("v-responsive",{attrs:{height:115,width:t.postData.attachments.length?115:"100%"}},[n("v-row",{attrs:{align:"center",justify:"center"}},[n("v-icon",{attrs:{size:"50"},domProps:{textContent:t._s("mdi-plus")},on:{click:function(e){return t.$refs.postImagesInput.click()}}})],1)],1)],1)],2):t._e()],1),n("v-divider"),n("v-card-actions",[n("file-upload",t._b({directives:[{name:"validate",rawName:"v-validate",value:"",expression:"''"}],attrs:{label:"File Upload",maxSize:5},model:{value:t.postData.upload_file,callback:function(e){t.$set(t.postData,"upload_file",e)},expression:"postData.upload_file"}},"file-upload",t.veeValidate("upload_file","File Upload"),!1)),n("v-spacer"),n("input",{ref:"postImagesInput",staticStyle:{display:"none"},attrs:{accept:"image/*",multiple:"",type:"file"},on:{change:t.onFileSelected}}),t.postData.attachments.length?t._e():n("v-btn",{attrs:{id:"notice-image-btn",icon:"",text:""},on:{click:function(e){return t.$refs.postImagesInput.click()}}},[n("v-icon",{attrs:{size:"24"},domProps:{textContent:t._s("mdi-image-plus")}})],1),n("v-btn",{attrs:{id:"notice-post-btn",disabled:t.loading||!t.postData.post_content.trim()||t.postData.post_content.length<1,color:"primary",depressed:""},on:{click:t.submitPost}},[t._v(" Post ")])],1)],1):t._e()],1)},c=[],l=n("1da1"),d=(n("96cf"),n("ac1f"),n("1276"),n("466d"),n("ace4"),n("5cc6"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("b0c0"),n("159b"),n("b64b"),n("a434"),n("c44a")),u=n("6d1c"),p=n("1467"),m=n("f82f"),h={components:{VueTrumbowyg:p["default"],FileUpload:m["a"]},mixins:[d["a"]],data:function(){return{postCardRaise:"",showPostAttachments:[],showForm:!1,showFilters:!1,totalFileSize:[],photoFiles:[],fileNames:[],loading:!1,postData:{post_content:"",category:"Normal Post",pinned:!1,disable_comment:!1,attachments:[],scheduledFor:"",visibility_until:"",division:"",organization:"",upload_file:""}}},computed:Object(a["a"])(Object(a["a"])({},Object(o["c"])({getAuthStateUser:"auth/getAuthStateUser",getNoticeBoardNeedApproval:"auth/getNoticeBoardNeedApproval",getUserFullName:"auth/getUserFullName",getOrganizationSlug:"organization/getOrganizationSlug",getUserCategory:"organization/getUserCategory"})),{},{postTypes:function(){var t=[{text:"Normal Post",value:"Normal Post"},{text:"Division",value:"Division Notice"},{text:"Condolence Post",value:"Condolence Post"}];return"HR Admin"===this.getUserCategory&&t.push({text:"Organization",value:"Organization Notice"},{text:"HR Notice",value:"HR Notice"}),t}}),methods:{dataURLtoBlob:function(t,e){var n=t.split(","),s=n[0].match(/:(.*?);/)[1],i=atob(n[1]),a=i.length,o=new Uint8Array(a);while(a--)o[a]=i.charCodeAt(a);var r=new Blob([o],{type:s});return r.name=this.fileNames[e],r},submitPost:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,n=new FormData,n.append("category",t.postData.category),n.append("post_content",t.postData.post_content),n.append("pinned",t.postData.pinned),n.append("disable_comment",t.postData.disable_comment),n.append("scheduled_for",t.postData.scheduledFor),t.postData.upload_file&&n.append("upload_file",t.postData.upload_file),"Division Notice"===t.postData.category&&t.$http.get("/users/"+"".concat(t.getAuthStateUser.user.id)+"/experience/current/").then((function(t){t.division&&n.append("divisions",t.division.slug)})),"Organization Notice"===t.postData.category&&n.append("organizations",t.getOrganizationSlug),Object.keys(t.postData.attachments).forEach((function(e){var s=t.dataURLtoBlob(t.postData.attachments[e],e);n.append("attachment".concat(e),s,s.name)})),e.next=13,t.validateAllFields();case 13:if(!e.sent){e.next=17;break}t.$http.post(u["a"].submitPost,n).then((function(e){t.getNoticeBoardNeedApproval||t.postData.scheduledFor||t.$emit("appendResponse",e),t.fileNames=[],t.totalFileSize=[],t.photoFiles=[],t.postData.post_content="",t.postData.category="Normal Post",t.postData.attachments=[],t.postData.organization="",t.postData.pinned=!1,t.postData.disable_comment=!1,t.postData.scheduledFor="",t.postData.visibility_until="",t.postData.upload_file="",t.showFilters=!1,t.showForm=!1,t.getNoticeBoardNeedApproval?(t.notifyUser("Your post has been sent for approval!","green"),t.showForm=!1,t.postCardRaise="elevation-1"):t.notifyUser("Successfully posted your noticeboard post!","green")})).catch((function(e){t.notifyInvalidFormResponse(),t.pushErrors(e)})).finally((function(){t.loading=!1})),e.next=18;break;case 17:t.loading=!1;case 18:case"end":return e.stop()}}),e)})))()},removeImage:function(t){this.postData.attachments.splice(t,1),this.totalFileSize.splice(t,1)},getSum:function(t,e){return t+e},onFileSelected:function(t){var e=this;if(this.validateFileSize(t)&&this.validateImageType(t)){var n=t.target.files;Object.keys(n).forEach((function(s){e.fileNames.push(t.target.files[s].name);var i=new FileReader;i.onload=function(t){e.postData.attachments.push(t.target.result)},i.readAsDataURL(n[s])}))}this.$refs.postImagesInput.value=""},validateFileSize:function(t){var e=this,n=!0,s=t.target.files;return Object.keys(s).forEach((function(i){var a=t.target.files[i].size;a>5242880?(Object.keys(s).length>1?e.notifyUser("File size of some images are greater than 5MB.","red"):e.notifyUser("File size cannot be greater than 5MB.","red"),n=!1):(e.totalFileSize.push(t.target.files[i].size),e.totalFileSize.reduce(e.getSum)>52428800&&(e.notifyUser("Total File Size cannot be greater than 50MB.","red"),n=!1))})),n},validateImageType:function(t){var e=this,n=!0,s=t.target.files;return Object.keys(s).forEach((function(s){var i=t.target.files[s].name;"svg"===i.split(".").pop()&&(e.notifyUser("SVG images are not allowed to post.","red"),n=!1)})),n}}},f=h,v=(n("1050"),n("2877")),g=n("6544"),y=n.n(g),_=n("8212"),b=n("8336"),x=n("b0af"),C=n("99d9"),w=n("cc20"),k=n("62ad"),P=n("ce7e"),S=n("ce87"),D=n("132d"),T=n("adda"),O=n("6b53"),V=n("0fd9b"),A=n("b974"),I=n("0789"),L=n("2fa4"),$=n("b73d"),R=n("3a2f"),j=Object(v["a"])(f,r,c,!1,null,"203120f2",null),U=j.exports;y()(j,{VAvatar:_["a"],VBtn:b["a"],VCard:x["a"],VCardActions:C["a"],VCardText:C["c"],VCardTitle:C["d"],VChip:w["a"],VCol:k["a"],VDivider:P["a"],VHover:S["a"],VIcon:D["a"],VImg:T["a"],VResponsive:O["a"],VRow:V["a"],VSelect:A["a"],VSlideYTransition:I["g"],VSpacer:L["a"],VSwitch:$["a"],VTooltip:R["a"]});var N=n("7eb8"),E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{attrs:{height:"100%"}},[n("vue-card-title",{attrs:{title:t.heading,subtitle:t.subHeading,icon:"mdi-fingerprint"}}),n("v-divider"),n("v-card-text",{staticClass:"py-0"},[t.issues?n("div",[t.issues.today?n("v-row",{attrs:{"no-gutters":"",align:"center"}},[n("v-col",{staticClass:"py-2",attrs:{cols:"9"}},[t.today_text.upper?n("div",{class:t.today_text.warn?"red--text":"primary--text"},[t._v(" "+t._s(t.today_text.upper)+" ")]):t._e(),t.today_text.lower?n("div",{staticClass:"primary--text pointer text-caption",domProps:{textContent:t._s(t.today_text.lower)},on:{click:function(e){return t.goto("user-attendance-today-log")}}}):t._e()]),n("v-spacer"),n("v-col",{staticClass:"pl-6 py-2",attrs:{cols:"3"}},[n("v-sheet",{staticClass:"overflow-hidden ma-0 text-center pointer",attrs:{color:"shade",width:"40",height:"40"},on:{click:function(e){return t.goToCalendar(t.todayDate)}}},[t.useNepaliDate?n("span",[t._v(t._s(t._f("dayjs")(t.ad2bs(new Date),"DD")))]):n("span",[t._v(t._s(t._f("dayjs")(new Date,"DD")))]),n("br"),t.useNepaliDate?n("span",[t._v(t._s(t.getFormatedMonth(t.ad2bs(new Date))))]):n("span",[t._v(t._s(t.getFormatedMonth(new Date)))])])],1),n("v-col",{attrs:{cols:"12"}},[n("v-divider")],1)],1):n("v-row",{attrs:{justify:"center",align:"center"}},[n("v-col",{attrs:{cols:"12"},domProps:{textContent:t._s("No Records for Today")}}),n("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12"}},[n("v-divider")],1)],1),t.issues.yesterday?n("v-row",{attrs:{"no-gutters":"",align:"center"}},[n("v-col",{staticClass:"py-2",attrs:{cols:"9"}},[t.yesterday_text.upper?n("div",{class:t.yesterday_text.warn?"red--text":"primary--text"},[t._v(" "+t._s(t.yesterday_text.upper)+" ")]):t._e(),t.yesterday_text.lower?n("div",[t.yesterday_text.warn?n("a",{staticClass:"primary--text text-caption",domProps:{textContent:t._s(t.yesterday_text.lower)},on:{click:function(e){return t.goto("user-attendance-request-adjustment")}}}):n("div",{staticClass:"text-caption"},[t._v(" "+t._s(t.yesterday_text.lower)+" ")])]):t._e()]),n("v-spacer"),n("v-col",{staticClass:"pl-6 py-2",attrs:{cols:"3"}},[n("v-sheet",{staticClass:"overflow-hidden text-center ma-0 pointer",attrs:{color:"shade",width:"40",height:"40"},on:{click:function(e){return t.goToCalendar(t.yesterdayDate)}}},[t._v(" "+t._s(t._f("dayjs")(t.get(t.issues,"yesterday.timesheet_for"),"DD"))+" "),n("br"),t._v(" "+t._s(t.getFormatedMonth(t.get(t.issues,"yesterday.timesheet_for")))+" ")])],1),n("v-col",{attrs:{cols:"12"}},[n("v-divider")],1)],1):n("v-row",{attrs:{justify:"center",align:"center"}},[n("v-col",{attrs:{cols:"12"},domProps:{textContent:t._s("No Records for Yesterday")}}),n("v-col",{staticClass:"mt-0 pt-0",attrs:{cols:"12"}},[n("v-divider")],1)],1),null!==t.issues.statistics.punctuality?n("v-row",{staticClass:"text-caption",attrs:{align:"center","no-gutters":""}},[n("v-col",{staticClass:"pb-2",attrs:{cols:"9"}},[n("span",{staticClass:"black--text",domProps:{textContent:t._s(Math.floor(t.issues.statistics.punctuality)+"% ")}}),n("span",{staticClass:"black--text",domProps:{textContent:t._s("Punctuality This Month")}}),n("div",{staticClass:"text-caption",class:t.issues.statistics.leave_count>0?"danger--text":"grey--text",domProps:{textContent:t._s((t.issues.statistics.leave_count||0)+" days absent")}}),t.issues.statistics.leave_count>0?n("div",{staticClass:"primary--text pointer text-caption",domProps:{textContent:t._s("Apply For Leave")},on:{click:function(e){return t.goto("user-leave-request")}}}):t._e()]),n("v-spacer"),n("v-col",{staticClass:"text-right",attrs:{cols:"3"}},[n("v-progress-circular",{attrs:{rotate:"-90",size:40,width:7,value:Math.floor(t.issues.statistics.punctuality)+"% ",color:t.getProgressColor(t.issues.statistics.punctuality)}},[t._v(" "+t._s(""+Math.floor(t.issues.statistics.punctuality))+" ")])],1),n("v-col",{attrs:{cols:"12"}},[n("v-divider")],1)],1):t._e(),n("v-row",{attrs:{align:"center"}},[n("v-col",{attrs:{cols:"8"}},[n("div",{staticClass:"black--text text-caption",domProps:{textContent:t._s("Hours Worked This Month")}}),n("div",{staticClass:"text-caption grey--text",domProps:{textContent:t._s("Till Yesterday")}})]),n("v-spacer"),n("v-col",{staticClass:"text-right",attrs:{cols:"4"}},[n("v-tooltip",{attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[n("span",t._g({domProps:{textContent:t._s(t.totalHoursWorked)}},s))]}}],null,!1,2314406646)},[n("span",{domProps:{textContent:t._s("Total Worked Hours")}})]),t.expectedWorkTime?n("span",{staticClass:"px-1",domProps:{textContent:t._s("|")}}):t._e(),t.expectedWorkTime?n("v-tooltip",{attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[n("strong",t._g({staticClass:"primary--text",domProps:{textContent:t._s(t.expectedWorkTime)}},s))]}}],null,!1,4219040323)},[n("span",{domProps:{textContent:t._s("Expected Work Hours")}})]):t._e()],1)],1)],1):n("div",t._l(2,(function(t){return n("list-loader",{key:t,attrs:{width:200,height:100}})})),1)])],1)},B=[],M=(n("a9e3"),{getIssues:"/attendance/issues/"}),z=n("338b"),Y=n("e330"),F=n("5a0c"),H=n.n(F),q=n("cf45"),W={components:{ListLoader:Y["d"]},mixins:[z["a"]],data:function(){return{heading:"Attendance & Leave",subHeading:"My Attendance & Leave info",today_text:{upper:"",lower:"",warn:!1},yesterday_text:{upper:"",lower:"",warn:!1},issues:null,useNepaliDate:"true"===localStorage.useNepaliDate}},computed:{punchInDelta:function(){return this.issues?this.get(this.issues,"today.punch_in_delta"):""},punchOutDelta:function(){return this.issues?this.get(this.issues,"yesterday.punch_out_delta"):""},totalHoursWorked:function(){return this.issues?Math.round(this.get(this.issues,"statistics.worked_seconds")/3600):0},expectedWorkTime:function(){return this.issues?Math.round(this.get(this.issues,"statistics.expected_work_time")/3600):0},todayDate:function(){return H()().format("YYYY-MM-DD")},yesterdayDate:function(){return H()().subtract(1,"days").format("YYYY-MM-DD")}},created:function(){this.getIssuesList()},methods:{getIssuesList:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.loading){e.next=2;break}return e.abrupt("return");case 2:t.loading=!0,n={user:t.getAuthStateUserId,start_date:"Nepali"===Object(q["f"])("VUE_APP_SET_DEFAULT_CALENDAR_TO")?t.getMonthStartDate():t.$dayjs().startOf("month").format("YYYY-MM-DD"),end_date:t.$dayjs().format("YYYY-MM-DD")},t.$http.get(M.getIssues,{params:n}).then((function(e){t.issues=e,t.extractTodayInfo(),t.extractYesterdayInfo()})).finally((function(){t.loading=!1}));case 5:case"end":return e.stop()}}),e)})))()},extractTodayInfo:function(){var t=this.$dayjs().format("YYYY-MM-DD hh:mm:ss A");this.useNepaliDate&&(t=this.ad2bs(t)+" "+this.$dayjs(t).format("hh:mm:ss A")),this.issues.today&&(this.issues.today.punch_in?"Workday"===this.issues.today.coefficient?(this.today_text.upper=this.issues.today.punch_in_category+" by "+this.punchInDelta+" ("+this.$dayjs(this.issues.today.punch_in_time).format("hh:mm A")+")","Late In"===this.issues.today.punch_in_category?this.today_text.warn=!0:"Timely In"===this.issues.today.punch_in_category&&(this.today_text.upper="Timely In")):this.today_text.upper="Punch In "+this.$dayjs(this.issues.today.punch_in_time).format("hh:mm:ss A"):"Workday"===this.issues.today.coefficient?this.$dayjs(this.issues.today.expected_punch_in).isAfter(t)?this.today_text.upper="Shift Starts at "+this.$dayjs(this.issues.today.expected_punch_in).format("hh:mm:ss A"):this.$dayjs(this.issues.today.expected_punch_out).isBefore(t)?(this.today_text.upper="Absent",this.today_text.warn=!0):(this.today_text.upper="! Missing Punch In",this.today_text.warn=!0,this.today_text.lower="Punch In Now"):this.today_text.upper=this.issues.today.coefficient)},extractYesterdayInfo:function(){this.issues.yesterday&&(this.issues.yesterday.punch_out?"Uncategorized"!==this.issues.yesterday.punch_out_category?(this.yesterday_text.upper=this.issues.yesterday.punch_out_category+" by "+this.punchOutDelta+" ("+this.$dayjs(this.issues.yesterday.punch_out_time).format("hh:mm A")+")","Early Out"===this.issues.yesterday.punch_out_category?this.yesterday_text.warn=!0:"Timely Out"===this.issues.yesterday.punch_out_category&&(this.yesterday_text.upper="Timely Out")):this.yesterday_text.upper="Punch Out at "+this.$dayjs(this.issues.yesterday.punch_out_time).format("hh:mm:ss A"):(this.yesterday_text.upper="! Missing Punch Out",this.issues.yesterday.adjusted?this.yesterday_text.lower="Attendance entry requested.":(this.yesterday_text.warn=!0,this.yesterday_text.lower="Go To Attendance Entry Request.")))},getProgressColor:function(t){return t<50?"red":t<80?"orange":"green"},goto:function(t){this.$router.push({name:t})},goToCalendar:function(t){this.$router.push({name:"user-attendance-calendar",query:{date:t}})},getFormatedMonth:function(t){return"true"===localStorage.useNepaliDate?this.getMonths()[Number(this.$dayjs(t).format("MM"))-1]:this.$dayjs(t).format("MMM")}}},G=W,K=n("490a"),J=n("8dd9"),Q=Object(v["a"])(G,E,B,!1,null,null,null),X=Q.exports;y()(Q,{VCard:x["a"],VCardText:C["c"],VCol:k["a"],VDivider:P["a"],VProgressCircular:K["a"],VRow:V["a"],VSheet:J["a"],VSpacer:L["a"],VTooltip:R["a"]});var Z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{attrs:{height:"100%"}},[n("vue-card-title",{attrs:{title:"Tasks",subtitle:"Overview of my Tasks",icon:"mdi-format-list-checks"}}),n("v-divider"),n("v-card-text",{staticClass:"py-0"},[t.loading?n("div",t._l(2,(function(t){return n("list-loader",{key:t,attrs:{width:200,height:100}})})),1):n("div",[n("v-list",{staticClass:"py-0"},[t._l(t.taskTypes,(function(e){return[n("v-list-item",{key:e.key,staticClass:"py-2"},[n("v-list-item-content",[n("div",{domProps:{textContent:t._s(e.text)}})]),n("v-list-item-action",[n("div",[n("v-tooltip",{attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function(s){var i=s.on;return[n("span",t._g({staticClass:"primary--text pointer",domProps:{textContent:t._s(e.current)},on:{click:function(n){return t.gotoTaskPage(e.category,!0)}}},i))]}}],null,!0)},[n("span",{domProps:{textContent:t._s("Today's task")}})]),n("span",{staticClass:"px-1",domProps:{textContent:t._s("|")}}),n("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(s){var i=s.on;return[n("strong",t._g({staticClass:"primary--text pointer",domProps:{textContent:t._s(e.total)},on:{click:function(n){return t.gotoTaskPage(e.category,!1)}}},i))]}}],null,!0)},[n("span",{domProps:{textContent:t._s("Total task")}})])],1)])],1),n("v-divider",{key:e.key})]})),n("v-list-item",[n("v-list-item-content",[n("div",{staticClass:"primary--text pointer",domProps:{textContent:t._s("Efficiency")},on:{click:function(e){return t.$router.push("/user/task/reports/efficiency")}}})]),n("v-spacer"),n("v-list-item-action",{staticClass:"mr-n0"},[n("v-progress-circular",{attrs:{rotate:"-90",size:40,width:7,value:t.efficiency,color:t.getProgressColor(t.efficiency)}},[t._v(" "+t._s(t.efficiency?t.efficiency.toFixed(1):0)+" ")])],1)],1)],2)],1)])],1)},tt=[],et=n("f8a4"),nt={components:{ListLoader:Y["d"]},data:function(){return{TaskApi:et["a"],loading:!0,taskTypes:{},efficiency:0}},created:function(){this.getTaskOverview()},methods:{getTaskOverview:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.loading=!0,t.$http.get(et["a"].summary).then((function(e){t.taskTypes={assigned_by_me:{text:"Assigned By Me",category:"assigned-by-me",current:e.assigned_by_me_recently,total:e.assigned_by_me},assigned_to_me:{text:"Assigned To Me",category:"assigned-to-me",current:e.assigned_to_me_recently,total:e.assigned_to_me},observed_by_me:{text:"Observed By Me",category:"observed-by-me",current:e.observed_by_me_recently,total:e.observed_by_me}},t.efficiency=e.efficiency||0})).finally((function(){t.loading=!1}));case 2:case"end":return e.stop()}}),e)})))()},getProgressColor:function(t){return t<50?"red":t<80?"orange":"green"},gotoTaskPage:function(t,e){var n={pre:"all",post:"all"};e&&(n=Object(a["a"])(Object(a["a"])({},n),{},{start_date:this.$dayjs().format("YYYY-MM-DD"),end_date:this.$dayjs().format("YYYY-MM-DD")})),this.$router.push({name:"user-task-"+t,query:n})}}},st=nt,it=n("8860"),at=n("da13"),ot=n("1800"),rt=n("5d23"),ct=Object(v["a"])(st,Z,tt,!1,null,null,null),lt=ct.exports;y()(ct,{VCard:x["a"],VCardText:C["c"],VDivider:P["a"],VList:it["a"],VListItem:at["a"],VListItemAction:ot["a"],VListItemContent:rt["a"],VProgressCircular:K["a"],VSpacer:L["a"],VTooltip:R["a"]});var dt=n("b0c03"),ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",[n("v-card-text",{staticClass:"pa-1"},[n("v-row",{staticClass:"mx-4"},[t.showAbsentToday?n("v-col",{staticClass:"pa-0 ma-0",attrs:{cols:"3"}},[n("div",{staticClass:"grey--text text-center"},[t._v("Absent Today")]),n("div",{staticClass:"danger--text font-weight-bold text-h5 text-center",class:t.absentCount?"pointer":"",on:{click:function(e){t.absentCount&&t.displayEmployerList("Absent Today")}}},[t._v(" "+t._s(t.absentCount)+" ")])]):t._e(),n("v-spacer"),n("v-col",{staticClass:"pa-0 ma-0",attrs:{cols:t.showAbsentToday?3:6}},[n("div",{staticClass:"grey--text text-center"},[t._v("On Leave")]),n("div",{staticClass:"amber--text font-weight-bold text-h5 text-center",class:t.leaveCount?"pointer":"",on:{click:function(e){t.leaveCount&&t.displayEmployerList("On Leave")}}},[t._v(" "+t._s(t.leaveCount)+" ")])]),n("v-spacer"),n("v-col",{staticClass:"pa-0 ma-0",attrs:{cols:t.showAbsentToday?3:6}},[n("div",{staticClass:"grey--text text-center"},[t._v("On Travel")]),n("div",{staticClass:"purple--text font-weight-bold text-h5 text-center",class:t.fieldVisitCount?"pointer":"",on:{click:function(e){t.fieldVisitCount&&t.displayEmployerList("Field Visit")}}},[t._v(" "+t._s(t.fieldVisitCount)+" ")])]),"true"===t.workingRemotely?n("v-col",{staticClass:"pa-0 ma-0",attrs:{cols:"3"}},[n("div",{staticClass:"grey--text text-center"},[t._v("Remote Work")]),n("div",{staticClass:"green--text font-weight-bold text-h5 text-center",class:t.remoteWorkCount?"pointer":"",on:{click:function(e){t.remoteWorkCount&&t.displayEmployerList("Remote Work")}}},[t._v(" "+t._s(t.remoteWorkCount)+" ")])]):t._e()],1)],1),n("user-list-dialog",{attrs:{"info-list":[t.eventType],users:t.employeeList,title:t.eventType,endpoint:t.endpoint,"header-info":"On Leave"===t.eventType?"Leave Info":""},on:{close:function(e){t.showUsersList=!1,t.employeeList=[]}},scopedSlots:t._u([{key:"info",fn:function(e){var s=e.user;return"On Leave"===t.eventType?[n("div",{staticClass:"text-left",staticStyle:{"min-width":"180px"}},[n("ul",t._l(s.leave_info,(function(e,s){return n("li",{key:s},[t._v(" "+t._s(e)+" Leave ")])})),0)]),n("div",{staticClass:"text-left",staticStyle:{"min-width":"180px"}},[n("ul",t._l(s.substitute_user,(function(e,s){return n("li",{key:s},[t._v(" "+t._s(e)+" as Substitute ")])})),0)])]:void 0}}],null,!0),model:{value:t.showUsersList,callback:function(e){t.showUsersList=e},expression:"showUsersList"}})],1)},pt=[],mt={getStatCountInfo:function(t){return"/attendance/".concat(t,"/user/noticeboard/stats/detail/count")},getStatInfo:function(t){return"/attendance/".concat(t,"/user/noticeboard/stats/")},getAbsentUser:function(t){return"/attendance/".concat(t,"/user/noticeboard/stats/detail/absent")},getLeaveUser:function(t){return"/attendance/".concat(t,"/user/noticeboard/stats/detail/leave/")},getTravelUser:function(t){return"/attendance/".concat(t,"/user/noticeboard/stats/detail/travel/")},getRemoteUser:function(t){return"/attendance/".concat(t,"/user/noticeboard/stats/detail/remote-work/")}},ht=n("9815"),ft={components:{UserListDialog:ht["default"]},data:function(){return{leaveCount:null,absentCount:null,fieldVisitCount:null,remoteWorkCount:null,hasDataLoaded:!1,leaveInfo:{},absentInfo:{},fieldVisitInfo:{},remoteWorkInfo:{},employeeList:[],showUsersList:!1,eventType:"",endpoint:"",workingRemotely:Object(q["f"])("VUE_APP_WORKING_REMOTELY_MODE")||"false",showAbsentToday:"true"===Object(q["f"])("VUE_APP_SHOW_ABSENT_TODAY")}},created:function(){this.getStatsCountInfo()},methods:{getStatsCountInfo:function(){var t=this;this.$http.get(mt.getStatCountInfo(this.getOrganizationSlug)).then((function(e){t.leaveCount=e.leave,t.absentCount=e.absent,t.fieldVisitCount=e.field_visit,t.remoteWorkCount=e.remote_work}))},displayEmployerList:function(t){var e={"Absent Today":mt.getAbsentUser,"On Leave":mt.getLeaveUser,"Field Visit":mt.getTravelUser,"Remote Work":mt.getRemoteUser};this.endpoint=e[t](this.getOrganizationSlug),this.eventType=t,this.showUsersList=!0}}},vt=ft,gt=Object(v["a"])(vt,ut,pt,!1,null,null,null),yt=gt.exports;y()(gt,{VCard:x["a"],VCardText:C["c"],VCol:k["a"],VRow:V["a"],VSpacer:L["a"]});var _t=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-expansion-panels",{attrs:{accordion:""},model:{value:t.showSubordinateDetails,callback:function(e){t.showSubordinateDetails=e},expression:"showSubordinateDetails"}},[n("v-expansion-panel",[n("v-expansion-panel-header",[n("v-col",{attrs:{cols:"12"},domProps:{textContent:t._s("My Team")}})],1),n("v-divider"),n("v-expansion-panel-content",[n("v-row",[n("v-col",{attrs:{md:"6",cols:"12"}},[n("subordinate-stats",{attrs:{supervisor:t.getAuthStateUserId}})],1),n("v-col",{attrs:{md:"6",cols:"12"}},[n("subordinate-all-requests")],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("subordinate-tasks",{attrs:{heading:"Task Status"}})],1)],1)],1)],1)],1)},bt=[],xt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{attrs:{height:"100%"}},[n("vue-card-title",{attrs:{title:"Attendance & Leave",subtitle:"My Team's Attendance & Leave",icon:"mdi-fingerprint"}}),n("v-divider"),n("v-list",[t._l(t.events,(function(e,s,i){return[n("v-list-item",{key:i},[n("v-list-item-content",[n("div",[n("v-icon",{attrs:{small:""}},[t._v(" "+t._s(e.icon)+" ")]),n("span",{staticClass:"grey--text text-caption font-weight-bold"},[t._v(" "+t._s(e.event)+" ")])],1)]),n("v-list-item-action",[n("thumbnail-users",{attrs:{users:e.users,"total-users":e.totalUserCount,type:e.event},on:{showMore:function(n){return t.showMore(e.event)}}})],1)],1),i<Object.keys(t.events).length-1?n("v-divider",{key:s}):t._e()]}))],2),t.showUsersList?n("user-list-dialog",{attrs:{users:t.selectedUser,title:t.eventType},on:{close:function(e){t.showUsersList=!1}},model:{value:t.showUsersList,callback:function(e){t.showUsersList=e},expression:"showUsersList"}}):t._e()],1)},Ct=[],wt=n("cde3"),kt=n("de4a"),Pt={components:{ThumbnailUsers:wt["default"],UserListDialog:ht["default"]},props:{supervisor:{type:[Number],default:null}},data:function(){return{events:{onLeave:{event:"Leave",icon:"mdi-calendar-month-outline",users:[],totalUserCount:0},absent:{event:"Absent",icon:"mdi-calendar-month-outline",users:[],totalUserCount:0},lateIn:{event:"Late In",icon:"mdi-calendar-month-outline",users:[],totalUserCount:0},earlyOut:{event:"Early Out",icon:"mdi-calendar-month-outline",users:[],totalUserCount:0}},users:[],showUsersList:!1,eventType:"",eventTypeMap:{Absent:"Absent Users","Early Out":"Early Out Users","Late In":"Late In Users",Leave:"On Leave Users"},selectedUser:[]}},created:function(){this.getAttendanceLeaveDetails()},methods:{showMore:function(t){this.eventType=t+" User List","Leave"===t&&(this.selectedUser=this.events.onLeave.users),"Absent"===t&&(this.selectedUser=this.events.absent.users),"Late In"===t&&(this.selectedUser=this.events.lateIn.users),"Early Out"===t&&(this.selectedUser=this.events.earlyOut.users),this.showUsersList=!0},getAttendanceLeaveDetails:function(){var t=this;this.$http.get(kt["a"].getAttendanceLeaveList(),{params:{supervisor:this.supervisor}}).then((function(e){t.events.earlyOut.totalUserCount=e.early_out.count,t.events.earlyOut.users=e.early_out.data,t.events.onLeave.totalUserCount=e.leave.count,t.events.onLeave.users=e.leave.data,t.events.absent.totalUserCount=e.absent.count,t.events.absent.users=e.absent.data,t.events.lateIn.totalUserCount=e.late_in.count,t.events.lateIn.users=e.late_in.data}))}}},St=Pt,Dt=Object(v["a"])(St,xt,Ct,!1,null,null,null),Tt=Dt.exports;y()(Dt,{VCard:x["a"],VDivider:P["a"],VIcon:D["a"],VList:it["a"],VListItem:at["a"],VListItemAction:ot["a"],VListItemContent:rt["a"]});var Ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-row",[n("v-col",{attrs:{md:"12"}},[n("v-card",[n("vue-card-title",{attrs:{title:t.heading,subtitle:"My Team's task information",icon:"mdi-format-list-checks"}}),n("v-divider"),n("v-tabs",{attrs:{"hide-slider":""},model:{value:t.currentTab,callback:function(e){t.currentTab=e},expression:"currentTab"}},t._l(["Assigned To Team","Assigned By Team"],(function(e){return n("v-tab",{key:e,staticClass:"text-capitalize",attrs:{"active-class":"indigo accent-3  white--text"}},[t._v(" "+t._s(e)+" ")])})),1),n("task-data-table",{attrs:{"task-endpoint":0===t.currentTab?t.assigneeEndpoint:t.assignedEndpoint,overview:""}})],1)],1)],1)},Vt=[],At=n("6df2"),It={components:{TaskDataTable:At["a"]},props:{heading:{type:String,default:"Task"}},data:function(){return{dialog:!1,assignedEndpoint:et["a"].subordinate+"?subordinates=assigned",assigneeEndpoint:et["a"].subordinate+"?subordinates=assignee",currentTab:0}}},Lt=It,$t=n("71a3"),Rt=n("fe57"),jt=Object(v["a"])(Lt,Ot,Vt,!1,null,null,null),Ut=jt.exports;y()(jt,{VCard:x["a"],VCol:k["a"],VDivider:P["a"],VRow:V["a"],VTab:$t["a"],VTabs:Rt["a"]});var Nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{attrs:{height:"100%"}},[n("vue-card-title",{attrs:{title:"Pending Approval",subtitle:"My Team's pending approval",icon:"mdi-calendar-multiple-check"}}),n("v-divider"),n("v-list",[t._l(t.requestTypes,(function(e,s){return[n("v-list-item",{key:e.text},[n("v-list-item-content",[n("div",{staticClass:"pointer primary--text",domProps:{textContent:t._s(e.text)},on:{click:function(n){return t.$router.push(e.link)}}})]),n("v-list-item-action",[n("div",{domProps:{textContent:t._s(e.count)}})])],1),s!==t.requestTypes.length-1?n("v-divider",{key:"D-"+s}):t._e()]}))],2)],1)},Et=[],Bt={getUserRequests:function(){return"/commons/all-request-summary/"}},Mt=n("38ef"),zt={data:function(){return{requestTypes:[{text:"Attendance Entries",link:"/user/supervisor/attendance/requests/adjustments",count:0},{text:"Leave Requests",link:"/user/supervisor/leave/requests",count:0},{text:"Overtime Claim Requests",link:"/user/supervisor/attendance/requests/overtime-claims",count:0},{text:"Travel Attendance Request",link:"/user/supervisor/attendance/requests/travel-attendance",count:0}]}},created:function(){var t=this;this.$http.get(Bt.getUserRequests()).then((function(e){t.requestTypes[0].count=e.attendance_adjustments,t.requestTypes[1].count=e.leave_requests,t.requestTypes[2].count=e.overtime_claims})),this.getTravelRequest()},methods:{getTravelRequest:function(){var t=this;this.$http.get(Mt["a"].getCommonTravelAttendanceSummary+"?as=supervisor").then((function(e){t.requestTypes[3].count=e.pending}))}}},Yt=zt,Ft=Object(v["a"])(Yt,Nt,Et,!1,null,null,null),Ht=Ft.exports;y()(Ft,{VCard:x["a"],VDivider:P["a"],VList:it["a"],VListItem:at["a"],VListItemAction:ot["a"],VListItemContent:rt["a"]});var qt={components:{SubordinateStats:Tt,SubordinateTasks:Ut,SubordinateAllRequests:Ht},data:function(){return{showSubordinateDetails:!0}}},Wt=qt,Gt=n("cd55"),Kt=n("49e2"),Jt=n("c865"),Qt=n("0393"),Xt=Object(v["a"])(Wt,_t,bt,!1,null,null,null),Zt=Xt.exports;y()(Xt,{VCol:k["a"],VDivider:P["a"],VExpansionPanel:Gt["a"],VExpansionPanelContent:Kt["a"],VExpansionPanelHeader:Jt["a"],VExpansionPanels:Qt["a"],VRow:V["a"]});var te=n("cdd1"),ee=function(){return n.e("chunk-2d22c1cd").then(n.bind(null,"f29d"))},ne=function(){return n.e("chunk-7013d914").then(n.bind(null,"ce59"))},se={components:{InfiniteLoadingBase:te["a"],IndividualPost:N["a"],PostForm:U,LeaveAndAbsentEmployee:yt,AttendanceIssues:X,TaskOverview:lt,Events:dt["a"],OvertimeAndLeave:ee,LeaveInfo:ne,SupervisorDashboard:Zt},data:function(){return{posts:[],endpoint:u["a"].getPost+"?status=Approved&as=user",existsPost:!0,resetHandler:!1,fetched:!1,mapOrgPrefComp:{Leave:"LeaveInfo","OT And Leave":"OvertimeAndLeave"}}},computed:Object(a["a"])(Object(a["a"])({},Object(o["c"])({getNoticeBoardAllowPost:"auth/getNoticeBoardAllowPost",isSupervisor:"auth/isSupervisor"})),{},{pinnedPosts:function(){return this.posts.filter((function(t){return t.pinned}))},normalPosts:function(){return this.posts.filter((function(t){return!t.pinned}))},orgPrefComp:function(){return Object(q["f"])("VUE_APP_NOTICE_BOARD_PREF_COMP")?Object(q["f"])("VUE_APP_NOTICE_BOARD_PREF_COMP"):"OT And Leave"}}),mounted:function(){document.title="Noticeboard | RealHRsoft | Complete HR Intelligence"},methods:{setInfiniteResponse:function(t){this.posts=this.posts.concat(t.results),this.existsPost=0!==this.posts.length,this.fetched=!0},resetInfiniteResponse:function(){this.posts=[],this.fetched=!0},appendPost:function(t){this.posts.unshift(t)}}},ie=se,ae=(n("3533"),Object(v["a"])(ie,s,i,!1,null,"0743d6a4",null));e["default"]=ae.exports;y()(ae,{VCard:x["a"],VCardText:C["c"],VCol:k["a"],VRow:V["a"]})},"92fa":function(t,e){var n=/^(attrs|props|on|nativeOn|class|style|hook)$/;function s(t,e){return function(){t&&t.apply(this,arguments),e&&e.apply(this,arguments)}}t.exports=function(t){return t.reduce((function(t,e){var i,a,o,r,c;for(o in e)if(i=t[o],a=e[o],i&&n.test(o))if("class"===o&&("string"===typeof i&&(c=i,t[o]=i={},i[c]=!0),"string"===typeof a&&(c=a,e[o]=a={},a[c]=!0)),"on"===o||"nativeOn"===o||"hook"===o)for(r in a)i[r]=s(i[r],a[r]);else if(Array.isArray(i))t[o]=i.concat(a);else if(Array.isArray(a))t[o]=[i].concat(a);else for(r in a)i[r]=a[r];else t[o]=e[o];return t}),{})}},9646:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-row",{attrs:{"data-cy":1===t.postIndex?"container-like-section-first":"container-like-section",dense:""}},[n("v-col",{attrs:{cols:"4"}},[n("v-btn",{attrs:{disabled:t.isHrAdmin,color:t.liked?"primary":"grey",text:"","data-cy":1===t.postIndex?"btn-like-first":"btn-like",block:""},on:{click:t.likeNotice}},[n("v-icon",{attrs:{size:15,color:t.liked?"primary":"grey",left:""},domProps:{textContent:t._s(t.postByHR?"mdi-check-circle":t.birthDayPost?"mdi-cake":t.anniversaryPost?"mdi-hand-clap":t.condolencePost?"mdi-hands-pray":"mdi-thumb-up")}}),t.isHrAdmin?n("strong",{staticClass:"grey--text",domProps:{textContent:t._s("Like")}}):n("strong",{class:(t.liked?"primary--text":"grey--text")+" font-weight-bold text-caption",domProps:{textContent:t._s(t.postByHR?"Acknowledge":t.birthDayPost?"Wish":t.anniversaryPost?"Clap":t.condolencePost?"Offer Condolence":"Like")}})],1)],1),n("v-col",{attrs:{cols:"4"}},[t.commentDisabled?t._e():n("v-btn",{attrs:{"data-cy":1===t.postIndex?"btn-comment-first":"btn-comment",disabled:t.isHrAdmin,text:"",block:""},on:{click:function(e){return t.$emit("toggleComment")}}},[n("v-icon",{attrs:{size:15,left:"",color:"grey"},domProps:{textContent:t._s("mdi-comment-text")}}),n("strong",{staticClass:"grey--text",domProps:{textContent:t._s("Comment")}})],1)],1),n("v-col",{attrs:{cols:"4"}},[t.$route.params.id?t._e():n("v-btn",{attrs:{text:"",block:"","data-cy":1===t.postIndex?"btn-permalink-first":"btn-permalink"},on:{click:function(e){return t.$router.push("/user/posts/"+t.post.id+"/")}}},[n("v-icon",{attrs:{size:20,left:"",color:"grey"},domProps:{textContent:t._s("mdi-link")}}),n("strong",{staticClass:"grey--text",domProps:{textContent:t._s("Permalink")}})],1)],1)],1),n("v-card-text",{staticClass:"primaryLight text-caption"},[n("v-row",{attrs:{align:"center","no-gutters":""}},[t._l(t.likers,(function(t){return n("v-avatar",{key:t.liked_by.id,attrs:{size:"20"}},[n("v-img",{attrs:{src:t.liked_by.profile_picture}})],1)})),n("span",{staticClass:"mx-1 baseColor--text",domProps:{innerHTML:t._s(t.$sanitize(t.likeText)+" ")}}),n("span",{staticClass:"pointer",domProps:{innerHTML:t._s(t.$sanitize(t.othersText))},on:{click:function(e){t.showUsersList=!0}}}),n("v-spacer"),t.post.comments.count?n("span",{attrs:{"data-cy":1===t.postIndex?"btn-toggle-comment-first":"btn-toggle-comment"},on:{click:function(e){return t.$emit("toggleComment")}}},[n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[n("span",t._g({domProps:{textContent:t._s(t.formatCount(t.post.comments.count))}},s))]}}],null,!1,100559869)},[n("span",[t._v(" "+t._s(t.post.comments.count)+" ")])]),n("v-icon",{staticClass:"pointer",attrs:{size:15},domProps:{textContent:t._s("mdi-comment-text")}})],1):t._e()],2)],1),n("user-list-dialog",{attrs:{endpoint:t.userEndpoint,title:"People who "+(t.postByHR?"Acknowledged":t.birthDayPost?"Wished":t.anniversaryPost?"Clapped":t.condolencePost?"Offered Condolence":"Liked"),"normal-user":""},on:{close:function(e){t.showUsersList=!1}},model:{value:t.showUsersList,callback:function(e){t.showUsersList=e},expression:"showUsersList"}})],1)},i=[],a=n("5530"),o=(n("a9e3"),n("fb6a"),n("2ca0"),n("4de4"),n("a15b"),n("9815")),r=n("c44a"),c=n("6d1c"),l=n("cf45"),d=n("2f62"),u={components:{UserListDialog:o["default"]},mixins:[r["a"]],props:{post:{type:Object,required:!0},postIndex:{type:Number,default:0},isHrAdmin:{type:Boolean,default:!1}},data:function(){return{liked:this.post.likes.me,likers:this.post.likes.data.slice(0,4),likesCount:this.post.likes.me?this.post.likes.count-1:this.post.likes.count,showUsersList:!1,commentDisabled:this.post.disable_comment,userEndpoint:c["a"].getLikedPostById(this.post.id)}},computed:Object(a["a"])(Object(a["a"])({},Object(d["c"])({getAuthStateUser:"auth/getAuthStateUser"})),{},{postByHR:function(){return"HR Notice"===this.post.category},condolencePost:function(){return"Condolence Post"===this.post.category},birthDayPost:function(){return"On Your Special Day :)"===this.post.post_content},anniversaryPost:function(){return this.post.post_content.startsWith("Happy Work Anniversary")},likeText:function(){var t=this,e=[],n=this.likers.filter((function(e){return e.liked_by.id!==t.getAuthStateUser.user.id}));this.liked&&e.push("<b>You</b>"),n.length>0&&e.push("<b>".concat(n[0].liked_by.full_name,"</b> "));var s=n.length>1?e.join(", "):e.join(" and "),i="";return i=s.length?this.postByHR?"Acknowledged by":this.birthDayPost?"Wished by":this.anniversaryPost?"Clapped by":this.condolencePost?"Offered condolence by":"Liked by":"Be the first person to ".concat(this.postByHR?"acknowledge this notice.":this.birthDayPost?"wish birthday.":this.anniversaryPost?"clap anniversary.":this.condolencePost?"offer condolence.":"like this post."),i+" "+s},othersText:function(){var t=this,e="",n=this.likers.filter((function(e){return e.liked_by.id!==t.getAuthStateUser.user.id})),s=this.likesCount-1;return 2===n.length?e+="<b> and 1 other</b>":n.length>2&&(e+="<b> and ".concat(Object(l["c"])(s)," others</b>")),e}}),methods:{formatCount:l["c"],likeNotice:function(){var t=this;this.liked&&this.postByHR||(this.liked?this.likers=this.likers.filter((function(e){return e.liked_by.id!==t.getAuthStateUser.user.id})):this.likers.length<4&&this.likers.push({liked_by:this.getAuthStateUser.user}),this.liked=!this.liked,this.$http.post(c["a"].likePostById(this.post.id),{liked:this.liked}).catch((function(e){t.notifyInvalidFormResponse(e.response.data.non_field_errors[0]),t.pushErrors(e),t.likers=t.post.likes.data.slice(0,4),t.liked=!t.liked})))}}},p=u,m=(n("44d9"),n("2877")),h=n("6544"),f=n.n(h),v=n("8212"),g=n("8336"),y=n("99d9"),_=n("62ad"),b=n("132d"),x=n("adda"),C=n("0fd9b"),w=n("2fa4"),k=n("3a2f"),P=Object(m["a"])(p,s,i,!1,null,"1ca9000b",null);e["a"]=P.exports;f()(P,{VAvatar:v["a"],VBtn:g["a"],VCardText:y["c"],VCol:_["a"],VIcon:b["a"],VImg:x["a"],VRow:C["a"],VSpacer:w["a"],VTooltip:k["a"]})},9815:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{width:"500",persistent:"",scrollable:""},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.$emit("input",!1)}},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[n("v-card",[n("vue-card-title",{attrs:{title:t.title,subtitle:"List of Employees",icon:"mdi-account-group-outline",dark:"",closable:""},on:{close:function(e){return t.$emit("input",!1)}}}),n("v-divider"),t.headerInfo?n("v-list",{staticClass:"primaryLight pl-9 pr-5 py-0"},[n("v-list-item",[n("v-list-item-content",{staticClass:"text-body-1",attrs:{md:"5"}},[t._v(" Name ")]),n("v-list-item-action",{staticClass:"text-body-1 text-center"},[t._v(" "+t._s(t.headerInfo)+" ")])],1)],1):t._e(),n("v-divider"),n("v-card-text",{staticClass:"pb-0"},[t.endpoint||0!==t.users.length?t._e():n("div",[n("vue-no-data")],1),t.userInstance&&t.userInstance.length?n("v-list",t._l(t.userInstance,(function(e){return n("v-list-item",{key:e.id},[n("v-list-item-content",[n("vue-user",{attrs:{user:e.liked_by||e.user||e}})],1),t._l(t.infoList,(function(s,i){return[n("v-list-item-action",{key:i},[n("span",[i>0?n("span",[n("span",[t._v("|")])]):t._e(),t._v(" "+t._s(e[s])+" ")])])]})),n("v-list-item-action",[t._t("info",null,{user:e})],2)],2)})),1):t._e(),t.dialog&&t.endpoint?n("div",[n("infinite-loading-base",{attrs:{endpoint:t.endpoint,"response-key":t.responseKey},on:{setInfiniteResponse:t.setInfiniteResponse}})],1):t._e()],1)],1)],1)},i=[],a=n("2909"),o=(n("99af"),n("e585")),r=n("02cb"),c=n("cdd1"),l={components:{VueUser:r["default"],VueNoData:o["default"],InfiniteLoadingBase:c["a"]},extends:c["a"],props:{value:{type:Boolean,default:!1},users:{type:Array,default:function(){return[]}},title:{type:String,default:"List Of Employees"},infoList:{type:Array,default:function(){return[]}},endpoint:{type:String,default:""},headerInfo:{type:String,default:""},responseKey:{type:String,default:"results"}},data:function(){return{userInstance:[],dialog:this.value,fetched:!this.endpoint}},watch:{value:function(t){this.dialog=t,this.userInstance=this.users}},created:function(){this.userInstance=Object(a["a"])(this.users)},methods:{setInfiniteResponse:function(t){this.userInstance=this.userInstance.concat(t[this.responseKey])}}},d=l,u=n("2877"),p=n("6544"),m=n.n(p),h=n("b0af"),f=n("99d9"),v=n("169a"),g=n("ce7e"),y=n("8860"),_=n("da13"),b=n("1800"),x=n("5d23"),C=Object(u["a"])(d,s,i,!1,null,null,null);e["default"]=C.exports;m()(C,{VCard:h["a"],VCardText:f["c"],VDialog:v["a"],VDivider:g["a"],VList:y["a"],VListItem:_["a"],VListItemAction:b["a"],VListItemContent:x["a"]})},"98f2":function(t,e,n){"use strict";n("a8bf")},"99d7":function(t,e,n){},"9d01":function(t,e,n){},"9d1c":function(t,e,n){},a51f:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.search.length>0?n("span",[t._v(' Your search for "'+t._s(t.search)+'" found no results. ')]):t.loading?n("v-skeleton-loader",{attrs:{type:"table",height:t.skeletonLoaderHeight}}):n("no-data-found",{attrs:{text:t.text,height:t.height}},[t._t("default")],2)],1)},i=[],a=(n("a9e3"),n("e585")),o={components:{NoDataFound:a["default"]},props:{search:{type:String,default:""},loading:{type:Boolean,required:!0},text:{type:String,default:"No data available at the moment"},height:{type:[String,Number],default:200},skeletonLoaderHeight:{type:[String,Number],default:void 0}}},r=o,c=n("2877"),l=n("6544"),d=n.n(l),u=n("3129"),p=Object(c["a"])(r,s,i,!1,null,null,null);e["default"]=p.exports;d()(p,{VSkeletonLoader:u["a"]})},a8bf:function(t,e,n){},aaf3:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-list",{staticClass:"py-0",attrs:{color:"primaryLight","three-line":""}},[n("v-list-item",[n("v-list-item-avatar",{staticClass:"my-2"},[n("v-avatar",{attrs:{size:"35"}},[n("v-img",{attrs:{src:t.comment.commented_by.profile_picture}})],1)],1),n("v-list-item-content",[n("v-list-item-title",{staticClass:"my-0"},[t.isCurrent?t.comment.commented_by.organization.slug!=t.getOrganizationSlug?n("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[n(t.isCurrent&&!t.organizationSpecificDir?"a":"span",t._g(t._b({tag:"component",staticClass:"mr-2",domProps:{textContent:t._s(t.comment.commented_by.full_name)},on:{click:function(e){!t.organizationSpecificDir&&t.isCurrent&&t.viewProfileDetail(t.comment.commented_by.id)}}},"component",i,!1),s))]}}])},[n("span",[t._v("From Different Organization")])]):n("a",{staticClass:"mr-2",domProps:{textContent:t._s(t.comment.commented_by.full_name)},on:{click:function(e){return t.viewProfileDetail(t.comment.commented_by.id)}}}):n("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[n("span",t._g(t._b({staticClass:"mr-2"},"span",i,!1),s),[t._v(t._s(t.comment.commented_by.full_name))])]}}],null,!1,2534926288)},[n("span",[t._v("Past Employee")])]),n("span",{staticClass:"text-caption grey--text",domProps:{textContent:t._s(t.humanizeDate(t.comment.created_at))}}),t.humanizedTime(t.comment.created_at)!==t.humanizedTime(t.comment.modified_at)?n("span",{staticClass:"text-caption grey--text",domProps:{textContent:t._s(" - Edited")}}):t._e()],1),n("v-list-item-subtitle",{staticClass:"py-1",staticStyle:{"-webkit-line-clamp":"unset"}},[t.editComment?n("div",[n("v-text-field",{staticClass:"my-0 pt-0",attrs:{"append-icon":t.isReply?"":"mdi-camera"},on:{"click:append":function(e){return t.$refs.updateImage.click()}},model:{value:t.update.text,callback:function(e){t.$set(t.update,"text",e)},expression:"update.text"}}),n("input",{ref:"updateImage",staticClass:"d-none",attrs:{type:"file",accept:"image/*"},on:{change:t.addCommentImage}}),t.update.image.url?n("v-img",{attrs:{height:150,width:150,src:t.update.image.url}},[n("v-icon",{staticClass:"float-right",attrs:{color:"danger"},domProps:{textContent:t._s("mdi-close")},on:{click:function(e){t.update.image.url=null}}})],1):t._e()],1):n("div",{attrs:{"data-cy":1===t.postIndex&&1===t.commentIndex?"post-comment-first":"post-comment"}},[n("span",{domProps:{innerHTML:t._s(t.$sanitize(t.getUserComment))}}),n("span",[t.comment.content.length>100?n("a",{style:t.showMoreComment?"visibility: hidden":"visibility: visible",on:{click:function(e){t.showMoreComment=!t.showMoreComment}}},[t._v("Read more")]):t._e()])])]),t.comment.image&&!t.editComment?n("v-list-item-subtitle",{staticClass:"my-1 pointer"},[n("v-img",{attrs:{height:150,width:150,src:t.comment.image},on:{click:function(e){t.attachments=[t.comment],t.showImageViewer=!0}}})],1):t._e(),t.editComment?n("div",{staticClass:"my-2",attrs:{align:"start"}},[n("v-btn",{attrs:{disabled:t.update.text===t.comment.content&&t.update.image.url===t.comment.image,small:"",depressed:"",color:"primary"},domProps:{textContent:t._s("Save")},on:{click:function(e){t.isReply?t.updateReply():t.updateComment()}}}),n("v-btn",{staticClass:"ml-2",attrs:{outlined:"",small:""},domProps:{textContent:t._s("Cancel")},on:{click:function(e){t.editComment=!1}}})],1):t._e(),t.editComment?t._e():n("div",[t.isReply?t._e():n("span",{class:(t.liked?"primary":"grey")+"--text text-caption"},[n("v-btn",{attrs:{"data-cy":1===t.postIndex&&1===t.commentIndex?"btn-comment-like-first":"btn-comment-like",icon:"",small:""},on:{click:t.likeComment}},[n("v-icon",{attrs:{color:t.liked?"primary":"grey",size:12},domProps:{textContent:t._s("mdi-thumb-up")}})],1),n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[t.likesCount>0?n("span",t._g({staticClass:"text-caption pointer",domProps:{textContent:t._s(t.formatCount(t.likesCount))},on:{click:function(e){t.displayLikers=!0}}},s)):t._e()]}}],null,!1,2727986913)},[n("span",[t._v(" "+t._s(t.likesCount)+" ")])])],1),t.isReply?t._e():n("span",{staticClass:"ml-3"},[n("v-btn",{attrs:{"data-cy":1===t.postIndex&&1===t.commentIndex?"btn-toggle-reply-first":"btn-toggle-reply",icon:"",small:""},on:{click:t.toggleReply}},[n("v-icon",{attrs:{color:"grey",size:"15"},domProps:{textContent:t._s("mdi-reply")}})],1),n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[t.repliesCount>0?n("span",t._g({staticClass:"text-caption grey--text",domProps:{textContent:t._s(t.formatCount(t.repliesCount))}},s)):t._e()]}}],null,!1,1269899933)},[n("span",[t._v(" "+t._s(t.repliesCount)+" ")])])],1)]),t.showReply&&!t.isReply?n("v-row",[t.replies.length?n("v-divider",{attrs:{vertical:""}}):t._e(),n("v-col",[t.loadingReply&&!t.replies.length?n("v-progress-linear",{attrs:{height:2,indeterminate:""}}):t._e(),t.repliesCount?n("span",[t._l(t.replies,(function(e,s){return n("comment-section",{key:e.id,attrs:{"post-id":t.postId,"comment-id":t.comment.id,"is-reply":!0,"comment-instance":t.prepareReply(e)},on:{delete:function(e){t.replies.splice(s,1),t.repliesCount-=1,t.offset-=1}}})})),t.repliesCount>3&&t.repliesCount>t.replies.length?n("div",{attrs:{align:"center"}},[n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[n("a",t._g({domProps:{textContent:t._s("View "+t.formatCount(t.repliesCount-t.replies.length)+" More Replies")},on:{click:t.getReplies}},s))]}}],null,!1,1274894366)},[n("span",[t._v(" "+t._s(t.repliesCount-t.replies.length)+" ")])])],1):t._e()],2):t._e(),t.isReply?t._e():n("v-textarea",{staticClass:"my-0 py-1 px-2",attrs:{rows:1,"data-cy":1===t.postIndex&&1===t.commentIndex?"input-reply-first":"input-reply",placeholder:"Post a reply","hide-details":"","no-resize":""},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.postReply.apply(null,arguments))}},model:{value:t.reply,callback:function(e){t.reply=e},expression:"reply"}},[n("v-avatar",{attrs:{slot:"prepend",size:"35"},slot:"prepend"},[n("v-img",{attrs:{src:t.getAuthStateUser.user.profile_picture}})],1)],1)],1)],1):t._e()],1),n("v-list-item-action",[!t.editComment&&t.isAuthorized?n("v-menu",{attrs:{bottom:"",right:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[n("v-icon",t._g({attrs:{"data-cy":1===t.postIndex&&1===t.commentIndex?"reply-dropdown-menu-first":"reply-dropdown-menu",small:""},domProps:{textContent:t._s("mdi-menu-down")}},s))]}}],null,!1,1944738727)},[n("v-list",{attrs:{dense:""}},[t.comment.commented_by.id===t.userDetail.user.id?n("v-list-item",{attrs:{"data-cy":1===t.postIndex&&1===t.commentIndex?"reply-dropdown-menu-item-first":"reply-dropdown-menu-item"},on:{click:function(e){t.update.text=t.comment.content,t.editComment=!0,t.update.image.url=t.comment.image}}},[n("v-list-item-title",[n("v-icon",{attrs:{small:""},domProps:{textContent:t._s("mdi-pencil")}}),n("span",{domProps:{textContent:t._s("Update "+(t.isReply?"Reply":"Comment"))}})],1)],1):t._e(),n("v-list-item",{attrs:{"data-cy":1===t.postIndex&&1===t.commentIndex?"reply-dropdown-menu-item-first":"reply-dropdown-menu-item"},on:{click:function(e){t.deleteNotification.dialog=!0}}},[n("v-list-item-title",[n("v-icon",{attrs:{small:""},domProps:{textContent:t._s("mdi-delete")}}),n("span",{domProps:{textContent:t._s("Delete "+(t.isReply?"Reply":"Comment"))}})],1)],1)],1)],1):t._e()],1)],1)],1),n("vue-dialog",{attrs:{notify:t.deleteNotification},on:{close:function(e){t.deleteNotification.dialog=!1},agree:function(e){t.isReply?t.deleteReply():t.deleteComment()}}}),n("user-list-dialog",{attrs:{endpoint:t.userEndpoint,title:"People who liked this comment"},on:{close:function(e){t.displayLikers=!1}},model:{value:t.displayLikers,callback:function(e){t.displayLikers=e},expression:"displayLikers"}}),t.showImageViewer?n("image-viewer",{attrs:{items:t.attachments},on:{close:function(e){t.showImageViewer=!1}}}):t._e()],1)},i=[],a=n("5530"),o=(n("d3b7"),n("3ca3"),n("ddb0"),n("a9e3"),n("99af"),n("b0c0"),n("498a"),n("2f62")),r=n("9815"),c=n("ea98"),l=n("8448"),d=n("6d1c"),u=n("c44a"),p=n("cf45"),m=n("a78e"),h={name:"Comments",components:{CommentSection:function(){return Promise.resolve().then(n.bind(null,"aaf3"))},VueDialog:c["a"],UserListDialog:r["default"],ImageViewer:l["a"]},mixins:[u["a"],u["a"]],props:{commentInstance:{type:Object,required:!0},postId:{type:[Number,String],required:!0},postIndex:{type:Number,default:0},commentIndex:{type:Number,default:0},commentId:{type:[Number,String],default:void 0},isReply:{type:Boolean,default:!1}},data:function(){return{comment:this.deepCopy(this.commentInstance),liked:!1,likesCount:0,repliesCount:0,replies:[],showReply:!1,reply:"",offset:0,sending:!1,loadingReply:!1,editComment:!1,update:{text:null,image:{url:"",file:""}},displayLikers:!1,deleteNotification:{dialog:!1,heading:"Confirm Delete",text:"Are you sure you want to delete this ".concat(this.isReply?"reply?":"comment?")},userEndpoint:"",showImageViewer:!1,attachments:[],showMoreComment:!1}},computed:Object(a["a"])(Object(a["a"])({},Object(o["c"])({userDetail:"auth/userDetail",getAuthStateUser:"auth/getAuthStateUser",getUserCategory:"organization/getUserCategory",getOrganizationSlug:"organization/getOrganizationSlug"})),{},{isCurrent:function(){return this.comment.commented_by.is_current},organizationSpecificDir:function(){return m.get("organizationSpecificDir")},isAuthorized:function(){return this.comment.commented_by.id===this.getAuthStateUser.user.id||"HR Admin"===this.getUserCategory},getUserComment:function(){return this.comment.content.length>100&&!this.showMoreComment?this.comment.content.substring(0,100)+"   ":this.getClickableLink(this.comment.content)}}),created:function(){this.liked=this.comment.liked_by_user,this.likesCount=this.comment.likes_count,this.repliesCount=this.comment.replies_count,this.userEndpoint=d["a"].getLikedCommentById(this.comment.id)},methods:Object(a["a"])(Object(a["a"])({},Object(o["d"])({setSnackBar:"common/setSnackBar"})),{},{getClickableLink:p["e"],formatCount:p["c"],humanizedTime:function(t){return this.$dayjs(t).format("YYYY-MM-DD hh:mm:ss")},viewProfileDetail:function(t){this.$router.push({name:"user-employee-directory-id-profile-detail",params:{id:t}})},updateComment:function(){var t=this;if(!this.sending)if(this.update.text){var e="/noticeboard/post/comment/".concat(this.postId,"/").concat(this.comment.id,"/");if(this.update.image.url){var n=new FormData;n.append("content",this.update.text),this.update.image.file&&n.append("image",this.update.image.file,this.update.image.file.name),this.$http.patch(e,n).then((function(e){t.sending=!0,t.editComment=!1,t.showReply=!1,t.comment=e})).finally((function(){return t.sending=!1}))}else{var s={content:this.update.text,image:null};this.$http.put(e,s).then((function(e){t.editComment=!1,t.showReply=!1,t.comment=e}))}}else this.notifyUser("Please add a comment","red")},addCommentImage:function(t){var e=this,n=t.target.files;if(n[0]){var s=new FileReader;s.readAsDataURL(n[0]),s.addEventListener("load",(function(){e.update.image={file:n[0],url:s.result}}))}},deleteComment:function(){var t=this,e="/noticeboard/post/comment/".concat(this.postId,"/").concat(this.comment.id,"/");this.$http.delete(e).then((function(){t.setSnackBar({text:"Successfully deleted comment",color:"green"}),t.$emit("delete")}))},likeComment:function(){var t=this;this.liked?this.likesCount-=1:this.likesCount+=1,this.liked=!this.liked;var e="/noticeboard/post/comment/like/"+this.comment.id+"/";this.$http.post(e,{liked:this.liked}).catch((function(){t.liked=!t.liked,t.liked?t.likesCount+=1:t.likesCount-=1}))},toggleReply:function(){this.showReply=!this.showReply,this.showReply&&this.getReplies()},getReplies:function(){var t=this;this.loadingReply=!0;var e={offset:this.offset,limit:3},n="/noticeboard/post/comment/reply/".concat(this.comment.id,"/");this.$http.get(n,{params:e}).then((function(e){t.replies=t.replies.concat(e.results),t.loadingReply=!1,t.offset+=3}))},postReply:function(){var t=this;if(!this.sending)if(this.sending=!0,this.reply.trim()){if(this.reply.length>1e3)return void this.notifyUser("The Reply field may not be greater than 1000 characters.","red");var e="/noticeboard/post/comment/reply/".concat(this.comment.id,"/");this.$http.post(e,{reply:this.reply}).then((function(e){t.replies.unshift(t.prepareReply(e)),t.reply="",t.repliesCount+=1})).finally((function(){t.sending=!1}))}else this.notifyUser("Please add a reply.","red")},updateReply:function(){var t=this,e="/noticeboard/post/comment/reply/".concat(this.commentId,"/").concat(this.comment.id,"/");this.$http.put(e,{reply:this.update.text}).then((function(e){t.comment=t.prepareReply(e),t.editComment=!1,t.setSnackBar({text:"Successfully updated reply.",color:"green"})}))},deleteReply:function(){var t=this,e="/noticeboard/post/comment/reply/".concat(this.commentId,"/").concat(this.comment.id,"/");this.$http.delete(e).then((function(){t.$emit("delete"),t.setSnackBar({text:"Successfully deleted reply",color:"green"})}))},prepareReply:function(t){return Object(a["a"])(Object(a["a"])({},t),{},{content:t.reply,commented_by:t.reply_by})}})},f=h,v=n("2877"),g=n("6544"),y=n.n(g),_=n("8212"),b=n("8336"),x=n("62ad"),C=n("ce7e"),w=n("132d"),k=n("adda"),P=n("8860"),S=n("da13"),D=n("1800"),T=n("8270"),O=n("5d23"),V=n("e449"),A=n("8e36"),I=n("0fd9b"),L=n("8654"),$=n("a844"),R=n("3a2f"),j=Object(v["a"])(f,s,i,!1,null,null,null);e["default"]=j.exports;y()(j,{VAvatar:_["a"],VBtn:b["a"],VCol:x["a"],VDivider:C["a"],VIcon:w["a"],VImg:k["a"],VList:P["a"],VListItem:S["a"],VListItemAction:D["a"],VListItemAvatar:T["a"],VListItemContent:O["a"],VListItemSubtitle:O["b"],VListItemTitle:O["c"],VMenu:V["a"],VProgressLinear:A["a"],VRow:I["a"],VTextField:L["a"],VTextarea:$["a"],VTooltip:R["a"]})},b0c03:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{attrs:{height:"100%"}},[n("vue-card-title",{attrs:{title:"Events & Holidays",subtitle:"List of upcoming 30 days",icon:"mdi-calendar-outline"}}),n("v-divider"),n("v-card-text",{staticClass:"pa-0"},[n("v-list",{staticClass:"py-0"},[t.trainingList.length>0?n("v-list-item",{staticClass:"pr-2"},[n("v-list-item-content",[n("div",[n("v-icon",{staticClass:"mx-1",attrs:{size:"20"},domProps:{textContent:t._s("mdi-presentation")}}),n("span",{staticClass:"text-caption"},[t._v("Training")])],1)]),n("v-list-item-action",[n("div",{staticClass:"d-flex"},[t._l(t.trainingList,(function(e,s){return[n("div",{key:s},[s<3?n("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(s){var i=s.on;return[n("v-sheet",t._g({staticClass:"text-center text-caption pointer ml-1 dateSheet",attrs:{id:"trainingList",color:"shade"},on:{click:function(n){return t.goToCalendar(e.start,"training")}}},i),[t._v(" "+t._s(t._f("dayjs")(e.start,"DD"))+" "),n("br"),t._v(" "+t._s(t._f("dayjs")(e.start,"MMM"))+" ")])]}}],null,!0)},[n("span",{domProps:{textContent:t._s(e.name)}})]):t._e()],1)]}))],2)])],1):t._e(),t.trainingList.length>0?n("v-divider"):t._e(),n("v-list-item",{staticClass:"pr-2"},[n("v-list-item-content",[n("div",[n("v-icon",{staticClass:"mx-1",attrs:{size:"20"},domProps:{textContent:t._s("mdi-calendar-outline")}}),n("span",{staticClass:"text-caption"},[t._v("Events")])],1)]),n("v-list-item-action",[n("div",{staticClass:"d-flex"},[t._l(t.actualEventList,(function(e,s){return[n("div",{key:s},[s<3?n("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(s){var i=s.on;return[n("v-sheet",t._g({staticClass:"text-center text-caption pointer ml-1 dateSheet",attrs:{id:"eventList",color:"shade"},on:{click:function(n){return t.goToCalendar(e.start_at,"event")}}},i),[t._v(" "+t._s(t._f("dayjs")(e.start_at,"DD"))+" "),n("br"),t._v(" "+t._s(t.getMonth(e.start_at))+" ")])]}}],null,!0)},[n("span",{domProps:{textContent:t._s(e.title)}})]):t._e()],1)]})),t.actualEventList.length>3?n("v-sheet",{staticClass:"\n                text-center text-caption\n                pointer\n                ml-1\n                dateSheet\n                white--text\n              ",attrs:{id:"eventListMore",color:"primary"},on:{click:function(e){t.showMoreEvents=!0}}},[n("v-icon",{staticClass:"mx-1 white--text",attrs:{size:"15"},domProps:{textContent:t._s("mdi-plus")}}),n("br"),t._v(" "+t._s(t.actualEventList.length-3)+" ")],1):t._e(),0===t.actualEventList.length?n("div",[t._v("No upcoming Events")]):t._e()],2)])],1),n("v-divider"),t._l(t.eventList,(function(e,s){return[n("v-list-item",{key:s,staticClass:"pr-2"},[n("v-list-item-content",[n("v-list-item-title",[n("div",[n("v-icon",{staticClass:"mx-1",attrs:{size:"20"},domProps:{textContent:t._s(e.icon)}}),n("span",{staticClass:"text-caption"},[t._v(t._s(e.text))])],1)])],1),n("v-list-item-action",[n("thumbnail-users",{attrs:{users:e.users,"total-users":e.totalUserCount,type:e.type},on:{showMore:function(e){return t.showMore(s)}}})],1)],1),n("v-divider",{key:"D-"+s})]})),n("v-list-item",{staticClass:"pr-2"},[n("v-list-item-content",[n("div",[n("v-icon",{staticClass:"mx-1",attrs:{size:"20"},domProps:{textContent:t._s("mdi-beach")}}),n("span",{staticClass:"text-caption"},[t._v("Holiday")])],1)]),n("v-list-item-action",[n("div",{staticClass:"d-flex"},[t._l(t.holidayList,(function(e,s){return[n("div",{key:s},[s<3?n("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(s){var i=s.on;return[n("v-sheet",t._g({staticClass:"text-center text-caption pointer ml-1 dateSheet",attrs:{id:"holidayList",color:"shade"},on:{click:function(n){return t.goToCalendar(e.date,"holiday")}}},i),[t._v(" "+t._s(t._f("dayjs")(e.date,"DD"))+" "),n("br"),t._v(" "+t._s(t.getMonth(e.date))+" ")])]}}],null,!0)},[n("span",{domProps:{textContent:t._s(e.name)}})]):t._e()],1)]})),0===t.holidayList.length?n("div",[t._v("No upcoming Holiday")]):t._e()],2)])],1)],2)],1),n("user-list-dialog",{attrs:{"info-list":[t.eventType],endpoint:t.userEndpoint,title:t.eventType,"normal-user":""},on:{close:function(e){t.showUsersList=!1}},model:{value:t.showUsersList,callback:function(e){t.showUsersList=e},expression:"showUsersList"}}),n("v-dialog",{attrs:{width:"500",persistent:"",scrollable:""},on:{keydown:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;t.showMoreEvents=!1}},model:{value:t.showMoreEvents,callback:function(e){t.showMoreEvents=e},expression:"showMoreEvents"}},[n("v-card",[n("vue-card-title",{attrs:{title:"Upcoming Events List",subtitle:"List of Upcoming Events",icon:"mdi-file-document-outline",dark:""}}),n("v-divider"),n("v-card-text",{staticClass:"pb-0 primaryLight"},[n("v-list",{staticClass:"primaryLight"},[n("v-list-item",[n("v-list-item-content",{staticClass:"text-body-1",attrs:{md:"5"}},[t._v(" Title ")]),n("v-list-item-action",{staticClass:"text-body-1"},[t._v(" Event Date/Time ")])],1)],1)],1),n("v-divider"),n("v-card-text",{staticClass:"pb-0 scrollbar-md"},[n("v-list",t._l(t.actualEventList,(function(e){return n("v-list-item",{key:e.id},[n("v-list-item-content",{staticClass:"pointer primary--text",on:{click:function(n){return t.goToCalendar(e.start_at,"event")}}},[t._v(" "+t._s(e.title)+" ")]),n("v-list-item-action",[n("div",[t._v(" Start : "+t._s(t.formatDate(e.start_at))+" "+t._s(t.formatTime(e.start_at))+" ")]),n("div",[t._v(" End : "+t._s(t.formatDate(e.end_at))+" "+t._s(t.formatTime(e.end_at))+" ")])])],1)})),1)],1),n("v-divider"),n("v-card-actions",{staticClass:"primaryLight"},[n("v-spacer"),n("v-btn",{attrs:{text:""},on:{click:function(e){t.showMoreEvents=!1}}},[t._v(" Cancel ")])],1)],1)],1)],1)},i=[],a=n("1da1"),o=n("5530"),r=(n("96cf"),n("a9e3"),n("cde3")),c=n("9815"),l=n("0075"),d=n("84e9"),u={getBirthday:function(t){return"/hris/".concat(t,"/upcoming/birthdays/")},getAnniversary:function(t){return"/hris/".concat(t,"/upcoming/anniversaries/")},getEvent:function(t){return"/hris/".concat(t,"/upcoming/events/")}},p=n("2f62"),m={components:{ThumbnailUsers:r["default"],UserListDialog:c["default"]},props:{supervisor:{type:[String,Number],default:""}},data:function(){return{eventList:[],actualEventList:[],holidayList:[],trainingList:[],users:[],showUsersList:!1,showMoreEvents:!1,eventType:"",eventsJoinedCount:"",eventsTodayCount:"",upComingEvents:0,activeEvents:0,userEndpoint:""}},computed:Object(o["a"])({},Object(p["c"])({getAppView:"common/getAppView",getSupervisorOrgSlug:"supervisor/getOrganizationSlug"})),created:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.getTraining(),t.getEvent(),e.next=4,t.getAnniversary();case 4:t.getBirthday(),t.getHolidayList();case 6:case"end":return e.stop()}}),e)})))()},methods:{getTraining:function(){var t=this,e="";"hrAdminView"===this.getAppView?e="hr":this.supervisor&&(e="supervisor"),this.$http.get(d["a"].getUpcomingTraining(this.supervisor?this.getSupervisorOrgSlug:this.getOrganizationSlug),{params:{start_date:this.$dayjs(new Date).format("YYYY-MM-DD"),end_date:this.$dayjs(new Date).add(30,"days").format("YYYY-MM-DD"),ordering:"date",limit:4,as:e}}).then((function(e){t.trainingList=e.results}))},getEvent:function(){var t=this,e="";"hrAdminView"===this.getAppView?e="hr":this.supervisor&&(e="supervisor");var n={for:e,start_date:this.$dayjs(new Date).format("YYYY-MM-DD"),end_date:this.$dayjs(this.$dayjs(new Date).format("YYYY-MM-DD")).add(1,"months").format("YYYY-MM-DD")};this.$http.get(u.getEvent(this.supervisor?this.getSupervisorOrgSlug:this.getOrganizationSlug),{params:n}).then((function(e){t.actualEventList=e.upcoming_events}))},getAnniversary:function(){var t=this,e={start_date:this.$dayjs(new Date).format("YYYY-MM-DD"),end_date:this.$dayjs(this.$dayjs(new Date).format("YYYY-MM-DD")).add(1,"months").format("YYYY-MM-DD")};return this.supervisor&&(e.supervisor=this.supervisor),this.$http.get(u.getAnniversary(this.supervisor?this.getSupervisorOrgSlug:this.getOrganizationSlug)+"?limit=4",{params:e}).then((function(e){var n={icon:"mdi-party-popper",text:"Anniversary",type:"anniversary"};n.users=e.results,n.totalUserCount=e.count,t.eventList.push(n)}))},getBirthday:function(){var t=this,e={start_date:this.$dayjs(new Date).format("YYYY-MM-DD"),end_date:this.$dayjs(this.$dayjs(new Date).format("YYYY-MM-DD")).add(1,"months").format("YYYY-MM-DD")};this.supervisor&&(e.supervisor=this.supervisor),this.$http.get(u.getBirthday(this.supervisor?this.getSupervisorOrgSlug:this.getOrganizationSlug)+"?limit=4",{params:e}).then((function(e){var n={icon:"mdi-cake-variant",text:"Birthday"};n.users=e.results,n.type="birthday",n.totalUserCount=e.count,t.eventList.push(n)}))},getHolidayList:function(){var t=this;this.$http.get(l["a"].getHoliday(this.supervisor?this.getSupervisorOrgSlug:this.getOrganizationSlug)+"?limit=4",{params:{start_date:this.$dayjs(new Date).format("YYYY-MM-DD"),end_date:this.$dayjs(new Date).add(30,"days").format("YYYY-MM-DD"),ordering:"date"}}).then((function(e){t.holidayList=e.results}))},showMore:function(t){this.users=this.eventList[t].users,this.eventType=this.eventList[t].type;var e=this.convertToURLSearchParams({start_date:this.$dayjs(new Date).format("YYYY-MM-DD"),end_date:this.$dayjs(this.$dayjs(new Date).format("YYYY-MM-DD")).add(1,"months").format("YYYY-MM-DD")});"anniversary"===this.eventType&&(this.userEndpoint=u.getAnniversary(this.supervisor?this.getSupervisorOrgSlug:this.getOrganizationSlug)+e),"birthday"===this.eventType&&(this.userEndpoint=u.getBirthday(this.supervisor?this.getSupervisorOrgSlug:this.getOrganizationSlug)+e),this.showUsersList=!0},goToCalendar:function(t,e){var n=this.$dayjs(t).format("YYYY-MM-DD");this.$router.push({name:"user-calendar-event-calendar",query:{date:n,event:[e]}})}}},h=m,f=(n("98f2"),n("2877")),v=n("6544"),g=n.n(v),y=n("8336"),_=n("b0af"),b=n("99d9"),x=n("169a"),C=n("ce7e"),w=n("132d"),k=n("8860"),P=n("da13"),S=n("1800"),D=n("5d23"),T=n("8dd9"),O=n("2fa4"),V=n("3a2f"),A=Object(f["a"])(h,s,i,!1,null,null,null);e["a"]=A.exports;g()(A,{VBtn:y["a"],VCard:_["a"],VCardActions:b["a"],VCardText:b["c"],VDialog:x["a"],VDivider:C["a"],VIcon:w["a"],VList:k["a"],VListItem:P["a"],VListItemAction:S["a"],VListItemContent:D["a"],VListItemTitle:D["c"],VSheet:T["a"],VSpacer:O["a"],VTooltip:V["a"]})},b73d:function(t,e,n){"use strict";var s=n("5530"),i=(n("0481"),n("ec29"),n("9d01"),n("fe09")),a=n("c37a"),o=n("c3f0"),r=n("0789"),c=n("490a"),l=n("80d2");e["a"]=i["a"].extend({name:"v-switch",directives:{Touch:o["a"]},props:{inset:Boolean,loading:{type:[Boolean,String],default:!1},flat:{type:Boolean,default:!1}},computed:{classes:function(){return Object(s["a"])(Object(s["a"])({},a["a"].options.computed.classes.call(this)),{},{"v-input--selection-controls v-input--switch":!0,"v-input--switch--flat":this.flat,"v-input--switch--inset":this.inset})},attrs:function(){return{"aria-checked":String(this.isActive),"aria-disabled":String(this.isDisabled),role:"switch"}},validationState:function(){return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0},switchData:function(){return this.setTextColor(this.loading?void 0:this.validationState,{class:this.themeClasses})}},methods:{genDefaultSlot:function(){return[this.genSwitch(),this.genLabel()]},genSwitch:function(){return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.genInput("checkbox",Object(s["a"])(Object(s["a"])({},this.attrs),this.attrs$)),this.genRipple(this.setTextColor(this.validationState,{directives:[{name:"touch",value:{left:this.onSwipeLeft,right:this.onSwipeRight}}]})),this.$createElement("div",Object(s["a"])({staticClass:"v-input--switch__track"},this.switchData)),this.$createElement("div",Object(s["a"])({staticClass:"v-input--switch__thumb"},this.switchData),[this.genProgress()])])},genProgress:function(){return this.$createElement(r["c"],{},[!1===this.loading?null:this.$slots.progress||this.$createElement(c["a"],{props:{color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,size:16,width:2,indeterminate:!0}})])},onSwipeLeft:function(){this.isActive&&this.onChange()},onSwipeRight:function(){this.isActive||this.onChange()},onKeydown:function(t){(t.keyCode===l["y"].left&&this.isActive||t.keyCode===l["y"].right&&!this.isActive)&&this.onChange()}}})},c865:function(t,e,n){"use strict";var s=n("5530"),i=n("0789"),a=n("9d26"),o=n("a9ad"),r=n("3206"),c=n("5607"),l=n("80d2"),d=n("58df"),u=Object(d["a"])(o["a"],Object(r["a"])("expansionPanel","v-expansion-panel-header","v-expansion-panel"));e["a"]=u.extend().extend({name:"v-expansion-panel-header",directives:{ripple:c["a"]},props:{disableIconRotate:Boolean,expandIcon:{type:String,default:"$expand"},hideActions:Boolean,ripple:{type:[Boolean,Object],default:!1}},data:function(){return{hasMousedown:!1}},computed:{classes:function(){return{"v-expansion-panel-header--active":this.isActive,"v-expansion-panel-header--mousedown":this.hasMousedown}},isActive:function(){return this.expansionPanel.isActive},isDisabled:function(){return this.expansionPanel.isDisabled},isReadonly:function(){return this.expansionPanel.isReadonly}},created:function(){this.expansionPanel.registerHeader(this)},beforeDestroy:function(){this.expansionPanel.unregisterHeader()},methods:{onClick:function(t){this.$emit("click",t)},genIcon:function(){var t=Object(l["s"])(this,"actions")||[this.$createElement(a["a"],this.expandIcon)];return this.$createElement(i["d"],[this.$createElement("div",{staticClass:"v-expansion-panel-header__icon",class:{"v-expansion-panel-header__icon--disable-rotate":this.disableIconRotate},directives:[{name:"show",value:!this.isDisabled}]},t)])}},render:function(t){var e=this;return t("button",this.setBackgroundColor(this.color,{staticClass:"v-expansion-panel-header",class:this.classes,attrs:{tabindex:this.isDisabled?-1:null,type:"button"},directives:[{name:"ripple",value:this.ripple}],on:Object(s["a"])(Object(s["a"])({},this.$listeners),{},{click:this.onClick,mousedown:function(){return e.hasMousedown=!0},mouseup:function(){return e.hasMousedown=!1}})}),[Object(l["s"])(this,"default",{open:this.isActive},!0),this.hideActions||this.genIcon()])}})},c9ae:function(t,e,n){"use strict";n("4a99")},cd55:function(t,e,n){"use strict";var s=n("5530"),i=n("4e82"),a=n("3206"),o=n("80d2"),r=n("58df");e["a"]=Object(r["a"])(Object(i["a"])("expansionPanels","v-expansion-panel","v-expansion-panels"),Object(a["b"])("expansionPanel",!0)).extend({name:"v-expansion-panel",props:{disabled:Boolean,readonly:Boolean},data:function(){return{content:null,header:null,nextIsActive:!1}},computed:{classes:function(){return Object(s["a"])({"v-expansion-panel--active":this.isActive,"v-expansion-panel--next-active":this.nextIsActive,"v-expansion-panel--disabled":this.isDisabled},this.groupClasses)},isDisabled:function(){return this.expansionPanels.disabled||this.disabled},isReadonly:function(){return this.expansionPanels.readonly||this.readonly}},methods:{registerContent:function(t){this.content=t},unregisterContent:function(){this.content=null},registerHeader:function(t){this.header=t,t.$on("click",this.onClick)},unregisterHeader:function(){this.header=null},onClick:function(t){t.detail&&this.header.$el.blur(),this.$emit("click",t),this.isReadonly||this.isDisabled||this.toggle()},toggle:function(){var t=this;this.content&&(this.content.isBooted=!0),this.$nextTick((function(){return t.$emit("change")}))}},render:function(t){return t("div",{staticClass:"v-expansion-panel",class:this.classes,attrs:{"aria-expanded":String(this.isActive)}},Object(o["s"])(this))}})},cde3:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"download-only"},t._l(t.users,(function(e,s){return n("v-chip",{key:s,staticClass:"ma-1",attrs:{small:"",label:""}},[t._v(" "+t._s(e.full_name)+" ")])})),1),n("v-row",{staticClass:"download-hidden",attrs:{"no-gutters":""}},[t.users&&!t.users.length?n("div",[n("v-col",{staticClass:"ma-0 pa-0"},[n("v-avatar",{staticClass:"mr-1",attrs:{size:"20"}},[n("v-img",{attrs:{src:"/images/info/user-default.png"}})],1),n("span",{staticClass:"grey--text text-caption"},[t._v("No Employee")])],1)],1):t._l(t.users.slice(0,3),(function(e,s){return n("div",{key:s,staticClass:"text-left"},[n("v-badge",{attrs:{dot:"",right:"",bottom:"",overlap:"","offset-y":"5",color:e.user&&e.user.is_online?"green":"transparent"}},[n("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(s){var i=s.on;return[n("a",[n("v-avatar",t._g({staticClass:"mr-n1",attrs:{size:t.imgSize}},i),[n("v-img",{attrs:{height:t.imgSize,width:t.imgSize,src:e.profile_picture||e.user.profile_picture},on:{click:t.showMore}})],1)],1)]}}],null,!0)},[n("span",{domProps:{textContent:t._s(e.full_name||e.user.full_name)}}),e[t.type]?n("span",[t._v(" : "),n("span",{domProps:{textContent:t._s(e[t.type])}})]):t._e()])],1)],1)})),t.users&&t.users.length&&t.totalUsers>3?n("div",[n("v-col",{staticClass:"pl-2 py-0 text-subtitle-1"},[n("a",{on:{click:t.showMore}},[t._v(" +"+t._s(parseInt(t.totalUsers)-3)+" ")])])],1):t._e()],2)],1)},i=[],a=(n("a9e3"),{name:"ThumbnailUsers",props:{users:{type:Array,default:function(){return[]}},totalUsers:{type:Number,required:!0},type:{type:String,default:""},imgSize:{type:[String,Number],default:22}},watch:{users:function(t){this.users=t}},methods:{showMore:function(){this.users&&0===this.users.length||this.$emit("showMore")}}}),o=a,r=(n("2ab5"),n("2877")),c=n("6544"),l=n.n(c),d=n("8212"),u=n("4ca6"),p=n("cc20"),m=n("62ad"),h=n("adda"),f=n("0fd9b"),v=n("3a2f"),g=Object(r["a"])(o,s,i,!1,null,"51021d54",null);e["default"]=g.exports;l()(g,{VAvatar:d["a"],VBadge:u["a"],VChip:p["a"],VCol:m["a"],VImg:h["a"],VRow:f["a"],VTooltip:v["a"]})},ce87:function(t,e,n){"use strict";var s=n("16b7"),i=n("f2e7"),a=n("58df"),o=n("d9bd");e["a"]=Object(a["a"])(s["a"],i["a"]).extend({name:"v-hover",props:{disabled:{type:Boolean,default:!1},value:{type:Boolean,default:void 0}},methods:{onMouseEnter:function(){this.runDelay("open")},onMouseLeave:function(){this.runDelay("close")}},render:function(){return this.$scopedSlots.default||void 0!==this.value?(this.$scopedSlots.default&&(t=this.$scopedSlots.default({hover:this.isActive})),Array.isArray(t)&&1===t.length&&(t=t[0]),t&&!Array.isArray(t)&&t.tag?(this.disabled||(t.data=t.data||{},this._g(t.data,{mouseenter:this.onMouseEnter,mouseleave:this.onMouseLeave})),t):(Object(o["c"])("v-hover should only contain a single element",this),t)):(Object(o["c"])("v-hover is missing a default scopedSlot or bound value",this),null);var t}})},d75f:function(t,e,n){"use strict";n("ec48")},de4a:function(t,e,n){"use strict";n("99af");e["a"]={getAbsentUser:function(t){return"/attendance/".concat(t,"/reports/summary/absent/")},getSummaryReport:function(t){return"/attendance/".concat(t,"/reports/summary/")},getSummaryCategory:function(t){return"/attendance/".concat(t,"/reports/summary/{category}/")},getBreakOutReport:function(t){return"/attendance/".concat(t,"/reports/breakout-report/")},getAverageReport:function(t){return"/attendance/".concat(t,"/reports/average-report/")},getPresentEmployeeList:function(t){return"/attendance/".concat(t,"/reports/summary/present/")},getAbsentEmployeeList:function(t){return"/attendance/".concat(t,"/reports/summary/absent/")},getOffDayEmployeeList:function(t){return"/attendance/".concat(t,"/reports/summary/offday/")},getAdjustmentCounts:function(t){return"/attendance/".concat(t,"/adjustments/counts/")},getAttendanceByCategory:function(t){return"/attendance/".concat(t,"/reports/by-category/")},getAttendanceByCategoryDetails:function(t,e){return"/attendance/".concat(t,"/reports/by-category/").concat(e,"/")},getOvertimeOverview:function(t){return"/attendance/".concat(t,"/reports/overview/overtime/")},getOvertimeUserList:function(t,e){return"/attendance/".concat(t,"/reports/overview/overtime/").concat(e,"/")},getAttendanceByCategoryMost:function(t,e){return"/attendance/".concat(t,"/reports/by-category/most/").concat(e,"/")},getPunctualityDetails:function(t){return"/attendance/".concat(t,"/reports/overview/most_punctual/")},getBreakOutUserList:function(t){return"/attendance/".concat(t,"/reports/breakout-report/users/")},getMostBreakOutDuration:function(t){return"/attendance/".concat(t,"/reports/overview/most_breaks_duration/")},getBreakOutFrequency:function(t){return"/attendance/".concat(t,"/reports/overview/most_breaks/break_frequency/")},getTimesheetPenaltyUserReport:function(t){return"/attendance/".concat(t,"/timesheet-penalty-user-report/")},getTimesheetPenaltyReport:function(t){return"/attendance/".concat(t,"/timesheet-penalty-report/")},getTimesheetPenaltyExportReport:function(t){return"/attendance/".concat(t,"/timesheet-penalty-report/export")},updateTimesheetPenaltyReport:function(t,e){return"/attendance/".concat(t,"/timesheet-penalty-report/").concat(e,"/")},generateTimesheetPenaltyReport:function(t){return"/attendance/".concat(t,"/timesheet-penalty-report/generate/")},confirmIndividualTimesheetPenaltyReport:function(t,e){return"/attendance/".concat(t,"/timesheet-penalty-report/").concat(e,"/confirm/")},confirmBulkTimesheetPenaltyReport:function(t){return"/attendance/".concat(t,"/timesheet-penalty-report/bulk-status-update/")},cancelIndividualTimesheetPenaltyReport:function(t,e){return"/attendance/".concat(t,"/timesheet-penalty-report/").concat(e,"/cancel/")},getMissedEntries:function(t,e){return"/attendance/".concat(t,"/reports/overview/missed_entries/").concat(e,"/")},getMostMissingEntries:function(t,e){return"/attendance/".concat(t,"/reports/most-missing/").concat(e,"/")},getIndividualAttendanceReport:function(t){return"/attendance/".concat(t,"/reports/individual-overview/")},getMonthlyAttendanceReport:function(t){return"/attendance/".concat(t,"/reports/monthly-overview/")},sendEmailMonthly:function(t){return"/attendance/".concat(t,"/reports/monthly-overview/send-email/")},sendEmailDaily:function(t){return"/attendance/".concat(t,"/reports/individual-overview/send-email/")},getComparativeOT:function(t){return"/attendance/".concat(t,"/reports/comparative-overtime-report/")},getAttendanceAdjustment:function(t){return"/attendance/".concat(t,"/reports/adjustment-report/")},exportAttendanceAdjustment:function(t){return"/attendance/".concat(t,"/reports/adjustment-report/export/")},getAttendanceLeaveList:function(){return"/commons/subordinates/attendance-leave/"},getIrregularityReport:function(t,e){return"attendance/".concat(t,"/reports/user-irregularity/").concat(e,"/")},getTravelAttendanceSummary:function(t){return"attendance/".concat(t,"/travel-attendance/stats/")},getTravelOffDayCount:function(t){return"/attendance/".concat(t,"/users/on/field-visit/")}}},e076:function(t,e,n){"use strict";n("8df9")},e330:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return r})),n.d(e,"c",(function(){return c})),n.d(e,"d",(function(){return l}));var s=n("92fa"),i=n.n(s),a=function(){return Math.random().toString(36).substring(2)},o={name:"ContentLoader",functional:!0,props:{width:{type:[Number,String],default:400},height:{type:[Number,String],default:130},speed:{type:Number,default:2},preserveAspectRatio:{type:String,default:"xMidYMid meet"},baseUrl:{type:String,default:""},primaryColor:{type:String,default:"#f9f9f9"},secondaryColor:{type:String,default:"#ecebeb"},primaryOpacity:{type:Number,default:1},secondaryOpacity:{type:Number,default:1},uniqueKey:{type:String},animate:{type:Boolean,default:!0}},render:function(t,e){var n=e.props,s=e.data,o=e.children,r=n.uniqueKey?n.uniqueKey+"-idClip":a(),c=n.uniqueKey?n.uniqueKey+"-idGradient":a();return t("svg",i()([s,{attrs:{viewBox:"0 0 "+n.width+" "+n.height,version:"1.1",preserveAspectRatio:n.preserveAspectRatio}}]),[t("rect",{style:{fill:"url("+n.baseUrl+"#"+c+")"},attrs:{"clip-path":"url("+n.baseUrl+"#"+r+")",x:"0",y:"0",width:n.width,height:n.height}}),t("defs",[t("clipPath",{attrs:{id:r}},[o||t("rect",{attrs:{x:"0",y:"0",rx:"5",ry:"5",width:n.width,height:n.height}})]),t("linearGradient",{attrs:{id:c}},[t("stop",{attrs:{offset:"0%","stop-color":n.primaryColor,"stop-opacity":n.primaryOpacity}},[n.animate?t("animate",{attrs:{attributeName:"offset",values:"-2; 1",dur:n.speed+"s",repeatCount:"indefinite"}}):null]),t("stop",{attrs:{offset:"50%","stop-color":n.secondaryColor,"stop-opacity":n.secondaryOpacity}},[n.animate?t("animate",{attrs:{attributeName:"offset",values:"-1.5; 1.5",dur:n.speed+"s",repeatCount:"indefinite"}}):null]),t("stop",{attrs:{offset:"100%","stop-color":n.primaryColor,"stop-opacity":n.primaryOpacity}},[n.animate?t("animate",{attrs:{attributeName:"offset",values:"-1; 2",dur:n.speed+"s",repeatCount:"indefinite"}}):null])])])])}},r={name:"BulletListLoader",functional:!0,render:function(t,e){var n=e.data;return t(o,n,[t("circle",{attrs:{cx:"10",cy:"20",r:"8"}}),t("rect",{attrs:{x:"25",y:"15",rx:"5",ry:"5",width:"220",height:"10"}}),t("circle",{attrs:{cx:"10",cy:"50",r:"8"}}),t("rect",{attrs:{x:"25",y:"45",rx:"5",ry:"5",width:"220",height:"10"}}),t("circle",{attrs:{cx:"10",cy:"80",r:"8"}}),t("rect",{attrs:{x:"25",y:"75",rx:"5",ry:"5",width:"220",height:"10"}}),t("circle",{attrs:{cx:"10",cy:"110",r:"8"}}),t("rect",{attrs:{x:"25",y:"105",rx:"5",ry:"5",width:"220",height:"10"}})])}},c={name:"FacebookLoader",functional:!0,render:function(t,e){var n=e.data;return t(o,n,[t("rect",{attrs:{x:"70",y:"15",rx:"4",ry:"4",width:"117",height:"6.4"}}),t("rect",{attrs:{x:"70",y:"35",rx:"3",ry:"3",width:"85",height:"6.4"}}),t("rect",{attrs:{x:"0",y:"80",rx:"3",ry:"3",width:"350",height:"6.4"}}),t("rect",{attrs:{x:"0",y:"100",rx:"3",ry:"3",width:"380",height:"6.4"}}),t("rect",{attrs:{x:"0",y:"120",rx:"3",ry:"3",width:"201",height:"6.4"}}),t("circle",{attrs:{cx:"30",cy:"30",r:"30"}})])}},l={name:"ListLoader",functional:!0,render:function(t,e){var n=e.data;return t(o,n,[t("rect",{attrs:{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"}}),t("rect",{attrs:{x:"20",y:"20",rx:"3",ry:"3",width:"220",height:"10"}}),t("rect",{attrs:{x:"20",y:"40",rx:"3",ry:"3",width:"170",height:"10"}}),t("rect",{attrs:{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"}}),t("rect",{attrs:{x:"20",y:"80",rx:"3",ry:"3",width:"200",height:"10"}}),t("rect",{attrs:{x:"20",y:"100",rx:"3",ry:"3",width:"80",height:"10"}})])}}},e580:function(t,e,n){},ec48:function(t,e,n){},f82f:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-text-field",{class:t.appliedClass,attrs:{id:t.id,label:t.label,"data-cy":"input-file-upload",error:t.errorMessages.length>0,"error-messages":t.errorMessages,"hide-details":t.hideDetails,hint:t.hint,"persistent-hint":!!t.hint,disabled:t.disabled,readonly:"","prepend-inner-icon":"mdi-attachment","append-icon":"mdi-close"},on:{"click:prepend":t.pickFile,"click:append":function(e){return t.clear()},click:t.pickFile,blur:function(e){return t.$emit("blur")}},model:{value:t.fileName,callback:function(e){t.fileName=e},expression:"fileName"}}),n("input",{ref:"upload",staticClass:"d-none",attrs:{id:"fileUpload",type:"file",multiple:"multiple"},on:{change:t.upload}})],1)},i=[],a=n("1da1"),o=n("5530"),r=(n("96cf"),n("a9e3"),n("ac1f"),n("1276"),n("b0c0"),n("2f62")),c={props:{value:{type:[String,File,Object],default:void 0},default:{type:[String,File],default:void 0},text:{type:String,default:void 0},id:{type:String,default:""},label:{type:String,default:"Browse file from here"},hint:{type:String,default:void 0},errorMessages:{type:[String,Array],default:function(){return[]}},hideDetails:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},appliedClass:{type:String,default:""},returnObject:{type:Boolean,default:!1},maxSize:{type:Number,default:5}},data:function(){return{fileName:null}},watch:{default:{handler:function(t){!t||t instanceof File||(this.fileName=t)},immediate:!0},value:function(t){t||(this.fileName=""),document.getElementById("fileUpload").value=null}},methods:Object(o["a"])(Object(o["a"])({},Object(r["d"])({setSnackBar:"common/setSnackBar"})),{},{pickFile:function(){this.$refs.upload.click()},upload:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var s,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:s=new FileReader,s.readAsDataURL(t.target.files[0]),i="",1===t.target.files[0].name.split(".").length?i="Please upload known file type.":t.target.files[0].size>1024*e.maxSize*1024?i="File size cannot be greater than ".concat(e.maxSize,"MB."):"svg"===t.target.files[0].name.split(".").pop()&&(i="SVG image not allowed here."),i?e.setSnackBar({text:i,color:"red"}):s.onload=function(){e.returnObject?e.$emit("input",{file_name:t.target.files[0].name,file_content:t.target.files[0]}):e.$emit("input",t.target.files[0]),e.$emit("blur"),e.$emit("update",s.result),e.fileName=t.target.files[0].name};case 5:case"end":return n.stop()}}),n)})))()},clear:function(){this.fileName=null,this.returnObject?this.$emit("input",{file_name:"",file_content:""}):this.$emit("input",this.fileName)}})},l=c,d=n("2877"),u=n("6544"),p=n.n(u),m=n("8654"),h=Object(d["a"])(l,s,i,!1,null,null,null);e["a"]=h.exports;p()(h,{VTextField:m["a"]})},facf:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.attachments.length<3?n("div",[n("v-row",{attrs:{dense:""}},t._l(t.attachments,(function(e,s){return n("v-col",{key:"attachmentLarge"+s,attrs:{md:"12",cols:"12"}},[n("v-img",{staticClass:"pointer",staticStyle:{border:"1px solid #efefef"},attrs:{src:e.image_thumb_1,"aspect-ratio":"2"},on:{click:function(e){t.imageViewer.display=!0,t.imageViewer.startFrom=s}}})],1)})),1)],1):3===t.attachments.length?n("v-row",{attrs:{dense:""}},[n("v-col",{attrs:{cols:"12"}},[n("v-img",{staticClass:"pointer",staticStyle:{border:"1px solid #efefef"},attrs:{src:t.attachments[0].image_thumb_1,"aspect-ratio":"2"},on:{click:function(e){t.imageViewer.display=!0,t.imageViewer.startFrom=0}}})],1),n("v-col",{attrs:{cols:"12"}},[n("v-row",{attrs:{dense:""}},[n("v-col",{attrs:{cols:"6"}},[n("v-img",{staticClass:"pointer",staticStyle:{border:"1px solid #efefef"},attrs:{src:t.attachments[1].image_thumb_1,"aspect-ratio":"2"},on:{click:function(e){t.imageViewer.display=!0,t.imageViewer.startFrom=1}}})],1),n("v-col",{attrs:{cols:"6"}},[n("v-img",{staticClass:"pointer",staticStyle:{border:"1px solid #efefef"},attrs:{src:t.attachments[2].image_thumb_1,"aspect-ratio":"2"},on:{click:function(e){t.imageViewer.display=!0,t.imageViewer.startFrom=2}}})],1)],1)],1)],1):4===t.attachments.length?n("v-row",{attrs:{dense:""}},[n("v-col",{attrs:{cols:"6"}},[n("v-row",{attrs:{dense:""}},[n("v-col",{attrs:{cols:"12"}},[n("v-img",{staticClass:"pointer",staticStyle:{border:"1px solid #efefef"},attrs:{src:t.attachments[0].image_thumb_1,"aspect-ratio":"2"},on:{click:function(e){t.imageViewer.display=!0,t.imageViewer.startFrom=0}}})],1),n("v-col",{attrs:{cols:"12"}},[n("v-img",{staticClass:"pointer",staticStyle:{border:"1px solid #efefef"},attrs:{src:t.attachments[1].image_thumb_1,"aspect-ratio":"2"},on:{click:function(e){t.imageViewer.display=!0,t.imageViewer.startFrom=1}}})],1)],1)],1),n("v-col",{attrs:{cols:"6"}},[n("v-row",{attrs:{dense:""}},[n("v-col",{attrs:{cols:"12"}},[n("v-img",{staticClass:"pointer",staticStyle:{border:"1px solid #efefef"},attrs:{src:t.attachments[2].image_thumb_2,"aspect-ratio":"2"},on:{click:function(e){t.imageViewer.display=!0,t.imageViewer.startFrom=2}}})],1),n("v-col",{attrs:{cols:"12"}},[n("v-img",{staticClass:"pointer",staticStyle:{border:"1px solid #efefef"},attrs:{src:t.attachments[3].image_thumb_2,"aspect-ratio":"2"},on:{click:function(e){t.imageViewer.display=!0,t.imageViewer.startFrom=3}}})],1)],1)],1)],1):n("v-row",{attrs:{dense:""}},[t._l(t.attachments,(function(e,s){return[0===s?n("v-col",{key:"attachmentLarge"+s,attrs:{md:"12",cols:"12"}},[n("v-img",{staticClass:"pointer",staticStyle:{border:"1px solid #efefef"},attrs:{src:e.image_thumb_1,"aspect-ratio":"2"},on:{click:function(e){t.imageViewer.display=!0,t.imageViewer.startFrom=s}}})],1):t._e()]})),t._l(t.attachments,(function(e,s){return[s>0&&s<=4?n("v-col",{key:"attachmentSmall"+s,attrs:{md:"3",cols:"12"}},[n("v-img",{staticClass:"pointer",staticStyle:{border:"1px solid #efefef"},attrs:{src:e.image_thumb_2,"aspect-ratio":"1"},on:{click:function(e){t.imageViewer.display=!0,t.imageViewer.startFrom=s}}},[t.images.length-5>0&&4===s?n("v-overlay",{attrs:{value:!0,"z-index":"-1",opacity:"0.5",absolute:""}}):t._e(),t.images.length-5>0&&4===s?n("v-row",{staticClass:"fill-height",attrs:{align:"center"}},[n("v-col",[n("p",{staticClass:"text-h3 ma-auto white--text text-center",staticStyle:{"text-shadow":"2px 2px #5f5f5f"},domProps:{textContent:t._s("+ "+(t.images.length-5))}})])],1):t._e()],1)],1):t._e()]}))],2),t.imageViewer.display?n("image-viewer",{attrs:{items:t.attachments,"start-from":t.imageViewer.startFrom},on:{close:function(e){t.imageViewer.display=!1}}}):t._e()],1)},i=[],a=n("8448"),o={components:{ImageViewer:a["a"]},props:{attachments:{type:[Object,Array],default:void 0}},data:function(){return{imageViewer:{display:!1,startFrom:0},images:this.deepCopy(this.attachments)}}},r=o,c=n("2877"),l=n("6544"),d=n.n(l),u=n("62ad"),p=n("adda"),m=n("a797"),h=n("0fd9b"),f=Object(c["a"])(r,s,i,!1,null,null,null);e["a"]=f.exports;d()(f,{VCol:u["a"],VImg:p["a"],VOverlay:m["a"],VRow:h["a"]})}}]);