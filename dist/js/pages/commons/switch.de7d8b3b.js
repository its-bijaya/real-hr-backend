(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages/commons/switch","chunk-2d2160c2","chunk-2d2160c2","chunk-2d2160c2","chunk-2d2160c2","chunk-2d2160c2"],{"0b75":function(t,i,e){"use strict";var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-card",{attrs:{height:"100%"}},[e("v-row",{attrs:{dense:""}},[e("v-col",{staticClass:"py-0 pt-2 px-5",attrs:{cols:"12"}},[e("v-text-field",{attrs:{placeholder:"Search","prepend-inner-icon":"mdi-magnify","hide-details":"",dense:""},model:{value:t.search,callback:function(i){t.search=i},expression:"search"}})],1)],1),e("v-card-text",[e("v-row",{staticClass:"text-center"},[0===t.searchedItems.length?e("v-col",{attrs:{cols:"12"}},[e("vue-no-data",{attrs:{text:t.noDataText}})],1):t._e(),t._l(t.searchedItems,(function(i,n){return[!t.verifyPermission(i.permission||"show",i.isCommon)||i.hide||t.hideMenu(t.parent,t.child,i.to.name.replace(t.textToReplace,""))?t._e():e("v-col",{key:n,attrs:{md:"4",sm:"6"}},[e("v-hover",{scopedSlots:t._u([{key:"default",fn:function(n){var o=n.hover;return e("v-card",{class:"elevation-"+(o?12:2),attrs:{to:i.to,"data-cy":"box-heading",height:"100%"}},[e("v-col",{staticClass:"primaryLight"},[e("v-icon",{attrs:{size:"40",color:"primary"}},[t._v(" "+t._s(i.icon)+" ")])],1),e("v-divider"),e("v-card-text",{staticClass:"white"},[e("div",{staticClass:"text-body-1"},[e("strong",[t._v(t._s(i.title))]),t.settingStatus?e("v-tooltip",{attrs:{top:""},scopedSlots:t._u([void 0===t.settingStatus[i.title]?{key:"activator",fn:function(i){var n=i.on;return[e("v-progress-circular",t._g({attrs:{indeterminate:"",size:"14",width:"2"}},n))]}}:{key:"activator",fn:function(n){var o=n.on;return[e("v-icon",t._g({attrs:{color:t.settingStatus[i.title]?"green":"red",size:"17"},domProps:{textContent:t._s(t.settingStatus[i.title]?"mdi-check-circle":"cancel")}},o))]}}],null,!0)},[e("span",{domProps:{textContent:t._s("Setting has "+(t.settingStatus[i.title]?"been configured.":"not been configured."))}})]):t._e()],1),e("p",{staticClass:"text-body-2 grey--text"},[t._v(" "+t._s(i.subtitle)+" ")])])],1)}}],null,!0)})],1)]}))],2)],1)],1)},o=[],a=(e("4de4"),e("caad"),e("2532"),e("ac1f"),e("841c"),e("a15b"),e("e585")),s={components:{VueNoData:a["default"]},props:{items:{type:Array,required:!0},noDataText:{type:String,default:"No Records Found."},settingStatus:{type:Object,default:void 0},parent:{type:String,default:void 0},child:{type:[String,Array],default:void 0}},data:function(){return{showFilters:!1,search:""}},computed:{searchedItems:function(){var t=this;return this.items.filter((function(i){return i.title.toLowerCase().includes(t.search.toLowerCase())}))},textToReplace:function(){return Array.isArray(this.child)?this.parent+"-"+this.child.join("-")+"-":this.parent+"-"+this.child+"-"}}},r=s,c=e("2877"),l=e("6544"),m=e.n(l),d=e("b0af"),u=e("99d9"),h=e("62ad"),g=e("ce7e"),p=e("ce87"),f=e("132d"),v=e("490a"),y=e("0fd9b"),b=e("8654"),S=e("3a2f"),C=Object(c["a"])(r,n,o,!1,null,null,null);i["a"]=C.exports;m()(C,{VCard:d["a"],VCardText:u["c"],VCol:h["a"],VDivider:g["a"],VHover:p["a"],VIcon:f["a"],VProgressCircular:v["a"],VRow:y["a"],VTextField:b["a"],VTooltip:S["a"]})},b45a:function(t,i,e){"use strict";e.r(i);var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-row",{attrs:{justify:"center"}},[e("v-col",{attrs:{cols:"12",md:"8"}},[e("v-row",{attrs:{align:"center"}},[t.fetchedResponse?e("v-col",{attrs:{md:"12"}},[e("v-card",[e("vue-card-title",{attrs:{title:t.displayCommons?"Common Organization Settings":"Organization Switch",subtitle:t.displayCommons?"Commons organization settings":"Select any of the switchable organizations below to switch to that particular organization.",icon:t.displayCommons?"mdi-cog-outline":"mdi-domain"}},[e("template",{slot:"actions"},[!t.displayCommons&&t.verifyPermission([t.allPermissions.COMMON_ID_CARD_PERMISSION,t.allPermissions.COMMON_BANK_PERMISSION,t.allPermissions.EMAIL_TEMPLATE_PERMISSION,t.allPermissions.HOLIDAY_CATEGORY_PERMISSION,t.allPermissions.DOCUMENT_CATEGORY_PERMISSION,t.allPermissions.RELIGION_AND_ETHNICITY_PERMISSION,t.allPermissions.EQUIPMENT_CATEGORY_PERMISSION,t.allPermissions.CAN_CREATE_VIEW_UPDATE_DELETE_DUTY_STATION],!0)?e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(i){var n=i.on;return[e("v-btn",t._g({attrs:{icon:"",color:"primary","data-cy":"btn-common-settings"},on:{click:function(i){t.displaySwitchOrganization=!1,t.displayCommons=!0}}},n),[e("v-icon",{domProps:{textContent:t._s("mdi-cog-outline")}})],1)]}}],null,!1,2608894090)},[e("span",[t._v(" Common Settings ")])]):t._e(),t.displaySwitchOrganization?t._e():e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(i){var n=i.on;return[e("v-btn",t._g({attrs:{icon:"",color:"primary"},on:{click:function(i){t.displaySwitchOrganization=!0,t.displayCommons=!1}}},n),[e("v-icon",{domProps:{textContent:t._s("mdi-domain")}})],1)]}}],null,!1,3008389709)},[e("span",[t._v(" Switch Organization ")])]),t.displaySwitchOrganization?e("v-btn",{attrs:{icon:"","data-cy":"btn-filter",small:""},on:{click:function(i){t.showFilters=!t.showFilters}}},[e("v-icon",{attrs:{small:""},domProps:{textContent:t._s("mdi-filter-variant")}})],1):t._e()],1)],2),e("v-divider"),e("v-slide-y-transition",[e("div",{directives:[{name:"show",rawName:"v-show",value:t.showFilters,expression:"showFilters"}]},[e("v-row",{staticClass:"mx-2"},[e("v-col",[e("v-text-field",{attrs:{"data-cy":"input-search",label:"Search","prepend-inner-icon":"mdi-magnify"},model:{value:t.search,callback:function(i){t.search=i},expression:"search"}})],1)],1),e("v-divider")],1)]),t.displaySwitchOrganization?e("v-card-text",{attrs:{justify:"center"}},[e("v-row",t._l(t.searchedItems,(function(i){return e("v-col",{key:i.slug,attrs:{md:"3"}},[e("v-card",{attrs:{elevation:"5","data-cy":"box-heading"},on:{click:function(e){return t.switchOrganization(i)}}},[e("div",{staticClass:"pa-4"},[e("v-img",{attrs:{src:t.extractOrganizationLogo(i.appearance),height:"200",contain:""}})],1),e("v-divider"),e("v-card-text",{staticClass:"primaryLight text-center",domProps:{textContent:t._s(i.name)}})],1)],1)})),1)],1):t._e(),e("v-divider"),t.displaySwitchOrganization&&!t.userDetail.user.is_audit_user?e("v-card-actions",[e("v-btn",{attrs:{color:"primary",small:""},on:{click:function(i){return t.$router.push({name:"root"})}}},[t._v(" View as User ")]),e("v-spacer"),e("v-btn",{attrs:{small:""},on:{click:function(i){return t.goBack()}}},[t._v(" "+t._s(t.$t("goBack"))+" ")])],1):t._e(),t.displayCommons?e("div",[e("menu-grid-list",{attrs:{items:t.commonSettings,parent:"admin-commons",child:"settings"}})],1):t._e()],1)],1):e("v-col",{attrs:{md:"12"}},[e("default-svg-loader")],1)],1)],1)],1)},o=[],a=e("1da1"),s=e("5530"),r=(e("96cf"),e("4de4"),e("caad"),e("2532"),e("b0c0"),e("ac1f"),e("841c"),e("2f62")),c=e("0b75"),l=e("c197"),m={components:{MenuGridList:c["a"],DefaultSvgLoader:l["default"]},layout:"blank",data:function(){return{displayCommons:this.$route.query.isCommon,cardTitle:!1,commonSettings:[],showFilters:!1,switchableOrganizations:[],searchedItems:[],fetchedResponse:!1,displaySwitchOrganization:this.$route.query.isOrganization,search:""}},computed:Object(s["a"])(Object(s["a"])({},Object(r["c"])({userDetail:"auth/userDetail"})),{},{switchableOrganizationsList:function(){var t=this;return this.switchableOrganizations.filter((function(i){return i.slug!==t.$store.state.organization.switchedOrganization.slug}))}}),watch:{search:function(){var t=this;this.searchedItems=this.switchableOrganizationsList.filter((function(i){return i.name.toLowerCase().includes(t.search.toLowerCase())}))}},mounted:function(){document.title="Application Switch | RealHRsoft | Complete HR Intelligence"},created:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function i(){var e;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(t.setCommonSettingsMenu(),e=JSON.parse(localStorage.getItem("admin")),e){i.next=5;break}return i.next=5,t.$http.get("/users/me/admin-info").then((function(t){localStorage.setItem("admin",JSON.stringify(t)),e=t}));case 5:t.switchableOrganizations=e.switchable_organizations,t.setSwitchableOrganizations(t.switchableOrganizations),t.setOrganizationPermissions(e.organization_permissions),t.fetchedResponse=!0,0===t.switchableOrganizationsList.length&&t.$router.push({name:"root"}),t.searchedItems=t.switchableOrganizationsList;case 11:case"end":return i.stop()}}),i)})))()},methods:Object(s["a"])(Object(s["a"])({},Object(r["d"])({setSwitchedOrganization:"organization/setSwitchedOrganization",setSwitchableOrganizations:"organization/setSwitchableOrganizations",setOrganizationPermissions:"organization/setOrganizationPermissions",setSnackBar:"common/setSnackBar"})),{},{extractOrganizationLogo:function(t){return null!==t?t.logo:"/images/organization/default-logo.jpg"},switchOrganization:function(t){this.setSwitchedOrganization(t),this.$router.push({name:"admin-slug-dashboard",params:{slug:t.slug}}),this.setSnackBar({text:"Switched as HR of ".concat(t.name,"."),color:"green"})},goBack:function(){this.$router.go(-1)},setCommonSettingsMenu:function(){this.commonSettings=[{icon:"mdi-cash",display:"Common Bank",title:"Common Bank",permission:this.allPermissions.COMMON_BANK_PERMISSION,isCommon:!0,to:{name:"admin-commons-settings-bank"},content:"Click to go to Common Bank",subtitle:"This tab contains Common Bank information of Organization."},{icon:"mdi-email-outline",display:"Email Template",title:"Email Template",permission:this.allPermissions.EMAIL_TEMPLATE_PERMISSION,isCommon:!0,to:{name:"admin-commons-settings-email-template"},content:"Click to go to Email Template",subtitle:"This tab contains Email Templates for Leave, Attendance, etc. of Organization"},{icon:"mdi-beach",display:"Holiday Category *",title:"Holiday Category",permission:this.allPermissions.HOLIDAY_CATEGORY_PERMISSION,isCommon:!0,to:{name:"admin-commons-settings-holiday-category"},content:"Click to go to holiday category",subtitle:"This tab contains all the Holiday Category information of Organization."},{icon:"mdi-text-box-multiple-outline",display:"Document Category *",title:"Document Category",permission:this.allPermissions.DOCUMENT_CATEGORY_PERMISSION,isCommon:!0,to:{name:"admin-commons-settings-document-category"},content:"Click to go to Document Category",subtitle:"This tab contains Document Category information of Organization."},{icon:"mdi-account-multiple",display:"Ethnicity",title:"Ethnicity",permission:this.allPermissions.RELIGION_AND_ETHNICITY_PERMISSION,isCommon:!0,to:{name:"admin-commons-settings-ethnicity"},content:"Click to go to Ethnicity",subtitle:"This tab contains Ethnicity information of Organization."},{icon:"mdi-atom-variant",display:"Religion",title:"Religion",permission:this.allPermissions.RELIGION_AND_ETHNICITY_PERMISSION,isCommon:!0,to:{name:"admin-commons-settings-religion"},content:"Click to go to Mission and Vision",subtitle:"This tab contains Religion information of Organization."},{icon:"mdi-card-account-details-outline",display:"ID Card Sample",title:"ID Card Sample",permission:this.allPermissions.COMMON_ID_CARD_PERMISSION,isCommon:!0,to:{name:"admin-commons-settings-id-card-samples"},content:"This tab contains ID Card Samples of Organization",subtitle:"This tab contains ID Card Samples of Organization"},{icon:"mdi-slot-machine-outline",display:"Equipment Category",title:"Equipment Category",permission:this.allPermissions.EQUIPMENT_CATEGORY_PERMISSION,isCommon:!0,to:{name:"admin-commons-settings-equipment-category"},content:"This tab contains equipment category information of Organization.",subtitle:"This tab contains Equipment category information of Organization."},{icon:"mdi-cash",display:"Exchange Rate",title:"Exchange Rate",permission:this.allPermissions.COMMON_BANK_PERMISSION,isCommon:!0,to:{name:"admin-commons-settings-exchange-rate"},content:"This tab contains common Exchange Rate information.",subtitle:"This tab contains Common Exchange Rate information of Organization."},{icon:"mdi-post-outline",display:"Noticeboard",title:"Noticeboard",permission:this.allPermissions.NOTICEBOARD_SETTING_PERMISSION,isCommon:!0,to:{name:"admin-commons-settings-noticeboard"},content:"Allow or restrict to post in Noticeboard",subtitle:"Allow or restrict to post in Noticeboard"},{icon:"mdi-web",display:"SMTP Server",title:"SMTP Server",permission:this.allPermissions.SMTP_SETTING_PERMISSION,isCommon:!0,to:{name:"admin-commons-settings-smtp-server"},content:"This tab contains SMTP Server information.",subtitle:"This tab contains SMTP server information."},{icon:"mdi-office-building-marker-outline",display:"Duty Station",title:"Duty Station",permission:this.allPermissions.CAN_CREATE_VIEW_UPDATE_DELETE_DUTY_STATION,isCommon:!0,to:{name:"admin-commons-settings-duty-station"},content:"This tab contains duty station information.",subtitle:"This tab contains duty station information."},{icon:"mdi-book-education-outline",display:"Education Degree",title:"Education Degree",isCommon:!0,to:{name:"admin-commons-settings-education-degree"},content:"This tab contains education degree information.",subtitle:"This tab contains education degree information."},{icon:"mdi-timeline-minus",display:"Work/Lost Hour Adjustment",title:"Work/Lost Hour Adjustment",isCommon:!0,to:{name:"admin-commons-settings-work-lost-hour-adjustment"},content:"This tab contains work/lost hour information.",subtitle:"This tab contains work/lost hour information."},{icon:"mdi-account-cash-outline",display:"Expense Management",title:"Expense Management",isCommon:!0,to:{name:"admin-commons-settings-expense-management"},content:"This tab contains settings for expense management.",subtitle:"This tab contains settings for expense management."}]}})},d=m,u=e("2877"),h=e("6544"),g=e.n(h),p=e("8336"),f=e("b0af"),v=e("99d9"),y=e("62ad"),b=e("ce7e"),S=e("132d"),C=e("adda"),O=e("0fd9b"),_=e("0789"),E=e("2fa4"),I=e("8654"),T=e("3a2f"),w=Object(u["a"])(d,n,o,!1,null,null,null);i["default"]=w.exports;g()(w,{VBtn:p["a"],VCard:f["a"],VCardActions:v["a"],VCardText:v["c"],VCol:y["a"],VDivider:b["a"],VIcon:S["a"],VImg:C["a"],VRow:O["a"],VSlideYTransition:_["g"],VSpacer:E["a"],VTextField:I["a"],VTooltip:T["a"]})},c197:function(t,i,e){"use strict";e.r(i);var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{class:t.divClass},[e("v-img",{class:t.imgClass,attrs:{src:"/svg/three-dots.svg",height:t.height,contain:""}}),e("h3",{staticClass:"text-center grey--text",domProps:{textContent:t._s(t.message)}})],1)},o=[],a={props:{message:{type:String,default:"Please wait. Fetching data just for you ..."},divClass:{type:String,default:"pa-12"},imgClass:{type:String,default:"my-6"},height:{type:String,default:"20"}},data:function(){return{}}},s=a,r=e("2877"),c=e("6544"),l=e.n(c),m=e("adda"),d=Object(r["a"])(s,n,o,!1,null,null,null);i["default"]=d.exports;l()(d,{VImg:m["a"]})},ce87:function(t,i,e){"use strict";var n=e("16b7"),o=e("f2e7"),a=e("58df"),s=e("d9bd");i["a"]=Object(a["a"])(n["a"],o["a"]).extend({name:"v-hover",props:{disabled:{type:Boolean,default:!1},value:{type:Boolean,default:void 0}},methods:{onMouseEnter:function(){this.runDelay("open")},onMouseLeave:function(){this.runDelay("close")}},render:function(){return this.$scopedSlots.default||void 0!==this.value?(this.$scopedSlots.default&&(t=this.$scopedSlots.default({hover:this.isActive})),Array.isArray(t)&&1===t.length&&(t=t[0]),t&&!Array.isArray(t)&&t.tag?(this.disabled||(t.data=t.data||{},this._g(t.data,{mouseenter:this.onMouseEnter,mouseleave:this.onMouseLeave})),t):(Object(s["c"])("v-hover should only contain a single element",this),t)):(Object(s["c"])("v-hover is missing a default scopedSlot or bound value",this),null);var t}})}}]);