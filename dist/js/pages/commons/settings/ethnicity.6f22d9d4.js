(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages/commons/settings/ethnicity","chunk-31f8a6e6","chunk-3fe57ba8","chunk-da62e0c8","chunk-2d22d378"],{"0549":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("v-row",{staticClass:"mb-3",attrs:{"no-gutters":""}},[t.breadCrumbs?i("v-col",{attrs:{cols:"12"}},[i("v-card",{attrs:{flat:""}},[i("v-breadcrumbs",{staticClass:"text-body-1 pa-2",class:{"text-caption pa-1":t.$vuetify.breakpoint.xs},attrs:{items:t.breadCrumbs},scopedSlots:t._u([{key:"item",fn:function(e){return[i("span",{class:e.item.disabled?"grey--text":"baseColor--text text--accent-2 pointer",domProps:{textContent:t._s(e.item.text)},on:{click:function(i){return t.$router.push(e.item.to)}}})]}}],null,!1,1670153796)},[i("v-icon",{attrs:{slot:"divider"},slot:"divider"},[t._v("mdi-chevron-right")])],1)],1)],1):t._e()],1),i("v-row",{attrs:{"no-gutters":""}},[i("v-col",{attrs:{cols:"12"}},[t._t("default")],2)],1)],1)},n=[],o=i("5530"),r=(i("ac1f"),i("1276"),i("b0c0"),i("2f62")),s={props:{title:{type:String,required:!0},breadCrumbs:{type:Array,default:function(){return[]}}},computed:Object(o["a"])({},Object(r["c"])({getOrganizationName:"organization/getOrganizationName",getSupervisorSwitchedOrganization:"supervisor/getSwitchedOrganization"})),mounted:function(){document.title="".concat(this.title," | RealHRsoft");var t=this.$route.params.slug?"admin-slug-dashboard":"root",e=this.$route.name.split("-"),i=this.getOrganizationName;this.getSupervisorSwitchedOrganization&&"user"===e[0]&&"supervisor"===e[1]&&(i=this.getSupervisorSwitchedOrganization.name),this.breadCrumbs.unshift({text:i,disabled:!1,to:{name:t,params:{slug:this.$route.params.slug}}})}},c=s,d=i("2877"),l=i("6544"),u=i.n(l),m=i("2bc5"),f=i("b0af"),h=i("62ad"),p=i("132d"),g=i("0fd9b"),v=Object(d["a"])(c,a,n,!1,null,null,null);e["default"]=v.exports;u()(v,{VBreadcrumbs:m["a"],VCard:f["a"],VCol:h["a"],VIcon:p["a"],VRow:g["a"]})},"1ceca":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-row",{attrs:{justify:"center"}},[i("v-col",{attrs:{md:"8"}},[i("vue-page-wrapper",{attrs:{title:t.htmlTitle,"bread-crumbs":t.breadCrumbItems}},[i("v-card",[i("vue-card-title",{attrs:{title:"Employee Ethnicity",subtitle:"List of Employee Ethnicity","data-cy-variable":"employee-ethnicity",icon:"mdi-account-multiple"}},[i("template",{slot:"actions"},[i("v-btn",{attrs:{text:"",color:"primary",depressed:""},on:{click:t.openOrganizationSettings}},[t._v(" Go Back ")]),i("v-btn",{attrs:{small:"",color:"primary",depressed:"","data-cy":"btn-create-new"},on:{click:function(e){return t.triggerForm("create")}}},[t._v(" "+t._s(t.$t("createNew"))+" ")]),i("v-btn",{attrs:{icon:"","data-cy":"btn-filter"},on:{click:function(e){t.showFilters=!t.showFilters}}},[i("v-icon",{attrs:{small:""},domProps:{textContent:t._s("mdi-filter-variant")}})],1)],1)],2),i("v-divider"),t.displayDetail.display?i("generic-data-table-detail",{attrs:{"subject-details":t.displayDetail.data}}):[i("v-slide-y-transition",[t.showFilters?i("v-row",{attrs:{"no-gutters":""}},[i("v-col",{attrs:{md:"12"}},[i("v-text-field",{staticClass:"mx-3",attrs:{"data-cy":"input-search",label:"Search for Ethnicity","prepend-inner-icon":"mdi-magnify"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),i("v-divider")],1)],1):t._e()],1),i("v-data-table",{attrs:{headers:t.headers,items:t.fetchedResults,loading:t.loading,"sort-desc":t.pagination.descending,"sort-by":t.pagination.sortBy,page:t.pagination.page,"items-per-page":t.pagination.rowsPerPage,"footer-props":t.footerProps,"server-items-length":t.pagination.totalItems,"must-sort":"","mobile-breakpoint":"0"},on:{"update:sortDesc":function(e){return t.$set(t.pagination,"descending",e)},"update:sort-desc":function(e){return t.$set(t.pagination,"descending",e)},"update:sortBy":function(e){return t.$set(t.pagination,"sortBy",e)},"update:sort-by":function(e){return t.$set(t.pagination,"sortBy",e)},"update:page":function(e){return t.$set(t.pagination,"page",e)},"update:itemsPerPage":function(e){return t.$set(t.pagination,"rowsPerPage",e)},"update:items-per-page":function(e){return t.$set(t.pagination,"rowsPerPage",e)}},scopedSlots:t._u([{key:"item",fn:function(e){return[i("tr",[i("td",{domProps:{textContent:t._s(e.item.name)},on:{click:function(i){return t.displayDetailView(e.item)}}}),i("td",[i("div",[i("span",{domProps:{textContent:t._s("Created:")}}),i("span",{domProps:{textContent:t._s(t.humanizeDate(e.item.created_at))}})]),i("div",[i("span",{domProps:{textContent:t._s("Modified:")}}),i("span",{domProps:{textContent:t._s(t.humanizeDate(e.item.modified_at))}})])]),i("td",[i("vue-context-menu",{attrs:{"context-list":[{name:"View Details",icon:"mdi-eye-outline",color:"grey darken-2"},{name:"Update Details",icon:"mdi-pencil-outline",color:"grey darken-2"},{name:"Delete Details",icon:"mdi-delete-outline",color:"grey darken-2"}]},on:{click0:function(i){return t.displayDetailView(e.item)},click1:function(i){t.triggerForm("update",e.item),t.updateForm=!0},click2:function(i){return t.triggerForm("delete",e.item)}}})],1)])]}}])},[i("template",{slot:"no-data"},[i("data-table-no-data",{attrs:{loading:t.loading}})],1)],2)]],2),i("v-dialog",{attrs:{persistent:"",scrollable:"",width:"500"},on:{keydown:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;t.displayForm=!1}},model:{value:t.displayForm,callback:function(e){t.displayForm=e},expression:"displayForm"}},[t.displayForm?i("ethnicity-form",{attrs:{"action-data":t.actionData,"update-form":t.updateForm},on:{"dismiss-form":t.dismissForm,refresh:t.fetchDataTable}}):t._e()],1),i("vue-dialog",{attrs:{notify:t.deleteNotification},on:{close:function(e){t.deleteNotification.dialog=!1},agree:t.deleteDataItem}})],1)],1),i("vue-notify")],1)},n=[],o=i("1da1"),r=(i("96cf"),i("ac1f"),i("841c"),i("b0c0"),i("0549")),s=i("8cd3"),c=i("6c6f"),d=i("bde3"),l=i("9d4a"),u=i("a51f"),m=i("ad37"),f=i("e4bf"),h={components:{GenericDataTableDetail:l["a"],EthnicityForm:d["default"],VuePageWrapper:r["default"],DataTableNoData:u["default"],VueContextMenu:f["default"]},mixins:[s["a"],c["a"]],layout:"blank",data:function(){return{settingsName:"Ethnicity",htmlTitle:"Ethnicity | Common Organization Settings | Admin",breadCrumbItems:[{text:"Common Settings",disabled:!1,to:{name:"switch-organization",params:{slug:this.$route.params.slug},query:{isCommon:!0}}},{text:"Ethnicity",disabled:!0}],tabs:[{text:"Total",count:0,color:"blue"},{text:"Ethnicity",count:0,color:"cyan"},{text:"Ethnicity Assigned",color:"red",count:8}],loading:!1,orgSlug:this.$route.params.slug,headers:[{text:"Ethnicity Name",align:"left",class:"grey lighten-4",sortable:!0,value:"name",width:""},{text:"Timestamp",align:"left",class:"grey lighten-4",sortable:!0,value:"modified_at",width:""},{text:"Action",sortable:!1,width:""}],search:"",actionData:null,showFilters:!1,displayForm:!1,deleteNotification:{dialog:!1,heading:"Confirm Delete",text:"Are you sure you want to delete this employee ethnicity?"},updateForm:!1,displayDetail:{}}},computed:{dataTableFilter:function(){return{search:this.search,category:"Ethnicity"}}},created:function(){this.dataTableEndpoint=m["a"].getReligionEthnicity},methods:{dateFormat:function(t){return this.$dayjs(t).format("YYYY-MM-DD hh:mm A")},getValue:function(t,e){return t?t[e]:"N/A"},displayDetailView:function(t){var e=t,i={title:e.name,category:{name:"ethnicity",value:e.slug},description:"",details:[{icon:"mdi-file-document-outline",title:"Ethnicity Name",text:e.name},{icon:"mdi-file-document-outline",title:"Created",text:this.dateFormat(e.created_at)},{icon:"mdi-file-document-outline",title:"Modified",text:this.dateFormat(e.modified_at)}],subjectList:null};this.displayDetail={display:!0,data:i}},deleteDataItem:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.crud.message="Successfully deleted employee ethnicity.",t.deleteData(m["a"].deleteReligionEthnicity(t.actionData.slug)).then((function(){t.dismissForm()})).catch((function(e){t.notifyInvalidFormResponse(e.response.data.non_field_errors[0])}));case 2:case"end":return e.stop()}}),e)})))()},triggerForm:function(t,e){"delete"===t?this.deleteNotification.dialog=!0:"update"===t?(this.updateForm=!0,this.displayForm=!0):(this.updateForm=!1,this.displayForm=!0),this.showFilters=!1,this.actionData=e||void 0},openOrganizationSettings:function(){this.$router.push({name:"switch-organization",query:{isCommon:!0}})},dismissForm:function(){this.displayForm=!1,this.fetchDataTable()}}},p=h,g=i("2877"),v=i("6544"),b=i.n(v),y=i("8336"),x=i("b0af"),F=i("62ad"),w=i("8fea"),E=i("169a"),D=i("ce7e"),C=i("132d"),V=i("0fd9b"),$=i("0789"),_=i("8654"),k=Object(g["a"])(p,a,n,!1,null,null,null);e["default"]=k.exports;b()(k,{VBtn:y["a"],VCard:x["a"],VCol:F["a"],VDataTable:w["a"],VDialog:E["a"],VDivider:D["a"],VIcon:C["a"],VRow:V["a"],VSlideYTransition:$["g"],VTextField:_["a"]})},"2bc5":function(t,e,i){"use strict";var a=i("5530"),n=(i("a15b"),i("abd3"),i("ade3")),o=i("1c87"),r=i("58df"),s=Object(r["a"])(o["a"]).extend({name:"v-breadcrumbs-item",props:{activeClass:{type:String,default:"v-breadcrumbs__item--disabled"},ripple:{type:[Boolean,Object],default:!1}},computed:{classes:function(){return Object(n["a"])({"v-breadcrumbs__item":!0},this.activeClass,this.disabled)}},render:function(t){var e=this.generateRouteLink(),i=e.tag,n=e.data;return t("li",[t(i,Object(a["a"])(Object(a["a"])({},n),{},{attrs:Object(a["a"])(Object(a["a"])({},n.attrs),{},{"aria-current":this.isActive&&this.isLink?"page":void 0})}),this.$slots.default)])}}),c=i("80d2"),d=Object(c["i"])("v-breadcrumbs__divider","li"),l=i("7560");e["a"]=Object(r["a"])(l["a"]).extend({name:"v-breadcrumbs",props:{divider:{type:String,default:"/"},items:{type:Array,default:function(){return[]}},large:Boolean},computed:{classes:function(){return Object(a["a"])({"v-breadcrumbs--large":this.large},this.themeClasses)}},methods:{genDivider:function(){return this.$createElement(d,this.$slots.divider?this.$slots.divider:this.divider)},genItems:function(){for(var t=[],e=!!this.$scopedSlots.item,i=[],a=0;a<this.items.length;a++){var n=this.items[a];i.push(n.text),e?t.push(this.$scopedSlots.item({item:n})):t.push(this.$createElement(s,{key:i.join("."),props:n},[n.text])),a<this.items.length-1&&t.push(this.genDivider())}return t}},render:function(t){var e=this.$slots.default||this.genItems();return t("ul",{staticClass:"v-breadcrumbs",class:this.classes},e)}})},"6c6f":function(t,e,i){"use strict";i("d3b7");e["a"]={data:function(){return{deleteNotification:{dialog:!1,heading:"Confirm Delete",text:"Are you sure you want to delete ?"}}},methods:{deleteData:function(t,e){var i=this;return new Promise((function(a,n){!i.loading&&t&&(i.loading=!0,i.$http.delete(t,e||{}).then((function(t){i.crud.message&&setTimeout((function(){i.notifyUser(i.crud.message)}),1e3),a(t),i.loading=!1})).catch((function(t){i.pushErrors(t),i.notifyInvalidFormResponse(),n(t),i.loading=!1})).finally((function(){i.deleteNotification.dialog=!1})))}))}}}},"8cd3":function(t,e,i){"use strict";var a=i("5530"),n=(i("d3b7"),i("f0d5"));e["a"]={mixins:[n["a"]],data:function(){return{dataTableEndpoint:"",fetchedResults:[],response:null,footerProps:{itemsPerPageOptions:[10,20,30,40,50,100]},pagination:{sortBy:["modified_at"],descending:!1,totalItems:0,page:1,rowsPerPage:10,pageCount:0},loadTableOnInit:!0}},computed:{filterParams:function(){var t=Object(a["a"])(Object(a["a"])({},this.dataTableFilter),{},{offset:(this.pagination.page-1)*this.pagination.rowsPerPage,limit:this.pagination.rowsPerPage,ordering:this.pagination.descending?this.pagination.sortBy:"-"+this.pagination.sortBy});return this.convertToURLSearchParams(t,!1)}},watch:{filterParams:function(){var t=this;this.$nextTick((function(){t.fetchDataTable()}))},dataTableFilter:function(){this.pagination.page=1}},created:function(){var t=this;setTimeout((function(){t.loadTableOnInit&&t.fetchDataTable()}),0)},methods:{fetchDataTable:function(t,e){var i=this;return new Promise((function(a,n){!t&&!i.dataTableEndpoint||i.loading||(i.loadTableOnInit=!1,i.loading=!0,i.fetchedResults=[],i.$http.get(t||i.dataTableEndpoint,e||{params:i.filterParams}).then((function(t){i.response=t,i.fetchedResults=t.results,i.pagination.totalItems=t.count,i.processAfterTableLoad(t),a(t),i.loading=!1})).catch((function(t){i.pushErrors(t),i.notifyInvalidFormResponse(),n(t),i.loading=!1})))}))},processAfterTableLoad:function(){}}}},"983c":function(t,e,i){"use strict";i("d3b7");e["a"]={methods:{getData:function(t,e,i){var a=this,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Promise((function(o,r){!a.loading&&t&&(a.clearNonFieldErrors(),a.$validator.errors.clear(),a.loading=n,a.$http.get(t,i||{params:e||{}}).then((function(t){o(t),a.loading=!1})).catch((function(t){a.pushErrors(t),a.notifyInvalidFormResponse(),r(t),a.loading=!1})))}))},getBlockingData:function(t,e,i){var a=this;return new Promise((function(n,o){a.getData(t,e,i,!0).then((function(t){n(t)})).catch((function(t){o(t)}))}))}}}},abd3:function(t,e,i){},ad37:function(t,e,i){"use strict";e["a"]={getReligionEthnicity:"/commons/religion-ethnicity/",postReligionEthnicity:"/commons/religion-ethnicity/",updateReligionEthnicity:function(t){return"/commons/religion-ethnicity/".concat(t,"/")},deleteReligionEthnicity:function(t){return"/commons/religion-ethnicity/".concat(t,"/")}}},bde3:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",[i("vue-card-title",{attrs:{title:"Employee Ethnicity",subtitle:(t.updateForm?"Update":"Create")+" Employee Ethnicity",icon:"mdi-folder-outline",closable:""},on:{close:function(e){return t.$emit("dismiss-form")}}}),i("v-divider"),i("v-card-text",{staticClass:"px-6"},[i("v-row",[t.nonFieldErrors.length>0?i("v-col",{attrs:{cols:"12"}},[i("non-field-form-errors",{attrs:{"non-field-errors":t.nonFieldErrors}})],1):t._e(),i("v-col",[i("v-text-field",t._b({directives:[{name:"validate",rawName:"v-validate",value:"required|max:50",expression:"'required|max:50'"}],attrs:{counter:50},model:{value:t.formValues.name,callback:function(e){t.$set(t.formValues,"name",e)},expression:"formValues.name"}},"v-text-field",t.veeValidate("name","Ethnicity Name *"),!1))],1)],1)],1),i("v-divider"),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{text:""},domProps:{textContent:t._s("Clear")},on:{click:t.clearForm}}),i("v-btn",{attrs:{color:"primary",depressed:"",loading:t.loading},on:{click:t.submitForm}},[i("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[t._v(" mdi-content-save-outline ")]),t._v(" Save ")],1)],1)],1)},n=[],o=i("f12b"),r=i("ad37"),s={mixins:[o["a"]],props:{actionData:{type:Object,required:!1,default:function(){return{name:"",category:"Ethnicity"}}},updateForm:{type:Boolean,required:!1}},data:function(){return{formValues:this.deepCopy(this.actionData)}},created:function(){},methods:{submitForm:function(){var t=this;this.updateForm?(this.formValues.category="Ethnicity",this.crud.message="Successfully updated employee ethnicity.",this.putData(r["a"].updateReligionEthnicity(this.formValues.slug),this.formValues).then((function(){t.$emit("dismiss-form")}))):(this.crud.message="Successfully created employee ethnicity.",this.insertData(r["a"].postReligionEthnicity,this.formValues).then((function(e){t.$emit("dismiss-form",e,"ethnicity")})))},clearForm:function(){this.formValues={},this.errors.clear(),this.clearNonFieldErrors()}}},c=s,d=i("2877"),l=i("6544"),u=i.n(l),m=i("8336"),f=i("b0af"),h=i("99d9"),p=i("62ad"),g=i("ce7e"),v=i("132d"),b=i("0fd9b"),y=i("2fa4"),x=i("8654"),F=Object(d["a"])(c,a,n,!1,null,null,null);e["default"]=F.exports;u()(F,{VBtn:m["a"],VCard:f["a"],VCardActions:h["a"],VCardText:h["c"],VCol:p["a"],VDivider:g["a"],VIcon:v["a"],VRow:b["a"],VSpacer:y["a"],VTextField:x["a"]})},f0d5:function(t,e,i){"use strict";i("d3b7"),i("3ca3"),i("ddb0");var a=i("c44a");e["a"]={components:{NonFieldFormErrors:function(){return i.e("chunk-6441e173").then(i.bind(null,"ab8a"))}},mixins:[a["a"]],data:function(){return{crud:{name:"record",message:"",addAnother:!1},formValues:{},loading:!1}}}},f12b:function(t,e,i){"use strict";var a=i("f0d5"),n=i("983c"),o=i("f70a"),r=i("6c6f");e["a"]={mixins:[a["a"],n["a"],o["a"],r["a"]]}},f70a:function(t,e,i){"use strict";i("d3b7"),i("caad");e["a"]={methods:{insertData:function(t,e){var i=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=a.validate,o=void 0===n||n,r=a.clearForm,s=void 0===r||r,c=arguments.length>3?arguments[3]:void 0;return new Promise((function(a,n){!i.loading&&t&&(i.clearErrors(),i.$validator.validateAll().then((function(r){o||(r=!0),r&&(i.loading=!0,i.$http.post(t,e,c||{}).then((function(t){i.clearErrors(),s&&(i.formValues={}),i.crud.addAnother||i.$emit("create"),i.crud.message&&setTimeout((function(){i.notifyUser(i.crud.message)}),1e3),a(t),i.loading=!1})).catch((function(t){i.pushErrors(t),i.notifyInvalidFormResponse(),n(t),i.loading=!1})))})))}))},patchData:function(t,e){var i=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=a.validate,o=void 0===n||n,r=a.clearForm,s=void 0===r||r,c=arguments.length>3?arguments[3]:void 0;return new Promise((function(a,n){i.updateData(t,e,{validate:o,clearForm:s},"patch",c).then((function(t){a(t)})).catch((function(t){n(t)}))}))},putData:function(t,e){var i=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=a.validate,o=void 0===n||n,r=a.clearForm,s=void 0===r||r,c=arguments.length>3?arguments[3]:void 0;return new Promise((function(a,n){i.updateData(t,e,{validate:o,clearForm:s},"put",c).then((function(t){a(t)})).catch((function(t){n(t)}))}))},updateData:function(t,e){var i=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=a.validate,o=void 0===n||n,r=a.clearForm,s=void 0===r||r,c=arguments.length>3?arguments[3]:void 0,d=arguments.length>4?arguments[4]:void 0;return new Promise((function(a,n){!i.loading&&t&&["put","patch"].includes(c)&&(i.clearErrors(),i.$validator.validateAll().then((function(r){o||(r=!0),r&&(i.loading=!0,i.$http[c](t,e,d||{}).then((function(t){i.$emit("update"),i.clearErrors(),s&&(i.formValues={}),i.crud.message&&setTimeout((function(){i.notifyUser(i.crud.message)}),1e3),a(t),i.loading=!1})).catch((function(t){i.pushErrors(t),i.notifyInvalidFormResponse(),n(t),i.loading=!1})))})))}))},clearErrors:function(){this.clearNonFieldErrors(),this.$validator.errors.clear()}}}}}]);