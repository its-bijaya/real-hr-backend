(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-121fc194","chunk-da62e0c8","chunk-2d22d378"],{"7c12":function(e,t,a){"use strict";a("a65a")},"8cd3":function(e,t,a){"use strict";var n=a("5530"),i=(a("d3b7"),a("f0d5"));t["a"]={mixins:[i["a"]],data:function(){return{dataTableEndpoint:"",fetchedResults:[],response:null,footerProps:{itemsPerPageOptions:[10,20,30,40,50,100]},pagination:{sortBy:["modified_at"],descending:!1,totalItems:0,page:1,rowsPerPage:10,pageCount:0},loadTableOnInit:!0}},computed:{filterParams:function(){var e=Object(n["a"])(Object(n["a"])({},this.dataTableFilter),{},{offset:(this.pagination.page-1)*this.pagination.rowsPerPage,limit:this.pagination.rowsPerPage,ordering:this.pagination.descending?this.pagination.sortBy:"-"+this.pagination.sortBy});return this.convertToURLSearchParams(e,!1)}},watch:{filterParams:function(){var e=this;this.$nextTick((function(){e.fetchDataTable()}))},dataTableFilter:function(){this.pagination.page=1}},created:function(){var e=this;setTimeout((function(){e.loadTableOnInit&&e.fetchDataTable()}),0)},methods:{fetchDataTable:function(e,t){var a=this;return new Promise((function(n,i){!e&&!a.dataTableEndpoint||a.loading||(a.loadTableOnInit=!1,a.loading=!0,a.fetchedResults=[],a.$http.get(e||a.dataTableEndpoint,t||{params:a.filterParams}).then((function(e){a.response=e,a.fetchedResults=e.results,a.pagination.totalItems=e.count,a.processAfterTableLoad(e),n(e),a.loading=!1})).catch((function(e){a.pushErrors(e),a.notifyInvalidFormResponse(),i(e),a.loading=!1})))}))},processAfterTableLoad:function(){}}}},9192:function(e,t,a){"use strict";a("99af");t["a"]={getWorkShift:function(e){return"/attendance/".concat(e,"/work-shifts/")},postWorkShift:function(e){return"/attendance/".concat(e,"/work-shifts/")},updateWorkShift:function(e,t){return"/attendance/".concat(e,"/work-shifts/").concat(t,"/")},getWorkShiftDetails:function(e,t){return"/attendance/".concat(e,"/work-shifts/").concat(t,"/")},deleteWorkShift:function(e,t){return"/attendance/".concat(e,"/work-shifts/").concat(t,"/")},postAssignShift:function(e){return"/attendance/".concat(e,"/assign-shift/")},getShiftLegend:function(e){return"attendance/".concat(e,"/work-shifts/legend/")},getUserIndividualShift:function(e,t){return"/attendance/".concat(e,"/users/settings/").concat(t,"/shifts/")},getUserIndividualShiftDetails:function(e,t,a){return"/attendance/".concat(e,"/users/settings/").concat(t,"/shifts/").concat(a)}}},"983c":function(e,t,a){"use strict";a("d3b7");t["a"]={methods:{getData:function(e,t,a){var n=this,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Promise((function(s,r){!n.loading&&e&&(n.clearNonFieldErrors(),n.$validator.errors.clear(),n.loading=i,n.$http.get(e,a||{params:t||{}}).then((function(e){s(e),n.loading=!1})).catch((function(e){n.pushErrors(e),n.notifyInvalidFormResponse(),r(e),n.loading=!1})))}))},getBlockingData:function(e,t,a){var n=this;return new Promise((function(i,s){n.getData(e,t,a,!0).then((function(e){i(e)})).catch((function(e){s(e)}))}))}}}},a65a:function(e,t,a){},e8b3:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-card",[a("vue-card-title",{attrs:{title:"Employeeâ€™s Attendance Insights",subtitle:"The table below contains list of Insight Attendance Report",icon:"mdi-account-box"}},[a("template",{slot:"actions"},[a("export-report",{attrs:{"export-url":e.exportUrl,filters:e.filterParams}}),a("v-btn",{attrs:{icon:""},on:{click:function(t){e.showFilters=!e.showFilters}}},[a("v-icon",{attrs:{small:""},domProps:{textContent:e._s("mdi-filter-variant")}})],1)],1)],2),a("v-divider"),a("v-card-text",{staticClass:"scrollbar-md py-0"},[a("employee-insight-heading-list",{attrs:{"selected-heading-list":e.headingTypeSelect,"header-data":e.selectedHeader,"insight-heading-list":e.primaryHeading},on:{"update:headerData":function(t){e.selectedHeader=t},"update:header-data":function(t){e.selectedHeader=t},"update:insightHeadingList":function(t){e.primaryHeading=t},"update:insight-heading-list":function(t){e.primaryHeading=t},save:function(t){return e.saveHeadingSetting(t)}}})],1),a("v-slide-y-transition",[a("div",{directives:[{name:"show",rawName:"v-show",value:e.showFilters,expression:"showFilters"}]},[a("v-row",{staticClass:"px-3"},[a("v-col",{attrs:{md:"3",cols:"12"}},[a("VueDynamicUserFieldAutoComplete",{attrs:{multiple:"",field:e.searchByUsername?"username":"full_name",label:"Search by "+(e.searchByUsername?"Username":"Name"),params:{user_status:e.pastEmployee?"past":"current",organization:e.getOrganizationSlug,supervisor:e.supervisor},"hide-details":""},model:{value:e.selected_employees,callback:function(t){e.selected_employees=t},expression:"selected_employees"}})],1),a("v-col",{attrs:{md:"3",cols:"12"}},[a("vue-auto-complete",{attrs:{endpoint:e.divisionEndpoint,params:{is_archived:"false"},label:"Filter by Division","item-text":"name","item-value":"slug","hide-details":""},model:{value:e.currentDivision,callback:function(t){e.currentDivision=t},expression:"currentDivision"}})],1),a("v-col",{attrs:{md:"3",cols:"12"}},[a("vue-auto-complete",{attrs:{endpoint:e.branchEndpoint,params:{is_archived:"false"},label:"Filter by Branch","item-text":"name","item-value":"slug","hide-details":""},model:{value:e.currentBranch,callback:function(t){e.currentBranch=t},expression:"currentBranch"}})],1),a("v-col",{attrs:{md:"3",cols:"12"}},[a("v-autocomplete",{attrs:{label:"Filter by Punch In Category",items:e.choiceForPunchInCategory,"item-text":"name","item-value":"name",clearable:""},model:{value:e.punchInCategory,callback:function(t){e.punchInCategory=t},expression:"punchInCategory"}})],1),a("v-col",{attrs:{md:"3",cols:"12"}},[a("v-autocomplete",{attrs:{label:"Filter by Punch Out Category",items:e.choiceForPunchOutCategory,"item-text":"name","item-value":"name",clearable:""},model:{value:e.punchOutCategory,callback:function(t){e.punchOutCategory=t},expression:"punchOutCategory"}})],1),a("v-col",{attrs:{md:"3",cols:"12"}},[a("vue-auto-complete",{attrs:{label:"Filter by Shift Name",endpoint:e.shiftEndpoint,"item-text":"name","item-value":"id","hide-details":"",clearable:""},model:{value:e.shiftName,callback:function(t){e.shiftName=t},expression:"shiftName"}})],1),a("v-col",{attrs:{md:"3",cols:"12"}},[a("vue-search",{attrs:{search:e.breakInoutNum,label:"Search by Break In/Out"},on:{"update:search":function(t){e.breakInoutNum=t}},model:{value:e.breakInoutNum,callback:function(t){e.breakInoutNum=t},expression:"breakInoutNum"}})],1),a("v-col",{attrs:{md:"3",cols:"12"}},[a("date-filter-menu",{attrs:{supervisor:!!e.supervisor,default:"Today","exclude-filter":["Till Date"],"hide-details":"",overview:""},model:{value:e.dateFilter,callback:function(t){e.dateFilter=t},expression:"dateFilter"}})],1),e.supervisor?e._e():a("v-col",{staticClass:"pt-0",attrs:{md:"3",cols:"12"}},[e.supervisor?e._e():a("v-checkbox",{attrs:{label:"Past Employee","hide-details":""},model:{value:e.pastEmployee,callback:function(t){e.pastEmployee=t},expression:"pastEmployee"}})],1),a("v-col",{staticClass:"pt-0",attrs:{md:"3",cols:"12"}},[a("v-switch",{attrs:{label:"Search by username"},model:{value:e.searchByUsername,callback:function(t){e.searchByUsername=t},expression:"searchByUsername"}})],1),a("v-col",{staticClass:"pt-0",attrs:{md:"3",cols:"12"}},[a("v-select",{attrs:{label:"Attendance Sync",items:e.attendanceSync,clearable:""},model:{value:e.has_attendance_sync,callback:function(t){e.has_attendance_sync=t},expression:"has_attendance_sync"}})],1)],1),a("v-divider")],1)]),a("v-divider"),e.loading?e._e():a("v-data-table",{staticClass:"fixedHeader-height",attrs:{headers:e.headers,items:e.fetchedResults,"sort-desc":e.pagination.descending,"sort-by":e.pagination.sortBy,page:e.pagination.page,"items-per-page":e.pagination.rowsPerPage,"footer-props":e.footerProps,"server-items-length":e.pagination.totalItems,"mobile-breakpoint":0,"must-sort":""},on:{"update:sortDesc":function(t){return e.$set(e.pagination,"descending",t)},"update:sort-desc":function(t){return e.$set(e.pagination,"descending",t)},"update:sortBy":function(t){return e.$set(e.pagination,"sortBy",t)},"update:sort-by":function(t){return e.$set(e.pagination,"sortBy",t)},"update:page":function(t){return e.$set(e.pagination,"page",t)},"update:itemsPerPage":function(t){return e.$set(e.pagination,"rowsPerPage",t)},"update:items-per-page":function(t){return e.$set(e.pagination,"rowsPerPage",t)}},scopedSlots:e._u([{key:"item",fn:function(t){return[a("tr",[a("td",{staticClass:"fixedTrColumn"},[a("v-responsive",{attrs:{width:"220"}},[a("vue-user",{attrs:{user:t.item.timesheet_user}})],1)],1),a("td",[e._v(" "+e._s(t.item.timesheet_user.username)+" ")]),a("td",[e._v(" "+e._s(t.item.timesheet_user.job_title)+" ")]),a("td",[e._v(" "+e._s(t.item.division_name)+" ")]),a("td",[e._v(" "+e._s(t.item.branch_name||"N/A")+" ")]),a("td",[e._v(" "+e._s(t.item.timesheet_for)+" ")]),a("td",[["N/A","Missing"].includes(e.getPunchInInfo(t.item))?a("v-chip",{attrs:{small:"",color:"red"},on:{click:function(a){return e.openCalendar(t.item)}}},[a("span",{staticClass:"white--text",domProps:{textContent:e._s("Workday"===t.item.coefficient?"Missing":"N/A")}})]):a("span",{class:"Missing"===e.getPunchInInfo(t.item)?"white--text":"",attrs:{small:"",color:"red"}},[a("v-chip",{staticClass:"mt-2",attrs:{small:""},on:{click:function(a){return e.openCalendar(t.item)}}},[a("div",{staticClass:"text-caption"},[e._v(" "+e._s(e._f("dayjs")(e.getPunchInInfo(t.item),"hh:mm:ss A"))+" ")])])],1)],1),a("td",[["N/A","Missing"].includes(e.getPunchOutInfo(t.item))?a("v-chip",{attrs:{small:"",color:"red"},on:{click:function(a){return e.openCalendar(t.item)}}},[a("span",{staticClass:"white--text",domProps:{textContent:e._s("Workday"===t.item.coefficient?"Missing":"N/A")}})]):a("span",{class:"Missing"===e.getPunchOutInfo(t.item)?"red--text":"",attrs:{small:"",color:"red"}},[a("v-chip",{staticClass:"mt-2",attrs:{small:""},on:{click:function(a){return e.openCalendar(t.item)}}},[a("div",{staticClass:"text-caption"},[e._v(" "+e._s(e._f("dayjs")(e.getPunchOutInfo(t.item),"hh:mm:ss A"))+" ")])])],1)],1),a("td",[a("span",[e._v(e._s(t.item.work_shift.name||"N/A"))])]),a("td",[e._v(" "+e._s("Full Leave"===t.item.leave_coefficient?"On Leave":e.status[t.item.punch_in_category+"-"+t.item.punch_out_category])+" ")]),a("td",{staticClass:"text-center"},[a("v-chip",{attrs:{small:"",disabled:0===t.item.break_in_count,color:"primary"},domProps:{textContent:e._s(t.item.break_in_count)},on:{click:function(a){return e.showUserBreakDetails(t.item)}}})],1),a("td",{staticClass:"text-center"},[a("v-chip",{attrs:{small:"",disabled:0===t.item.break_out_count,color:"primary"},domProps:{textContent:e._s(t.item.break_out_count)},on:{click:function(a){return e.showUserBreakDetails(t.item)}}})],1),a("td",{staticClass:"text-center"},[e._v(" "+e._s(t.item.timesheet_entries.toString()||"N/A")+" ")]),a("td",{staticClass:"text-center"},[1==t.item.attendance_sync?a("v-icon",{attrs:{color:"green"}},[e._v(" mdi-check ")]):a("v-icon",{attrs:{color:"danger"}},[e._v("mdi-close")])],1),e._l(e.headers,(function(n,i){return[i>13?a("td",{key:i},[t.item[n.value]?a("span",[e._v(" "+e._s(t.item[n.value].toString()||"N/A")+" ")]):a("span",[e._v(" N/A ")])]):e._e()]}))],2)]}}],null,!1,2300887397)},[a("template",{slot:"no-data"},[a("data-table-no-data",{attrs:{loading:e.loading}})],1)],2),a("v-bottom-sheet",{attrs:{fullscreen:"",persistent:"",scrollable:""},on:{keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;e.breakInout=!1}},model:{value:e.breakInout,callback:function(t){e.breakInout=t},expression:"breakInout"}},[a("v-card",[a("vue-card-title",{attrs:{title:"Break In Break Out Information",subtitle:"The table below contains list of breaks taken by employee.",icon:"mdi-swap-horizontal",dark:"",closable:""},on:{close:function(t){e.breakInout=!1}}}),a("v-divider"),a("v-card-text",[a("detail-data-table",{attrs:{supervisor:e.supervisor,count:e.count,filters:e.breakInOutFilter,user:e.currentUser,"is-break":!0}})],1)],1)],1)],1),a("default-svg-loader",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}]})],1)},i=[],s=a("2909"),r=a("1da1"),o=a("5530"),l=(a("96cf"),a("a9e3"),a("ac1f"),a("841c"),a("a15b"),a("a434"),a("99af"),a("caad"),a("03df")),c=a("5660"),u=a("ac94"),d=a("02cb"),h=a("5a9e"),p=a("1229"),m=a("e59e"),g=a("a51f"),f=a("2f62"),v=a("8cd3"),b=a("d96e"),y=a("9192"),_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-row",{staticClass:"grey--text text--darken-2",attrs:{align:"center"}},[a("v-col",{staticClass:"blueGrey--text",attrs:{md:"6",cols:"12"}},[e._v(" Select Employeeâ€™s Attendance Insights Heading: "),a("v-icon",{staticClass:"mx-2",attrs:{small:""},domProps:{textContent:e._s("mdi-filter-variant")},on:{click:function(t){e.showInsightHeadings=!e.showInsightHeadings}}})],1),e.showInsightHeadings?a("v-col",{attrs:{md:"2",cols:"12"}},[a("v-checkbox",{staticClass:"py-0 my-0",attrs:{label:"Select All Headers",indeterminate:e.selectedInsightHeading.length>0&&e.insightHeading.length-1!==e.selectedInsightHeading.length,"hide-details":"",dense:""},on:{change:function(t){return e.allInsightHeadingSelected()}},model:{value:e.allInsightHeadingsSelected,callback:function(t){e.allInsightHeadingsSelected=t},expression:"allInsightHeadingsSelected"}})],1):e._e(),e.showInsightHeadings?a("v-col",{staticClass:"py-0",class:"xs"===e.$vuetify.breakpoint.name?"":"text-right",attrs:{md:"4",cols:"12"}},[a("v-btn",{staticClass:"mx-2",attrs:{disabled:0===e.selectedInsightHeading.length,small:"",color:"primary"},on:{click:function(t){return e.$emit("save",e.selectedInsightHeading)}}},[e._v(" Save Settings ")])],1):e._e()],1),e.showInsightHeadings?a("v-divider",{staticClass:"pb-2"}):e._e(),e.showInsightHeadings?a("v-row",{staticClass:"px-4",attrs:{"no-gutters":""}},e._l(e.insightHeading,(function(t,n){return a("v-col",{key:n,staticClass:"ma-0 pa-0",attrs:{md:"3",cols:"12"}},[a("v-checkbox",{staticClass:"py-0 my-0",attrs:{label:t.text,value:t.value,"hide-details":"",dense:""},model:{value:e.selectedInsightHeading,callback:function(t){e.selectedInsightHeading=t},expression:"selectedInsightHeading"}})],1)})),1):e._e()],1)},I=[],x=(a("159b"),a("7db0"),a("f0d5")),k=a("983c"),w=a("f70a"),S={mixins:[x["a"],k["a"],w["a"]],props:{selectedHeadingList:{type:Array,default:function(){return[]}}},data:function(){return{showInsightHeadings:!1,showPersonalHeadings:!1,allInsightHeadingsSelected:!1,selectedInsightHeading:[],insightHeading:[{text:"Day",value:"day",sortable:!1,visible:!1},{text:"Leave Remarks",value:"leave_coefficient",sortable:!1,visible:!1},{text:"Logs",value:"logs",sortable:!1,visible:!1},{text:"Expected Punch In",value:"expected_punch_in",sortable:!1,visible:!1},{text:"Expected Punch Out",value:"expected_punch_out",sortable:!1,visible:!1},{text:"Punch In Category",value:"punch_in_category",sortable:!1,visible:!1},{text:"Punch Out Category",value:"punch_out_category",sortable:!1,visible:!1},{text:"Total Late & Early By",value:"total_lost_hours",sortable:!1,visible:!1},{text:"Break In/Out Lost Time",value:"break_in_out_lost_hours",sortable:!1,visible:!1},{text:"Overtime",value:"overtime",sortable:!1,visible:!1},{text:"Approved Overtime",value:"approved_overtime",sortable:!1,visible:!1},{text:"Confirmed Overtime",value:"confirmed_overtime",sortable:!1,visible:!1},{text:"Work Duration",value:"worked_hours",sortable:!1,visible:!1},{text:"Expected Work Hours",value:"expected_work_hours",sortable:!1},{text:"Remarks",value:"coefficient",sortable:!1,visible:!1},{text:"Leave Type",value:"leave_type",sortable:!1,visible:!1}]}},watch:{selectedInsightHeading:function(e){var t=this,a=[];return 0!==e.length&&e.forEach((function(e){var n=t.insightHeading.find((function(t){return t.value===e}));n&&a.push(n)})),this.insightHeading.length===this.selectedInsightHeading.length&&(this.allHeadingsSelected=!0),this.$emit("update:header-data",a),a},selectedHeadingList:function(){this.selectedInsightHeading=this.selectedHeadingList}},created:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getInsightHeadingSetting();case 2:case"end":return t.stop()}}),t)})))()},methods:{getInsightHeadingSetting:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get(h["a"].setEmployeeInsightHeadingSetting(e.getOrganizationSlug)).then((function(t){t&&(e.selectedInsightHeading=t.headings),e.insightHeading.forEach((function(t,a){0!==a&&(t.visible=!1),(0===e.selectedInsightHeading.length||e.selectedInsightHeading.some((function(e){return t.text===e})))&&(t.visible=!0)})),e.insightHeading.length-1===e.selectedInsightHeading.length&&(e.allInsightHeadingsSelected=!0),e.$emit("update:insight-heading-list",e.insightHeading)}));case 2:case"end":return t.stop()}}),t)})))()},allInsightHeadingSelected:function(){var e=this;this.selectedInsightHeading=[],this.allInsightHeadingsSelected&&this.insightHeading.forEach((function(t){e.selectedInsightHeading.push(t.value)}))}}},C=S,O=a("2877"),P=a("6544"),H=a.n(P),D=a("8336"),E=a("ac7c"),T=a("62ad"),U=a("ce7e"),A=a("132d"),F=a("0fd9b"),L=Object(O["a"])(C,_,I,!1,null,null,null),B=L.exports;H()(L,{VBtn:D["a"],VCheckbox:E["a"],VCol:T["a"],VDivider:U["a"],VIcon:A["a"],VRow:F["a"]});var V=a("c197"),$=a("edc2"),N={components:{VueDynamicUserFieldAutoComplete:$["a"],DefaultSvgLoader:V["default"],EmployeeInsightHeadingList:B,DetailDataTable:b["a"],DateFilterMenu:u["a"],VueAutoComplete:c["default"],ExportReport:l["a"],DataTableNoData:g["default"],VueUser:d["default"]},mixins:[v["a"]],props:{orgSlug:{type:String,default:""},supervisor:{type:[Number,String],default:""}},data:function(){return{search:"",currentDivision:"",breakInoutNum:"",dateFilter:{start_date:this.$dayjs().format("YYYY-MM-DD"),end_date:this.$dayjs().format("YYYY-MM-DD")},shiftName:"",breakInOut:"",punchInCategory:"",punchOutCategory:"",currentBranch:"",pastEmployee:!1,showFilters:!1,currentUser:{},breakInout:!1,count:null,rowsPerPageItems:[10,20,30,40,50],loading:!1,choiceForPunchInCategory:[{name:"Timely In",value:"timely_in"},{name:"Late In",value:"late_in"},{name:"Early In",value:"early_in"},{name:"Missing",value:"missing"}],choiceForPunchOutCategory:[{name:"Timely Out",value:"timely_out"},{name:"Late Out",value:"late_out"},{name:"Early Out",value:"early_out"},{name:"Missing",value:"missing"}],status:{"Missing Punch In-Missing Punch Out":"Absent","Uncategorized-Uncategorized":"Uncategorized","Uncategorized-Missing Punch Out":"Uncategorized","Timely In-Timely Out":"Present","Timely In-Early Out":"Present","Timely In-Late Out":"Present","Timely In-Missing Punch Out":"Present","Early In-Early Out":"Present","Early In-Timely Out":"Present","Early In-Late Out":"Present","Early In-Missing Punch Out":"Present","Late In-Early Out":"Present","Late In-Timely Out":"Present","Late In-Late Out":"Present","Late In-Missing Punch Out":"Present","null-null":"Absent"},headers:[{text:"Name",value:"timesheet_user",class:"fixedThHeader"},{text:"Username",value:"timesheet_user_username",sortable:!1},{text:"Job Title",value:"job",sortable:!1},{text:"Division",value:"name",sortable:!1},{text:"Branch",value:"branch",sortable:!1},{text:"Date",value:"timesheet_for",sortable:!1},{text:"Punch In",value:"punch_in",sortable:!1},{text:"Punch Out",value:"punch_out",sortable:!1},{text:"Work Shift",value:"work_shift",sortable:!1},{text:"Status",value:"status",sortable:!1},{text:"Break In Count",value:"break_in_count"},{text:"Break Out Count",value:"break_out_count"},{text:"Timesheet Entries",value:"timesheet_entries",sortable:!1},{text:"Attendance Sync",value:"attendance_sync",sortable:!1}],overallPunctuality:0,exportGeneration:{url:null,created_on:""},exportGenerated:!1,breakInOutFilter:{},shiftEndpoint:"",headingTypeSelect:[],selectedHeader:[],primaryHeading:[],searchByUsername:!1,selected_employees:[],has_attendance_sync:"",attendanceSync:[{text:"Yes",value:!0},{text:"No",value:!1}]}},computed:Object(o["a"])(Object(o["a"])({},Object(f["c"])({getSupervisorOrgSlug:"supervisor/getOrganizationSlug"})),{},{dataTableFilter:function(){return Object(o["a"])(Object(o["a"])({},this.dateFilter),{},{search:this.search,exportUrl:"",division:this.currentDivision,branch:this.currentBranch,supervisor:this.supervisor,punch_in_category:this.punchInCategory,punch_out_category:this.punchOutCategory,shift:this.shiftName,break_in_out:this.breakInoutNum,user_status:this.pastEmployee?"past":"",selected_employees:this.selected_employees.join(","),attendance_sync:this.has_attendance_sync})}}),watch:{filters:function(e){this.applyFilters(e)},response:function(e){e.results.timesheet_user&&(this.currentUser=e.results.timesheet_user.username)},primaryHeading:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getHeadingSetting();case 2:case"end":return t.stop()}}),t)})))()}},created:function(){this.initializeDynamicUrls(),this.getHeadingSetting()},mounted:function(){this.triggerDataTable=!1,this.pagination.sortBy="timesheet_for"},methods:{getValue:function(e,t){return e?e[t]:"N/A"},initializeDynamicUrls:function(){this.divisionEndpoint=p["a"].getDivision(this.supervisor?this.getSupervisorOrgSlug:this.orgSlug),this.branchEndpoint=m["a"].getBranch(this.supervisor?this.getSupervisorOrgSlug:this.orgSlug),this.exportUrl=h["a"].exportInsightReport(this.supervisor?this.getSupervisorOrgSlug:this.orgSlug),this.dataTableEndpoint=h["a"].attendanceInsightReport(this.supervisor?this.getSupervisorOrgSlug:this.orgSlug),this.shiftEndpoint=y["a"].getWorkShift(this.supervisor?this.getSupervisorOrgSlug:this.orgSlug),this.fetchDataTable()},getHeadingSetting:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get(h["a"].setEmployeeInsightHeadingSetting(e.getOrganizationSlug)).then((function(t){e.headingTypeSelect=t.headings,e.$nextTick((function(){e.headingTypeSelect.length>0&&e.updateHeading()}))}));case 2:case"end":return t.stop()}}),t)})))()},updateHeading:function(){var e;(e=this.headers).splice.apply(e,[14,this.headers.length-14].concat(Object(s["a"])(this.selectedHeader)))},saveHeadingSetting:function(e){this.$http.post(h["a"].setEmployeeInsightHeadingSetting(this.getOrganizationSlug),{headings:e}),this.updateHeading(),this.fetchDataTable()},getPunchInInfo:function(e){return["Offday","Holiday","Full Leave"].includes(e.coefficient)&&null===e.punch_in&&null===e.punch_out?"N/A":null===e.punch_in?"Missing":e.punch_in},getPunchOutInfo:function(e){return["Offday","Holiday","Full Leave"].includes(e.coefficient)&&null===e.punch_in&&null===e.punch_out?"N/A":null===e.punch_out?"Missing":e.punch_out},openCalendar:function(e){var t={userId:e.timesheet_user.id,date:e.timesheet_for};this.supervisor?this.$router.push({name:"user-supervisor-attendance-reports-calendar",query:t}):this.$router.push({name:"admin-slug-attendance-reports-calendar",params:{slug:this.$route.params.slug},query:t})},showUserBreakDetails:function(e){this.showFilters=!1,this.currentUser=e.timesheet_user,this.count={break_in_count:e.break_in_count,break_out_count:e.break_out_count,total_lost_hours:e.total_lost_hours},this.breakInOutFilter={start_date:e.timesheet_for,end_date:e.timesheet_for,supervisor:this.supervisor},this.breakInout=!0}}},j=N,R=(a("7c12"),a("c6a6")),M=a("288c"),z=a("b0af"),W=a("99d9"),Y=a("cc20"),q=a("8fea"),G=a("6b53"),J=a("b974"),K=a("0789"),Q=a("b73d"),X=Object(O["a"])(j,n,i,!1,null,null,null);t["a"]=X.exports;H()(X,{VAutocomplete:R["a"],VBottomSheet:M["a"],VBtn:D["a"],VCard:z["a"],VCardText:W["c"],VCheckbox:E["a"],VChip:Y["a"],VCol:T["a"],VDataTable:q["a"],VDivider:U["a"],VIcon:A["a"],VResponsive:G["a"],VRow:F["a"],VSelect:J["a"],VSlideYTransition:K["g"],VSwitch:Q["a"]})},edc2:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-autocomplete",{class:e.appliedClass,attrs:{items:e.itemsSorted,loading:e.isLoading,"search-input":e.search,multiple:e.multiple,label:e.label,error:e.errorMessages.length>0,"error-messages":e.errorMessages,disabled:e.disabled,"prepend-inner-icon":e.prependInnerIcon,clearable:e.clearable&&!e.readonly,readonly:!!e.readonly,"hide-details":e.hideDetails,"data-cy":"input-user-autocomplete-"+e.dataCyVariable,placeholder:e.placeholder,"hide-selected":"","hide-no-data":"","item-text":e.field,"item-value":"id"},on:{"update:searchInput":function(t){e.search=t},"update:search-input":function(t){e.search=t},blur:function(t){return e.$emit("blur")}},scopedSlots:e._u([{key:"selection",fn:function(t){return[a("v-chip",{attrs:{"input-value":t.selected,close:(e.clearable||!e.clearable&&!e.multiple)&&!e.readonly,small:""},on:{"click:close":function(a){return e.remove(t.item)}}},[a("v-avatar",{attrs:{left:""}},[a("v-img",{attrs:{src:t.item.profile_picture,cover:""}})],1),e._v(" "+e._s(e._f("truncate")(t.item[e.field],e.truncate))+" ")],1)]}},{key:"item",fn:function(t){var n=t.item;return[a("v-list-item-avatar",[a("v-avatar",{attrs:{size:"30"}},[a("v-img",{attrs:{src:n.profile_picture,cover:""}})],1)],1),a("v-list-item-content",[a("v-list-item-title",[e._v(" "+e._s(e._f("truncate")(n[e.field],20))+" "),n.employee_code?[e._v(" ("+e._s(n.employee_code)+") ")]:e._e()],2),n.division?a("v-list-item-subtitle",{domProps:{textContent:e._s(n.division)}}):e._e()],1)]}}]),model:{value:e.selectedData,callback:function(t){e.selectedData=t},expression:"selectedData"}})],1)},i=[],s=a("53ca"),r=(a("a9e3"),a("ac1f"),a("841c"),a("4e827"),a("2ca0"),a("d81d"),a("a434"),a("d3b7"),a("159b"),a("7db0"),a("4de4"),a("caad"),a("2532"),a("fab2")),o=a("63ea"),l=a.n(o),c={props:{value:{type:[Number,String,Array,Object],required:!1,default:function(){return null}},dataCyVariable:{type:String,default:""},userObject:{type:[Object,Array],required:!1,default:function(){return{}}},params:{type:[Object,Array],required:!1,default:function(){return{}}},multiple:{type:Boolean,required:!1,default:!1},disabled:{type:Boolean,required:!1,default:!1},errorMessages:{type:[String,Array],default:function(){return[]}},label:{type:String,default:"Select Employee"},prependInnerIcon:{type:String,default:"mdi-account-plus-outline"},itemsToExclude:{type:[Array,Number],default:null},itemsToInclude:{type:[Array,Number],default:null},clearable:{type:Boolean,default:!0},readonly:{type:Boolean,default:!1},hideDetails:{type:Boolean,default:!1},appliedClass:{type:String,default:""},truncate:{type:Number,default:10},placeholder:{type:String,default:""},field:{type:String,default:"full_name"}},data:function(){return{isLoading:!1,items:[],allUsers:[],selectedData:null,search:null}},computed:{itemsSorted:function(){return this.sortBySearch(this.items,this.search?this.search.toLowerCase():"")}},watch:{value:{handler:function(e,t){!e&&t&&(this.selectedData="",this.populateInitialUsers()),!t&&e&&this.populateInitialUsers()},immediate:!0},search:function(e){!e||this.items.length>0||this.fetchUsers()},selectedData:function(e){this.search="",this.syncUserData(e),this.$emit("input",e)},itemsToExclude:function(){this.items=this.excludeRecord(this.allUsers)},itemsToInclude:function(){this.items=this.includeRecord(this.allUsers)},params:{handler:function(e,t){l()(e,t)||this.fetchUsers()},deep:!0}},methods:{sortBySearch:function(e,t){var a=this.field;return e.sort((function(e,n){return e[a].toLowerCase().startsWith(t)&&n[a].toLowerCase().startsWith(t)?e[a].toLowerCase().localeCompare(n[a].toLowerCase()):e[a].toLowerCase().startsWith(t)?-1:n[a].toLowerCase().startsWith(t)?1:e[a].toLowerCase().localeCompare(n[a].toLowerCase())}))},populateInitialUsers:function(){this.fetchUsers(this.value),Array.isArray(this.value)?"object"===Object(s["a"])(this.value[0])?this.selectedData=this.value.map((function(e){return e.user.id})):this.selectedData=this.value:null===this.value?this.selectedData="":"object"===Object(s["a"])(this.value)?this.selectedData=this.value.id:this.selectedData=this.value,this.$emit("input",this.selectedData)},remove:function(e){if(this.selectedData instanceof Object){var t=this.selectedData.indexOf(e.id);t>=0&&this.selectedData.splice(t,1),this.$emit("remove",e)}else this.selectedData=""},fetchUsers:function(e){var t=this;this.isLoading||(this.isLoading=!0,this.$http.get(r["a"].autocomplete,{params:this.params}).then((function(a){t.allUsers=a,t.itemsToExclude&&(a=t.excludeRecord(a)),t.itemsToInclude&&(a=t.includeRecord(a)),t.items=a,e&&t.syncUserData(e)})).finally((function(){return t.isLoading=!1})))},syncUserData:function(e){var t=this;if(e instanceof Array){var a=[];e.forEach((function(e){a.unshift(t.items.find((function(t){return t.id===e})))})),this.$emit("update:userObject",a)}else{var n=this.items.find((function(t){return t.id===e}));this.$emit("update:userObject",n)}},excludeRecord:function(e){var t=[];return"number"===typeof this.itemsToExclude?t.push(this.itemsToExclude):t=this.itemsToExclude,e.filter((function(e){return!t.includes(e.id)}))},includeRecord:function(e){var t=this;return e.filter((function(e){return t.itemsToInclude.includes(e.id)}))}}},u=c,d=a("2877"),h=a("6544"),p=a.n(h),m=a("c6a6"),g=a("8212"),f=a("cc20"),v=a("adda"),b=a("8270"),y=a("5d23"),_=Object(d["a"])(u,n,i,!1,null,null,null);t["a"]=_.exports;p()(_,{VAutocomplete:m["a"],VAvatar:g["a"],VChip:f["a"],VImg:v["a"],VListItemAvatar:b["a"],VListItemContent:y["a"],VListItemSubtitle:y["b"],VListItemTitle:y["c"]})},f0d5:function(e,t,a){"use strict";a("d3b7"),a("3ca3"),a("ddb0");var n=a("c44a");t["a"]={components:{NonFieldFormErrors:function(){return a.e("chunk-6441e173").then(a.bind(null,"ab8a"))}},mixins:[n["a"]],data:function(){return{crud:{name:"record",message:"",addAnother:!1},formValues:{},loading:!1}}}},f70a:function(e,t,a){"use strict";a("d3b7"),a("caad");t["a"]={methods:{insertData:function(e,t){var a=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.validate,s=void 0===i||i,r=n.clearForm,o=void 0===r||r,l=arguments.length>3?arguments[3]:void 0;return new Promise((function(n,i){!a.loading&&e&&(a.clearErrors(),a.$validator.validateAll().then((function(r){s||(r=!0),r&&(a.loading=!0,a.$http.post(e,t,l||{}).then((function(e){a.clearErrors(),o&&(a.formValues={}),a.crud.addAnother||a.$emit("create"),a.crud.message&&setTimeout((function(){a.notifyUser(a.crud.message)}),1e3),n(e),a.loading=!1})).catch((function(e){a.pushErrors(e),a.notifyInvalidFormResponse(),i(e),a.loading=!1})))})))}))},patchData:function(e,t){var a=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.validate,s=void 0===i||i,r=n.clearForm,o=void 0===r||r,l=arguments.length>3?arguments[3]:void 0;return new Promise((function(n,i){a.updateData(e,t,{validate:s,clearForm:o},"patch",l).then((function(e){n(e)})).catch((function(e){i(e)}))}))},putData:function(e,t){var a=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.validate,s=void 0===i||i,r=n.clearForm,o=void 0===r||r,l=arguments.length>3?arguments[3]:void 0;return new Promise((function(n,i){a.updateData(e,t,{validate:s,clearForm:o},"put",l).then((function(e){n(e)})).catch((function(e){i(e)}))}))},updateData:function(e,t){var a=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.validate,s=void 0===i||i,r=n.clearForm,o=void 0===r||r,l=arguments.length>3?arguments[3]:void 0,c=arguments.length>4?arguments[4]:void 0;return new Promise((function(n,i){!a.loading&&e&&["put","patch"].includes(l)&&(a.clearErrors(),a.$validator.validateAll().then((function(r){s||(r=!0),r&&(a.loading=!0,a.$http[l](e,t,c||{}).then((function(e){a.$emit("update"),a.clearErrors(),o&&(a.formValues={}),a.crud.message&&setTimeout((function(){a.notifyUser(a.crud.message)}),1e3),n(e),a.loading=!1})).catch((function(e){a.pushErrors(e),a.notifyInvalidFormResponse(),i(e),a.loading=!1})))})))}))},clearErrors:function(){this.clearNonFieldErrors(),this.$validator.errors.clear()}}}},fab2:function(e,t,a){"use strict";t["a"]={getUserList:"/users/",postUser:"/users/",autocomplete:"/users/autocomplete/",postImportUser:"/users/import/",downloadUserImportSample:function(e){return"/users/import/sample/?organization=".concat(e)},getUserDetail:function(e){return"/users/".concat(e,"/")},getInternalUserDetail:function(e){return"/users/".concat(e,"/internal-detail")},deleteUser:function(e){return"/users/".concat(e,"/")},updateUser:function(e){return"/users/".concat(e,"/")},changePassword:function(e){return"/users/".concat(e,"/change-password/")},getUserCV:function(e){return"/users/".concat(e,"/cv/")},getProfileCompleteness:function(e){return"users/".concat(e,"/profile-completeness/")}}}}]);