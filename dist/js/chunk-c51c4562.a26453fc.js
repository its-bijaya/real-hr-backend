(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c51c4562"],{"878b":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-card-actions",[a("v-spacer"),e.hideClear?e._e():a("v-btn",{attrs:{text:"",small:""},domProps:{textContent:e._s("Clear")},on:{click:function(t){return e.$emit("clearForm")}}}),a("v-btn",{attrs:{disabled:e.formErrors||e.disabled,color:e.deleteInstance?"red":"primary",depressed:"",small:"",loading:e.loading,type:"submit"}},[a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v(" mdi-content-save-outline ")]),e._v(" "+e._s(e.deleteInstance?"Delete":"Save")+" ")],1)],1)],1)},r=[],n={props:{hideClear:{type:Boolean,default:!1},formErrors:{type:Boolean,required:!0},disabled:{type:Boolean,default:!1},deleteInstance:{type:Boolean,required:!1,default:!1},loading:{type:Boolean,default:!1}}},o=n,s=a("2877"),l=a("6544"),c=a.n(l),u=a("8336"),d=a("99d9"),m=a("132d"),v=a("2fa4"),f=Object(s["a"])(o,i,r,!1,null,null,null);t["a"]=f.exports;c()(f,{VBtn:u["a"],VCardActions:d["a"],VIcon:m["a"],VSpacer:v["a"]})},c3ba:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.deleteDivision?e._e():a("v-form",{ref:"divisionForm",on:{submit:function(t){return t.preventDefault(),e.getFormAction.apply(null,arguments)}}},[a("v-card",[e.showTitle?a("vue-card-title",{attrs:{title:e.info.title,subtitle:e.info.subtitle,icon:e.info.icon,closable:""},on:{close:function(t){return e.$emit("dismissForm")}}}):e._e(),a("v-divider"),e.nonFieldErrors?a("non-field-form-errors",{attrs:{"non-field-errors":e.nonFieldErrors}}):e._e(),a("v-card-text",{staticClass:"scrollbar-md"},[a("v-row",{attrs:{align:"end"}},[a("v-col",{attrs:{md:"6",cols:"12",sm:"12"}},[a("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required|max:150",expression:"'required|max:150'"}],attrs:{counter:150,"prepend-inner-icon":"mdi-account-multiple-outline"},model:{value:e.formValues.name,callback:function(t){e.$set(e.formValues,"name",t)},expression:"formValues.name"}},"v-text-field",e.veeValidate("name","Name *"),!1))],1),a("v-col",{attrs:{md:"6",cols:"12",sm:"12"}},[a("vue-auto-complete",e._b({attrs:{default:e.actionData.parent,endpoint:e.parentEndpoint,"prepend-inner-icon":"mdi-account-multiple-outline","item-text":"name","item-value":"slug"},model:{value:e.formValues.parent,callback:function(t){e.$set(e.formValues,"parent",t)},expression:"formValues.parent"}},"vue-auto-complete",e.veeValidate("parent","Parent"),!1))],1),a("v-col",{attrs:{md:"6",cols:"12",sm:"12"}},[a("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"email|max:30",expression:"'email|max:30'"}],attrs:{counter:30,"prepend-inner-icon":"mdi-email-outline"},model:{value:e.formValues.email,callback:function(t){e.$set(e.formValues,"email",t)},expression:"formValues.email"}},"v-text-field",e.veeValidate("email","Email"),!1))],1),a("v-col",{attrs:{md:"6",cols:"12",sm:"12"}},[a("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"max:4",expression:"'max:4'"}],attrs:{counter:4,"prepend-inner-icon":"mdi-barcode"},model:{value:e.formValues.extension_number,callback:function(t){e.$set(e.formValues,"extension_number",t)},expression:"formValues.extension_number"}},"v-text-field",e.veeValidate("extension_number","Extension Number"),!1))],1),a("v-col",{attrs:{md:"6",cols:"12",sm:"12"}},[a("users-auto-complete",e._b({attrs:{icon:"mdi-account-outline"},model:{value:e.formValues.head,callback:function(t){e.$set(e.formValues,"head",t)},expression:"formValues.head"}},"users-auto-complete",e.veeValidate("head","Head"),!1))],1),a("v-col",{attrs:{md:"6",cols:"12",sm:"12"}},[a("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"",expression:"''"}],attrs:{"prepend-inner-icon":"mdi-format-list-bulleted"},model:{value:e.formValues.code,callback:function(t){e.$set(e.formValues,"code",t)},expression:"formValues.code"}},"v-text-field",e.veeValidate("code","Code"),!1))],1),a("v-col",{attrs:{md:"6",sm:"12"}},[a("v-textarea",e._b({directives:[{name:"validate",rawName:"v-validate",value:"max:250",expression:"'max:250'"}],attrs:{counter:250,rows:"3","prepend-inner-icon":"mdi-strategy"},model:{value:e.formValues.strategies,callback:function(t){e.$set(e.formValues,"strategies",t)},expression:"formValues.strategies"}},"v-textarea",e.veeValidate("strategies","Strategies"),!1))],1),a("v-col",{attrs:{md:"6",cols:"12",sm:"12"}},[a("v-textarea",e._b({directives:[{name:"validate",rawName:"v-validate",value:"max:250",expression:"'max:250'"}],attrs:{counter:250,rows:"3","prepend-inner-icon":"mdi-strategy"},model:{value:e.formValues.action_plans,callback:function(t){e.$set(e.formValues,"action_plans",t)},expression:"formValues.action_plans"}},"v-textarea",e.veeValidate("action_plans","Action Plans"),!1))],1),a("v-col",{attrs:{md:"6",cols:"12",sm:"12"}},[a("v-textarea",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required||max:600",expression:"'required||max:600'"}],attrs:{counter:600,rows:"3","prepend-inner-icon":"mdi-information-outline"},model:{value:e.formValues.description,callback:function(t){e.$set(e.formValues,"description",t)},expression:"formValues.description"}},"v-textarea",e.veeValidate("description","Description *"),!1))],1),a("v-col",{attrs:{md:"6",cols:"12",sm:"12"}},[a("v-checkbox",e._b({model:{value:e.formValues.is_archived,callback:function(t){e.$set(e.formValues,"is_archived",t)},expression:"formValues.is_archived"}},"v-checkbox",e.veeValidate("is_archived","Is archived"),!1))],1)],1)],1),a("v-divider"),a("form-submit",{attrs:{"form-errors":e.errors.any(),"delete-instance":e.deleteDivision},on:{clearForm:e.clearForm}})],1)],1)},r=[],n=a("53ca"),o=a("1da1"),s=(a("b0c0"),a("96cf"),a("f12b")),l=a("5660"),c=a("ef8c"),u=a("878b"),d=a("1229"),m={components:{VueAutoComplete:l["default"],UsersAutoComplete:c["default"],FormSubmit:u["a"]},mixins:[s["a"]],props:{showTitle:{type:Boolean,default:!1},actionData:{type:Object,required:!1,default:function(){return{name:"",description:"",parent:"",head:"",extension_number:"",strategies:"",action_plans:"",email:"",code:"",is_archived:!1}}},orgSlug:{type:String,required:!0},deleteDivision:{type:Boolean,default:!1}},data:function(){return{formValues:this.deepCopy(this.actionData),parentEndpoint:d["a"].getDivision(this.orgSlug),info:{title:"",subtitle:"",icon:""}}},created:function(){this.deleteDivision&&this.getFormAction()},mounted:function(){this.cardTitleDetail()},methods:{getFormAction:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.deleteDivision){t.next=2;break}return t.abrupt("return",e.deleteDivisionItem());case 2:return t.abrupt("return",e.formValues.slug?e.updateDivision():e.createDivision());case 3:case"end":return t.stop()}}),t)})))()},createDivision:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.crud.message="Successfully created Division",e.insertData(d["a"].postDivision(e.orgSlug),e.formValues).then((function(t){e.$emit("dismissForm",t,"division")}));case 2:case"end":return t.stop()}}),t)})))()},updateDivision:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:"object"===Object(n["a"])(e.formValues.head)&&(e.formValues.head=e.formValues.head?e.formValues.head.id:""),e.crud.message="Successfully updated Division",e.putData(d["a"].putDivision(e.orgSlug,e.actionData.slug),e.formValues).then((function(){e.$emit("dismissForm")}));case 3:case"end":return t.stop()}}),t)})))()},deleteDivisionItem:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.crud.message="Successfully deleted Division",e.deleteData(d["a"].deleteDivision(e.orgSlug,e.actionData.slug)).then((function(){e.$emit("dismissForm")})).catch((function(t){e.notifyInvalidFormResponse(),e.pushErrors(t);var a=t.response.data.non_field_errors[0];e.notifyUser(a,"red"),e.$emit("dismissForm")}));case 2:case"end":return t.stop()}}),t)})))()},clearForm:function(){this.errors.clear(),this.$refs.divisionForm.reset(),this.clearNonFieldErrors()},cardTitleDetail:function(){this.actionData.name.length>0?(this.info.title="Update Details",this.info.subtitle="Here you can update organization division details",this.info.icon="mdi-pencil-outline"):(this.info.title="Create New",this.info.subtitle="Here you can create organization division",this.info.icon="mdi-file-tree")}}},v=m,f=a("2877"),p=a("6544"),b=a.n(p),x=a("b0af"),V=a("99d9"),h=a("ac7c"),g=a("62ad"),_=a("ce7e"),D=a("4bd4"),w=a("0fd9b"),y=a("8654"),k=a("a844"),F=Object(f["a"])(v,i,r,!1,null,null,null);t["default"]=F.exports;b()(F,{VCard:x["a"],VCardText:V["c"],VCheckbox:h["a"],VCol:g["a"],VDivider:_["a"],VForm:D["a"],VRow:w["a"],VTextField:y["a"],VTextarea:k["a"]})}}]);