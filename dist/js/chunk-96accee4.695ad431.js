(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-96accee4","chunk-da62e0c8","chunk-2d22d378"],{"6c6f":function(t,e,s){"use strict";s("d3b7");e["a"]={data:function(){return{deleteNotification:{dialog:!1,heading:"Confirm Delete",text:"Are you sure you want to delete ?"}}},methods:{deleteData:function(t,e){var s=this;return new Promise((function(i,a){!s.loading&&t&&(s.loading=!0,s.$http.delete(t,e||{}).then((function(t){s.crud.message&&setTimeout((function(){s.notifyUser(s.crud.message)}),1e3),i(t),s.loading=!1})).catch((function(t){s.pushErrors(t),s.notifyInvalidFormResponse(),a(t),s.loading=!1})).finally((function(){s.deleteNotification.dialog=!1})))}))}}}},"983c":function(t,e,s){"use strict";s("d3b7");e["a"]={methods:{getData:function(t,e,s){var i=this,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Promise((function(n,r){!i.loading&&t&&(i.clearNonFieldErrors(),i.$validator.errors.clear(),i.loading=a,i.$http.get(t,s||{params:e||{}}).then((function(t){n(t),i.loading=!1})).catch((function(t){i.pushErrors(t),i.notifyInvalidFormResponse(),r(t),i.loading=!1})))}))},getBlockingData:function(t,e,s){var i=this;return new Promise((function(a,n){i.getData(t,e,s,!0).then((function(t){a(t)})).catch((function(t){n(t)}))}))}}}},b575:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("v-row",{attrs:{"no-gutters":""}},[s("v-col",{staticClass:"ml-4",attrs:{cols:"6"}},[s("vue-auto-complete",{staticClass:"mr-12",attrs:{endpoint:t.questionEndpoint,params:{category:"performance-appraisal"},"item-text":"title","prepend-inner-icon":"mdi-text-box-outline",label:"Select Reference Category To Select Preferred Questions","item-value":"slug","hide-details":""},on:{input:t.getQuestionByCategory}})],1)],1),s("div",{staticClass:"pt-6"},[t.showForm&&!t.loading?s("div",{staticStyle:{height:"550px"}},[s("v-row",{attrs:{align:"center",justify:"center"}},[s("v-col",{attrs:{md:"5",cols:"12"}},[s("v-row",{attrs:{align:"center"}},[s("v-col",{staticClass:"py-0 text-subtitle-1 font-weight-bold blueGrey--text",attrs:{cols:"12",md:"8"}},[s("span",[t._v(" "+t._s("Select Questions ("+t.searchedItemList.length+")")+" ")])]),s("v-col",{staticClass:"py-0 text-right",attrs:{md:"4",cols:"12"}},[s("v-btn",{staticClass:"blueGrey--text",attrs:{small:"",text:""},on:{click:t.selectAllElement}},[s("v-icon",{attrs:{small:""}},[t._v("mdi-plus-box-outline")]),t._v("Add All ")],1)],1)],1),s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("v-card",{staticClass:"blue lighten-5",attrs:{outlined:""}},[s("v-card-title",{staticClass:"pb-2"},[s("v-text-field",{staticClass:"white",attrs:{label:"Search",dense:"",outlined:"","hide-details":"","prepend-inner-icon":"mdi-magnify"},model:{value:t.searchItem,callback:function(e){t.searchItem=e},expression:"searchItem"}})],1),s("v-card-text",{staticClass:"blue lighten-5 scrollbar-thin",staticStyle:{height:"400px"}},[s("v-list",{staticClass:"blue lighten-5",attrs:{dense:""}},[s("v-list-item-group",[t._l(t.searchedItemList,(function(e,i){return s("v-list-item",{key:e.id,attrs:{dense:""}},[s("v-list-item-content",{staticClass:"py-0"},[s("v-row",{attrs:{"no-gutters":"",align:"center"}},[s("v-col",[s("v-row",{staticClass:"text--primary",attrs:{"no-gutters":""}},[s("v-col",{staticClass:"px-0 mx-0",attrs:{cols:"1"}},[s("span",{domProps:{textContent:t._s(i+1+". ")}})]),s("v-col",[s("span",{staticClass:"remove-margin",domProps:{innerHTML:t._s(e.title)}})])],1)],1),s("v-list-item-action",[s("v-icon",{attrs:{size:"20",color:"blueGrey"},on:{click:function(s){return t.selectElement(e)}}},[t._v(" mdi-plus-box-outline")])],1)],1),s("v-divider")],1)],1)})),t.searchedItemList&&0===t.searchedItemList.length?s("vue-no-data",{attrs:{text:"No results found."}}):t._e()],2)],1)],1)],1)],1)],1)],1),s("v-col",{attrs:{md:"1",cols:"12"}},[s("v-row",{attrs:{align:"center",justify:"center"}},[s("v-col",{staticClass:"text-center"},[s("v-icon",[t._v("mdi-swap-horizontal")])],1)],1)],1),s("v-col",{attrs:{md:"5",cols:"12"}},[s("v-row",{attrs:{align:"center"}},[s("v-col",{staticClass:"py-0 text-subtitle-1 font-weight-bold blueGrey--text",attrs:{cols:"12",md:"8"}},[s("span",[t._v(" "+t._s("List of Selected Questions ("+t.searchedSelectedItemList.length+") "))])]),s("v-col",{staticClass:"py-0 text-right",attrs:{md:"4",cols:"12"}},[s("v-btn",{staticClass:"red--text",attrs:{small:"",text:""},on:{click:t.removeAllItem}},[s("v-icon",{attrs:{small:""}},[t._v("mdi-trash-can-outline")]),t._v("Delete All ")],1)],1)],1),s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("v-card",{staticClass:"blue lighten-5",attrs:{outlined:""}},[s("v-card-title",{staticClass:"pb-2"},[s("v-text-field",{staticClass:"white",attrs:{label:"Search",dense:"","hide-details":"",outlined:"","prepend-inner-icon":"mdi-magnify"},model:{value:t.searchSelectedItem,callback:function(e){t.searchSelectedItem=e},expression:"searchSelectedItem"}})],1),s("v-card-text",{staticClass:"blue lighten-5 scrollbar-thin",staticStyle:{height:"400px"}},[s("v-row",[t.sortingStarted?t._e():s("v-col",{staticClass:"pr-1",attrs:{id:"sortableWrapper",cols:"12"}},[t._l(t.searchedSelectedItemList,(function(e,i){return[s("v-row",{key:i,staticClass:"my-1 sortHandle pointer mx-2",style:t.errorIndexList.includes(i)?"border: solid red 1px;":"border: solid 1px;",attrs:{"no-gutters":"",align:"center"}},[s("v-col",{attrs:{md:"11",cols:"8"}},[s("v-row",{staticClass:"no-gutters blue-grey--text px-2",attrs:{align:"center"}},[s("v-col",{attrs:{cols:"2"}},[s("v-icon",{staticClass:"my-1",attrs:{small:""},domProps:{textContent:t._s("mdi-sort")}}),s("span",{staticClass:"font-weight-bold pl-1"},[t._v(t._s(i+1+". "))])],1),s("v-col",{staticClass:"pl-1",attrs:{cols:"10"}},[s("span",{staticClass:"remove-margin",domProps:{innerHTML:t._s(e.title)}})])],1)],1),s("v-col",{attrs:{md:"1",cols:"2"}},[s("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(i){var a=i.on;return[s("v-icon",t._g({staticClass:"my-1",attrs:{small:"",color:"danger"},domProps:{textContent:t._s("mdi-trash-can-outline")},on:{click:function(s){return t.removeElement(e)}}},a))]}}],null,!0)},[s("span",[t._v("Remove Question")])])],1)],1)]}))],2)],1)],1)],1)],1)],1)],1)],1)],1):t._e(),t.loading?s("default-svg-loader"):t._e()],1)],1)},a=[],n=s("2909"),r=(s("d3b7"),s("3ca3"),s("ddb0"),s("4de4"),s("caad"),s("2532"),s("a434"),s("99af"),s("d81d"),s("c740"),s("aa47")),o=s("f12b"),l={components:{VueNoData:function(){return Promise.resolve().then(s.bind(null,"e585"))},DefaultSvgLoader:function(){return s.e("chunk-2d2160c2").then(s.bind(null,"c197"))},VueAutoComplete:function(){return s.e("chunk-2d0c8a11").then(s.bind(null,"5660"))}},mixins:[o["a"]],props:{actionData:{type:Object,default:function(){return{}}}},data:function(){return{sortable:null,sortingStarted:!1,questionEndpoint:"",searchSelectedItem:"",searchItem:"",selectedItemList:[],searchedSelectedItemList:[],itemList:[],searchedItemList:[],showForm:!1}},computed:{searchItemList:function(){var t=this;return this.itemList.filter((function(e){return e.title.toLowerCase().includes(t.searchItem.toLowerCase())}))}},watch:{selectedItemList:function(){this.$emit("update:selectedItemList",this.selectedItemList)},searchItem:{handler:function(){this.updateItemList()}},searchSelectedItem:function(){this.updateSelectedItemList()}},mounted:function(){this.initializeSortableJs()},created:function(){this.questionEndpoint="/questionnaire/".concat(this.getOrganizationSlug,"/question-categories/"),this.selectedItemList=this.actionData.questions||[],this.searchedSelectedItemList=this.actionData.questions||[],this.showForm=!0},beforeDestroy:function(){this.sortable.destroy(),this.sortable=null},methods:{initializeSortableJs:function(){var t=document.getElementById("sortableWrapper");this.sortable=r["a"].create(t,{selectedClass:"sortHandle",draggable:".sortHandle",handle:".sortHandle",onEnd:this.reArrangeQuestionList})},reArrangeQuestionList:function(t){var e=this;this.sortingStarted=!0,this.searchedSelectedItemList.splice(t.newIndex,0,this.searchedSelectedItemList.splice(t.oldIndex,1)[0]),this.$nextTick((function(){e.sortingStarted=!1,e.$nextTick((function(){e.initializeSortableJs()}))}))},getQuestionByCategory:function(t){var e=this;t&&this.getData("/questionnaire/".concat(this.getOrganizationSlug,"/questions/?category__slug=").concat(t)).then((function(t){var s=t.results,i=e.selectedItemList.map((function(t){return t.id})),a=s.filter((function(t){return!i.includes(t.id)}));e.itemList=a,e.searchedItemList=a,e.showForm=!0}))},updateItemList:function(){var t=this;this.searchedItemList=this.itemList.filter((function(e){var s="";return e.title&&(s=e.title.toLowerCase().includes(t.searchItem.toLowerCase())),s}))},updateSelectedItemList:function(){var t=this;this.searchedSelectedItemList=this.selectedItemList.filter((function(e){var s="";return e.title&&(s=e.title.toLowerCase().includes(t.searchSelectedItem.toLowerCase())),s}))},selectElement:function(t){var e=this.itemList.findIndex((function(e){return e.id===t.id}));this.itemList.splice(e,1),this.selectedItemList.unshift(t),this.searchSelectedItem="",this.updateItemList(),this.updateSelectedItemList()},selectAllElement:function(){var t;this.searchedItemList=[],(t=this.selectedItemList).push.apply(t,Object(n["a"])(this.itemList)),this.itemList=[],this.searchSelectedItem="",this.searchItem="",this.updateSelectedItemList(),this.updateItemList()},removeElement:function(t){var e=this.selectedItemList.findIndex((function(e){return e.id===t.id}));this.selectedItemList.splice(e,1),this.itemList.unshift(t),this.searchItem="",this.updateItemList(),this.updateSelectedItemList()},removeAllItem:function(){var t;this.searchedSelectedItemList=[],(t=this.itemList).push.apply(t,Object(n["a"])(this.selectedItemList)),this.selectedItemList=[],this.searchSelectedItem="",this.searchItem="",this.updateSelectedItemList(),this.updateItemList()}}},c=l,d=s("2877"),u=s("6544"),h=s.n(u),m=s("8336"),v=s("b0af"),f=s("99d9"),p=s("62ad"),g=s("ce7e"),I=s("132d"),L=s("8860"),b=s("da13"),x=s("1800"),C=s("5d23"),y=s("1baa"),w=s("0fd9b"),S=s("8654"),_=s("3a2f"),E=Object(d["a"])(c,i,a,!1,null,null,null);e["default"]=E.exports;h()(E,{VBtn:m["a"],VCard:v["a"],VCardText:f["c"],VCardTitle:f["d"],VCol:p["a"],VDivider:g["a"],VIcon:I["a"],VList:L["a"],VListItem:b["a"],VListItemAction:x["a"],VListItemContent:C["a"],VListItemGroup:y["a"],VRow:w["a"],VTextField:S["a"],VTooltip:_["a"]})},f0d5:function(t,e,s){"use strict";s("d3b7"),s("3ca3"),s("ddb0");var i=s("c44a");e["a"]={components:{NonFieldFormErrors:function(){return s.e("chunk-6441e173").then(s.bind(null,"ab8a"))}},mixins:[i["a"]],data:function(){return{crud:{name:"record",message:"",addAnother:!1},formValues:{},loading:!1}}}},f12b:function(t,e,s){"use strict";var i=s("f0d5"),a=s("983c"),n=s("f70a"),r=s("6c6f");e["a"]={mixins:[i["a"],a["a"],n["a"],r["a"]]}},f70a:function(t,e,s){"use strict";s("d3b7"),s("caad");e["a"]={methods:{insertData:function(t,e){var s=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.validate,n=void 0===a||a,r=i.clearForm,o=void 0===r||r,l=arguments.length>3?arguments[3]:void 0;return new Promise((function(i,a){!s.loading&&t&&(s.clearErrors(),s.$validator.validateAll().then((function(r){n||(r=!0),r&&(s.loading=!0,s.$http.post(t,e,l||{}).then((function(t){s.clearErrors(),o&&(s.formValues={}),s.crud.addAnother||s.$emit("create"),s.crud.message&&setTimeout((function(){s.notifyUser(s.crud.message)}),1e3),i(t),s.loading=!1})).catch((function(t){s.pushErrors(t),s.notifyInvalidFormResponse(),a(t),s.loading=!1})))})))}))},patchData:function(t,e){var s=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.validate,n=void 0===a||a,r=i.clearForm,o=void 0===r||r,l=arguments.length>3?arguments[3]:void 0;return new Promise((function(i,a){s.updateData(t,e,{validate:n,clearForm:o},"patch",l).then((function(t){i(t)})).catch((function(t){a(t)}))}))},putData:function(t,e){var s=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.validate,n=void 0===a||a,r=i.clearForm,o=void 0===r||r,l=arguments.length>3?arguments[3]:void 0;return new Promise((function(i,a){s.updateData(t,e,{validate:n,clearForm:o},"put",l).then((function(t){i(t)})).catch((function(t){a(t)}))}))},updateData:function(t,e){var s=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.validate,n=void 0===a||a,r=i.clearForm,o=void 0===r||r,l=arguments.length>3?arguments[3]:void 0,c=arguments.length>4?arguments[4]:void 0;return new Promise((function(i,a){!s.loading&&t&&["put","patch"].includes(l)&&(s.clearErrors(),s.$validator.validateAll().then((function(r){n||(r=!0),r&&(s.loading=!0,s.$http[l](t,e,c||{}).then((function(t){s.$emit("update"),s.clearErrors(),o&&(s.formValues={}),s.crud.message&&setTimeout((function(){s.notifyUser(s.crud.message)}),1e3),i(t),s.loading=!1})).catch((function(t){s.pushErrors(t),s.notifyInvalidFormResponse(),a(t),s.loading=!1})))})))}))},clearErrors:function(){this.clearNonFieldErrors(),this.$validator.errors.clear()}}}}}]);