(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-239672fd"],{b7a9:function(e,t,n){"use strict";t["a"]={getBank:"/commons/bank/",postBank:"/commons/bank/",updateBank:function(e){return"/commons/bank/".concat(e,"/")},deleteBank:function(e){return"/commons/bank/".concat(e,"/")}}},eb59:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("vue-card-title",{attrs:{title:"Bank Information",subtitle:"Bank Information of "+e.userName,icon:"mdi-file-document-outline"}},[n("template",{slot:"actions"},[e.showForm||e.getAuthStateUserId!==parseInt(e.$route.params.id)&&!e.verifyPermission(e.allPermissions.CAN_CREATE_UPDATE_USER_PROFILE)||"supervisor"===e.as||e.loading?e._e():n("v-btn",{attrs:{small:"",depressed:"",color:"primary"},on:{click:e.updateBankInfo}},[e._v(" "+e._s(e.$t("update"))+" ")]),e.showForm?n("v-btn",{attrs:{small:"",color:"primary",outlined:""},on:{click:function(t){return e.cancel()}}},[e._v(" Cancel ")]):e._e()],1)],2),n("v-divider"),n("v-card-text",[e.loading?n("v-row",e._l(6,(function(e){return n("v-col",{key:e,attrs:{cols:"4"}},[n("bullet-list-loader",{attrs:{"primary-color":"#eee","secondary-color":"#d5d5d7"}})],1)})),1):e._e(),e.showForm||e.loading?e._e():n("v-row",[n("v-col",{attrs:{md:"6",cols:"12"}},[n("v-list-item",[n("v-list-item-avatar",{staticClass:"mr-0"},[n("v-icon",{attrs:{small:""},domProps:{textContent:e._s("mdi-text-box-outline")}})],1),n("v-list-item-content",[n("v-list-item-title",{domProps:{textContent:e._s("Bank")}}),n("v-list-item-subtitle",{domProps:{textContent:e._s(e.getValue(e.bankInfo.bank.name))}})],1)],1)],1),n("v-col",{attrs:{md:"6",cols:"12"}},[n("v-list-item",[n("v-list-item-avatar",{staticClass:"mr-0"},[n("v-icon",{attrs:{small:""},domProps:{textContent:e._s("mdi-text-box-outline")}})],1),n("v-list-item-content",[n("v-list-item-title",{domProps:{textContent:e._s("Branch")}}),n("v-list-item-subtitle",{domProps:{textContent:e._s(e.getValue(e.bankInfo.branch))}})],1)],1)],1),n("v-col",{attrs:{md:"6",cols:"12"}},[n("v-list-item",[n("v-list-item-avatar",{staticClass:"mr-0"},[n("v-icon",{attrs:{small:""},domProps:{textContent:e._s("mdi-text-box-outline")}})],1),n("v-list-item-content",[n("v-list-item-title",{domProps:{textContent:e._s("Account Number")}}),n("v-list-item-subtitle",{domProps:{textContent:e._s(e.getValue(e.bankInfo.account_number))}})],1)],1)],1)],1),e.showForm?n("span",[n("bank-details-form",{attrs:{"user-id":e.userInfo.user.id,"export-fields":e.bankInfo,as:e.as},on:{updated:e.refresh}})],1):e._e()],1),n("vue-notify",{attrs:{notify:e.notify}})],1)},a=[],o=n("1da1"),s=(n("96cf"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-form",[n("v-container",{staticClass:"px-12"},[e.nonFieldErrors?n("non-field-form-errors",{attrs:{"non-field-errors":e.nonFieldErrors}}):e._e(),n("v-row",[n("v-col",{attrs:{md:"6",sm:"12"}},[n("vue-auto-complete",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"force-fetch":"",endpoint:e.bankEndpoint,"item-text":"name","item-value":"id","prepend-inner-icon":"mdi-text-box-outline"},model:{value:e.form.bank,callback:function(t){e.$set(e.form,"bank",t)},expression:"form.bank"}},"vue-auto-complete",e.veeValidate("bank","Bank Name *"),!1))],1),n("v-col",{attrs:{md:"6",sm:"12"}},[n("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"max:150",expression:"'max:150'"}],attrs:{counter:150,"prepend-inner-icon":"mdi-text-box-outline"},model:{value:e.form.branch,callback:function(t){e.$set(e.form,"branch",t)},expression:"form.branch"}},"v-text-field",e.veeValidate("branch","Branch Name"),!1))],1),n("v-col",{attrs:{md:"6",sm:"12"}},[n("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required|max:150",expression:"'required|max:150'"}],attrs:{counter:150,"prepend-inner-icon":"mdi-text-box-outline"},model:{value:e.form.account_number,callback:function(t){e.$set(e.form,"account_number",t)},expression:"form.account_number"}},"v-text-field",e.veeValidate("account_number","Account Number*"),!1))],1)],1)],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{disabled:e.errors.any(),depressed:"",color:"primary"},on:{click:e.editItem}},[e._v(" Save ")]),n("v-btn",{on:{click:e.clear}},[e._v(" Clear ")])],1)],1)}),i=[],l=(n("a9e3"),n("c44a")),c=n("ab8a"),u={getUserBankInfo:function(e){return"/users/".concat(e,"/bank/")}},m=n("b7a9"),d=n("5660"),f={components:{VueAutoComplete:d["default"],NonFieldFormErrors:c["default"]},mixins:[l["a"]],props:{userId:{type:Number,required:!0},exportFields:{type:Object,required:!0},as:{type:String,default:""}},data:function(){return{bankEndpoint:m["a"].getBank,form:this.exportFields}},watch:{exportFields:function(e){this.form=e,this.clearNonFieldErrors(),this.$validator.errors.clear()}},created:function(){this.form.bank=this.form.bank.id},methods:{clear:function(){this.form={},this.$validator.errors.clear()},editItem:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.validateAllFields();case 2:if(!t.sent){t.next=4;break}e.$http.put(u.getUserBankInfo(e.$route.params.id)+"?as=".concat(e.as),e.form).then((function(){e.verifyPermission(e.allPermissions.CAN_CREATE_UPDATE_USER_PROFILE)&&e.$route.params.slug?(e.notifyUser("Successfully updated Bank Information","green"),e.$emit("updated")):(e.notifyUser("Profile Change request has been sent","green"),e.$router.push({name:"user-profile-change-request"}))})).catch((function(t){e.notifyInvalidFormResponse(),e.pushErrors(t)}));case 4:case"end":return t.stop()}}),t)})))()}}},v=f,p=n("2877"),b=n("6544"),h=n.n(b),k=n("8336"),x=n("99d9"),_=n("62ad"),I=n("a523"),g=n("ce7e"),w=n("4bd4"),V=n("0fd9b"),C=n("2fa4"),B=n("8654"),F=Object(p["a"])(v,s,i,!1,null,null,null),y=F.exports;h()(F,{VBtn:k["a"],VCardActions:x["a"],VCol:_["a"],VContainer:I["a"],VDivider:g["a"],VForm:w["a"],VRow:V["a"],VSpacer:C["a"],VTextField:B["a"]});var E=n("e330"),P={components:{BankDetailsForm:y,BulletListLoader:E["a"]},props:{userInfo:{type:Object,required:!0},as:{type:String,default:""}},data:function(){return{notify:{},bankInfo:{},loading:!1,showForm:!1}},computed:{userName:function(){return this.userInfo.user.first_name+" "+this.userInfo.user.middle_name+" "+this.userInfo.user.last_name}},created:function(){this.getUserBankInfo()},methods:{getUserBankInfo:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.$http.get(u.getUserBankInfo(e.$route.params.id)+"?as=".concat(e.as)).then((function(t){e.bankInfo=t,e.loading=!1}));case 3:case"end":return t.stop()}}),t)})))()},refresh:function(){this.getUserBankInfo(),this.showForm=!1},cancel:function(){this.getUserBankInfo(),this.showForm=!1},updateBankInfo:function(){this.showForm=!0},getValue:function(e){return e||"N/A"}}},$=P,N=n("b0af"),A=n("132d"),U=n("da13"),R=n("8270"),q=n("5d23"),L=Object(p["a"])($,r,a,!1,null,null,null);t["default"]=L.exports;h()(L,{VBtn:k["a"],VCard:N["a"],VCardText:x["c"],VCol:_["a"],VDivider:g["a"],VIcon:A["a"],VListItem:U["a"],VListItemAvatar:R["a"],VListItemContent:q["a"],VListItemSubtitle:q["b"],VListItemTitle:q["c"],VRow:V["a"]})}}]);