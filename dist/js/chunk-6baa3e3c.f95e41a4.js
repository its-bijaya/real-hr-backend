(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6baa3e3c"],{5877:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("vue-card-title",{attrs:{title:t.headingName,subtitle:"-",icon:"mdi-file-document-outline",dark:"",closable:""},on:{close:function(e){return t.$emit("close")}}}),a("v-divider"),a("v-data-table",{attrs:{headers:t.headers,items:t.tableData,loading:t.loading,"sort-desc":t.pagination.descending,"sort-by":t.pagination.sortBy,page:t.pagination.page,"items-per-page":t.pagination.rowsPerPage,"footer-props":{itemsPerPageOptions:[5]},"server-items-length":t.pagination.totalItems,dense:"","must-sort":""},on:{"update:sortDesc":function(e){return t.$set(t.pagination,"descending",e)},"update:sort-desc":function(e){return t.$set(t.pagination,"descending",e)},"update:sortBy":function(e){return t.$set(t.pagination,"sortBy",e)},"update:sort-by":function(e){return t.$set(t.pagination,"sortBy",e)},"update:page":function(e){return t.$set(t.pagination,"page",e)},"update:itemsPerPage":function(e){return t.$set(t.pagination,"rowsPerPage",e)},"update:items-per-page":function(e){return t.$set(t.pagination,"rowsPerPage",e)}},scopedSlots:t._u([{key:"item",fn:function(e){return[a("tr",[a("td",{domProps:{textContent:t._s(e.item.from_date)}}),a("td",{domProps:{textContent:t._s(e.item.to_date)}}),a("td",{staticClass:"text-right",domProps:{textContent:t._s(t.formatCurrency(e.item.amount))}}),a("td"),a("td"),a("td")])]}}])},[a("template",{slot:"no-data"},[a("data-table-no-data",{attrs:{loading:t.loading}})],1)],2)],1)},i=[],r=a("5530"),s=(a("a9e3"),a("99af"),a("d3b7"),a("d81d"),a("17cc")),o=a("cf45"),l=a("a51f"),c=a("2f62"),d={components:{DataTableNoData:l["default"]},mixins:[s["a"]],props:{payslipId:{type:[Number,String],required:!0},rate:{type:Number,default:null},headingId:{type:[Number,String],required:!0},userId:{type:[Number,String],required:!0},headingName:{type:String,required:!0},as:{type:String,required:!0}},data:function(){return{tableData:[],htmlTitle:"Salary Tax | Payroll",breadCrumbItems:[{text:"Payroll",disabled:!0},{text:"Salary Tax",disabled:!0}],headers:[{text:"From Date",sortable:!1},{text:"To Date",sortable:!1}],loading:!0}},computed:Object(r["a"])({},Object(c["c"])({orgSlug:"organization/getOrganizationSlug"})),created:function(){var t;this.pagination.sortBy="from_date",(t=this.headers).push.apply(t,[{text:this.headingName,sortable:!1,align:"right",width:"20%"},{sortable:!1},{sortable:!1},{sortable:!1}])},methods:{formatCurrency:o["d"],fetchDataTable:function(){var t=this;this.loading=!0;var e="/payroll/employees/".concat(this.userId,"/payslip/").concat(this.payslipId,"/ytd/").concat(this.headingId,"/?organization_slug=").concat(this.orgSlug,"&as=").concat(this.as);this.$http.get(e,{params:this.fullParams}).then((function(e){t.loadDataTable(e),t.rate?t.tableData=e.results.map((function(e){return Object(r["a"])(Object(r["a"])({},e),{},{amount:t.rate*e.amount})})):t.tableData=e.results})).finally((function(){t.loading=!1}))}}},u=d,p=a("2877"),g=a("6544"),m=a.n(g),h=a("b0af"),f=a("8fea"),y=a("ce7e"),b=Object(p["a"])(u,n,i,!1,null,null,null);e["a"]=b.exports;m()(b,{VCard:h["a"],VDataTable:f["a"],VDivider:y["a"]})},"5b3b":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("vue-card-title",{attrs:{title:"Payslip Details",subtitle:"",icon:"mdi-file-document-outline",dark:""}},[a("template",{slot:"actions"},[a("v-icon",{attrs:{color:"white",small:""},domProps:{textContent:t._s("mdi-close")},on:{click:function(e){return t.$emit("close")}}})],1)],2),a("v-divider"),t.showExchangeRate?a("v-divider"):t._e(),a("div",{staticClass:"scrollbar-thin",style:"height: calc(100vh - "+(t.showExchangeRate?"178px":"107px")+");"},[a("v-card-text",{staticClass:"py-2"},[a("v-row",{attrs:{justify:"center"}},[a("v-col",{staticClass:"py-0",attrs:{cols:"3"}}),a("v-col",{staticClass:"py-0",attrs:{cols:"6"}},[a(t.templateMap["Template 2"],{tag:"component",attrs:{"payroll-details":t.payrollDetails,loading:t.loading,"salary-tax":t.salaryTax},on:{"display-tax":function(e){return t.displayTax(e)}}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"3"}})],1)],1)],1)],1)},i=[],r=a("5530"),s=(a("d3b7"),a("3ca3"),a("ddb0"),a("a9e3"),a("caad"),a("2532"),a("07ac"),a("99af"),a("2f62")),o=a("8b61"),l=a("a09e"),c=a("5877"),d=a("d242"),u={components:{SalaryTax:c["a"],TemplateOne:function(){return a.e("chunk-90fae210").then(a.bind(null,"5b93"))},TemplateTwo:function(){return a.e("chunk-081d92ce").then(a.bind(null,"6d16"))}},mixins:[o["a"],l["a"],d["a"]],props:{incentiveId:{type:[Number,String],default:""},userId:{type:[Number,String],default:""},as:{type:String,required:!0},selectedTemplate:{type:String,required:!0}},data:function(){return{headers:[{text:"Heading Name",value:"heading",align:"left",sortable:!1},{text:"Current value per heading",value:"current_amount",align:"left",sortable:!1},{text:"Total Increment",value:"total",align:"left",sortable:!1}],status:"Acknowledged",reports:[],salaryTax:{display:!1,actionData:{}},formValues:{from:null,to:null},payrollDetails:{},loading:!1,showExchangeRate:!1,crud:{name:"PaySlip",endpoint:{common:""}},rate:null,templateMap:{"Template 1":"TemplateOne","Template 2":"TemplateTwo"}}},computed:Object(r["a"])({},Object(s["c"])({orgSlug:"organization/getOrganizationSlug",getAppView:"common/getAppView"})),watch:{payrollId:function(){this.fetchPayrollDetails()},formValues:{handler:function(t){(Object.values(t).includes("")||Object.values(t).includes("0"))&&(this.rate=null)},deep:!0}},created:function(){this.fetchPayrollDetails(),this.crud.endpoint.common="/payroll/employees/".concat(this.getAuthStateUserId,"/payslip/").concat(this.incentiveId,"/acknowledge/?as=").concat(this.as)},methods:{fetchPayrollDetails:function(){var t=this;this.loading||(this.loading=!0,this.$http.get("/payroll/".concat(this.orgSlug,"/employees/").concat(this.userId,"/incentive-payslip/").concat(this.incentiveId,"/?&as=").concat(this.as)).then((function(e){t.payrollDetails=e})).finally((function(){t.loading=!1})))},getFormValues:function(){var t={acknowledgement_status:this.status};return this.crud.message="Successfully Acknowledge this payroll.",t},processAfterInsert:function(){this.fetchPayrollDetails(),this.status="Acknowledged",this.$validator.errors.clear()},displayTax:function(t){this.salaryTax.display=!0,this.salaryTax.actionData=t}}},p=u,g=a("2877"),m=a("6544"),h=a.n(m),f=a("b0af"),y=a("99d9"),b=a("62ad"),v=a("ce7e"),x=a("132d"),T=a("0fd9b"),w=Object(g["a"])(p,n,i,!1,null,null,null);e["default"]=w.exports;h()(w,{VCard:f["a"],VCardText:y["c"],VCol:b["a"],VDivider:v["a"],VIcon:x["a"],VRow:T["a"]})}}]);