(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5d3b91b2","chunk-c549ca18"],{"11a5":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-form",{ref:"changeTypeForm",on:{submit:function(t){return t.preventDefault(),e.getFormAction.apply(null,arguments)}}},[a("v-card",[e.showTitle?a("vue-card-title",{attrs:{title:e.actionData.title.length>0?"Update Review Type":"Create Review Type",subtitle:e.actionData.title.length>0?"Here you can update this review type":"Here you can create a new review type",icon:"mdi-file-document-outline",closable:""},on:{close:function(t){return e.$emit("dismissForm")}}}):e._e(),a("v-card-text",{staticClass:"scrollbar-md"},[a("v-container",{staticClass:"px-12"},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[e.nonFieldErrors?a("non-field-form-errors",{attrs:{"non-field-errors":e.nonFieldErrors}}):e._e()],1),a("v-col",{attrs:{md:"7",cols:"12"}},[a("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required|max:150",expression:"'required|max:150'"}],attrs:{readonly:e.viewMode,counter:150,"prepend-inner-icon":"mdi-file-document-outline"},model:{value:e.formValues.title,callback:function(t){e.$set(e.formValues,"title",t)},expression:"formValues.title"}},"v-text-field",e.veeValidate("name","Name *"),!1)),a("v-select",e._b({directives:[{name:"validate",rawName:"v-validate",value:"",expression:"''"}],attrs:{items:e.visibilityChoices,readonly:e.viewMode,"prepend-inner-icon":"mdi-eye","item-text":"display_name","item-value":"value"},model:{value:e.formValues.badge_visibility,callback:function(t){e.$set(e.formValues,"badge_visibility",t)},expression:"formValues.badge_visibility"}},"v-select",e.veeValidate("badge_visibility","Badge Visibility"),!1))],1),a("v-col",{attrs:{md:"5",cols:"12"}},[a("div",[a("v-icon",{domProps:{textContent:e._s("mdi-calendar-check-outline")}}),e._v(" Checklists ")],1),a("v-checkbox",{attrs:{readonly:"",label:"Employment Experience","hide-details":""},model:{value:e.formValues.affects_experience,callback:function(t){e.$set(e.formValues,"affects_experience",t)},expression:"formValues.affects_experience"}}),a("v-checkbox",{attrs:{readonly:e.viewMode,label:"Payroll","hide-details":""},model:{value:e.formValues.affects_payroll,callback:function(t){e.$set(e.formValues,"affects_payroll",t)},expression:"formValues.affects_payroll"}}),a("v-checkbox",{attrs:{readonly:e.viewMode,label:"Work Shift","hide-details":""},model:{value:e.formValues.affects_work_shift,callback:function(t){e.$set(e.formValues,"affects_work_shift",t)},expression:"formValues.affects_work_shift"}}),a("v-checkbox",{attrs:{readonly:e.viewMode,label:"Core Tasks","hide-details":""},model:{value:e.formValues.affects_core_tasks,callback:function(t){e.$set(e.formValues,"affects_core_tasks",t)},expression:"formValues.affects_core_tasks"}}),a("v-checkbox",{attrs:{readonly:e.viewMode,label:"Leave Balance","hide-details":""},model:{value:e.formValues.affects_leave_balance,callback:function(t){e.$set(e.formValues,"affects_leave_balance",t)},expression:"formValues.affects_leave_balance"}})],1)],1)],1)],1),a("v-divider"),e.viewMode?e._e():a("form-submit",{attrs:{"form-errors":e.errors.any(),"delete-instance":e.deleteChangeType},on:{clearForm:e.clearForm}})],1)],1)},n=[],i=a("53ca"),o=a("1da1"),s=(a("96cf"),a("f12b")),l=a("878b"),c=a("99d6"),u={components:{FormSubmit:l["a"]},mixins:[s["a"]],props:{actionData:{type:Object,required:!1,default:function(){return{title:"",affects_experience:!0,affects_payroll:!1,affects_work_shift:!1,affects_core_tasks:!1,affects_leave_balance:!1,badge_visibility:"n"}}},orgSlug:{type:String,required:!0},deleteChangeType:{type:Boolean,default:!1},viewMode:{type:Boolean,default:!1},showTitle:{type:Boolean,default:!1}},data:function(){return{formValues:this.actionData,visibilityChoices:[{value:"n",display_name:"Hide from Directory and Employee List"},{value:"b",display_name:"Show in Directory and Employee List"},{value:"d",display_name:"Show in Directory Only"},{value:"l",display_name:"Show in Employee List Only"}]}},created:function(){this.deleteChangeType&&this.getFormAction()},methods:{getFormAction:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.validateAllFields();case 2:if(!t.sent){t.next=6;break}if(!e.deleteChangeType){t.next=5;break}return t.abrupt("return",e.deleteChangeTypeItem());case 5:return t.abrupt("return",e.formValues.slug?e.updateChangeType():e.createChangeType());case 6:case"end":return t.stop()}}),t)})))()},createChangeType:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.crud.message="Successfully created Change Type",t.next=3,e.insertData(c["a"].postChangeType(e.orgSlug),e.formValues).then((function(t){e.$emit("dismissForm",t,"change_type")}));case 3:case"end":return t.stop()}}),t)})))()},updateChangeType:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return"object"===Object(i["a"])(e.formValues.badge_visibility)&&(e.formValues.badge_visibility=e.formValues.badge_visibility.value),t.next=3,e;case 3:e.crud.message="Successfully updated Change Type",e.putData(c["a"].updateChangeType(e.orgSlug,e.actionData.slug),e.formValues).then((function(){e.$emit("dismissForm")}));case 5:case"end":return t.stop()}}),t)})))()},deleteChangeTypeItem:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.crud.message="Successfully Deleted Change Type",t.next=3,e.deleteData(c["a"].deleteChangeType(e.orgSlug,e.actionData.slug)).then((function(){e.$emit("dismissForm"),e.$emit("refresh")}));case 3:case"end":return t.stop()}}),t)})))()},clearForm:function(){this.errors.clear(),this.formValues.affects_experience=!0,this.formValues.title="",this.formValues.affects_payroll=!1,this.formValues.affects_work_shift=!1,this.formValues.affects_core_tasks=!1,this.formValues.affects_leave_balance=!1,this.clearNonFieldErrors()}}},d=u,f=a("2877"),m=a("6544"),p=a.n(m),v=a("b0af"),h=a("99d9"),y=a("ac7c"),b=a("62ad"),g=a("a523"),_=a("ce7e"),V=a("4bd4"),w=a("132d"),x=a("0fd9b"),k=a("b974"),C=a("8654"),T=Object(f["a"])(d,r,n,!1,null,null,null);t["default"]=T.exports;p()(T,{VCard:v["a"],VCardText:h["c"],VCheckbox:y["a"],VCol:b["a"],VContainer:g["a"],VDivider:_["a"],VForm:V["a"],VIcon:w["a"],VRow:x["a"],VSelect:k["a"],VTextField:C["a"]})},"6c6f":function(e,t,a){"use strict";a("d3b7");t["a"]={data:function(){return{deleteNotification:{dialog:!1,heading:"Confirm Delete",text:"Are you sure you want to delete ?"}}},methods:{deleteData:function(e,t){var a=this;return new Promise((function(r,n){!a.loading&&e&&(a.loading=!0,a.$http.delete(e,t||{}).then((function(e){a.crud.message&&setTimeout((function(){a.notifyUser(a.crud.message)}),1e3),r(e),a.loading=!1})).catch((function(e){a.pushErrors(e),a.notifyInvalidFormResponse(),n(e),a.loading=!1})).finally((function(){a.deleteNotification.dialog=!1})))}))}}}},"878b":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-card-actions",[a("v-spacer"),e.hideClear?e._e():a("v-btn",{attrs:{text:"",small:""},domProps:{textContent:e._s("Clear")},on:{click:function(t){return e.$emit("clearForm")}}}),a("v-btn",{attrs:{disabled:e.formErrors||e.disabled,color:e.deleteInstance?"red":"primary",depressed:"",small:"",loading:e.loading,type:"submit"}},[a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v(" mdi-content-save-outline ")]),e._v(" "+e._s(e.deleteInstance?"Delete":"Save")+" ")],1)],1)],1)},n=[],i={props:{hideClear:{type:Boolean,default:!1},formErrors:{type:Boolean,required:!0},disabled:{type:Boolean,default:!1},deleteInstance:{type:Boolean,required:!1,default:!1},loading:{type:Boolean,default:!1}}},o=i,s=a("2877"),l=a("6544"),c=a.n(l),u=a("8336"),d=a("99d9"),f=a("132d"),m=a("2fa4"),p=Object(s["a"])(o,r,n,!1,null,null,null);t["a"]=p.exports;c()(p,{VBtn:u["a"],VCardActions:d["a"],VIcon:f["a"],VSpacer:m["a"]})},"983c":function(e,t,a){"use strict";a("d3b7");t["a"]={methods:{getData:function(e,t,a){var r=this,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Promise((function(i,o){!r.loading&&e&&(r.clearNonFieldErrors(),r.$validator.errors.clear(),r.loading=n,r.$http.get(e,a||{params:t||{}}).then((function(e){i(e),r.loading=!1})).catch((function(e){r.pushErrors(e),r.notifyInvalidFormResponse(),o(e),r.loading=!1})))}))},getBlockingData:function(e,t,a){var r=this;return new Promise((function(n,i){r.getData(e,t,a,!0).then((function(e){n(e)})).catch((function(e){i(e)}))}))}}}},f12b:function(e,t,a){"use strict";var r=a("f0d5"),n=a("983c"),i=a("f70a"),o=a("6c6f");t["a"]={mixins:[r["a"],n["a"],i["a"],o["a"]]}}}]);