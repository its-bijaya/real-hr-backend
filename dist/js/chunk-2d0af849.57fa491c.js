(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0af849"],{"0f52":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",[r("vue-card-title",{attrs:{title:"Volunteer Experience",subtitle:"Volunteer Experience of "+e.userName,icon:"mdi-file-document-outline"}},[r("template",{slot:"actions"},[e.showForm||e.getAuthStateUserId!==parseInt(e.$route.params.id)&&!e.verifyPermission(e.allPermissions.CAN_CREATE_UPDATE_USER_PROFILE)||e.loading?e._e():r("v-btn",{attrs:{small:"",color:"primary",depressed:""},on:{click:e.createVolunteerDetails}},[e._v(" "+e._s(e.$t("createNew"))+" ")]),e.showForm?r("v-btn",{attrs:{small:"",outlined:"",color:"primary"},on:{click:e.refresh}},[e._v(" Cancel ")]):e._e()],1)],2),r("v-divider"),r("v-card-text",[e.loading?r("v-row",e._l(6,(function(e){return r("v-col",{key:e,attrs:{cols:"6"}},[r("bullet-list-loader",{attrs:{"primary-color":"#eee","secondary-color":"#d5d5d7"}})],1)})),1):e._e(),e.volunteerDetails.length<1&&!e.showForm&&!e.loading?r("vue-no-data"):e._e(),0===e.volunteerDetails.length||e.showForm||e.getAuthStateUserId!==parseInt(e.$route.params.id)&&!e.verifyPermission(e.allPermissions.CAN_CREATE_UPDATE_USER_PROFILE)||"supervisor"===e.as?e._e():r("v-col",[r("v-timeline",{attrs:{"align-top":"",dense:""}},e._l(e.volunteerDetails,(function(t,n){return r("v-timeline-item",{key:n,attrs:{color:e.colors[n%4],small:""}},[r("v-hover",{scopedSlots:e._u([{key:"default",fn:function(a){var s=a.hover;return r("v-row",{},[r("v-icon",{attrs:{left:""},domProps:{textContent:e._s("mdi-hand-heart")}}),r("div",[r("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(a){var i=a.on;return[r("div",e._g({},i),[r("span",{domProps:{textContent:e._s(t.title)}}),t.currently_volunteering?r("span",{domProps:{textContent:e._s("( Currently Volunteering )")}}):e._e(),0!==n?r("span",[n===e.showDetails?r("v-icon",{domProps:{textContent:e._s("mdi-menu-up")},on:{click:function(t){e.showDetails=null}}}):r("v-icon",{domProps:{textContent:e._s("mdi-menu-down")},on:{click:function(t){e.showDetails=n}}})],1):e._e(),s&&(e.getAuthStateUserId===parseInt(e.$route.params.id)||e.verifyPermission(e.allPermissions.CAN_CREATE_UPDATE_USER_PROFILE))&&"supervisor"!==e.as?r("v-icon",{staticClass:"float-right mx-2",attrs:{small:""},domProps:{textContent:e._s("mdi-delete")},on:{click:function(r){return e.deleteVolunteerDetails(t)}}}):e._e(),s&&(e.getAuthStateUserId===parseInt(e.$route.params.id)||e.verifyPermission(e.allPermissions.CAN_CREATE_UPDATE_USER_PROFILE))&&"supervisor"!==e.as?r("v-icon",{staticClass:"float-right mx-2",attrs:{small:""},domProps:{textContent:e._s("mdi-pencil")},on:{click:function(r){return e.editVolunteerDetails(t)}}}):e._e()],1)]}}],null,!0)},[r("span",{domProps:{textContent:e._s(t.title)}})])],1)],1)}}],null,!0)}),r("v-slide-y-transition",[e.showDetails===n||0===n?r("volunteer-details",{attrs:{details:t}}):e._e()],1)],1)})),1)],1),r("span",{directives:[{name:"show",rawName:"v-show",value:e.showForm,expression:"showForm"}]},[r("volunteer-details-form",{attrs:{"user-id":e.userInfo.user.id,"export-fields":e.currentItem,as:e.as},on:{created:e.refresh,updated:e.refresh}})],1)],1),r("vue-notify",{attrs:{notify:e.notify}}),r("vue-dialog",{attrs:{notify:e.deleteDialog},on:{close:function(t){e.deleteDialog.dialog=!1},agree:e.deleteVolunteerRecord},model:{value:e.deleteDialog.dialog,callback:function(t){e.$set(e.deleteDialog,"dialog",t)},expression:"deleteDialog.dialog"}})],1)},a=[],s=r("1da1"),i=(r("96cf"),r("c44a")),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-col",[r("v-row",[r("v-col",{attrs:{md:"6",sm:"12"}},[r("v-list-item",[r("v-list-item-avatar",{staticClass:"mr-0"},[r("v-icon",{attrs:{small:""},domProps:{textContent:e._s("mdi-domain")}})],1),r("v-list-item-content",[r("v-list-item-title",{domProps:{textContent:e._s("Organization")}}),r("v-list-item-subtitle",{domProps:{textContent:e._s(e.details.organization)}})],1)],1)],1),r("v-col",{attrs:{md:"6",sm:"12"}},[r("v-list-item",[r("v-list-item-avatar",{staticClass:"mr-0"},[r("v-icon",{attrs:{small:""},domProps:{textContent:e._s("mdi-handshake")}})],1),r("v-list-item-content",[r("v-list-item-title",{domProps:{textContent:e._s("Role")}}),r("v-list-item-subtitle",{domProps:{textContent:e._s(e.details.role)}})],1)],1)],1),r("v-col",{attrs:{md:"6",sm:"12"}},[r("v-list-item",[r("v-list-item-avatar",{staticClass:"mr-0"},[r("v-icon",{attrs:{small:""},domProps:{textContent:e._s("mdi-file-document-outline")}})],1),r("v-list-item-content",[r("v-list-item-title",{domProps:{textContent:e._s("Cause")}}),r("v-list-item-subtitle",{domProps:{textContent:e._s(e.details.cause)}})],1)],1)],1),r("v-col",{attrs:{md:"6",sm:"12"}},[r("v-list-item",[r("v-list-item-avatar",{staticClass:"mr-0"},[r("v-icon",{attrs:{small:""},domProps:{textContent:e._s("mdi-calendar-month-outline")}})],1),r("v-list-item-content",[r("v-list-item-title",{domProps:{textContent:e._s("Duration")}}),r("v-list-item-subtitle",[e._v(" "+e._s(e.details.start_date)+" "),e.details.currently_volunteering?e._e():r("span",{domProps:{textContent:e._s("- "+e.details.end_date)}})])],1)],1)],1),r("v-col",{attrs:{md:"6",sm:"12"}},[r("v-list-item",[r("v-list-item-avatar",{staticClass:"mr-0"},[r("v-icon",{attrs:{small:""},domProps:{textContent:e._s("mdi-information-outline")}})],1),r("v-list-item-content",[r("v-list-item-title",{domProps:{textContent:e._s("Description")}}),r("v-list-item-subtitle",{domProps:{textContent:e._s(e.details.description)}})],1)],1)],1)],1)],1)},l=[],u={props:{details:{type:Object,default:null}}},d=u,c=r("2877"),m=r("6544"),v=r.n(m),p=r("62ad"),f=r("132d"),h=r("da13"),_=r("8270"),x=r("5d23"),V=r("0fd9b"),g=Object(c["a"])(d,o,l,!1,null,null,null),b=g.exports;v()(g,{VCol:p["a"],VIcon:f["a"],VListItem:h["a"],VListItemAvatar:_["a"],VListItemContent:x["a"],VListItemSubtitle:x["b"],VListItemTitle:x["c"],VRow:V["a"]});var y=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-form",[r("v-container",{staticClass:"px-12"},[e.nonFieldErrors?r("non-field-form-errors",{attrs:{"non-field-errors":e.nonFieldErrors}}):e._e(),r("v-row",{attrs:{align:"center"}},[r("v-col",{attrs:{md:"6",sm:"12"}},[r("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required|max:150",expression:"'required|max:150'"}],attrs:{counter:150,"prepend-inner-icon":"mdi-file-document-outline"},model:{value:e.formValues.title,callback:function(t){e.$set(e.formValues,"title",t)},expression:"formValues.title"}},"v-text-field",e.veeValidate("title","Title *"),!1))],1),r("v-col",{attrs:{md:"6",sm:"12"}},[r("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required|max:150",expression:"'required|max:150'"}],attrs:{counter:150,"prepend-inner-icon":"mdi-handshake"},model:{value:e.formValues.role,callback:function(t){e.$set(e.formValues,"role",t)},expression:"formValues.role"}},"v-text-field",e.veeValidate("role","Role *"),!1))],1),r("v-col",{attrs:{md:"6",sm:"12"}},[r("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required|max:150",expression:"'required|max:150'"}],attrs:{counter:150,"prepend-inner-icon":"mdi-file-document-outline"},model:{value:e.formValues.cause,callback:function(t){e.$set(e.formValues,"cause",t)},expression:"formValues.cause"}},"v-text-field",e.veeValidate("cause","Cause *"),!1))],1),r("v-col",{attrs:{md:"6",sm:"12"}},[r("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required|max:150",expression:"'required|max:150'"}],attrs:{counter:150,"prepend-inner-icon":"mdi-domain"},model:{value:e.formValues.organization,callback:function(t){e.$set(e.formValues,"organization",t)},expression:"formValues.organization"}},"v-text-field",e.veeValidate("organization","Organization *"),!1))],1),r("v-col",{attrs:{md:"6",sm:"12"}},[r("vue-date-picker",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],model:{value:e.formValues.start_date,callback:function(t){e.$set(e.formValues,"start_date",t)},expression:"formValues.start_date"}},"vue-date-picker",e.veeValidate("start_date","Start Date *"),!1))],1),r("v-col",{attrs:{md:"6",sm:"12"}},[e.formValues.currently_volunteering?e._e():r("vue-date-picker",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],model:{value:e.formValues.end_date,callback:function(t){e.$set(e.formValues,"end_date",t)},expression:"formValues.end_date"}},"vue-date-picker",e.veeValidate("end_date","End Date *"),!1))],1),r("v-col",{attrs:{md:"6",sm:"12"}},[r("v-textarea",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required|max:2500",expression:"'required|max:2500'"}],attrs:{counter:2500,"prepend-inner-icon":"mdi-information-outline"},model:{value:e.formValues.description,callback:function(t){e.$set(e.formValues,"description",t)},expression:"formValues.description"}},"v-textarea",e.veeValidate("description","Description *"),!1))],1),r("v-col",{attrs:{cols:"6"}},[r("v-checkbox",e._b({on:{change:function(t){e.formValues.end_date=null}},model:{value:e.formValues.currently_volunteering,callback:function(t){e.$set(e.formValues,"currently_volunteering",t)},expression:"formValues.currently_volunteering"}},"v-checkbox",e.veeValidate("currently_volunteering","Is Currently Volunteering"),!1))],1)],1)],1),r("v-divider"),r("v-card-actions",[r("v-spacer"),e.editable?e._e():r("v-btn",{attrs:{disabled:e.errors.any(),depressed:"","data-cy":"btn-save-and-add-another",color:"primary"},on:{click:e.addAnother}},[e._v(" Save and Add Another ")]),e.editable?r("v-btn",{attrs:{disabled:e.errors.any(),depressed:"","data-cy":"btn-save",color:"primary"},on:{click:e.editItem}},[e._v(" Update ")]):r("v-btn",{attrs:{disabled:e.errors.any(),depressed:"","data-cy":"btn-save",color:"primary"},on:{click:e.createItem}},[e._v(" Save ")]),r("v-btn",{attrs:{depressed:""},on:{click:e.clear}},[e._v(" Clear ")])],1)],1)},C=[],E=(r("a9e3"),r("d3b7"),r("ab8a")),w=r("741f"),P=(r("99af"),{getVolunteerExperiences:function(e){return"/users/".concat(e,"/volunteer-experience/")},postVolunteerExperience:function(e){return"/users/".concat(e,"/volunteer-experience/")},getVolunteerDetail:function(e,t){return"/users/".concat(e,"/volunteer-experience/").concat(t,"/")},updateVolunteerDetail:function(e,t){return"/users/".concat(e,"/volunteer-experience/").concat(t,"/")},deleteVolunteerExperience:function(e,t){return"/users/".concat(e,"/volunteer-experience/").concat(t,"/")}}),D={components:{NonFieldFormErrors:E["default"],VueDatePicker:w["default"]},mixins:[i["a"]],props:{userId:{type:Number,required:!0},exportFields:{type:Object,required:!0,default:function(){return{title:"",organization:"",responsibility:"",division:"",employment_level:"",employment_status:"",job_location:"",from_year:"",to_year:"",saveAndAddAnother:!1}}},as:{type:String,default:""}},data:function(){return{fromMenu:!1,toMenu:!1,formValues:this.exportFields,editable:!1}},watch:{exportFields:function(e){this.formValues=e,this.clearNonFieldErrors(),this.$validator.errors.clear(),this.editable=!!e.slug}},methods:{clear:function(){this.formValues={},this.$validator.errors.clear()},createItem:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.validateAllFields();case 2:if(!t.sent){t.next=4;break}e.$http.post(P.postVolunteerExperience(e.$route.params.id)+"?as=".concat(e.as),e.formValues).then((function(t){e.verifyPermission(e.allPermissions.CAN_CREATE_UPDATE_USER_PROFILE)&&e.$route.params.slug?(e.notifyUser("Successfully created Volunteer Experience","green"),e.saveAndAddAnother?e.clear():e.$emit("created",t)):(e.notifyUser("Profile Change request has been sent","green"),e.saveAndAddAnother?e.clear(e.formValues):e.$router.push({name:"user-profile-change-request"}))})).catch((function(t){e.notifyInvalidFormResponse(),e.pushErrors(t)})).finally((function(){e.saveAndAddAnother=!1}));case 4:case"end":return t.stop()}}),t)})))()},addAnother:function(){this.saveAndAddAnother=!0,this.createItem()},editItem:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.validateAllFields();case 2:if(!t.sent){t.next=4;break}e.$http.put(P.updateVolunteerDetail(e.$route.params.id,e.exportFields.slug)+"?as=".concat(e.as),e.formValues).then((function(){e.verifyPermission(e.allPermissions.CAN_CREATE_UPDATE_USER_PROFILE)&&e.$route.params.slug?(e.notifyUser("Successfully updated Volunteer Experience","green"),e.$emit("updated")):(e.notifyUser("Profile Change request has been sent","green"),e.$router.push({name:"user-profile-change-request"}))})).catch((function(t){e.notifyInvalidFormResponse(),e.pushErrors(t)}));case 4:case"end":return t.stop()}}),t)})))()}}},A=D,I=r("8336"),k=r("99d9"),R=r("ac7c"),$=r("a523"),F=r("ce7e"),U=r("4bd4"),S=r("2fa4"),q=r("8654"),T=r("a844"),N=Object(c["a"])(A,y,C,!1,null,null,null),O=N.exports;v()(N,{VBtn:I["a"],VCardActions:k["a"],VCheckbox:R["a"],VCol:p["a"],VContainer:$["a"],VDivider:F["a"],VForm:U["a"],VRow:V["a"],VSpacer:S["a"],VTextField:q["a"],VTextarea:T["a"]});var L=r("e330"),j=r("e585"),z={components:{volunteerDetails:b,VolunteerDetailsForm:O,BulletListLoader:L["a"],VueNoData:j["default"]},mixins:[i["a"]],props:{userInfo:{type:Object,required:!0},as:{type:String,default:""}},data:function(){return{currentItem:{},showForm:!1,notify:{},showDetails:100,volunteerDetails:[],colors:["red","green","indigo","yellow"],deleteDialog:{dialog:!1,heading:"Confirm Delete",text:"Do you really want to delete this Volunteer information ?"},loading:!1}},computed:{userName:function(){return this.userInfo.user.first_name+" "+this.userInfo.user.middle_name+" "+this.userInfo.user.last_name}},mounted:function(){this.getUserVolunteerDetails()},methods:{getUserVolunteerDetails:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.loading=!0,e.$http.get(P.getVolunteerExperiences(e.$route.params.id)+"?as=".concat(e.as)).then((function(t){e.volunteerDetails=t.results,e.loading=!1}));case 2:case"end":return t.stop()}}),t)})))()},refresh:function(){this.getUserVolunteerDetails(),this.showForm=!1,this.deleteDialog.dialog=!1,this.currentItem={}},createVolunteerDetails:function(){this.showForm=!0,this.currentItem={}},editVolunteerDetails:function(e){this.currentItem=e,this.showForm=!0},deleteVolunteerDetails:function(e){this.currentItem=e,this.deleteDialog.dialog=!0},deleteVolunteerRecord:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$http.delete(P.deleteVolunteerExperience(e.$route.params.id,e.currentItem.slug)+"?as=".concat(e.as)).then((function(){e.verifyPermission(e.allPermissions.CAN_CREATE_UPDATE_USER_PROFILE)&&e.$route.params.slug?(e.notifyUser("Successfully deleted Volunteer Experience","green"),e.refresh()):(e.notifyUser("Profile Change request has been sent","green"),e.$router.push({name:"user-profile-change-request"}))})).catch((function(t){e.pushErrors(t);var r=e.nonFieldErrors[0]["non field errors"];e.notifyUser(r,"red"),e.refresh()}));case 1:case"end":return t.stop()}}),t)})))()}}},B=z,J=r("b0af"),M=r("ce87"),H=r("0789"),Y=r("8414"),G=r("1e06"),K=r("3a2f"),Q=Object(c["a"])(B,n,a,!1,null,null,null);t["default"]=Q.exports;v()(Q,{VBtn:I["a"],VCard:J["a"],VCardText:k["c"],VCol:p["a"],VDivider:F["a"],VHover:M["a"],VIcon:f["a"],VRow:V["a"],VSlideYTransition:H["g"],VTimeline:Y["a"],VTimelineItem:G["a"],VTooltip:K["a"]})}}]);