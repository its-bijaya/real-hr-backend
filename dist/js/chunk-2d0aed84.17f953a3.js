(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0aed84"],{"0c94":function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",[i("vue-card-title",{attrs:{title:"Social Activity",subtitle:"Social Activity of "+e.userName,icon:"mdi-file-document-outline"}},[i("template",{slot:"actions"},[e.showForm||e.getAuthStateUserId!==parseInt(e.$route.params.id)&&!e.verifyPermission(e.allPermissions.CAN_CREATE_UPDATE_USER_PROFILE)||"supervisor"===e.as||e.loading?e._e():i("v-btn",{attrs:{small:"",color:"primary",depressed:""},on:{click:e.createSocialActivitiesDetails}},[e._v(" "+e._s(e.$t("createNew"))+" ")]),e.showForm?i("v-btn",{attrs:{small:"",outlined:"",color:"primary"},on:{click:e.refresh}},[e._v(" Cancel ")]):e._e()],1)],2),i("v-divider"),i("v-card-text",[e.loading?i("v-row",e._l(6,(function(e){return i("v-col",{key:e,attrs:{cols:"4"}},[i("bullet-list-loader",{attrs:{"primary-color":"#eee","secondary-color":"#d5d5d7"}})],1)})),1):e._e(),e.socialActivities.length<1&&!e.showForm?i("vue-no-data"):e._e(),0===e.socialActivities.length||e.showForm||e.loading?e._e():i("v-row",e._l(e.socialActivities,(function(t,r){return i("v-col",{key:r,attrs:{cols:"12"}},[i("v-hover",{scopedSlots:e._u([{key:"default",fn:function(r){var a=r.hover;return i("v-col",{},[i("v-list-item",[i("v-list-item-avatar",{staticClass:"mr-0"},[i("v-icon",{attrs:{small:""},domProps:{textContent:e._s("mdi-file-document-outline")}})],1),i("v-list-item-content",[i("v-list-item-title",[i("span",{domProps:{textContent:e._s("Title")}}),a&&(e.getAuthStateUserId===parseInt(e.$route.params.id)||e.verifyPermission(e.allPermissions.CAN_CREATE_UPDATE_USER_PROFILE))&&"supervisor"!==e.as?i("v-icon",{staticClass:"float-right mx-2",attrs:{small:""},domProps:{textContent:e._s("mdi-delete")},on:{click:function(i){return e.deleteSocialActivities(t)}}}):e._e(),a&&(e.getAuthStateUserId===parseInt(e.$route.params.id)||e.verifyPermission(e.allPermissions.CAN_CREATE_UPDATE_USER_PROFILE))&&"supervisor"!==e.as?i("v-icon",{staticClass:"float-right mx-2",attrs:{small:""},domProps:{textContent:e._s("mdi-pencil")},on:{click:function(i){return e.editItem(t)}}}):e._e()],1),i("v-list-item-subtitle",[e._v(" "+e._s(t.title||"N/A")+" ")])],1)],1),i("v-list-item",[i("v-list-item-avatar",{staticClass:"mr-0"},[i("v-icon",{attrs:{small:""},domProps:{textContent:e._s("mdi-information-outline")}})],1),i("v-list-item-content",[i("v-list-item-title",{domProps:{textContent:e._s("Description")}}),i("v-list-item-subtitle",[e._v(" "+e._s(t.description||"N/A")+" ")])],1)],1)],1)}}],null,!0)}),r+1!==e.socialActivities.length?i("v-divider"):e._e()],1)})),1),i("span",{directives:[{name:"show",rawName:"v-show",value:e.showForm,expression:"showForm"}]},[i("social-activities-form",{attrs:{"user-id":e.userInfo.user.id,"export-fields":e.currentItem,as:e.as},on:{created:e.refresh,updated:e.refresh}})],1)],1),i("vue-notify",{attrs:{notify:e.notify}}),i("vue-dialog",{attrs:{notify:e.deleteDialog},on:{close:function(t){e.deleteDialog.dialog=!1},agree:e.deleteItem},model:{value:e.deleteDialog.dialog,callback:function(t){e.$set(e.deleteDialog,"dialog",t)},expression:"deleteDialog.dialog"}})],1)},a=[],s=i("1da1"),o=(i("96cf"),i("c44a")),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-form",[i("v-container",{staticClass:"px-12"},[e.nonFieldErrors?i("non-field-form-errors",{attrs:{"non-field-errors":e.nonFieldErrors}}):e._e(),i("v-row",[i("v-col",{attrs:{md:"6",sm:"12"}},[i("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required|max:255",expression:"'required|max:255'"}],attrs:{counter:150,"prepend-inner-icon":"mdi-file-document-outline"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}},"v-text-field",e.veeValidate("title","Title *"),!1))],1),i("v-col",{attrs:{cols:"12"}},[i("v-textarea",e._b({directives:[{name:"validate",rawName:"v-validate",value:"max:600",expression:"'max:600'"}],attrs:{counter:600,"prepend-inner-icon":"mdi-information-outline"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}},"v-textarea",e.veeValidate("description","Description"),!1))],1)],1)],1),i("v-divider"),i("v-card-actions",[i("v-spacer"),e.editable?e._e():i("v-btn",{attrs:{disabled:e.errors.any(),depressed:"","data-cy":"btn-save-and-add-another",color:"primary"},on:{click:e.addAnother}},[e._v(" Save and Add Another ")]),e.editable?i("v-btn",{attrs:{disabled:e.errors.any(),depressed:"","data-cy":"btn-save",color:"primary"},on:{click:e.editItem}},[e._v(" Save ")]):i("v-btn",{attrs:{disabled:e.errors.any(),depressed:"","data-cy":"btn-save",color:"primary"},on:{click:e.createItem}},[e._v(" Save ")]),i("v-btn",{attrs:{depressed:""},on:{click:e.clear}},[e._v(" Clear ")])],1)],1)},c=[],l=(i("a9e3"),i("d3b7"),i("ab8a")),d=(i("99af"),{getUserSocialActivity:function(e){return"/users/".concat(e,"/social-activity/")},postUserSocialActivity:function(e){return"/users/".concat(e,"/social-activity/")},getSocialActivityDetail:function(e,t){return"/users/".concat(e,"/social-activity/").concat(t,"/")},updateSocialActivityDetail:function(e,t){return"/users/".concat(e,"/social-activity/").concat(t,"/")},deleteUserSocialActivity:function(e,t){return"/users/".concat(e,"/social-activity/").concat(t,"/")}}),u={components:{NonFieldFormErrors:l["default"]},mixins:[o["a"]],props:{userId:{type:Number,required:!0},exportFields:{type:Object,required:!0},as:{type:String,default:""}},data:function(){return{fromMenu:!1,toMenu:!1,form:this.exportFields,categoryChoices:[{value:"Interest",text:"Interest"},{value:"Hobby",text:"Hobby"}],editable:"",saveAndAddAnother:!1}},watch:{exportFields:function(e){this.form=e,this.clearNonFieldErrors(),this.$validator.errors.clear(),this.editable=!!e.slug}},methods:{clear:function(){this.form={},this.$validator.errors.clear()},createItem:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.validateAllFields();case 2:if(!t.sent){t.next=4;break}e.$http.post(d.postUserSocialActivity(e.$route.params.id)+"?as=".concat(e.as),e.form).then((function(t){e.verifyPermission(e.allPermissions.CAN_CREATE_UPDATE_USER_PROFILE)&&e.$route.params.slug?(e.notifyUser("Successfully created Social Activity","green"),e.saveAndAddAnother?e.clear():e.$emit("created",t)):(e.notifyUser("Profile Change request has been sent","green"),e.saveAndAddAnother?e.clear(e.form):e.$router.push({name:"user-profile-change-request"}))})).catch((function(t){e.notifyInvalidFormResponse(),e.pushErrors(t)})).finally((function(){e.saveAndAddAnother=!1}));case 4:case"end":return t.stop()}}),t)})))()},addAnother:function(){this.saveAndAddAnother=!0,this.createItem()},editItem:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.validateAllFields();case 2:if(!t.sent){t.next=4;break}e.$http.put(d.updateSocialActivityDetail(e.$route.params.id,e.exportFields.slug)+"?as=".concat(e.as),e.form).then((function(){e.verifyPermission(e.allPermissions.CAN_CREATE_UPDATE_USER_PROFILE)&&e.$route.params.slug?(e.notifyUser("Successfully updated Social Activity ","green"),e.$emit("updated")):(e.notifyUser("Profile Change request has been sent","green"),e.$router.push({name:"user-profile-change-request"}))})).catch((function(t){e.notifyInvalidFormResponse(),e.pushErrors(t)}));case 4:case"end":return t.stop()}}),t)})))()}}},m=u,v=i("2877"),f=i("6544"),p=i.n(f),h=i("8336"),A=i("99d9"),y=i("62ad"),g=i("a523"),_=i("ce7e"),b=i("4bd4"),x=i("0fd9b"),I=i("2fa4"),w=i("8654"),S=i("a844"),E=Object(v["a"])(m,n,c,!1,null,null,null),C=E.exports;p()(E,{VBtn:h["a"],VCardActions:A["a"],VCol:y["a"],VContainer:g["a"],VDivider:_["a"],VForm:b["a"],VRow:x["a"],VSpacer:I["a"],VTextField:w["a"],VTextarea:S["a"]});var F=i("e330"),P=i("e585"),U={components:{SocialActivitiesForm:C,BulletListLoader:F["a"],VueNoData:P["default"]},mixins:[o["a"]],props:{userInfo:{type:Object,required:!0},as:{type:String,default:""}},data:function(){return{currentItem:{},showForm:!1,notify:{},showDetails:100,socialActivities:[],deleteDialog:{dialog:!1,heading:"Confirm Delete",text:"Do you really want to delete this social activity information ?"},loading:!1}},computed:{userName:function(){return this.userInfo.user.first_name+" "+this.userInfo.user.middle_name+" "+this.userInfo.user.last_name}},mounted:function(){this.getUserSocialActivities()},methods:{getUserSocialActivities:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.loading=!0,e.$http.get(d.getUserSocialActivity(e.$route.params.id)+"?as=".concat(e.as)).then((function(t){e.socialActivities=t.results,e.loading=!1}));case 2:case"end":return t.stop()}}),t)})))()},refresh:function(){this.getUserSocialActivities(),this.showForm=!1,this.deleteDialog.dialog=!1,this.currentItem={}},createSocialActivitiesDetails:function(){this.showForm=!0,this.currentItem={}},editItem:function(e){this.currentItem=e,this.showForm=!0},deleteSocialActivities:function(e){this.currentItem=e,this.deleteDialog.dialog=!0},deleteItem:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$http.delete(d.deleteUserSocialActivity(e.$route.params.id,e.currentItem.slug)+"?as=".concat(e.as)).then((function(){e.verifyPermission(e.allPermissions.CAN_CREATE_UPDATE_USER_PROFILE)&&e.$route.params.slug?(e.notifyUser("Successfully deleted Social Activity","green"),e.refresh()):(e.notifyUser("Profile Change request has been sent","green"),e.$router.push({name:"user-profile-change-request"}))})).catch((function(t){e.pushErrors(t);var i=e.nonFieldErrors[0]["non field errors"];e.notifyUser(i,"red"),e.refresh()}));case 1:case"end":return t.stop()}}),t)})))()}}},R=U,D=i("b0af"),$=i("ce87"),V=i("132d"),k=i("da13"),N=i("8270"),T=i("5d23"),O=Object(v["a"])(R,r,a,!1,null,null,null);t["default"]=O.exports;p()(O,{VBtn:h["a"],VCard:D["a"],VCardText:A["c"],VCol:y["a"],VDivider:_["a"],VHover:$["a"],VIcon:V["a"],VListItem:k["a"],VListItemAvatar:N["a"],VListItemContent:T["a"],VListItemSubtitle:T["b"],VListItemTitle:T["c"],VRow:x["a"]})}}]);