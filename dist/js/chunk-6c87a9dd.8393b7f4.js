(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6c87a9dd","chunk-da62e0c8","chunk-2d22d378"],{"7e1e":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("vue-card-title",{attrs:{title:"Legal Information",subtitle:"Legal Information of "+e.userName,icon:"mdi-file-document-outline"}},[a("template",{slot:"actions"},[e.showForm||e.getAuthStateUserId!==parseInt(e.$route.params.id)&&!e.verifyPermission(e.allPermissions.CAN_CREATE_UPDATE_USER_PROFILE)||"supervisor"===e.as||e.loading?e._e():a("v-btn",{attrs:{small:"",color:"primary",depressed:""},on:{click:e.updateLegalInfo}},[e._v(" "+e._s(e.$t("update"))+" ")]),e.showForm?a("v-btn",{attrs:{small:"",outlined:"",color:"primary"},on:{click:function(t){return e.cancel()}}},[e._v(" Cancel ")]):e._e()],1)],2),a("v-divider"),a("v-card-text",[e.loading?a("v-row",e._l(6,(function(e){return a("v-col",{key:e,attrs:{cols:"4"}},[a("bullet-list-loader",{attrs:{"primary-color":"#eee","secondary-color":"#d5d5d7"}})],1)})),1):e._e(),e.showForm||e.loading?e._e():a("v-row",e._l(e.legalInfo,(function(t,r){return a("v-col",{key:r,attrs:{md:"6",cols:"12"}},[a("v-list-item",[a("v-list-item-avatar",{staticClass:"mr-0"},[a("v-icon",{attrs:{small:""},domProps:{textContent:e._s("mdi-text-box-outline")}})],1),a("v-list-item-content",[a("v-list-item-title",{staticClass:"text-capitalize",domProps:{textContent:e._s(e.titleMapper(r))}}),a("v-list-item-subtitle",{domProps:{textContent:e._s(e.getValue(t))}})],1)],1)],1)})),1),e.showForm?a("span",[a("legal-details-form",{attrs:{"user-id":e.userInfo.user.id,"export-fields":e.legalInfo,as:e.as},on:{updated:e.refresh}})],1):e._e()],1),a("vue-notify",{attrs:{notify:e.notify}})],1)},i=[],n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-form",[a("v-container",{staticClass:"px-12"},[e.nonFieldErrors?a("non-field-form-errors",{attrs:{"non-field-errors":e.nonFieldErrors}}):e._e(),a("v-row",[a("v-col",{attrs:{md:"6",sm:"12"}},[a("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required|max:50",expression:"'required|max:50'"}],attrs:{counter:50,"prepend-inner-icon":"mdi-text-box-outline"},model:{value:e.form.pan_number,callback:function(t){e.$set(e.form,"pan_number",t)},expression:"form.pan_number"}},"v-text-field",e.veeValidate("pan_number","Pan Number*"),!1))],1),a("v-col",{attrs:{md:"6",sm:"12"}},[a("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required|max:50",expression:"'required|max:50'"}],attrs:{counter:50,"prepend-inner-icon":"mdi-text-box-outline"},model:{value:e.form.citizenship_number,callback:function(t){e.$set(e.form,"citizenship_number",t)},expression:"form.citizenship_number"}},"v-text-field",e.veeValidate("citizenship_number","Citizenship Number *"),!1))],1),a("v-col",{attrs:{md:"6",sm:"12"}},[a("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"max:255",expression:"'max:255'"}],attrs:{counter:255,"prepend-inner-icon":"mdi-text-box-outline"},model:{value:e.form.citizenship_issue_place,callback:function(t){e.$set(e.form,"citizenship_issue_place",t)},expression:"form.citizenship_issue_place"}},"v-text-field",e.veeValidate("citizenship_issue_place","Citizenship Issue Place "),!1))],1),a("v-col",{attrs:{md:"6",sm:"12"}},[a("vue-date-picker",{attrs:{label:"Citizenship issue date"},model:{value:e.form.citizenship_issue_date,callback:function(t){e.$set(e.form,"citizenship_issue_date",t)},expression:"form.citizenship_issue_date"}})],1),a("v-col",{attrs:{md:"6",sm:"12"}},[a("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"max:50",expression:"'max:50'"}],attrs:{counter:50,"prepend-inner-icon":"mdi-text-box-outline"},model:{value:e.form.cit_number,callback:function(t){e.$set(e.form,"cit_number",t)},expression:"form.cit_number"}},"v-text-field",e.veeValidate("cit_number","CIT Number"),!1))],1),a("v-col",{attrs:{md:"6",sm:"12"}},[a("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"max:50",expression:"'max:50'"}],attrs:{counter:50,"prepend-inner-icon":"mdi-text-box-outline"},model:{value:e.form.passport_number,callback:function(t){e.$set(e.form,"passport_number",t)},expression:"form.passport_number"}},"v-text-field",e.veeValidate("passport_number","Passport Number"),!1))],1),a("v-col",{attrs:{md:"6",sm:"12"}},[a("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"max:255",expression:"'max:255'"}],attrs:{counter:255,"prepend-inner-icon":"mdi-text-box-outline"},model:{value:e.form.passport_issue_place,callback:function(t){e.$set(e.form,"passport_issue_place",t)},expression:"form.passport_issue_place"}},"v-text-field",e.veeValidate("passport_issue_place","Passport Issue Place"),!1))],1),a("v-col",{attrs:{md:"6",sm:"12"}},[a("vue-date-picker",{attrs:{label:"Passport issue date"},model:{value:e.form.passport_issue_date,callback:function(t){e.$set(e.form,"passport_issue_date",t)},expression:"form.passport_issue_date"}})],1),a("v-col",{attrs:{md:"6",sm:"12"}},[a("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"max:50",expression:"'max:50'"}],attrs:{counter:50,"prepend-inner-icon":"mdi-text-box-outline"},model:{value:e.form.pf_number,callback:function(t){e.$set(e.form,"pf_number",t)},expression:"form.pf_number"}},"v-text-field",e.veeValidate("pf_number","PF Number"),!1))],1),a("v-col",{attrs:{md:"6",sm:"12"}},[a("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"max:50",expression:"'max:50'"}],attrs:{counter:50,"prepend-inner-icon":"mdi-text-box-outline"},model:{value:e.form.ssfid,callback:function(t){e.$set(e.form,"ssfid",t)},expression:"form.ssfid"}},"v-text-field",e.veeValidate("ssfid","SSF Id"),!1))],1)],1)],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{disabled:e.errors.any(),depressed:"",color:"primary"},on:{click:e.editItem}},[e._v(" Save ")]),a("v-btn",{on:{click:e.clear}},[e._v(" Clear")])],1)],1)},o=[],s=(a("a9e3"),a("c44a")),l=a("f70a"),c=a("f0d5"),d=a("ab8a"),u={getUserLegalInfo:function(e){return"/users/".concat(e,"/legal-info/")},updateUserLegalInfo:function(e){return"/users/".concat(e,"/legal-info/")}},m=a("741f"),f={components:{NonFieldFormErrors:d["default"],VueDatePicker:m["default"]},mixins:[l["a"],s["a"],c["a"]],props:{userId:{type:Number,required:!0},exportFields:{type:Object,required:!0},as:{type:String,default:""}},data:function(){return{fromMenu:!1,toMenu:!1,form:this.exportFields}},watch:{exportFields:function(e){this.form=e,this.clearNonFieldErrors(),this.$validator.errors.clear()}},methods:{clear:function(){this.form={},this.$validator.errors.clear()},editItem:function(){var e=this,t=this.verifyPermission(this.allPermissions.CAN_CREATE_UPDATE_USER_PROFILE)&&this.$route.params.slug;this.crud.message=t?"Successfully updated Legal Information":"Profile Change request has been sent",this.putData(u.updateUserLegalInfo(this.$route.params.id)+"?as=".concat(this.as),this.form).then((function(){t||e.$router.push({name:"user-profile-change-request"})}))}}},p=f,v=a("2877"),h=a("6544"),_=a.n(h),b=a("8336"),x=a("99d9"),g=a("62ad"),I=a("a523"),F=a("ce7e"),V=a("4bd4"),w=a("0fd9b"),$=a("2fa4"),N=a("8654"),P=Object(v["a"])(p,n,o,!1,null,null,null),E=P.exports;_()(P,{VBtn:b["a"],VCardActions:x["a"],VCol:g["a"],VContainer:I["a"],VDivider:F["a"],VForm:V["a"],VRow:w["a"],VSpacer:$["a"],VTextField:N["a"]});var k=a("983c"),y=a("e330"),C={components:{LegalDetailsForm:E,BulletListLoader:y["a"]},mixins:[k["a"],c["a"]],props:{userInfo:{type:Object,required:!0},as:{type:String,default:""}},data:function(){return{notify:{},legalInfo:{},loading:!1,showForm:!1}},computed:{userName:function(){return this.userInfo.user.first_name+" "+this.userInfo.user.middle_name+" "+this.userInfo.user.last_name}},mounted:function(){this.getUserLegalInfo()},methods:{getUserLegalInfo:function(){var e=this;this.getData(u.getUserLegalInfo(this.$route.params.id)+"?as=".concat(this.as)).then((function(t){e.legalInfo=t,e.loading=!1}))},refresh:function(){this.getUserLegalInfo(),this.showForm=!1},cancel:function(){this.getUserLegalInfo(),this.showForm=!1},updateLegalInfo:function(){this.showForm=!0},getValue:function(e){return e||"N/A"},titleMapper:function(e){return{pan_number:"PAN Number",pf_number:"PF Number",cit_number:"CIT Number",ssfid:"SSF ID"}[e]||e.replaceAll("_"," ")}}},L=C,D=a("b0af"),A=a("132d"),z=a("da13"),U=a("8270"),S=a("5d23"),R=Object(v["a"])(L,r,i,!1,null,null,null);t["default"]=R.exports;_()(R,{VBtn:b["a"],VCard:D["a"],VCardText:x["c"],VCol:g["a"],VDivider:F["a"],VIcon:A["a"],VListItem:z["a"],VListItemAvatar:U["a"],VListItemContent:S["a"],VListItemSubtitle:S["b"],VListItemTitle:S["c"],VRow:w["a"]})},"983c":function(e,t,a){"use strict";a("d3b7");t["a"]={methods:{getData:function(e,t,a){var r=this,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Promise((function(n,o){!r.loading&&e&&(r.clearNonFieldErrors(),r.$validator.errors.clear(),r.loading=i,r.$http.get(e,a||{params:t||{}}).then((function(e){n(e),r.loading=!1})).catch((function(e){r.pushErrors(e),r.notifyInvalidFormResponse(),o(e),r.loading=!1})))}))},getBlockingData:function(e,t,a){var r=this;return new Promise((function(i,n){r.getData(e,t,a,!0).then((function(e){i(e)})).catch((function(e){n(e)}))}))}}}},f0d5:function(e,t,a){"use strict";a("d3b7"),a("3ca3"),a("ddb0");var r=a("c44a");t["a"]={components:{NonFieldFormErrors:function(){return a.e("chunk-6441e173").then(a.bind(null,"ab8a"))}},mixins:[r["a"]],data:function(){return{crud:{name:"record",message:"",addAnother:!1},formValues:{},loading:!1}}}},f70a:function(e,t,a){"use strict";a("d3b7"),a("caad");t["a"]={methods:{insertData:function(e,t){var a=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.validate,n=void 0===i||i,o=r.clearForm,s=void 0===o||o,l=arguments.length>3?arguments[3]:void 0;return new Promise((function(r,i){!a.loading&&e&&(a.clearErrors(),a.$validator.validateAll().then((function(o){n||(o=!0),o&&(a.loading=!0,a.$http.post(e,t,l||{}).then((function(e){a.clearErrors(),s&&(a.formValues={}),a.crud.addAnother||a.$emit("create"),a.crud.message&&setTimeout((function(){a.notifyUser(a.crud.message)}),1e3),r(e),a.loading=!1})).catch((function(e){a.pushErrors(e),a.notifyInvalidFormResponse(),i(e),a.loading=!1})))})))}))},patchData:function(e,t){var a=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.validate,n=void 0===i||i,o=r.clearForm,s=void 0===o||o,l=arguments.length>3?arguments[3]:void 0;return new Promise((function(r,i){a.updateData(e,t,{validate:n,clearForm:s},"patch",l).then((function(e){r(e)})).catch((function(e){i(e)}))}))},putData:function(e,t){var a=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.validate,n=void 0===i||i,o=r.clearForm,s=void 0===o||o,l=arguments.length>3?arguments[3]:void 0;return new Promise((function(r,i){a.updateData(e,t,{validate:n,clearForm:s},"put",l).then((function(e){r(e)})).catch((function(e){i(e)}))}))},updateData:function(e,t){var a=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.validate,n=void 0===i||i,o=r.clearForm,s=void 0===o||o,l=arguments.length>3?arguments[3]:void 0,c=arguments.length>4?arguments[4]:void 0;return new Promise((function(r,i){!a.loading&&e&&["put","patch"].includes(l)&&(a.clearErrors(),a.$validator.validateAll().then((function(o){n||(o=!0),o&&(a.loading=!0,a.$http[l](e,t,c||{}).then((function(e){a.$emit("update"),a.clearErrors(),s&&(a.formValues={}),a.crud.message&&setTimeout((function(){a.notifyUser(a.crud.message)}),1e3),r(e),a.loading=!1})).catch((function(e){a.pushErrors(e),a.notifyInvalidFormResponse(),i(e),a.loading=!1})))})))}))},clearErrors:function(){this.clearNonFieldErrors(),this.$validator.errors.clear()}}}}}]);