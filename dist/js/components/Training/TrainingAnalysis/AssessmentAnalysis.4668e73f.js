(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["/components/Training/TrainingAnalysis/AssessmentAnalysis","chunk-2d0c8a11","chunk-2d2259e9","chunk-2d2160c2","chunk-2d2160c2","chunk-2d2160c2","chunk-2d2160c2","chunk-2d2160c2"],{"194d":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("v-card",[s("vue-card-title",{attrs:{title:"Assessment Analysis",subtitle:"Please refer to the following information for training analysis by assessment.",icon:"mdi-file-document-outline"}},[s("template",{slot:"actions"},[s("v-btn",{attrs:{"data-cy":"btn-filter",icon:""},on:{click:function(e){t.showFilters=!t.showFilters}}},[s("v-icon",{attrs:{small:""},domProps:{textContent:t._s("mdi-filter-variant")}})],1)],1)],2),s("v-divider"),s("v-slide-y-transition",[s("v-row",{directives:[{name:"show",rawName:"v-show",value:t.showFilters,expression:"showFilters"}],staticClass:"px-3"},[s("v-col",[s("v-text-field",{attrs:{value:t.search,"data-cy":"input-search",label:"Search for Users","prepend-inner-icon":"mdi-magnify","hide-details":""},on:{change:function(e){t.search=e}}})],1)],1)],1),t.showFilters?s("v-divider"):t._e(),s("v-card-text",[s("v-tabs",[s("v-tab",{attrs:{disabled:t.loading,"data-cy":"tab-assessment-analysis"},on:{click:function(e){t.marginalFilter="below",t.trainingAssigned=!1}}},[t._v(" Below Marginal ")]),s("v-tab",{attrs:{disabled:t.loading,"data-cy":"tab-assessment-analysis"},on:{click:function(e){t.marginalFilter="above",t.trainingAssigned=!1}}},[t._v(" Above Marginal ")])],1),s("v-data-table",{attrs:{"item-key":"id",headers:t.headers,items:t.fetchedResults,"sort-desc":t.pagination.descending,"sort-by":t.pagination.sortBy,page:t.pagination.page,"items-per-page":t.pagination.rowsPerPage,"footer-props":t.footerProps,"server-items-length":t.pagination.totalItems,"single-select":"","mobile-breakpoint":0,"must-sort":"","show-select":""},on:{"update:sortDesc":function(e){return t.$set(t.pagination,"descending",e)},"update:sort-desc":function(e){return t.$set(t.pagination,"descending",e)},"update:sortBy":function(e){return t.$set(t.pagination,"sortBy",e)},"update:sort-by":function(e){return t.$set(t.pagination,"sortBy",e)},"update:page":function(e){return t.$set(t.pagination,"page",e)},"update:itemsPerPage":function(e){return t.$set(t.pagination,"rowsPerPage",e)},"update:items-per-page":function(e){return t.$set(t.pagination,"rowsPerPage",e)}},scopedSlots:t._u([{key:"item",fn:function(e){return[s("tr",[s("td",[s("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(a){var i=a.on;return[s("v-checkbox",t._g({staticClass:"mt-n3",attrs:{value:e.isSelected,primary:"",disabled:!!e.item.associated_training,"hide-details":""},on:{change:function(t){return e.select(!e.isSelected)}},model:{value:e.selected,callback:function(s){t.$set(e,"selected",s)},expression:"props.selected"}},i))]}}],null,!0)},[e.item.associated_training?s("span",[t._v(" Already Assign Training for this user. ")]):s("span",[t._v(" Assign Training ")])])],1),s("td",[s("vue-user",{attrs:{user:e.item.user}})],1),s("td",[t._v(" "+t._s(e.item.assessment_set.title)+" ")]),s("td",[s("div",[t._v("Start: "+t._s(t._f("dayjs")(e.item.started_at,"HH:mm:s")))]),s("div",[t._v("End: "+t._s(t._f("dayjs")(e.item.ended_at,"HH:mm:s")))])]),s("td",{staticClass:"font-weight-bold"},[s("span",{staticStyle:{display:"none"}},[t._v(t._s(e.item.status))]),s("v-chip",{staticClass:"font-weight-bold",attrs:{color:"red",small:"",dark:""}},[t._v(" "+t._s(e.item.score)+" ")])],1),s("td",{staticClass:"font-weight-bold"},[s("span",{staticClass:"orange--text"},[t._v(t._s(e.item.assessment_set.marginal_weightage))]),s("span",{staticClass:"mx-2 green-text"},[t._v("/")]),s("span",{staticClass:"green--text"},[t._v(t._s(e.item.assessment_set.total_weightage))])]),s("td",[s("vue-context-menu",{attrs:{"context-list":[{name:"Review Assessment",icon:"mdi-file-document-edit",color:"primary"},{name:"Assign Training",icon:"mdi-presentation",color:"primary",hide:!t.tna,disabled:!!e.item.associated_training,disable_message:"Training has already been assigned"},{name:"View Training",icon:"mdi-presentation-play",color:"primary",disabled:!e.item.associated_training,disable_message:"Training has not been assigned"}],small:""},on:{click0:function(s){return t.viewUserAssessment(e.item)},click1:function(s){t.assignTrainingForm=!0,t.actionData=e.item},click2:function(s){return t.viewTrainingDetail(e.item.associated_training)}}})],1)])]}}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[s("template",{slot:"no-data"},[s("data-table-no-data",{attrs:{loading:t.loading}})],1),t.selected.length>0?s("template",{slot:"footer"},[s("v-divider"),s("v-row",{staticClass:"px-5 py-3",attrs:{align:"center"}},[s("span",{staticClass:"pr-3",domProps:{textContent:t._s("Selected Employees")}}),s("strong",{domProps:{textContent:t._s(t.selected.length)}}),s("v-spacer"),s("v-btn",{attrs:{small:"",depressed:"",color:"primary"},on:{click:function(e){t.assignTrainingForm=!0}}},[t._v(" Assign Training ")])],1)],1):t._e()],2)],1),t.assignTrainingForm?s("v-dialog",{attrs:{scrollable:"","max-width":"560px",persistent:""},model:{value:t.assignTrainingForm,callback:function(e){t.assignTrainingForm=e},expression:"assignTrainingForm"}},[t.assignTrainingForm?s("assessment-attach-training-form",{attrs:{"action-data":t.actionData,"selected-employee":t.selected.map((function(t){return t.id}))},on:{dismissForm:function(e){t.dismissForm(),t.selected=[]}}}):t._e()],1):t._e()],1),s("v-dialog",{attrs:{width:"960"},model:{value:t.viewTraining,callback:function(e){t.viewTraining=e},expression:"viewTraining"}},[s("training-detail",{attrs:{"is-hr-admin":"","training-slug":t.selectedTrainingSlug},on:{dismiss:function(e){t.viewTraining=!1,t.fetchDataTable}}})],1),t.reviewAssessment?s("v-dialog",{attrs:{width:"1000"},model:{value:t.reviewAssessment,callback:function(e){t.reviewAssessment=e},expression:"reviewAssessment"}},[s("user-assessment-details",{attrs:{questions:t.userAssessmentDetails,user:t.selectedUserDetail},on:{close:function(e){t.reviewAssessment=!1}}})],1):t._e()],1)},i=[],n=(s("ac1f"),s("841c"),s("d3b7"),s("99af"),s("17cc")),r=s("a51f"),o=s("02cb"),l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-form",{ref:"assessmentAttachTraining",on:{submit:function(e){return e.preventDefault(),t.getFormAction.apply(null,arguments)}}},[s("v-card",[s("v-card-title",[t._v(" Assign Training "),s("v-spacer"),s("v-btn",{attrs:{fab:"",icon:"","x-small":""},on:{click:function(e){return t.$emit("dismissForm")}}},[s("v-icon",[t._v("mdi-close-circle")])],1)],1),s("v-divider"),s("v-card-text",[t.nonFieldErrors?s("non-field-form-errors",{attrs:{"non-field-errors":t.nonFieldErrors}}):t._e(),s("vue-auto-complete",t._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{endpoint:t.trainingEndpoint,"prepend-inner-icon":"mdi-file-document-outline","item-text":"name","item-value":"slug"},model:{value:t.formValues.training,callback:function(e){t.$set(t.formValues,"training",e)},expression:"formValues.training"}},"vue-auto-complete",t.veeValidate("training","Training *"),!1))],1),s("v-divider"),s("v-card-actions",[s("v-spacer"),s("form-submit",{attrs:{"form-errors":t.errors.any()},on:{clearForm:t.clearForm}})],1)],1)],1)},c=[],u=s("1da1"),d=(s("96cf"),s("c44a")),m=s("878b"),p=s("ab8a"),h=s("5660"),f={components:{FormSubmit:m["a"],NonFieldFormErrors:p["default"],VueAutoComplete:h["default"]},mixins:[d["a"]],props:{actionData:{type:Object,required:!1,default:function(){return{training:""}}},selectedEmployee:{type:Array,default:function(){return[]}}},data:function(){return{formValues:this.deepCopy(this.actionData)}},computed:{trainingEndpoint:function(){return"/training/".concat(this.$route.params.slug,"/training/")}},mounted:function(){this.formValues=this.deepCopy(this.actionData)},methods:{getFormAction:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.updateRequest());case 1:case"end":return e.stop()}}),e)})))()},updateRequest:function(){var t=this;this.validateAllFields();var e={training:this.formValues.training,user_assessments:this.selectedEmployee.length?this.selectedEmployee:[this.actionData.id]},s="/assessment/".concat(this.$route.params.slug,"/assessment-reports/assign-training/?as=hr");this.$http.post(s,e).then((function(e){t.notifyUser("Successfully attached training."),t.$emit("dismissForm",e)})).catch((function(e){t.notifyInvalidFormResponse(),t.pushErrors(e)}))},clearForm:function(){this.errors.clear(),this.$refs.assessmentAttachTraining.reset(),this.clearNonFieldErrors()}}},v=f,g=s("2877"),b=s("6544"),y=s.n(b),_=s("8336"),x=s("b0af"),w=s("99d9"),C=s("ce7e"),T=s("4bd4"),k=s("132d"),S=s("2fa4"),V=Object(g["a"])(v,l,c,!1,null,null,null),D=V.exports;y()(V,{VBtn:_["a"],VCard:x["a"],VCardActions:w["a"],VCardText:w["c"],VCardTitle:w["d"],VDivider:C["a"],VForm:T["a"],VIcon:k["a"],VSpacer:S["a"]});var A=s("34b2"),F=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-card",{attrs:{flat:""}},[s("vue-card-title",{attrs:{title:"User Assessment Details",subtitle:"Review the answers given by user for this assessment",icon:"mdi-file"}},[s("template",{slot:"actions"},[s("v-icon",{attrs:{color:"blueGrey"},domProps:{textContent:t._s("mdi-close-circle")},on:{click:function(e){return t.$emit("close")}}})],1)],2),s("div",[s("v-divider"),s("v-card-text",{staticClass:"black--text"},[s("v-row",{attrs:{"no-gutters":""}},[s("v-col",{attrs:{cols:"3"}},[s("div",{staticClass:"blue-grey--text text-subtitle-2"},[t._v("Candidate :")])]),s("v-col",{attrs:{cols:"3"}},[s("div",{staticClass:"blue-grey--text text-subtitle-2"},[t._v("Obtained Score :")])]),s("v-col",{attrs:{cols:"3"}},[s("div",{staticClass:"blue-grey--text text-subtitle-2"},[t._v("Marginal Score :")])]),s("v-col",{attrs:{cols:"3"}},[s("div",{staticClass:"blue-grey--text text-subtitle-2"},[t._v("Total Score :")])])],1),s("v-row",{staticClass:"my-2",attrs:{"no-gutters":""}},[s("v-col",{attrs:{cols:"3"}},[s("vue-user",{attrs:{user:t.user}})],1),s("v-col",{attrs:{cols:"3"}},[s("div",{staticClass:"text-h4 font-weight-bold",class:t.questions.obtained_score>=t.questions.marginal_weightage?"green--text":"red--text"},[t._v(" "+t._s(t.questions.obtained_score)+" ")])]),s("v-col",{attrs:{cols:"3"}},[s("div",{staticClass:"text-h4 green--text font-weight-bold"},[t._v(" "+t._s(t.questions.marginal_weightage)+" ")])]),s("v-col",{attrs:{cols:"3"}},[s("div",{staticClass:"text-h4 primary--text font-weight-bold"},[t._v(" "+t._s(t.questions.total_weightage)+" ")])])],1),s("v-divider",{staticClass:"ma-0 pa-0"}),s("div",{staticClass:"scrollbar-md",staticStyle:{"max-height":"350px !important"}},[s("v-row",{staticClass:"mx-2"},t._l(t.questions.results[0].all_questions,(function(e,a){return s("v-col",{key:a,staticClass:"pb-0",attrs:{cols:"12"}},[s("div",{staticClass:"font-weight-bold text-body-2 blue-grey--text mb-1"},[s("span",[t._v(t._s(a+1+". "))]),s("span",{staticClass:"display-inline",domProps:{innerHTML:t._s(t.$sanitize(e.question.title))}}),["long-text","short-text"].includes(e.question.answer_choices)?t._e():s("v-chip",{staticClass:"mx-1 white--text",attrs:{small:"",color:JSON.stringify(e.answers)===JSON.stringify(e.question.answers.filter((function(t){return t.is_correct})).map((function(t){return t.id})))?"green":"red"}},[t._v(t._s(e.question.weightage))])],1),"multiple-mcq"===e.question.answer_choices?s("v-col",t._l(e.question.answers,(function(a,i){return s("v-checkbox",{key:i,staticClass:"py-0 my-0",attrs:{value:a.id,readonly:"",multiple:"","hide-details":"",dense:""},model:{value:e.answers,callback:function(s){t.$set(e,"answers",s)},expression:"question.answers"}},[s("template",{slot:"label"},[t._v(" "+t._s(a.title)+" "),a.is_correct?s("span",{staticClass:"ml-2 green--text font-weight-bold"},[t._v("(Correct Answer)")]):t._e()])],2)})),1):t._e(),"single-mcq"===e.question.answer_choices?s("v-col",{staticClass:"my-0 pt-0"},[s("v-radio-group",{attrs:{dense:"","hide-details":""},model:{value:e.answers[0],callback:function(s){t.$set(e.answers,0,s)},expression:"question.answers[0]"}},t._l(e.question.answers,(function(e,a){return s("v-radio",{key:a,attrs:{value:e.id,readonly:""}},[s("template",{slot:"label"},[t._v(" "+t._s(e.title)+" "),e.is_correct?s("span",{staticClass:"ml-2 green--text font-weight-bold"},[t._v("(Correct Answer)")]):t._e()])],2)})),1)],1):t._e(),"long-text"===e.question.answer_choices?s("v-col",[s("span",{staticClass:"grey--text text--darken-2 text-subtitle-2",domProps:{innerHTML:t._s(t.$sanitize(e.response))}})]):t._e(),"short-text"===e.question.answer_choices?s("v-col",[s("span",{staticClass:"grey--text text--darken-2 text-subtitle-2",domProps:{innerHTML:t._s(t.$sanitize(e.response))}})]):t._e()],1)})),1),s("v-row",{staticClass:"mx-2"},[s("v-col",[s("span",{staticClass:"font-weight-bold text-body-2 blue-grey--text"},[t._v("User Remarks:")]),s("div",{staticClass:"grey--text text--darken-2 mt-1"},[t._v(" "+t._s(t.questions.remarks)+" ")])])],1)],1)],1),s("v-divider"),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{text:""},on:{click:function(e){return t.$emit("close")}}},[t._v(" Close ")])],1),s("vue-notify")],1)],1)},I=[],$={components:{VueUser:o["default"]},props:{questions:{type:Object,required:!0},user:{type:Object,default:function(){return{}}}}},O=$,L=(s("9677"),s("ac7c")),B=s("cc20"),j=s("62ad"),q=s("67b6"),E=s("43a6"),P=s("0fd9b"),R=Object(g["a"])(O,F,I,!1,null,null,null),M=R.exports;y()(R,{VBtn:_["a"],VCard:x["a"],VCardActions:w["a"],VCardText:w["c"],VCheckbox:L["a"],VChip:B["a"],VCol:j["a"],VDivider:C["a"],VIcon:k["a"],VRadio:q["a"],VRadioGroup:E["a"],VRow:P["a"],VSpacer:S["a"]});var G=s("e4bf"),U={components:{VueContextMenu:G["default"],UserAssessmentDetails:M,TrainingDetail:A["a"],DataTableNoData:r["default"],VueUser:o["default"],AssessmentAttachTrainingForm:D},mixins:[n["a"]],props:{tna:{type:Boolean,default:!0},as:{type:String,default:Boolean}},data:function(){return{showFilters:!1,filters:{},loading:!1,selected:[],headers:[{text:"Assessment By",sortable:!0,value:"assessment_by"},{text:"Assessment Set",sortable:!0,value:"assessment_set"},{text:"Duration",width:"15%",sortable:!1},{text:"Scored",sortable:!0,value:"budget"},{text:"Weightage",sortable:!0,value:"budget"},{text:"Actions",sortable:!1}],actionData:{},assignTrainingForm:!1,marginalFilter:"below",trainingAssigned:!1,search:"",viewTraining:!1,selectedTrainingSlug:"",reviewAssessment:!1,userAssessmentDetails:[],selectedUserDetail:{}}},computed:{DataTableFilter:function(){return{margin:this.marginalFilter,training_assigned:!0,search:this.search,as:this.as||""}}},mounted:function(){this.fetchDataTable()},methods:{fetchDataTable:function(){var t=this;this.loading=!0;var e="/assessment/".concat(this.$route.params.slug,"/assessment-reports/");this.$http.get(e,{params:this.fullParams}).then((function(e){t.loadDataTable(e)})).finally((function(){t.loading=!1}))},dismissForm:function(){this.assignTrainingForm=!1,this.fetchDataTable()},viewTrainingDetail:function(t){this.viewTraining=!0,this.selectedTrainingSlug=t},viewUserAssessment:function(t){var e=this;this.$http.get("/assessment/".concat(this.getOrganizationSlug,"/assessments/").concat(t.assessment_set.id,"/take/?as=hr&user=").concat(t.user.id)).then((function(s){e.selectedUserDetail=t.user,e.userAssessmentDetails=s,e.reviewAssessment=!0}))}}},N=U,H=s("8fea"),z=s("169a"),K=s("0789"),W=s("71a3"),J=s("fe57"),Y=s("8654"),Q=s("3a2f"),X=Object(g["a"])(N,a,i,!1,null,null,null);e["default"]=X.exports;y()(X,{VBtn:_["a"],VCard:x["a"],VCardText:w["c"],VCheckbox:L["a"],VChip:B["a"],VCol:j["a"],VDataTable:H["a"],VDialog:z["a"],VDivider:C["a"],VIcon:k["a"],VRow:P["a"],VSlideYTransition:K["g"],VSpacer:S["a"],VTab:W["a"],VTabs:J["a"],VTextField:Y["a"],VTooltip:Q["a"]})},"2c64":function(t,e,s){},"3d86":function(t,e,s){},"43a6":function(t,e,s){"use strict";var a=s("5530"),i=(s("a9e3"),s("ec29"),s("3d86"),s("c37a")),n=s("604c"),r=s("8547"),o=s("58df"),l=Object(o["a"])(r["a"],n["a"],i["a"]);e["a"]=l.extend({name:"v-radio-group",provide:function(){return{radioGroup:this}},props:{column:{type:Boolean,default:!0},height:{type:[Number,String],default:"auto"},name:String,row:Boolean,value:null},computed:{classes:function(){return Object(a["a"])(Object(a["a"])({},i["a"].options.computed.classes.call(this)),{},{"v-input--selection-controls v-input--radio-group":!0,"v-input--radio-group--column":this.column&&!this.row,"v-input--radio-group--row":this.row})}},methods:{genDefaultSlot:function(){return this.$createElement("div",{staticClass:"v-input--radio-group__input",attrs:{id:this.id,role:"radiogroup","aria-labelledby":this.computedId}},i["a"].options.methods.genDefaultSlot.call(this))},genInputSlot:function(){var t=i["a"].options.methods.genInputSlot.call(this);return delete t.data.on.click,t},genLabel:function(){var t=i["a"].options.methods.genLabel.call(this);return t?(t.data.attrs.id=this.computedId,delete t.data.attrs.for,t.tag="legend",t):null},onClick:n["a"].options.methods.onClick}})},5660:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"d-flex space-between"},[s("v-autocomplete",{key:t.componentKey,ref:"autoComplete",class:t.appliedClass,attrs:{id:t.id,items:t.itemsSorted,"search-input":t.search,loading:t.isLoading,multiple:t.multiple,label:t.label,error:t.errorMessages.length>0,"error-messages":t.errorMessages,disabled:t.disabled,readonly:t.readonly,"data-cy":"autocomplete-"+t.dataCyVariable,"prepend-inner-icon":t.prependInnerIcon,clearable:t.clearable&&!t.readonly,"hide-details":t.hideDetails,"item-text":t.itemText,"item-value":t.itemValue,"small-chips":t.multiple||t.chips,"deletable-chips":t.multiple,hint:t.hint,"persistent-hint":t.persistentHint,chips:t.chips,solo:t.solo,flat:t.flat,"cache-items":t.cacheItems,placeholder:t.placeholder,dense:t.dense,"hide-selected":"","hide-no-data":""},on:{"update:searchInput":function(e){t.search=e},"update:search-input":function(e){t.search=e},focus:t.populateOnFocus,keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.searchText())},change:t.updateState,blur:function(e){return t.$emit("blur")}},scopedSlots:t._u([{key:"selection",fn:function(e){return[t._t("selection",(function(){return[t.itemText&&e.item?s("div",[t.multiple||t.chips?s("v-chip",{attrs:{close:(t.clearable||!t.clearable&&!t.multiple)&&!t.readonly,small:""},on:{"click:close":function(s){return t.remove(e.item)}}},[e.item[t.itemText]?s("div",[e.item[t.itemText].length>40?s("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(a){var i=a.on;return[s("span",t._g({},i),[t._v(" "+t._s(t._f("truncate")(e.item[t.itemText],40)))])]}}],null,!0)},[s("span",[t._v(t._s(e.item[t.itemText]))])]):s("span",[t._v(t._s(e.item[t.itemText]))])],1):s("div",[s("span",[t._v(t._s(e.item))])])]):s("div",[e.item[t.itemText]?s("div",[e.item[t.itemText].length>40?s("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(a){var i=a.on;return[s("span",t._g({},i),[t._v(" "+t._s(t._f("truncate")(e.item[t.itemText],40)))])]}}],null,!0)},[s("span",[t._v(t._s(e.item[t.itemText]))])]):s("span",[t._v(t._s(e.item[t.itemText]))])],1):s("div",[s("span",[t._v(t._s(e.item))])])])],1):t._e()]}),{props:e})]}},{key:"item",fn:function(e){return[s("v-list-item-content",[s("v-list-item-title",[t._t("item",(function(){return[t.itemText&&e.item?s("div",[e.item[t.itemText]?s("div",[e.item[t.itemText].length>40?s("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(a){var i=a.on;return[s("span",t._g({},i),[t._v(" "+t._s(t._f("truncate")(e.item[t.itemText],40)))])]}}],null,!0)},[s("span",[t._v(t._s(e.item[t.itemText]))])]):s("span",[t._v(t._s(e.item[t.itemText]))])],1):s("div",[s("span",[t._v(t._s(e.item))])])]):t._e()]}),{props:e})],2)],1)]}},{key:"append-item",fn:function(){return[!t.fullyLoaded&&t.showMoreIcon?s("div",[s("v-list-item-content",{staticClass:"px-4 pointer primary--text font-weight-bold"},[s("v-list-item-title",{on:{click:function(e){return t.fetchData()}}},[t._v(" Load More Items ... ")])],1)],1):t._e()]},proxy:!0}],null,!0),model:{value:t.selectedData,callback:function(e){t.selectedData=e},expression:"selectedData"}}),t._t("default")],2)},i=[],n=s("2909"),r=s("5530"),o=s("53ca"),l=s("1da1"),c=(s("96cf"),s("a9e3"),s("ac1f"),s("841c"),s("7db0"),s("d81d"),s("159b"),s("4de4"),s("4e827"),s("2ca0"),s("d3b7"),s("c740"),s("a434"),s("3ca3"),s("ddb0"),s("2b3d"),s("caad"),s("2532"),s("63ea")),u=s.n(c),d={props:{value:{type:[Number,String,Array,Object],default:void 0},id:{type:String,default:""},dataCyVariable:{type:String,default:""},endpoint:{type:String,default:""},itemText:{type:String,required:!0},itemValue:{type:String,required:!0},params:{type:Object,required:!1,default:function(){return{}}},itemsToExclude:{type:[Array,Number],default:null},forceFetch:{type:Boolean,default:!1},staticItems:{type:Array,default:function(){return[]}},errorMessages:{type:[String,Array],default:function(){return[]}},label:{type:String,default:""},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},hint:{type:String,default:void 0},persistentHint:{type:Boolean,required:!1,default:!1},multiple:{type:Boolean,required:!1,default:!1},clearable:{type:Boolean,default:!0},hideDetails:{type:Boolean,default:!1},solo:{type:Boolean,default:!1},flat:{type:Boolean,default:!1},chips:{type:Boolean,default:!1},prependInnerIcon:{type:String,default:void 0},cacheItems:{type:Boolean,default:!1},appliedClass:{type:String,default:""},placeholder:{type:String,default:""},dense:{type:Boolean,default:!1}},data:function(){return{componentKey:0,items:[],selectedData:null,search:null,initialFetchStarted:!1,nextLimit:null,nextOffset:null,showMoreIcon:!1,fullyLoaded:!1,isLoading:!1}},computed:{itemsSorted:function(){return this.sortBySearch(this.items,this.search?this.search.toLowerCase():"")}},watch:{value:{handler:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(e){var s,a,i,n,r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e){t.next=10;break}if(!this.forceFetch||this.initialFetchStarted){t.next=6;break}return this.initialFetchStarted=!0,t.next=5,this.fetchData();case 5:this.removeDuplicateItem();case 6:Array.isArray(e)?(i=[],"object"===Object(o["a"])(e[0])?(this.selectedData=e.map((function(t){return t[r.itemValue]})),e.forEach((function(t){var e=r.items.find((function(e){return e===t}));e||i.push(t)}))):(e.forEach((function(t){var e=r.items.find((function(e){return e[r.itemValue]===t}));e||i.push(t)})),this.selectedData=e),i.length>0&&(n=this.items).push.apply(n,i)):"object"===Object(o["a"])(e)?(this.selectedData=e[this.itemValue],s=this.items.find((function(t){return t[r.itemValue]===e})),s||this.items.push(e)):(this.selectedData=e,a=this.items.find((function(t){return t===e})),a||this.items.push(e)),this.updateData(this.selectedData),t.next=11;break;case 10:e||(this.selectedData=null);case 11:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),immediate:!0},selectedData:function(t){this.updateData(t)},params:{handler:function(t,e){u()(t,e)||(this.fullyLoaded=!1,this.initialFetchStarted=!1,this.items=[],this.componentKey+=1)},deep:!0}},methods:{sortBySearch:function(t,e){var s=this.itemText,a=t.filter((function(t){return"object"===Object(o["a"])(t)}));return a.sort((function(t,a){return t[s].toLowerCase().startsWith(e)&&a[s].toLowerCase().startsWith(e)?t[s].toLowerCase().localeCompare(a[s].toLowerCase()):t[s].toLowerCase().startsWith(e)?-1:a[s].toLowerCase().startsWith(e)?1:t[s].toLowerCase().localeCompare(a[s].toLowerCase())}))},populateOnFocus:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.initialFetchStarted){e.next=2;break}return e.abrupt("return");case 2:return t.initialFetchStarted=!0,e.next=5,t.fetchData();case 5:t.removeDuplicateItem();case 6:case"end":return e.stop()}}),e)})))()},fetchData:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(t.staticItems.length>0)){e.next=3;break}return t.items=t.staticItems,e.abrupt("return");case 3:return s=t.nextLimit,a=t.nextOffset,t.search&&(s=null,a=null),t.isLoading=!0,e.next=9,t.$http.get(t.endpoint,{params:Object(r["a"])(Object(r["a"])({},t.params),{},{search:t.search,limit:s,offset:a})}).then((function(e){var s;e.results||(e.results=e),e.next?(t.showMoreIcon=!0,t.extractLimitOffset(e.next)):(t.showMoreIcon=!1,t.search||(t.fullyLoaded=!0)),t.itemsToExclude&&(e.results=t.excludeRecord(e.results)),(s=t.items).push.apply(s,Object(n["a"])(e.results))})).finally((function(){t.isLoading=!1}));case 9:case"end":return e.stop()}}),e)})))()},removeDuplicateItem:function(){var t=this,e=this.items.indexOf(this.selectedData);if(e>=0){var s=this.items.findIndex((function(e){return e[t.itemValue]===t.selectedData}));s>=0&&(this.items.splice(e,1),this.componentKey+=1)}},updateData:function(t){var e=this,s=[];t instanceof Array?t.forEach((function(t){s.unshift(e.items.find((function(s){return s[e.itemValue]===t})))})):s=this.items.find((function(s){return s[e.itemValue]===t})),this.$emit("input",t),this.$emit("update:selectedFullData",s)},searchText:function(){0!==this.$refs.autoComplete.filteredItems.length||this.fullyLoaded||this.fetchData()},extractLimitOffset:function(t){var e=new URL(t);this.nextLimit=e.searchParams.get("limit"),this.nextOffset=e.searchParams.get("offset")},excludeRecord:function(t){var e=this,s=[];return"number"===typeof this.itemsToExclude?s.push(this.itemsToExclude):s=this.itemsToExclude,t.filter((function(t){if(t[e.itemValue])return!s.includes(t[e.itemValue])}))},remove:function(t){if(this.selectedData instanceof Object){var e=this.selectedData.indexOf(t[this.itemValue]);e>=0&&this.selectedData.splice(e,1)}else this.selectedData=null},updateState:function(){this.search="",this.nextLimit&&(this.showMoreIcon=!0)}}},m=d,p=s("2877"),h=s("6544"),f=s.n(h),v=s("c6a6"),g=s("cc20"),b=s("5d23"),y=s("3a2f"),_=Object(p["a"])(m,a,i,!1,null,null,null);e["default"]=_.exports;f()(_,{VAutocomplete:v["a"],VChip:g["a"],VListItemContent:b["a"],VListItemTitle:b["c"],VTooltip:y["a"]})},"67b6":function(t,e,s){"use strict";var a=s("5530"),i=(s("b0c0"),s("2c64"),s("ba87")),n=s("9d26"),r=s("c37a"),o=s("7e2b"),l=s("a9ad"),c=s("4e82"),u=s("5311"),d=s("7560"),m=s("fe09"),p=s("80d2"),h=s("58df"),f=s("d9f7"),v=Object(h["a"])(o["a"],l["a"],u["a"],Object(c["a"])("radioGroup"),d["a"]);e["a"]=v.extend().extend({name:"v-radio",inheritAttrs:!1,props:{disabled:Boolean,id:String,label:String,name:String,offIcon:{type:String,default:"$radioOff"},onIcon:{type:String,default:"$radioOn"},readonly:Boolean,value:{default:null}},data:function(){return{isFocused:!1}},computed:{classes:function(){return Object(a["a"])(Object(a["a"])({"v-radio--is-disabled":this.isDisabled,"v-radio--is-focused":this.isFocused},this.themeClasses),this.groupClasses)},computedColor:function(){return m["a"].options.computed.computedColor.call(this)},computedIcon:function(){return this.isActive?this.onIcon:this.offIcon},computedId:function(){return r["a"].options.computed.computedId.call(this)},hasLabel:r["a"].options.computed.hasLabel,hasState:function(){return(this.radioGroup||{}).hasState},isDisabled:function(){return this.disabled||!!this.radioGroup&&this.radioGroup.isDisabled},isReadonly:function(){return this.readonly||!!this.radioGroup&&this.radioGroup.isReadonly},computedName:function(){return this.name||!this.radioGroup?this.name:this.radioGroup.name||"radio-".concat(this.radioGroup._uid)},rippleState:function(){return m["a"].options.computed.rippleState.call(this)},validationState:function(){return(this.radioGroup||{}).validationState||this.computedColor}},methods:{genInput:function(t){return m["a"].options.methods.genInput.call(this,"radio",t)},genLabel:function(){return this.hasLabel?this.$createElement(i["a"],{on:{click:m["b"]},attrs:{for:this.computedId},props:{color:this.validationState,focused:this.hasState}},Object(p["s"])(this,"label")||this.label):null},genRadio:function(){return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.$createElement(n["a"],this.setTextColor(this.validationState,{props:{dense:this.radioGroup&&this.radioGroup.dense}}),this.computedIcon),this.genInput(Object(a["a"])({name:this.computedName,value:this.value},this.attrs$)),this.genRipple(this.setTextColor(this.rippleState))])},onFocus:function(t){this.isFocused=!0,this.$emit("focus",t)},onBlur:function(t){this.isFocused=!1,this.$emit("blur",t)},onChange:function(){this.isDisabled||this.isReadonly||this.isActive||this.toggle()},onKeydown:function(){}},render:function(t){var e={staticClass:"v-radio",class:this.classes,on:Object(f["c"])({click:this.onChange},this.listeners$)};return t("div",e,[this.genRadio(),this.genLabel()])}})},"878b":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("v-card-actions",[s("v-spacer"),t.hideClear?t._e():s("v-btn",{attrs:{text:"",small:""},domProps:{textContent:t._s("Clear")},on:{click:function(e){return t.$emit("clearForm")}}}),s("v-btn",{attrs:{disabled:t.formErrors||t.disabled,color:t.deleteInstance?"red":"primary",depressed:"",small:"",loading:t.loading,type:"submit"}},[s("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[t._v(" mdi-content-save-outline ")]),t._v(" "+t._s(t.deleteInstance?"Delete":"Save")+" ")],1)],1)],1)},i=[],n={props:{hideClear:{type:Boolean,default:!1},formErrors:{type:Boolean,required:!0},disabled:{type:Boolean,default:!1},deleteInstance:{type:Boolean,required:!1,default:!1},loading:{type:Boolean,default:!1}}},r=n,o=s("2877"),l=s("6544"),c=s.n(l),u=s("8336"),d=s("99d9"),m=s("132d"),p=s("2fa4"),h=Object(o["a"])(r,a,i,!1,null,null,null);e["a"]=h.exports;c()(h,{VBtn:u["a"],VCardActions:d["a"],VIcon:m["a"],VSpacer:p["a"]})},9677:function(t,e,s){"use strict";s("e77e")},c197:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:t.divClass},[s("v-img",{class:t.imgClass,attrs:{src:"/svg/three-dots.svg",height:t.height,contain:""}}),s("h3",{staticClass:"text-center grey--text",domProps:{textContent:t._s(t.message)}})],1)},i=[],n={props:{message:{type:String,default:"Please wait. Fetching data just for you ..."},divClass:{type:String,default:"pa-12"},imgClass:{type:String,default:"my-6"},height:{type:String,default:"20"}},data:function(){return{}}},r=n,o=s("2877"),l=s("6544"),c=s.n(l),u=s("adda"),d=Object(o["a"])(r,a,i,!1,null,null,null);e["default"]=d.exports;c()(d,{VImg:u["a"]})},e4bf:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.contextList.filter((function(t){return!t.hide})).length<3&&!t.hideIcons||t.showIcons?s("div",t._l(t.contextList,(function(e,a){return s("span",{key:a},[e.hide?t._e():s("v-tooltip",{attrs:{disabled:t.$vuetify.breakpoint.xs,top:""},scopedSlots:t._u([{key:"activator",fn:function(i){var n=i.on;return[s("v-btn",t._g({staticClass:"mx-0",attrs:{text:"",width:t.small?"18":"22",depressed:"",icon:""}},n),[s("v-icon",{attrs:{disabled:e.disabled,color:e.color,"data-cy":t.dataCyVariable+"btn-dropdown-menu-item-"+(a+1),dark:!e.disabled,small:t.small,size:"20",dense:""},domProps:{textContent:t._s(e.icon)},on:{click:function(e){return t.$emit("click"+a)}}})],1)]}}],null,!0)},[s("span",{domProps:{textContent:t._s(e.disabled&&e.disable_message||e.name)}})])],1)})),0):s("v-menu",{attrs:{"offset-y":"",left:"",transition:"slide-y-transition"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[s("v-btn",t._g({attrs:{small:"",text:"",icon:""}},a),[s("v-icon",{attrs:{"data-cy":"btn-dropdown-menu"},domProps:{textContent:t._s("mdi-dots-vertical")}})],1)]}}])},t._l(t.contextList,(function(e,a){return s("v-list",{key:a,staticClass:"pa-0",attrs:{dense:""}},[e.hide?t._e():s("div",[e.disabled?s("v-list-item",{attrs:{"data-cy":"btn-dropdown-menu-item"}},[s("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(a){var i=a.on;return[s("v-list-item-title",t._g({},i),[s("v-icon",{attrs:{disabled:"",small:"",color:e.color},domProps:{textContent:t._s(e.icon)}}),s("span",{staticClass:"ml-1 grey--text",domProps:{textContent:t._s(e.name)}})],1)]}}],null,!0)},[s("span",{domProps:{textContent:t._s(e.disabled&&e.disable_message||e.name)}})])],1):s("v-list-item",{attrs:{"data-cy":"btn-dropdown-menu-item"},on:{click:function(e){return t.$emit("click"+a)}}},[s("v-list-item-title",[s("v-icon",{attrs:{color:e.color,small:"",dense:""},domProps:{textContent:t._s(e.icon)}}),s("span",{staticClass:"ml-1",class:e.text_color,domProps:{textContent:t._s(e.name)}})],1)],1)],1)])})),1)],1)},i=[],n={name:"VueContextMenu",props:{contextList:{type:Array,default:function(){return[]}},dataCyVariable:{type:String,default:""},showIcons:{type:Boolean,default:!1},hideIcons:{type:Boolean,default:!1},small:{type:Boolean,default:!1}}},r=n,o=s("2877"),l=s("6544"),c=s.n(l),u=s("8336"),d=s("132d"),m=s("8860"),p=s("da13"),h=s("5d23"),f=s("e449"),v=s("3a2f"),g=Object(o["a"])(r,a,i,!1,null,"71ee785c",null);e["default"]=g.exports;c()(g,{VBtn:u["a"],VIcon:d["a"],VList:m["a"],VListItem:p["a"],VListItemTitle:h["c"],VMenu:f["a"],VTooltip:v["a"]})},e77e:function(t,e,s){}}]);