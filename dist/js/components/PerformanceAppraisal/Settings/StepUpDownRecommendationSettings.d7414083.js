(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["/components/PerformanceAppraisal/Settings/StepUpDownRecommendationSettings","chunk-da62e0c8","chunk-2d22d378"],{"1f0a":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("vue-card-title",{attrs:{title:"Step Up/Down Recommendation Condition Settings",subtitle:"Step Up/Down Recommendation Condition Settings",icon:"mdi-finance",closable:""},on:{close:function(t){return e.$emit("close")}}}),n("v-divider"),n("v-card-text",{staticClass:"scrollbar-md"},[e.nonFieldErrors?n("non-field-form-errors",{attrs:{"non-field-errors":e.nonFieldErrors}}):e._e(),n("v-row",[n("v-col",{attrs:{cols:"12"}},[e._l(e.formValues.recommendation_criteria,(function(t,a){return n("v-row",{key:a,attrs:{"no-gutters":"",align:"center"}},[n("v-col",{attrs:{md:"3",cols:"12"}},[n("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"px-2",attrs:{min:"1",type:"number","prepend-inner-icon":"mdi-chart-arc",suffix:"%"},model:{value:t.score_acquired_from,callback:function(n){e.$set(t,"score_acquired_from",e._n(n))},expression:"item.score_acquired_from"}},"v-text-field",e.veeValidate("score_acquired_from"+a,"Score Achieved is From"),!1))],1),n("v-col",{attrs:{md:"3",cols:"12"}},[n("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"px-2",attrs:{min:"1",type:"number","prepend-inner-icon":"mdi-chart-arc",suffix:"%"},model:{value:t.score_acquired_to,callback:function(n){e.$set(t,"score_acquired_to",e._n(n))},expression:"item.score_acquired_to"}},"v-text-field",e.veeValidate("score_acquired_to"+a,"Score Achieved is To"),!1))],1),n("v-col",{attrs:{md:"3",cols:"12"}},[n("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"px-2",attrs:{type:"number","prepend-inner-icon":"mdi-finance"},model:{value:t.change_step_by,callback:function(n){e.$set(t,"change_step_by",e._n(n))},expression:"item.change_step_by"}},"v-text-field",e.veeValidate("change_step_by"+a,"Change Step Order by"),!1))],1),n("v-col",{attrs:{md:"1",cols:"12"}},[e.formValues.recommendation_criteria.length>1?n("v-btn",{attrs:{icon:""},on:{click:function(t){return e.formValues.recommendation_criteria.splice(a,1)}}},[n("v-icon",{staticClass:"pointer",attrs:{color:"red"},domProps:{textContent:e._s("mdi-delete-outline")}})],1):e._e()],1)],1)})),n("v-row",{staticClass:"py-3",attrs:{"no-gutters":"",align:"center"}},[n("v-col",{attrs:{md:"12"}},[n("v-btn",{staticClass:"font-weight-bold",attrs:{text:"",small:"",color:"primary"},on:{click:function(t){return e.addNewRow()}}},[n("v-icon",{domProps:{textContent:e._s("mdi-plus-box-outline")}}),e._v(" Add Another ")],1)],1)],1)],2)],1)],1),n("v-divider"),n("v-card-actions",[n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{staticClass:"text-right"},[n("v-btn",{attrs:{small:"",text:""},on:{click:function(t){return e.$emit("close")}}},[e._v("Close")]),n("v-btn",{attrs:{color:"primary",small:""},on:{click:e.submitData}},[e._v(" Save ")])],1)],1)],1)],1)},r=[],i=n("1da1"),o=(n("96cf"),n("a9e3"),n("b0c0"),n("f12b")),c=n("a1b8"),s={mixins:[o["a"]],props:{appraisalId:{type:[String,Number],required:!0}},data:function(){return{formValues:{recommendation_criteria:[{score_acquired_from:0,score_acquired_to:0,change_step_by:0}]}}},created:function(){var e=this;this.crud.name="Step Up/Down Recommendation Condition Settings",this.getData(c["a"].getStepUpDownSettings(this.getOrganizationSlug,this.appraisalId)).then((function(t){t.results.length>0&&(e.formValues.recommendation_criteria=t.results)}))},methods:{submitData:function(){this.crud.message="Step Up/Down Recommendation Settings saved successfully.",this.insertData(c["a"].postStepUpDownSettings(this.getOrganizationSlug,this.appraisalId),this.formValues,{clearForm:!1})},addNewRow:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.validateAllFields();case 2:if(!t.sent){t.next=4;break}e.formValues.recommendation_criteria.push({score_acquired_from:0,score_acquired_to:0,change_step_by:0});case 4:case"end":return t.stop()}}),t)})))()}}},d=s,l=n("2877"),u=n("6544"),m=n.n(u),f=n("8336"),v=n("b0af"),p=n("99d9"),h=n("62ad"),g=n("ce7e"),_=n("132d"),b=n("0fd9b"),w=n("8654"),x=Object(l["a"])(d,a,r,!1,null,null,null);t["default"]=x.exports;m()(x,{VBtn:f["a"],VCard:v["a"],VCardActions:p["a"],VCardText:p["c"],VCol:h["a"],VDivider:g["a"],VIcon:_["a"],VRow:b["a"],VTextField:w["a"]})},"6c6f":function(e,t,n){"use strict";n("d3b7");t["a"]={data:function(){return{deleteNotification:{dialog:!1,heading:"Confirm Delete",text:"Are you sure you want to delete ?"}}},methods:{deleteData:function(e,t){var n=this;return new Promise((function(a,r){!n.loading&&e&&(n.loading=!0,n.$http.delete(e,t||{}).then((function(e){n.crud.message&&setTimeout((function(){n.notifyUser(n.crud.message)}),1e3),a(e),n.loading=!1})).catch((function(e){n.pushErrors(e),n.notifyInvalidFormResponse(),r(e),n.loading=!1})).finally((function(){n.deleteNotification.dialog=!1})))}))}}}},"983c":function(e,t,n){"use strict";n("d3b7");t["a"]={methods:{getData:function(e,t,n){var a=this,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Promise((function(i,o){!a.loading&&e&&(a.clearNonFieldErrors(),a.$validator.errors.clear(),a.loading=r,a.$http.get(e,n||{params:t||{}}).then((function(e){i(e),a.loading=!1})).catch((function(e){a.pushErrors(e),a.notifyInvalidFormResponse(),o(e),a.loading=!1})))}))},getBlockingData:function(e,t,n){var a=this;return new Promise((function(r,i){a.getData(e,t,n,!0).then((function(e){r(e)})).catch((function(e){i(e)}))}))}}}},f12b:function(e,t,n){"use strict";var a=n("f0d5"),r=n("983c"),i=n("f70a"),o=n("6c6f");t["a"]={mixins:[a["a"],r["a"],i["a"],o["a"]]}},f70a:function(e,t,n){"use strict";n("d3b7"),n("caad");t["a"]={methods:{insertData:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=a.validate,i=void 0===r||r,o=a.clearForm,c=void 0===o||o,s=arguments.length>3?arguments[3]:void 0;return new Promise((function(a,r){!n.loading&&e&&(n.clearErrors(),n.$validator.validateAll().then((function(o){i||(o=!0),o&&(n.loading=!0,n.$http.post(e,t,s||{}).then((function(e){n.clearErrors(),c&&(n.formValues={}),n.crud.addAnother||n.$emit("create"),n.crud.message&&setTimeout((function(){n.notifyUser(n.crud.message)}),1e3),a(e),n.loading=!1})).catch((function(e){n.pushErrors(e),n.notifyInvalidFormResponse(),r(e),n.loading=!1})))})))}))},patchData:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=a.validate,i=void 0===r||r,o=a.clearForm,c=void 0===o||o,s=arguments.length>3?arguments[3]:void 0;return new Promise((function(a,r){n.updateData(e,t,{validate:i,clearForm:c},"patch",s).then((function(e){a(e)})).catch((function(e){r(e)}))}))},putData:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=a.validate,i=void 0===r||r,o=a.clearForm,c=void 0===o||o,s=arguments.length>3?arguments[3]:void 0;return new Promise((function(a,r){n.updateData(e,t,{validate:i,clearForm:c},"put",s).then((function(e){a(e)})).catch((function(e){r(e)}))}))},updateData:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=a.validate,i=void 0===r||r,o=a.clearForm,c=void 0===o||o,s=arguments.length>3?arguments[3]:void 0,d=arguments.length>4?arguments[4]:void 0;return new Promise((function(a,r){!n.loading&&e&&["put","patch"].includes(s)&&(n.clearErrors(),n.$validator.validateAll().then((function(o){i||(o=!0),o&&(n.loading=!0,n.$http[s](e,t,d||{}).then((function(e){n.$emit("update"),n.clearErrors(),c&&(n.formValues={}),n.crud.message&&setTimeout((function(){n.notifyUser(n.crud.message)}),1e3),a(e),n.loading=!1})).catch((function(e){n.pushErrors(e),n.notifyInvalidFormResponse(),r(e),n.loading=!1})))})))}))},clearErrors:function(){this.clearNonFieldErrors(),this.$validator.errors.clear()}}}}}]);