(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["/components/PerformanceAppraisal/Settings/appraiser/peer-to-peer"],{"18b0":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("vue-card-title",{attrs:{title:"Peer To Peer Evaluators",subtitle:"Here you can view/edit peer to peer evaluators for employee",icon:"mdi-account-check-outline"}},[a("template",{slot:"actions"},[a("v-btn",{attrs:{icon:""},on:{click:function(e){t.showFilter=!t.showFilter}}},[a("v-icon",{attrs:{small:""},domProps:{textContent:t._s("mdi-filter-variant")}})],1)],1)],2),a("v-divider"),a("v-slide-y-transition",[a("div",{directives:[{name:"show",rawName:"v-show",value:t.showFilter,expression:"showFilter"}]},[a("pa-filters",{on:{filter:function(e){t.paFilter=e}}})],1)]),t.showFilter?a("v-divider"):t._e(),a("v-data-table",{attrs:{headers:t.heading,items:t.fetchedResults,"sort-desc":t.pagination.descending,"sort-by":t.pagination.sortBy,page:t.pagination.page,"items-per-page":t.pagination.rowsPerPage,"footer-props":t.footerProps,"server-items-length":t.pagination.totalItems,"mobile-breakpoint":0,"single-expand":"","must-sort":""},on:{"update:sortDesc":function(e){return t.$set(t.pagination,"descending",e)},"update:sort-desc":function(e){return t.$set(t.pagination,"descending",e)},"update:sortBy":function(e){return t.$set(t.pagination,"sortBy",e)},"update:sort-by":function(e){return t.$set(t.pagination,"sortBy",e)},"update:page":function(e){return t.$set(t.pagination,"page",e)},"update:itemsPerPage":function(e){return t.$set(t.pagination,"rowsPerPage",e)},"update:items-per-page":function(e){return t.$set(t.pagination,"rowsPerPage",e)}},scopedSlots:t._u([{key:"item",fn:function(e){return[a("tr",[a("td",[a("vue-user",{attrs:{user:e.item}})],1),a("td",[t._v(" "+t._s(e.item.no_of_evaluators)+" ")]),a("td",[a("div",{on:{click:function(a){t.selectedUser=e.item.appraisers,t.showUsersList=!0}}},[a("thumbnail-users",{attrs:{users:e.item.appraisers,"total-users":e.item.appraisers?e.item.appraisers.length:0}})],1)]),a("td",{attrs:{align:"center"}},[a("vue-context-menu",{attrs:{"context-list":[{name:"Edit Settings",icon:"mdi-pencil-outline",color:"info"}]},on:{click0:function(a){t.displayForm=!0,t.actionData=e.item}}})],1)])]}}])},[a("template",{slot:"no-data"},[a("data-table-no-data",{attrs:{loading:t.loading}})],1)],2),t.displayForm?a("v-dialog",{attrs:{width:"960",scrollable:"",presistent:""},on:{keydown:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;t.displayForm=!1}},model:{value:t.displayForm,callback:function(e){t.displayForm=e},expression:"displayForm"}},[t.displayForm?a("peer-to-peer-edit-form",{attrs:{"action-data":t.actionData},on:{create:function(e){t.displayForm=!1,t.fetchDataTable()},close:function(e){t.displayForm=!1}}}):t._e()],1):t._e(),a("user-list-dialog",{attrs:{users:t.selectedUser,title:"All Evaluators"},on:{close:function(e){t.showUsersList=!1}},model:{value:t.showUsersList,callback:function(e){t.showUsersList=e},expression:"showUsersList"}})],1)},i=[],o=a("5530"),s=(a("d3b7"),a("3ca3"),a("ddb0"),a("a9e3"),a("8cd3")),r=a("a1b8"),l={components:{DataTableNoData:function(){return a.e("chunk-26c51c79").then(a.bind(null,"a51f"))},VueUser:function(){return Promise.resolve().then(a.bind(null,"02cb"))},UserListDialog:function(){return a.e("chunk-2d0e6279").then(a.bind(null,"9815"))},VueContextMenu:function(){return a.e("chunk-2d2259e9").then(a.bind(null,"e4bf"))},ThumbnailUsers:function(){return a.e("chunk-1b4245df").then(a.bind(null,"cde3"))},PaFilters:function(){return a.e("chunk-936ddf1a").then(a.bind(null,"8113"))},PeerToPeerEditForm:function(){return a.e("chunk-712754fa").then(a.bind(null,"13df"))}},mixins:[s["a"]],props:{appraisalId:{type:[String,Number],required:!0}},data:function(){return{displayForm:!1,actionData:{},showFilter:!1,paFilter:{},selectedUser:[],showUsersList:!1,heading:[{text:"Evaluatee Name",value:"full_name"},{text:"No. of Evaluators",value:"no_of_evaluators"},{text:"Evaluators",sortable:!1},{text:"Actions",align:"center",sortable:!1}]}},computed:{dataTableFilter:function(){return Object(o["a"])({},this.paFilter)}},created:function(){this.dataTableEndpoint=r["a"].getPeerToPeerAppraisalSettings(this.getOrganizationSlug,this.appraisalId)}},c=l,u=a("2877"),d=a("6544"),p=a.n(d),f=a("8336"),g=a("b0af"),h=a("8fea"),m=a("169a"),b=a("ce7e"),v=a("132d"),P=a("0789"),w=Object(u["a"])(c,n,i,!1,null,null,null);e["default"]=w.exports;p()(w,{VBtn:f["a"],VCard:g["a"],VDataTable:h["a"],VDialog:m["a"],VDivider:b["a"],VIcon:v["a"],VSlideYTransition:P["g"]})},"8cd3":function(t,e,a){"use strict";var n=a("5530"),i=(a("d3b7"),a("f0d5"));e["a"]={mixins:[i["a"]],data:function(){return{dataTableEndpoint:"",fetchedResults:[],response:null,footerProps:{itemsPerPageOptions:[10,20,30,40,50,100]},pagination:{sortBy:["modified_at"],descending:!1,totalItems:0,page:1,rowsPerPage:10,pageCount:0},loadTableOnInit:!0}},computed:{filterParams:function(){var t=Object(n["a"])(Object(n["a"])({},this.dataTableFilter),{},{offset:(this.pagination.page-1)*this.pagination.rowsPerPage,limit:this.pagination.rowsPerPage,ordering:this.pagination.descending?this.pagination.sortBy:"-"+this.pagination.sortBy});return this.convertToURLSearchParams(t,!1)}},watch:{filterParams:function(){var t=this;this.$nextTick((function(){t.fetchDataTable()}))},dataTableFilter:function(){this.pagination.page=1}},created:function(){var t=this;setTimeout((function(){t.loadTableOnInit&&t.fetchDataTable()}),0)},methods:{fetchDataTable:function(t,e){var a=this;return new Promise((function(n,i){!t&&!a.dataTableEndpoint||a.loading||(a.loadTableOnInit=!1,a.loading=!0,a.fetchedResults=[],a.$http.get(t||a.dataTableEndpoint,e||{params:a.filterParams}).then((function(t){a.response=t,a.fetchedResults=t.results,a.pagination.totalItems=t.count,a.processAfterTableLoad(t),n(t),a.loading=!1})).catch((function(t){a.pushErrors(t),a.notifyInvalidFormResponse(),i(t),a.loading=!1})))}))},processAfterTableLoad:function(){}}}}}]);