(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["/components/PerformanceAppraisal/Settings/ScoreAndScalingSettings","chunk-da62e0c8","chunk-2d22d378"],{"53a6":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",[n("vue-card-title",{attrs:{title:"Score and Scaling Settings",subtitle:"Score and Scaling Settings",icon:"mdi-chart-timeline-variant",closable:""},on:{close:function(e){return t.$emit("close")}}}),n("v-divider"),n("v-card-text",{staticClass:"scrollbar-md"},[t.nonFieldErrors?n("non-field-form-errors",{attrs:{"non-field-errors":t.nonFieldErrors}}):t._e(),n("v-row",[n("v-col",{attrs:{cols:"12"}},[t._l(t.formValues,(function(e,a){return n("v-row",{key:a,attrs:{"no-gutters":"",align:"center"}},[n("v-col",{staticClass:"text-center",attrs:{md:"2",cols:"12"}},[n("div",[t._v("Scale:")]),n("span",[t._v(t._s(e.scale))])]),n("v-col",{attrs:{md:"auto",cols:"12"}},[n("v-text-field",t._b({directives:[{name:"validate",rawName:"v-validate",value:"required|max:125",expression:"'required|max:125'"}],staticClass:"px-2",attrs:{counter:"125","prepend-inner-icon":"mdi-information-outline"},model:{value:e.name,callback:function(n){t.$set(e,"name",n)},expression:"item.name"}},"v-text-field",t.veeValidate("name"+a,"Scale Name *"),!1))],1),n("v-col",{attrs:{md:"3",cols:"12"}},[n("v-text-field",t._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"px-2",attrs:{min:"1",type:"number","prepend-inner-icon":"mdi-chart-arc"},model:{value:e.score,callback:function(n){t.$set(e,"score",t._n(n))},expression:"item.score"}},"v-text-field",t.veeValidate("score"+a,"Score *"),!1))],1),n("v-col",{attrs:{md:"1",cols:"12"}},[t.formValues.length>1?n("v-btn",{attrs:{icon:""},on:{click:function(e){return t.formValues.splice(a,1)}}},[n("v-icon",{staticClass:"pointer",attrs:{color:"red"},domProps:{textContent:t._s("mdi-delete-outline")}})],1):t._e()],1)],1)})),n("v-row",{staticClass:"py-3",attrs:{"no-gutters":"",align:"center"}},[n("v-col",{attrs:{md:"12"}},[n("v-btn",{staticClass:"font-weight-bold",attrs:{text:"",small:"",color:"primary"},on:{click:function(e){return t.addNewRow()}}},[n("v-icon",{domProps:{textContent:t._s("mdi-plus-box-outline")}}),t._v(" Add Another ")],1)],1)],1)],2)],1)],1),n("v-divider"),n("v-card-actions",[n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{staticClass:"text-right"},[n("v-btn",{attrs:{small:"",text:""},on:{click:function(e){return t.$emit("close")}}},[t._v("Close")]),n("v-btn",{attrs:{color:"primary",small:""},on:{click:t.submitData}},[t._v(" Save ")])],1)],1)],1)],1)},r=[],i=n("1da1"),o=(n("96cf"),n("a9e3"),n("159b"),n("b0c0"),n("f12b")),s=n("a1b8"),c={mixins:[o["a"]],props:{appraisalId:{type:[String,Number],required:!0}},data:function(){return{formValues:[{name:"",score:0,scale:1}]}},watch:{formValues:function(){this.formValues.forEach((function(t,e){t.scale=e+1}))}},created:function(){var t=this;this.crud.name="Score and Scaling Settings",this.getData(s["a"].getScoreAndScaling(this.getOrganizationSlug,this.appraisalId)).then((function(e){e.results.length>0&&(t.formValues=e.results.reverse())}))},methods:{submitData:function(){this.crud.message="Score and Scaling Settings saved successfully.",this.insertData(s["a"].postScoreAndScaling(this.getOrganizationSlug,this.appraisalId),this.formValues,{clearForm:!1})},addNewRow:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.validateAllFields();case 2:if(!e.sent){e.next=4;break}t.formValues.push({name:"",score:0,scale:""});case 4:case"end":return e.stop()}}),e)})))()}}},l=c,d=n("2877"),u=n("6544"),f=n.n(u),v=n("8336"),m=n("b0af"),h=n("99d9"),g=n("62ad"),p=n("ce7e"),b=n("132d"),w=n("0fd9b"),x=n("8654"),S=Object(d["a"])(l,a,r,!1,null,null,null);e["default"]=S.exports;f()(S,{VBtn:v["a"],VCard:m["a"],VCardActions:h["a"],VCardText:h["c"],VCol:g["a"],VDivider:p["a"],VIcon:b["a"],VRow:w["a"],VTextField:x["a"]})},"6c6f":function(t,e,n){"use strict";n("d3b7");e["a"]={data:function(){return{deleteNotification:{dialog:!1,heading:"Confirm Delete",text:"Are you sure you want to delete ?"}}},methods:{deleteData:function(t,e){var n=this;return new Promise((function(a,r){!n.loading&&t&&(n.loading=!0,n.$http.delete(t,e||{}).then((function(t){n.crud.message&&setTimeout((function(){n.notifyUser(n.crud.message)}),1e3),a(t),n.loading=!1})).catch((function(t){n.pushErrors(t),n.notifyInvalidFormResponse(),r(t),n.loading=!1})).finally((function(){n.deleteNotification.dialog=!1})))}))}}}},"983c":function(t,e,n){"use strict";n("d3b7");e["a"]={methods:{getData:function(t,e,n){var a=this,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Promise((function(i,o){!a.loading&&t&&(a.clearNonFieldErrors(),a.$validator.errors.clear(),a.loading=r,a.$http.get(t,n||{params:e||{}}).then((function(t){i(t),a.loading=!1})).catch((function(t){a.pushErrors(t),a.notifyInvalidFormResponse(),o(t),a.loading=!1})))}))},getBlockingData:function(t,e,n){var a=this;return new Promise((function(r,i){a.getData(t,e,n,!0).then((function(t){r(t)})).catch((function(t){i(t)}))}))}}}},f12b:function(t,e,n){"use strict";var a=n("f0d5"),r=n("983c"),i=n("f70a"),o=n("6c6f");e["a"]={mixins:[a["a"],r["a"],i["a"],o["a"]]}},f70a:function(t,e,n){"use strict";n("d3b7"),n("caad");e["a"]={methods:{insertData:function(t,e){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=a.validate,i=void 0===r||r,o=a.clearForm,s=void 0===o||o,c=arguments.length>3?arguments[3]:void 0;return new Promise((function(a,r){!n.loading&&t&&(n.clearErrors(),n.$validator.validateAll().then((function(o){i||(o=!0),o&&(n.loading=!0,n.$http.post(t,e,c||{}).then((function(t){n.clearErrors(),s&&(n.formValues={}),n.crud.addAnother||n.$emit("create"),n.crud.message&&setTimeout((function(){n.notifyUser(n.crud.message)}),1e3),a(t),n.loading=!1})).catch((function(t){n.pushErrors(t),n.notifyInvalidFormResponse(),r(t),n.loading=!1})))})))}))},patchData:function(t,e){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=a.validate,i=void 0===r||r,o=a.clearForm,s=void 0===o||o,c=arguments.length>3?arguments[3]:void 0;return new Promise((function(a,r){n.updateData(t,e,{validate:i,clearForm:s},"patch",c).then((function(t){a(t)})).catch((function(t){r(t)}))}))},putData:function(t,e){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=a.validate,i=void 0===r||r,o=a.clearForm,s=void 0===o||o,c=arguments.length>3?arguments[3]:void 0;return new Promise((function(a,r){n.updateData(t,e,{validate:i,clearForm:s},"put",c).then((function(t){a(t)})).catch((function(t){r(t)}))}))},updateData:function(t,e){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=a.validate,i=void 0===r||r,o=a.clearForm,s=void 0===o||o,c=arguments.length>3?arguments[3]:void 0,l=arguments.length>4?arguments[4]:void 0;return new Promise((function(a,r){!n.loading&&t&&["put","patch"].includes(c)&&(n.clearErrors(),n.$validator.validateAll().then((function(o){i||(o=!0),o&&(n.loading=!0,n.$http[c](t,e,l||{}).then((function(t){n.$emit("update"),n.clearErrors(),s&&(n.formValues={}),n.crud.message&&setTimeout((function(){n.notifyUser(n.crud.message)}),1e3),a(t),n.loading=!1})).catch((function(t){n.pushErrors(t),n.notifyInvalidFormResponse(),r(t),n.loading=!1})))})))}))},clearErrors:function(){this.clearNonFieldErrors(),this.$validator.errors.clear()}}}}}]);