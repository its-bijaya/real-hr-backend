(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["/components/PerformanceAppraisal/Settings/Scores/SetDefaultScore","chunk-da62e0c8","chunk-2d22d378"],{"0955":function(a,e,t){"use strict";t.r(e);var r=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("v-card",[t("vue-card-title",{attrs:{title:"Set Default Score",subtitle:"Here you can set default score",icon:"mdi-chart-timeline-variant",closable:""},on:{close:function(e){return a.$emit("close")}}}),t("v-divider"),t("v-card-text",{staticClass:"scrollbar-md"},[a.nonFieldErrors?t("non-field-form-errors",{attrs:{"non-field-errors":a.nonFieldErrors}}):a._e(),a._l(a.formValues,(function(e,r){return t("v-row",{key:r,attrs:{dense:"","no-gutters":"",align:"center"}},[t("v-col",{staticClass:"mt-3",attrs:{md:"6",cols:"12"}},[t("span",{domProps:{textContent:a._s(a.question_name_mapper[e.question_type])}})]),t("v-col",{attrs:{md:"6",cols:"12"}},["range"===e.scale_type?t("v-text-field",a._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"px-2",attrs:{"prepend-inner-icon":"mdi-information"},model:{value:e.score,callback:function(t){a.$set(e,"score",t)},expression:"item.score"}},"v-text-field",a.veeValidate("score","Score *"),!1)):a._e(),"grade"===e.scale_type?t("v-select",a._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{items:e.scores,"item-text":"name","item-value":"name","prepend-inner-icon":"mdi-information"},model:{value:e.grade_score,callback:function(t){a.$set(e,"grade_score",t)},expression:"item.grade_score"}},"v-select",a.veeValidate("grade_score","Grade Score *"),!1)):a._e(),"default"===e.scale_type?t("v-select",a._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{items:e.scores,"item-text":"name","item-value":"score","prepend-inner-icon":"mdi-information"},model:{value:e.score,callback:function(t){a.$set(e,"score",t)},expression:"item.score"}},"v-select",a.veeValidate("score","Score *"),!1)):a._e()],1)],1)}))],2),t("v-divider"),t("v-card-actions",[t("v-row",{attrs:{"no-gutters":""}},[t("v-col",{staticClass:"text-right"},[t("v-btn",{attrs:{small:"",text:""},on:{click:function(e){return a.$emit("close")}}},[a._v("Close")]),t("v-btn",{attrs:{color:"primary",small:""},on:{click:function(e){return a.createScore()}}},[a._v(" "+a._s(a.update?"update":"Save")+" ")])],1)],1)],1)],1)},n=[],o=(t("a9e3"),t("d81d"),t("f12b")),i=t("a1b8"),s=t("931c"),c={mixins:[o["a"]],props:{appraisalId:{type:[String,Number],required:!0}},data:function(){return{formValues:[{sub_performance_appraisal_slot:this.appraisalId,grade_score:null,score:null,question_type:"kpi"},{sub_performance_appraisal_slot:this.appraisalId,grade_score:null,score:null,question_type:"ksa"}],question_type_mapper:{ksa:"ksao",kpi:"kpi"},question_name_mapper:{kpi:"Key Performance Indicator:",ksa:"Knowledge Skill Abilities & Other Attributes:"},update:!1}},created:function(){this.loadData()},methods:{loadData:function(){var a=this;this.getData(i["a"].kaarDefaultScore(this.getOrganizationSlug,this.appraisalId)).then((function(e){e.results.length&&(a.formValues=e.results,a.update=!0)})),this.getData(s["a"].assignKaarScoreSetting(this.getOrganizationSlug,this.appraisalId)).then((function(e){a.formValues=a.formValues.map((function(t){var r=a.question_type_mapper[t.question_type]||t.question_type,n=e.results[0][r];return t.scale_type=n.scale_type,"range"!==t.scale_type&&(t.scores=n.scores),t}))}))},createScore:function(){var a=this;this.crud.message=this.update?"Default Score updated successfully":"Default Score saved successfully";var e=i["a"].kaarDefaultScore(this.getOrganizationSlug,this.appraisalId)+"".concat(this.update?"bulk-update":"bulk-create");this.insertData(e,this.formValues,{clearForm:!1}).then((function(){a.loadData()}))}}},l=c,u=t("2877"),p=t("6544"),d=t.n(p),f=t("8336"),m=t("b0af"),v=t("99d9"),g=t("62ad"),h=t("ce7e"),y=t("0fd9b"),_=t("b974"),F=t("8654"),S=Object(u["a"])(l,r,n,!1,null,null,null);e["default"]=S.exports;d()(S,{VBtn:f["a"],VCard:m["a"],VCardActions:v["a"],VCardText:v["c"],VCol:g["a"],VDivider:h["a"],VRow:y["a"],VSelect:_["a"],VTextField:F["a"]})},"6c6f":function(a,e,t){"use strict";t("d3b7");e["a"]={data:function(){return{deleteNotification:{dialog:!1,heading:"Confirm Delete",text:"Are you sure you want to delete ?"}}},methods:{deleteData:function(a,e){var t=this;return new Promise((function(r,n){!t.loading&&a&&(t.loading=!0,t.$http.delete(a,e||{}).then((function(a){t.crud.message&&setTimeout((function(){t.notifyUser(t.crud.message)}),1e3),r(a),t.loading=!1})).catch((function(a){t.pushErrors(a),t.notifyInvalidFormResponse(),n(a),t.loading=!1})).finally((function(){t.deleteNotification.dialog=!1})))}))}}}},"931c":function(a,e,t){"use strict";t("99af");e["a"]={getFormSettings:function(a,e){return"/appraisal/".concat(a,"/year/slot/").concat(e,"/form-design/")},postFormSettings:function(a,e){return"/appraisal/".concat(a,"/year/slot/").concat(e,"/form-design/")},generateAppraiseeForms:function(a,e){return"/appraisal/".concat(a,"/year/slot/").concat(e,"/form-design/generate/question-set/")},getAppraiseeForms:function(a,e){return"appraisal/".concat(a,"/year/slot/").concat(e,"/question-set/count/")},getAppraiseeFormsById:function(a,e,t){return"appraisal/".concat(a,"/year/slot/").concat(e,"/appraisee/").concat(t,"/appraiser/")},getAppraiserFormsById:function(a,e,t){return"appraisal/".concat(a,"/year/slot/").concat(e,"/appraiser/").concat(t,"/appraisee/")},postAppraisedForm:function(a,e,t,r){return"appraisal/".concat(a,"/year/slot/").concat(e,"/appraiser/").concat(t,"/appraisee/").concat(r,"/answer/")},approveAppraisedForm:function(a,e,t,r){return"appraisal/".concat(a,"/year/slot/").concat(e,"/appraisee/").concat(t,"/appraiser/").concat(r,"/approve/")},resendAppraisedForm:function(a,e,t,r){return"appraisal/".concat(a,"/year/slot/").concat(e,"/appraisee/").concat(t,"/appraiser/").concat(r,"/resend/")},getAppraiseeFormDetailForAppraiser:function(a,e,t,r){return"appraisal/".concat(a,"/year/slot/").concat(e,"/appraisee/").concat(t,"/appraiser/").concat(r,"/question-set/")},getFormSubmissionStatus:function(a,e){return"/appraisal/".concat(a,"/year/slot/").concat(e,"/question-set/statistics/")},getFormSubmissionList:function(a,e,t){return"/appraisal/".concat(a,"/year/slot/").concat(e,"/appraisee/").concat(t,"/appraiser/")},getFormApprovalStatus:function(a,e){return"/appraisal/".concat(a,"/year/slot/").concat(e,"/question-set/approval/")},updateAppraisalFormDates:function(a,e){return"/appraisal/".concat(a,"/year/slot/").concat(e,"/mode/update/date-parameters/")},sendAppraisalForms:function(a,e){return"appraisal/".concat(a,"/year/slot/").concat(e,"/form-design/send/question-set/")},getKaarFormSubmissionList:function(a,e){return"appraisal/".concat(a,"/year/slot/").concat(e,"/kaar-appraiser")},KaarFormSettings:function(a,e){return"/appraisal/".concat(a,"/year/slot/").concat(e,"/kaar-form-design/")},generateKaarAppraiseeForms:function(a,e){return"/appraisal/".concat(a,"/year/slot/").concat(e,"/kaar-form-design/generate/question-set/")},getKaarAppraiseeFormsCount:function(a,e){return"appraisal/".concat(a,"/year/slot/").concat(e,"/kaar-question-set/count/")},getKaarAppraiserConfig:function(a,e,t){return"appraisal/".concat(a,"/year/slot/").concat(e,"/kaar-appraiser/").concat(t,"/")},getKaarFormSubmissionStatus:function(a,e){return"/appraisal/".concat(a,"/year/slot/").concat(e,"/kaar-question-set/statistics/")},sendKaarAppraisalForms:function(a,e){return"appraisal/".concat(a,"/year/slot/").concat(e,"/kaar-form-design/send/question-set/")},postKaarAppraisedForm:function(a,e,t){return"appraisal/".concat(a,"/year/slot/").concat(e,"/kaar-appraiser/").concat(t,"/submit-answer/")},assignKaarScoreSetting:function(a,e){return"appraisal/".concat(a,"/year/slot/").concat(e,"/setting/kaar-scaling-setting/")},updateKaarScoreSetting:function(a,e,t){return"appraisal/".concat(a,"/year/slot/").concat(e,"/setting/kaar-scaling-setting/").concat(t)},supervisorEvaluation:function(a,e){return"appraisal/".concat(a,"/year/slot/").concat(e,"/supervisor-evaluation")},reviewerEvaluation:function(a,e){return"appraisal/".concat(a,"/year/slot/").concat(e,"/reviewer-evaluation")},updateReviewerEvaluation:function(a,e,t){return"appraisal/".concat(a,"/year/slot/").concat(e,"/reviewer-evaluation/").concat(t)},exportPaStatusReport:function(a,e){return"appraisal/".concat(a,"/year/slot/").concat(e,"/kaar-question-set/statistics/export")}}},"983c":function(a,e,t){"use strict";t("d3b7");e["a"]={methods:{getData:function(a,e,t){var r=this,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Promise((function(o,i){!r.loading&&a&&(r.clearNonFieldErrors(),r.$validator.errors.clear(),r.loading=n,r.$http.get(a,t||{params:e||{}}).then((function(a){o(a),r.loading=!1})).catch((function(a){r.pushErrors(a),r.notifyInvalidFormResponse(),i(a),r.loading=!1})))}))},getBlockingData:function(a,e,t){var r=this;return new Promise((function(n,o){r.getData(a,e,t,!0).then((function(a){n(a)})).catch((function(a){o(a)}))}))}}}},f12b:function(a,e,t){"use strict";var r=t("f0d5"),n=t("983c"),o=t("f70a"),i=t("6c6f");e["a"]={mixins:[r["a"],n["a"],o["a"],i["a"]]}},f70a:function(a,e,t){"use strict";t("d3b7"),t("caad");e["a"]={methods:{insertData:function(a,e){var t=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.validate,o=void 0===n||n,i=r.clearForm,s=void 0===i||i,c=arguments.length>3?arguments[3]:void 0;return new Promise((function(r,n){!t.loading&&a&&(t.clearErrors(),t.$validator.validateAll().then((function(i){o||(i=!0),i&&(t.loading=!0,t.$http.post(a,e,c||{}).then((function(a){t.clearErrors(),s&&(t.formValues={}),t.crud.addAnother||t.$emit("create"),t.crud.message&&setTimeout((function(){t.notifyUser(t.crud.message)}),1e3),r(a),t.loading=!1})).catch((function(a){t.pushErrors(a),t.notifyInvalidFormResponse(),n(a),t.loading=!1})))})))}))},patchData:function(a,e){var t=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.validate,o=void 0===n||n,i=r.clearForm,s=void 0===i||i,c=arguments.length>3?arguments[3]:void 0;return new Promise((function(r,n){t.updateData(a,e,{validate:o,clearForm:s},"patch",c).then((function(a){r(a)})).catch((function(a){n(a)}))}))},putData:function(a,e){var t=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.validate,o=void 0===n||n,i=r.clearForm,s=void 0===i||i,c=arguments.length>3?arguments[3]:void 0;return new Promise((function(r,n){t.updateData(a,e,{validate:o,clearForm:s},"put",c).then((function(a){r(a)})).catch((function(a){n(a)}))}))},updateData:function(a,e){var t=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.validate,o=void 0===n||n,i=r.clearForm,s=void 0===i||i,c=arguments.length>3?arguments[3]:void 0,l=arguments.length>4?arguments[4]:void 0;return new Promise((function(r,n){!t.loading&&a&&["put","patch"].includes(c)&&(t.clearErrors(),t.$validator.validateAll().then((function(i){o||(i=!0),i&&(t.loading=!0,t.$http[c](a,e,l||{}).then((function(a){t.$emit("update"),t.clearErrors(),s&&(t.formValues={}),t.crud.message&&setTimeout((function(){t.notifyUser(t.crud.message)}),1e3),r(a),t.loading=!1})).catch((function(a){t.pushErrors(a),t.notifyInvalidFormResponse(),n(a),t.loading=!1})))})))}))},clearErrors:function(){this.clearNonFieldErrors(),this.$validator.errors.clear()}}}}}]);