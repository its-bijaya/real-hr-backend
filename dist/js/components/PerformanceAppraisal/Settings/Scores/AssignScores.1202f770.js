(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["/components/PerformanceAppraisal/Settings/Scores/AssignScores","chunk-da62e0c8","chunk-2d22d378"],{"6c6f":function(t,a,e){"use strict";e("d3b7");a["a"]={data:function(){return{deleteNotification:{dialog:!1,heading:"Confirm Delete",text:"Are you sure you want to delete ?"}}},methods:{deleteData:function(t,a){var e=this;return new Promise((function(r,n){!e.loading&&t&&(e.loading=!0,e.$http.delete(t,a||{}).then((function(t){e.crud.message&&setTimeout((function(){e.notifyUser(e.crud.message)}),1e3),r(t),e.loading=!1})).catch((function(t){e.pushErrors(t),e.notifyInvalidFormResponse(),n(t),e.loading=!1})).finally((function(){e.deleteNotification.dialog=!1})))}))}}}},"88e1":function(t,a,e){"use strict";e.r(a);var r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-card",[e("vue-card-title",{attrs:{title:"Assign Score Setting",subtitle:"Here you can assign score setting",icon:"mdi-file-document-outline",closable:""},on:{close:function(a){return t.$emit("close")}}}),e("v-divider"),e("v-card-text",{staticClass:"scrollbar-md"},[t.nonFieldErrors?e("non-field-form-errors",{attrs:{"non-field-errors":t.nonFieldErrors}}):t._e(),e("v-row",{attrs:{"no-gutters":"",align:"center"}},[e("v-col",{attrs:{md:"6",cols:"12"}},[e("div",[t._v("Key Performance Indicator:")])]),e("v-col",{attrs:{md:"6",cols:"12"}},[e("v-select",t._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{items:t.scaleTypes,"item-value":"id","item-text":"title"},model:{value:t.formValues.kpi,callback:function(a){t.$set(t.formValues,"kpi",a)},expression:"formValues.kpi"}},"v-select",t.veeValidate("kpi","Select score type *"),!1))],1),e("v-col",{attrs:{md:"6",cols:"12"}},[e("div",[t._v("Knowledge Skill Abilities & Other Attributes:")])]),e("v-col",{attrs:{md:"6",cols:"12"}},[e("v-select",t._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{items:t.scaleTypes,"item-value":"id","item-text":"title"},model:{value:t.formValues.ksao,callback:function(a){t.$set(t.formValues,"ksao",a)},expression:"formValues.ksao"}},"v-select",t.veeValidate("ksao","Select score type *"),!1))],1),e("v-col",{attrs:{md:"6",cols:"12"}},[e("div",[t._v("Question Set For Appraisee:")])]),e("v-col",{attrs:{md:"6",cols:"12"}},[e("v-select",t._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{items:t.scaleTypes,"item-value":"id","item-text":"title"},model:{value:t.formValues.question_set,callback:function(a){t.$set(t.formValues,"question_set",a)},expression:"formValues.question_set"}},"v-select",t.veeValidate("question_set","Select score type *"),!1))],1)],1),e("v-divider"),e("v-card-actions",[e("v-row",{attrs:{"no-gutters":""}},[e("v-col",{staticClass:"text-right"},[e("v-btn",{attrs:{small:"",text:""},on:{click:function(a){return t.$emit("close")}}},[t._v("Cancel")]),t.formValues.id?e("v-btn",{attrs:{small:"",depressed:"",color:"primary"},on:{click:function(a){return t.updateScoreSetting()}}},[t._v("Update")]):e("v-btn",{attrs:{color:"primary",small:"",depressed:""},on:{click:function(a){return t.assignScoreSetting()}}},[t._v(" Save ")])],1)],1)],1)],1)],1)},n=[],o=(e("a9e3"),e("d81d"),e("f12b")),i=e("931c"),s=e("a1b8"),c={mixins:[o["a"]],props:{appraisalId:{type:[String,Number],required:!0}},data:function(){return{formValues:{sub_performance_appraisal_slot:this.appraisalId,kpi:null,ksao:null,question_set:null},scaleTypes:[]}},created:function(){this.loadSettingData()},methods:{loadSettingData:function(){var t=this;this.getData(s["a"].kaarScoreConfigSetting(this.getOrganizationSlug,this.appraisalId)).then((function(a){t.scaleTypes=a.results})),this.getData(i["a"].assignKaarScoreSetting(this.getOrganizationSlug,this.appraisalId)).then((function(a){a.results.length&&(t.formValues=a.results.map((function(t){return{id:t.id,sub_performance_appraisal_slot:t.sub_performance_appraisal_slot,kpi:t.kpi.id,ksao:t.ksao.id,question_set:t.question_set.id}}))[0])}))},assignScoreSetting:function(){var t=this;this.crud.message="Successfully assigned score setting",this.insertData(i["a"].assignKaarScoreSetting(this.getOrganizationSlug,this.appraisalId),this.formValues,{clearForm:!1}).then((function(){t.loadSettingData()}))},updateScoreSetting:function(){var t=this;this.crud.message="Successfully updated score setting",this.putData(i["a"].updateKaarScoreSetting(this.getOrganizationSlug,this.appraisalId,this.formValues.id),this.formValues,{clearForm:!1}).then((function(){t.loadSettingData()}))}}},l=c,u=e("2877"),p=e("6544"),d=e.n(p),f=e("8336"),m=e("b0af"),g=e("99d9"),v=e("62ad"),h=e("ce7e"),y=e("0fd9b"),S=e("b974"),F=Object(u["a"])(l,r,n,!1,null,null,null);a["default"]=F.exports;d()(F,{VBtn:f["a"],VCard:m["a"],VCardActions:g["a"],VCardText:g["c"],VCol:v["a"],VDivider:h["a"],VRow:y["a"],VSelect:S["a"]})},"931c":function(t,a,e){"use strict";e("99af");a["a"]={getFormSettings:function(t,a){return"/appraisal/".concat(t,"/year/slot/").concat(a,"/form-design/")},postFormSettings:function(t,a){return"/appraisal/".concat(t,"/year/slot/").concat(a,"/form-design/")},generateAppraiseeForms:function(t,a){return"/appraisal/".concat(t,"/year/slot/").concat(a,"/form-design/generate/question-set/")},getAppraiseeForms:function(t,a){return"appraisal/".concat(t,"/year/slot/").concat(a,"/question-set/count/")},getAppraiseeFormsById:function(t,a,e){return"appraisal/".concat(t,"/year/slot/").concat(a,"/appraisee/").concat(e,"/appraiser/")},getAppraiserFormsById:function(t,a,e){return"appraisal/".concat(t,"/year/slot/").concat(a,"/appraiser/").concat(e,"/appraisee/")},postAppraisedForm:function(t,a,e,r){return"appraisal/".concat(t,"/year/slot/").concat(a,"/appraiser/").concat(e,"/appraisee/").concat(r,"/answer/")},approveAppraisedForm:function(t,a,e,r){return"appraisal/".concat(t,"/year/slot/").concat(a,"/appraisee/").concat(e,"/appraiser/").concat(r,"/approve/")},resendAppraisedForm:function(t,a,e,r){return"appraisal/".concat(t,"/year/slot/").concat(a,"/appraisee/").concat(e,"/appraiser/").concat(r,"/resend/")},getAppraiseeFormDetailForAppraiser:function(t,a,e,r){return"appraisal/".concat(t,"/year/slot/").concat(a,"/appraisee/").concat(e,"/appraiser/").concat(r,"/question-set/")},getFormSubmissionStatus:function(t,a){return"/appraisal/".concat(t,"/year/slot/").concat(a,"/question-set/statistics/")},getFormSubmissionList:function(t,a,e){return"/appraisal/".concat(t,"/year/slot/").concat(a,"/appraisee/").concat(e,"/appraiser/")},getFormApprovalStatus:function(t,a){return"/appraisal/".concat(t,"/year/slot/").concat(a,"/question-set/approval/")},updateAppraisalFormDates:function(t,a){return"/appraisal/".concat(t,"/year/slot/").concat(a,"/mode/update/date-parameters/")},sendAppraisalForms:function(t,a){return"appraisal/".concat(t,"/year/slot/").concat(a,"/form-design/send/question-set/")},getKaarFormSubmissionList:function(t,a){return"appraisal/".concat(t,"/year/slot/").concat(a,"/kaar-appraiser")},KaarFormSettings:function(t,a){return"/appraisal/".concat(t,"/year/slot/").concat(a,"/kaar-form-design/")},generateKaarAppraiseeForms:function(t,a){return"/appraisal/".concat(t,"/year/slot/").concat(a,"/kaar-form-design/generate/question-set/")},getKaarAppraiseeFormsCount:function(t,a){return"appraisal/".concat(t,"/year/slot/").concat(a,"/kaar-question-set/count/")},getKaarAppraiserConfig:function(t,a,e){return"appraisal/".concat(t,"/year/slot/").concat(a,"/kaar-appraiser/").concat(e,"/")},getKaarFormSubmissionStatus:function(t,a){return"/appraisal/".concat(t,"/year/slot/").concat(a,"/kaar-question-set/statistics/")},sendKaarAppraisalForms:function(t,a){return"appraisal/".concat(t,"/year/slot/").concat(a,"/kaar-form-design/send/question-set/")},postKaarAppraisedForm:function(t,a,e){return"appraisal/".concat(t,"/year/slot/").concat(a,"/kaar-appraiser/").concat(e,"/submit-answer/")},assignKaarScoreSetting:function(t,a){return"appraisal/".concat(t,"/year/slot/").concat(a,"/setting/kaar-scaling-setting/")},updateKaarScoreSetting:function(t,a,e){return"appraisal/".concat(t,"/year/slot/").concat(a,"/setting/kaar-scaling-setting/").concat(e)},supervisorEvaluation:function(t,a){return"appraisal/".concat(t,"/year/slot/").concat(a,"/supervisor-evaluation")},reviewerEvaluation:function(t,a){return"appraisal/".concat(t,"/year/slot/").concat(a,"/reviewer-evaluation")},updateReviewerEvaluation:function(t,a,e){return"appraisal/".concat(t,"/year/slot/").concat(a,"/reviewer-evaluation/").concat(e)},exportPaStatusReport:function(t,a){return"appraisal/".concat(t,"/year/slot/").concat(a,"/kaar-question-set/statistics/export")}}},"983c":function(t,a,e){"use strict";e("d3b7");a["a"]={methods:{getData:function(t,a,e){var r=this,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Promise((function(o,i){!r.loading&&t&&(r.clearNonFieldErrors(),r.$validator.errors.clear(),r.loading=n,r.$http.get(t,e||{params:a||{}}).then((function(t){o(t),r.loading=!1})).catch((function(t){r.pushErrors(t),r.notifyInvalidFormResponse(),i(t),r.loading=!1})))}))},getBlockingData:function(t,a,e){var r=this;return new Promise((function(n,o){r.getData(t,a,e,!0).then((function(t){n(t)})).catch((function(t){o(t)}))}))}}}},f12b:function(t,a,e){"use strict";var r=e("f0d5"),n=e("983c"),o=e("f70a"),i=e("6c6f");a["a"]={mixins:[r["a"],n["a"],o["a"],i["a"]]}},f70a:function(t,a,e){"use strict";e("d3b7"),e("caad");a["a"]={methods:{insertData:function(t,a){var e=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.validate,o=void 0===n||n,i=r.clearForm,s=void 0===i||i,c=arguments.length>3?arguments[3]:void 0;return new Promise((function(r,n){!e.loading&&t&&(e.clearErrors(),e.$validator.validateAll().then((function(i){o||(i=!0),i&&(e.loading=!0,e.$http.post(t,a,c||{}).then((function(t){e.clearErrors(),s&&(e.formValues={}),e.crud.addAnother||e.$emit("create"),e.crud.message&&setTimeout((function(){e.notifyUser(e.crud.message)}),1e3),r(t),e.loading=!1})).catch((function(t){e.pushErrors(t),e.notifyInvalidFormResponse(),n(t),e.loading=!1})))})))}))},patchData:function(t,a){var e=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.validate,o=void 0===n||n,i=r.clearForm,s=void 0===i||i,c=arguments.length>3?arguments[3]:void 0;return new Promise((function(r,n){e.updateData(t,a,{validate:o,clearForm:s},"patch",c).then((function(t){r(t)})).catch((function(t){n(t)}))}))},putData:function(t,a){var e=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.validate,o=void 0===n||n,i=r.clearForm,s=void 0===i||i,c=arguments.length>3?arguments[3]:void 0;return new Promise((function(r,n){e.updateData(t,a,{validate:o,clearForm:s},"put",c).then((function(t){r(t)})).catch((function(t){n(t)}))}))},updateData:function(t,a){var e=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.validate,o=void 0===n||n,i=r.clearForm,s=void 0===i||i,c=arguments.length>3?arguments[3]:void 0,l=arguments.length>4?arguments[4]:void 0;return new Promise((function(r,n){!e.loading&&t&&["put","patch"].includes(c)&&(e.clearErrors(),e.$validator.validateAll().then((function(i){o||(i=!0),i&&(e.loading=!0,e.$http[c](t,a,l||{}).then((function(t){e.$emit("update"),e.clearErrors(),s&&(e.formValues={}),e.crud.message&&setTimeout((function(){e.notifyUser(e.crud.message)}),1e3),r(t),e.loading=!1})).catch((function(t){e.pushErrors(t),e.notifyInvalidFormResponse(),n(t),e.loading=!1})))})))}))},clearErrors:function(){this.clearNonFieldErrors(),this.$validator.errors.clear()}}}}}]);