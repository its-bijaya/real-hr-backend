(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-08e2221e"],{"1d4d":function(e,t,a){"use strict";a("a9e3"),a("c96a"),a("d81d"),a("696f");var n=a("9d26"),r=a("a9ad"),i=a("16b7"),s=a("af2b"),o=a("5311"),l=a("7560"),u=a("80d2"),c=a("58df");t["a"]=Object(c["a"])(r["a"],i["a"],o["a"],s["a"],l["a"]).extend({name:"v-rating",props:{backgroundColor:{type:String,default:"accent"},color:{type:String,default:"primary"},clearable:Boolean,dense:Boolean,emptyIcon:{type:String,default:"$ratingEmpty"},fullIcon:{type:String,default:"$ratingFull"},halfIcon:{type:String,default:"$ratingHalf"},halfIncrements:Boolean,hover:Boolean,length:{type:[Number,String],default:5},readonly:Boolean,size:[Number,String],value:{type:Number,default:0},iconLabel:{type:String,default:"$vuetify.rating.ariaLabel.icon"}},data:function(){return{hoverIndex:-1,internalValue:this.value}},computed:{directives:function(){return this.readonly||!this.ripple?[]:[{name:"ripple",value:{circle:!0}}]},iconProps:function(){var e=this.$props,t=e.dark,a=e.large,n=e.light,r=e.medium,i=e.small,s=e.size,o=e.xLarge,l=e.xSmall;return{dark:t,large:a,light:n,medium:r,size:s,small:i,xLarge:o,xSmall:l}},isHovering:function(){return this.hover&&this.hoverIndex>=0}},watch:{internalValue:function(e){e!==this.value&&this.$emit("input",e)},value:function(e){this.internalValue=e}},methods:{createClickFn:function(e){var t=this;return function(a){if(!t.readonly){var n=t.genHoverIndex(a,e);t.clearable&&t.internalValue===n?t.internalValue=0:t.internalValue=n}}},createProps:function(e){var t={index:e,value:this.internalValue,click:this.createClickFn(e),isFilled:Math.floor(this.internalValue)>e,isHovered:Math.floor(this.hoverIndex)>e};return this.halfIncrements&&(t.isHalfHovered=!t.isHovered&&(this.hoverIndex-e)%1>0,t.isHalfFilled=!t.isFilled&&(this.internalValue-e)%1>0),t},genHoverIndex:function(e,t){var a=this.isHalfEvent(e);return this.halfIncrements&&this.$vuetify.rtl&&(a=!a),t+(a?.5:1)},getIconName:function(e){var t=this.isHovering?e.isHovered:e.isFilled,a=this.isHovering?e.isHalfHovered:e.isHalfFilled;return t?this.fullIcon:a?this.halfIcon:this.emptyIcon},getColor:function(e){if(this.isHovering){if(e.isHovered||e.isHalfHovered)return this.color}else if(e.isFilled||e.isHalfFilled)return this.color;return this.backgroundColor},isHalfEvent:function(e){if(this.halfIncrements){var t=e.target&&e.target.getBoundingClientRect();if(t&&e.pageX-t.left<t.width/2)return!0}return!1},onMouseEnter:function(e,t){var a=this;this.runDelay("open",(function(){a.hoverIndex=a.genHoverIndex(e,t)}))},onMouseLeave:function(){var e=this;this.runDelay("close",(function(){return e.hoverIndex=-1}))},genItem:function(e){var t=this,a=this.createProps(e);if(this.$scopedSlots.item)return this.$scopedSlots.item(a);var r={click:a.click};return this.hover&&(r.mouseenter=function(a){return t.onMouseEnter(a,e)},r.mouseleave=this.onMouseLeave,this.halfIncrements&&(r.mousemove=function(a){return t.onMouseEnter(a,e)})),this.$createElement(n["a"],this.setTextColor(this.getColor(a),{attrs:{tabindex:-1,"aria-label":this.$vuetify.lang.t(this.iconLabel,e+1,Number(this.length))},directives:this.directives,props:this.iconProps,on:r}),[this.getIconName(a)])}},render:function(e){var t=this,a=Object(u["h"])(Number(this.length)).map((function(e){return t.genItem(e)}));return e("div",{staticClass:"v-rating",class:{"v-rating--readonly":this.readonly,"v-rating--dense":this.dense}},a)}})},6232:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("vue-card-title",{attrs:{title:"Language",subtitle:"Languages of "+e.userName,icon:"mdi-file-document-outline"}},[a("template",{slot:"actions"},[e.showForm||e.getAuthStateUserId!==parseInt(e.$route.params.id)&&!e.verifyPermission(e.allPermissions.CAN_CREATE_UPDATE_USER_PROFILE)||"supervisor"===e.as||e.loading?e._e():a("v-btn",{attrs:{small:"",color:"primary",depressed:""},on:{click:e.createLanguageDetails}},[e._v(" "+e._s(e.$t("createNew"))+" ")]),e.showForm?a("v-btn",{attrs:{small:"",outlined:"",color:"primary"},on:{click:e.refresh}},[e._v(" Cancel ")]):e._e()],1)],2),a("v-divider"),e.loading?a("v-row",e._l(6,(function(e){return a("v-col",{key:e,attrs:{cols:"6"}},[a("bullet-list-loader",{attrs:{"primary-color":"#eee","secondary-color":"#d5d5d7"}})],1)})),1):e._e(),e.languageDetails.length<1&&!e.showForm&&!e.loading?a("vue-no-data"):e._e(),0===e.languageDetails.length||e.showForm||e.loading?e._e():a("v-row",{staticClass:"px-6"},e._l(e.languageDetails,(function(t,n){return a("v-col",{key:n,attrs:{md:"6",sm:"12"}},[a("v-hover",{scopedSlots:e._u([{key:"default",fn:function(n){var r=n.hover;return a("v-col",{},[a("v-list-item",[a("v-list-item-avatar",{staticClass:"mr-0"},[a("v-icon",{attrs:{small:""},domProps:{textContent:e._s("mdi-web")}})],1),a("v-list-item-content",[a("v-list-item-title",[a("span",[e._v("Language Name")]),r&&(e.getAuthStateUserId===parseInt(e.$route.params.id)||e.verifyPermission(e.allPermissions.CAN_CREATE_UPDATE_USER_PROFILE))?a("v-icon",{staticClass:"mx-2",attrs:{small:""},domProps:{textContent:e._s("mdi-pencil")},on:{click:function(a){return e.editItem(t)}}}):e._e(),r&&(e.getAuthStateUserId===parseInt(e.$route.params.id)||e.verifyPermission(e.allPermissions.CAN_CREATE_UPDATE_USER_PROFILE))?a("v-icon",{attrs:{small:""},domProps:{textContent:e._s("mdi-delete")},on:{click:function(a){return e.deleteLanguage(t)}}}):e._e()],1),a("v-list-item-subtitle",[e._v(" "+e._s(t.name)+" "),t.native?a("span",[e._v(" ( Native ) ")]):e._e()])],1)],1),a("v-list-item",[a("v-list-item-avatar",{staticClass:"mr-0"},[a("v-icon",{attrs:{small:""},domProps:{textContent:e._s("mdi-text-box-outline")}})],1),a("v-list-item-content",[a("v-list-item-title",{domProps:{textContent:e._s("Reading")}}),a("v-list-item-subtitle",[a("v-rating",{attrs:{"background-color":"primary",readonly:"",small:""},model:{value:t.reading,callback:function(a){e.$set(t,"reading",a)},expression:"field.reading"}})],1)],1)],1),a("v-list-item",[a("v-list-item-avatar",{staticClass:"mr-0"},[a("v-icon",{attrs:{small:""},domProps:{textContent:e._s("mdi-account-voice")}})],1),a("v-list-item-content",[a("v-list-item-title",{domProps:{textContent:e._s("Speaking")}}),a("v-list-item-subtitle",[a("v-rating",{attrs:{"background-color":"primary",readonly:"",small:""},model:{value:t.speaking,callback:function(a){e.$set(t,"speaking",a)},expression:"field.speaking"}})],1)],1)],1),a("v-list-item",[a("v-list-item-avatar",{staticClass:"mr-0"},[a("v-icon",{attrs:{small:""},domProps:{textContent:e._s("mdi-ear-hearing")}})],1),a("v-list-item-content",[a("v-list-item-title",{domProps:{textContent:e._s("Listening")}}),a("v-list-item-subtitle",[a("v-rating",{attrs:{"background-color":"primary",readonly:"",small:""},model:{value:t.listening,callback:function(a){e.$set(t,"listening",a)},expression:"field.listening"}})],1)],1)],1),a("v-list-item",[a("v-list-item-avatar",{staticClass:"mr-0"},[a("v-icon",{attrs:{small:""},domProps:{textContent:e._s("mdi-fountain-pen-tip")}})],1),a("v-list-item-content",[a("v-list-item-title",{domProps:{textContent:e._s("Writing")}}),a("v-list-item-subtitle",[a("v-rating",{attrs:{"background-color":"primary",readonly:"",small:""},model:{value:t.writing,callback:function(a){e.$set(t,"writing",a)},expression:"field.writing"}})],1)],1)],1)],1)}}],null,!0)})],1)})),1),a("span",{directives:[{name:"show",rawName:"v-show",value:e.showForm&&!e.loading,expression:"showForm && !loading"}]},[a("language-details-form",{attrs:{"user-id":e.userInfo.user.id,"export-fields":e.currentItem,as:e.as},on:{created:e.refresh,updated:e.refresh}})],1),a("vue-notify",{attrs:{notify:e.notify}}),a("vue-dialog",{attrs:{notify:e.deleteDialog},on:{close:function(t){e.deleteDialog.dialog=!1},agree:e.deleteItem},model:{value:e.deleteDialog.dialog,callback:function(t){e.$set(e.deleteDialog,"dialog",t)},expression:"deleteDialog.dialog"}})],1)},r=[],i=a("1da1"),s=(a("159b"),a("96cf"),a("c44a")),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-form",[a("v-container",{staticClass:"px-12"},[e.nonFieldErrors?a("non-field-form-errors",{attrs:{"non-field-errors":e.nonFieldErrors}}):e._e(),a("v-row",[a("v-col",{attrs:{md:"6",sm:"12"}},[a("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required|max:100",expression:"'required|max:100'"}],attrs:{counter:100,"prepend-inner-icon":"mdi-file-document-outline"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}},"v-text-field",e.veeValidate("name","Name *"),!1))],1),a("v-col",{attrs:{md:"6",sm:"12"}},[a("v-select",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{items:e.skillChoices,"item-text":"text","item-value":"value","prepend-inner-icon":"mdi-account-voice"},model:{value:e.form.speaking,callback:function(t){e.$set(e.form,"speaking",t)},expression:"form.speaking"}},"v-select",e.veeValidate("speaking","Speaking *"),!1))],1),a("v-col",{attrs:{md:"6",sm:"12"}},[a("v-select",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{items:e.skillChoices,"item-text":"text","item-value":"value","prepend-inner-icon":"mdi-text-box-outline"},model:{value:e.form.reading,callback:function(t){e.$set(e.form,"reading",t)},expression:"form.reading"}},"v-select",e.veeValidate("reading","Reading *"),!1))],1),a("v-col",{attrs:{md:"6",sm:"12"}},[a("v-select",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{items:e.skillChoices,"item-text":"text","item-value":"value","prepend-inner-icon":"mdi-fountain-pen-tip"},model:{value:e.form.writing,callback:function(t){e.$set(e.form,"writing",t)},expression:"form.writing"}},"v-select",e.veeValidate("writing","Writing *"),!1))],1),a("v-col",{attrs:{md:"6",sm:"12"}},[a("v-select",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{items:e.skillChoices,"item-text":"text","item-value":"value","prepend-inner-icon":"mdi-ear-hearing"},model:{value:e.form.listening,callback:function(t){e.$set(e.form,"listening",t)},expression:"form.listening"}},"v-select",e.veeValidate("listening","Listening *"),!1))],1),a("v-col",{attrs:{md:"6",sm:"12"}},[a("v-checkbox",e._b({attrs:{label:"Native"},model:{value:e.form.native,callback:function(t){e.$set(e.form,"native",t)},expression:"form.native"}},"v-checkbox",e.veeValidate("native","Native"),!1))],1)],1)],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),e.editable?e._e():a("v-btn",{attrs:{disabled:e.errors.any(),depressed:"","data-cy":"btn-save-and-add-another",color:"primary"},on:{click:e.addAnother}},[e._v(" Save and Add Another ")]),e.editable?a("v-btn",{attrs:{disabled:e.errors.any(),depressed:"","data-cy":"btn-save",color:"primary"},on:{click:e.editItem}},[e._v(" Save ")]):a("v-btn",{attrs:{disabled:e.errors.any(),depressed:"","data-cy":"btn-save",color:"primary"},on:{click:e.createItem}},[e._v(" Save ")]),a("v-btn",{attrs:{depressed:""},domProps:{textContent:e._s("Clear")},on:{click:e.clear}})],1)],1)],1)},l=[],u=(a("a9e3"),a("d3b7"),a("ab8a")),c=(a("99af"),{getUserLanguages:function(e){return"/users/".concat(e,"/language/")},postUserLanguage:function(e){return"/users/".concat(e,"/language/")},getLanguageDetail:function(e,t){return"/users/".concat(e,"/language/").concat(t,"/")},updateLanguageDetail:function(e,t){return"/users/".concat(e,"/language/").concat(t,"/")},deleteUserLanguage:function(e,t){return"/users/".concat(e,"/language/").concat(t,"/")}}),d={components:{NonFieldFormErrors:u["default"]},mixins:[s["a"]],props:{userId:{type:Number,required:!0},exportFields:{type:Object,required:!0},as:{type:String,default:""}},data:function(){return{form:this.exportFields,editable:!1,saveAndAddAnother:!1,skillChoices:[{value:1,text:"Poor"},{value:2,text:"Average"},{value:3,text:"Good"},{value:4,text:"Very Good"},{value:5,text:"Excellent"}]}},watch:{exportFields:function(e){this.form=e,this.clearNonFieldErrors(),this.$validator.errors.clear(),this.editable=!!e.slug}},methods:{clear:function(){this.form={},this.$validator.errors.clear(),this.clearNonFieldErrors()},createItem:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.validateAllFields();case 2:if(!t.sent){t.next=4;break}e.$http.post(c.postUserLanguage(e.$route.params.id)+"?as=".concat(e.as),e.form).then((function(t){e.verifyPermission(e.allPermissions.CAN_CREATE_UPDATE_USER_PROFILE)&&e.$route.params.slug?(e.notifyUser("Successfully created Language details","green"),e.saveAndAddAnother?e.clear():e.$emit("created",t)):(e.notifyUser("Profile Change request has been sent","green"),e.saveAndAddAnother?e.clear():e.$router.push({name:"user-profile-change-request"}))})).catch((function(t){e.notifyInvalidFormResponse(),e.pushErrors(t)})).finally((function(){e.saveAndAddAnother=!1}));case 4:case"end":return t.stop()}}),t)})))()},editItem:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.validateAllFields();case 2:if(!t.sent){t.next=4;break}e.$http.put(c.updateLanguageDetail(e.$route.params.id,e.exportFields.slug)+"?as=".concat(e.as),e.form).then((function(){e.verifyPermission(e.allPermissions.CAN_CREATE_UPDATE_USER_PROFILE)&&e.$route.params.slug?(e.notifyUser("Successfully updated Language details","green"),e.$emit("updated")):(e.notifyUser("Profile Change request has been sent","green"),e.$router.push({name:"user-profile-change-request"}))})).catch((function(t){e.notifyInvalidFormResponse(),e.pushErrors(t)}));case 4:case"end":return t.stop()}}),t)})))()},addAnother:function(){this.saveAndAddAnother=!0,this.createItem()}}},m=d,v=a("2877"),g=a("6544"),f=a.n(g),h=a("8336"),p=a("b0af"),b=a("99d9"),x=a("ac7c"),y=a("62ad"),_=a("a523"),I=a("ce7e"),k=a("4bd4"),C=a("0fd9b"),w=a("b974"),E=a("2fa4"),L=a("8654"),A=Object(v["a"])(m,o,l,!1,null,null,null),F=A.exports;f()(A,{VBtn:h["a"],VCard:p["a"],VCardActions:b["a"],VCheckbox:x["a"],VCol:y["a"],VContainer:_["a"],VDivider:I["a"],VForm:k["a"],VRow:C["a"],VSelect:w["a"],VSpacer:E["a"],VTextField:L["a"]});var $=a("e330"),P=a("e585"),V={components:{LanguageDetailsForm:F,BulletListLoader:$["a"],VueNoData:P["default"]},mixins:[s["a"]],props:{userInfo:{type:Object,required:!0},as:{type:String,default:""}},data:function(){return{currentItem:{},showForm:!1,notify:{},showDetails:100,languageDetails:[],deleteDialog:{dialog:!1,heading:"Confirm Delete",text:"Do you really want to delete this Language information ?"},loading:!1}},computed:{userName:function(){return this.userInfo.user.first_name+" "+this.userInfo.user.middle_name+" "+this.userInfo.user.last_name}},mounted:function(){this.getUserLanguageDetails()},methods:{getUserLanguageDetails:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.loading=!0,e.$http.get(c.getUserLanguages(e.$route.params.id)+"?as=".concat(e.as)).then((function(t){e.languageDetails=[],e.putNativeLanguageAtFirst(t.results),e.loading=!1}));case 2:case"end":return t.stop()}}),t)})))()},putNativeLanguageAtFirst:function(e){var t=this,a=null;e.forEach((function(e){e.native?a=e:t.languageDetails.push(e)})),a&&this.languageDetails.unshift(a)},refresh:function(){this.getUserLanguageDetails(),this.showForm=!1,this.deleteDialog.dialog=!1,this.currentItem={}},createLanguageDetails:function(){this.showForm=!0,this.currentItem={}},editItem:function(e){this.currentItem=e,this.showForm=!0},deleteLanguage:function(e){this.currentItem=e,this.deleteDialog.dialog=!0},deleteItem:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$http.delete(c.deleteUserLanguage(e.$route.params.id,e.currentItem.slug)+"?as=".concat(e.as)).then((function(){e.verifyPermission(e.allPermissions.CAN_CREATE_UPDATE_USER_PROFILE)&&e.$route.params.slug?(e.notifyUser("Successfully deleted Language details","green"),e.refresh()):(e.notifyUser("Profile Change request has been sent","green"),e.$router.push({name:"user-profile-change-request"}))})).catch((function(t){e.pushErrors(t);var a=e.nonFieldErrors[0]["non field errors"];e.notifyUser(a,"red"),e.refresh()}));case 1:case"end":return t.stop()}}),t)})))()}}},D=V,S=a("ce87"),N=a("132d"),R=a("da13"),U=a("8270"),H=a("5d23"),q=a("1d4d"),O=Object(v["a"])(D,n,r,!1,null,null,null);t["default"]=O.exports;f()(O,{VBtn:h["a"],VCard:p["a"],VCol:y["a"],VDivider:I["a"],VHover:S["a"],VIcon:N["a"],VListItem:R["a"],VListItemAvatar:U["a"],VListItemContent:H["a"],VListItemSubtitle:H["b"],VListItemTitle:H["c"],VRating:q["a"],VRow:C["a"]})},"696f":function(e,t,a){}}]);