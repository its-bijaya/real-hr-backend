(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e5770"],{9531:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",[r("vue-card-title",{attrs:{title:"Interest and Hobby",subtitle:"Interest and Hobby of "+e.userName,icon:"mdi-file-document-outline"}},[r("template",{slot:"actions"},[!e.showForm&&e.interestHobbyDetails.length>0&&(e.getAuthStateUserId===parseInt(e.$route.params.id)||e.verifyPermission(e.allPermissions.CAN_CREATE_UPDATE_USER_PROFILE))&&"supervisor"!==e.as?r("v-btn",{attrs:{small:"",color:"primary",depressed:""},on:{click:e.createInterestHobbyDetails}},[e._v(" "+e._s(e.$t("createNew"))+" ")]):e._e(),e.showForm?r("v-btn",{attrs:{small:"",outlined:"",color:"primary"},on:{click:e.refresh}},[e._v(" Cancel ")]):e._e()],1)],2),r("v-divider"),r("v-card-text",[e.loading?r("v-row",e._l(6,(function(e){return r("v-col",{key:e,attrs:{cols:"4"}},[r("bullet-list-loader",{attrs:{"primary-color":"#eee","secondary-color":"#d5d5d7"}})],1)})),1):e.interestHobbyDetails.length<1&&!e.showForm&&(e.getAuthStateUserId===parseInt(e.$route.params.id)||e.verifyPermission(e.allPermissions.CAN_CREATE_UPDATE_USER_PROFILE))?r("v-col",[r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("v-img",{attrs:{src:"/images/info/no-data-found.png",height:"200",width:"200",contain:""}})],1),r("v-divider",{attrs:{inset:"",vertical:""}}),r("v-col",{attrs:{cols:"7"}},[r("v-row",[r("v-col",[r("p",[e._v("Interest and Hobby Details are not available.")]),e.getAuthStateUserId===parseInt(e.$route.params.id)||e.verifyPermission(e.allPermissions.CAN_CREATE_UPDATE_USER_PROFILE)?r("v-btn",{attrs:{small:"",color:"primary",depressed:""},on:{click:function(t){return e.createInterestHobbyDetails()}}},[e._v(" "+e._s(e.$t("createNew"))+" ")]):e._e()],1)],1)],1)],1)],1):e._e(),0===e.interestHobbyDetails.length||e.showForm||e.loading?e._e():r("v-row",{attrs:{align:"center"}},e._l(e.interestHobbyDetails,(function(t,s){return r("v-col",{key:s,attrs:{cols:"12"}},[r("v-hover",{scopedSlots:e._u([{key:"default",fn:function(s){var i=s.hover;return r("v-col",{},[r("v-list-item",[r("v-list-item-avatar",{staticClass:"mr-0"},[r("v-icon",{attrs:{small:""},domProps:{textContent:e._s("mdi-file-document-outline")}})],1),r("v-list-item-content",[r("v-list-item-title",[r("span",{domProps:{textContent:e._s("Title")}}),i&&(e.getAuthStateUserId===parseInt(e.$route.params.id)||e.verifyPermission(e.allPermissions.CAN_CREATE_UPDATE_USER_PROFILE))?r("v-icon",{staticClass:"float-right mx-2",attrs:{small:""},domProps:{textContent:e._s("mdi-pencil")},on:{click:function(r){return e.editItem(t)}}}):e._e(),i&&(e.getAuthStateUserId===parseInt(e.$route.params.id)||e.verifyPermission(e.allPermissions.CAN_CREATE_UPDATE_USER_PROFILE))?r("v-icon",{staticClass:"float-right mx-2",attrs:{small:""},domProps:{textContent:e._s("mdi-delete")},on:{click:function(r){return e.deleteInterestHobby(t)}}}):e._e()],1),r("v-list-item-subtitle",{domProps:{textContent:e._s(t.title)}})],1)],1),r("v-list-item",[r("v-list-item-avatar",{staticClass:"mr-0"},[r("v-icon",{attrs:{small:""},domProps:{textContent:e._s("mdi-text-box-outline")}})],1),r("v-list-item-content",[r("v-list-item-title",{domProps:{textContent:e._s("Category")}}),r("v-list-item-subtitle",{domProps:{textContent:e._s(t.category)}})],1)],1),r("v-list-item",[r("v-list-item-avatar",{staticClass:"mr-0"},[r("v-icon",{attrs:{small:""},domProps:{textContent:e._s("mdi-information-outline")}})],1),r("v-list-item-content",[r("v-list-item-title",{domProps:{textContent:e._s("Description")}}),r("v-list-item-subtitle",[e._v(" "+e._s(t.description||"N/A")+" ")])],1)],1)],1)}}],null,!0)}),s+1!==e.interestHobbyDetails.length?r("v-divider"):e._e()],1)})),1),r("span",{directives:[{name:"show",rawName:"v-show",value:e.showForm,expression:"showForm"}]},[r("interest-hobby-form",{attrs:{"user-id":e.userInfo.user.id,fields:e.currentItem,as:e.as},on:{created:e.refresh,updated:e.refresh}})],1)],1),r("vue-notify",{attrs:{notify:e.notify}}),r("vue-dialog",{attrs:{notify:e.deleteDialog},on:{close:function(t){e.deleteDialog.dialog=!1},agree:e.deleteItem},model:{value:e.deleteDialog.dialog,callback:function(t){e.$set(e.deleteDialog,"dialog",t)},expression:"deleteDialog.dialog"}})],1)},i=[],n=r("1da1"),o=(r("96cf"),r("c44a")),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-form",[r("v-container",{staticClass:"px-12"},[e.nonFieldErrors?r("non-field-form-errors",{attrs:{"non-field-errors":e.nonFieldErrors}}):e._e(),r("v-row",[r("v-col",{attrs:{md:"6",sm:"12"}},[r("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required|max:255",expression:"'required|max:255'"}],attrs:{counter:255,"prepend-inner-icon":"mdi-file-document-outline"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}},"v-text-field",e.veeValidate("title","Title *"),!1))],1),r("v-col",{attrs:{md:"6",sm:"12"}},[r("v-select",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{items:e.categoryChoices,"item-text":"text","item-value":"value","prepend-inner-icon":"mdi-text-box-outline"},model:{value:e.form.category,callback:function(t){e.$set(e.form,"category",t)},expression:"form.category"}},"v-select",e.veeValidate("category","Category *"),!1))],1),r("v-col",{attrs:{md:"6",sm:"12"}},[r("v-textarea",e._b({directives:[{name:"validate",rawName:"v-validate",value:"max:600",expression:"'max:600'"}],attrs:{counter:600,"prepend-inner-icon":"mdi-information-outline"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}},"v-textarea",e.veeValidate("description","Description"),!1))],1)],1)],1),r("v-divider"),r("v-card-actions",[r("v-spacer"),e.editable?r("v-btn",{attrs:{disabled:e.errors.any(),depressed:"",color:"primary"},on:{click:e.editItem}},[e._v(" Save ")]):r("v-btn",{attrs:{disabled:e.errors.any(),depressed:"",color:"primary"},on:{click:e.createItem}},[e._v(" Save ")]),r("v-btn",{attrs:{depressed:""},on:{click:e.clear}},[e._v(" Clear ")])],1)],1)},l=[],c=(r("a9e3"),r("ab8a")),u=(r("99af"),{getUserHobbies:function(e){return"/users/".concat(e,"/interest-hobby/")},postUserHobby:function(e){return"/users/".concat(e,"/interest-hobby/")},getHobbyDetail:function(e,t){return"/users/".concat(e,"/interest-hobby/").concat(t,"/")},updateHobbyDetail:function(e,t){return"/users/".concat(e,"/interest-hobby/").concat(t,"/")},deleteUserHobby:function(e,t){return"/users/".concat(e,"/interest-hobby/").concat(t,"/")}}),d={components:{NonFieldFormErrors:c["default"]},mixins:[o["a"]],props:{userId:{type:Number,required:!0},fields:{type:Object,required:!0},as:{type:String,default:""}},data:function(){return{fromMenu:!1,toMenu:!1,form:this.fields,categoryChoices:[{value:"Interest",text:"Interest"},{value:"Hobby",text:"Hobby"}],editable:""}},watch:{fields:function(e){this.form=e,this.clearNonFieldErrors(),this.$validator.errors.clear(),this.editable=!!e.slug}},methods:{clear:function(){this.form={},this.$validator.errors.clear()},createItem:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.validateAllFields();case 2:if(!t.sent){t.next=4;break}e.$http.post(u.postUserHobby(e.userId),e.form).then((function(t){e.verifyPermission(e.allPermissions.CAN_CREATE_UPDATE_USER_PROFILE)&&e.$route.params.slug?(e.notifyUser("Successfully created "+e.form.category+" Details","green"),e.$emit("created",t)):(e.notifyUser("Profile Change request has been sent","green"),e.$router.push({name:"user-profile-change-request"}))})).catch((function(t){e.notifyInvalidFormResponse(),e.pushErrors(t)}));case 4:case"end":return t.stop()}}),t)})))()},editItem:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.validateAllFields();case 2:if(!t.sent){t.next=4;break}e.$http.put(u.updateHobbyDetail(e.userId,e.fields.slug),e.form).then((function(){e.verifyPermission(e.allPermissions.CAN_CREATE_UPDATE_USER_PROFILE)&&e.$route.params.slug?(e.notifyUser("Successfully updated "+e.form.category+" Details","green"),e.$emit("updated")):(e.notifyUser("Profile Change request has been sent","green"),e.$router.push({name:"user-profile-change-request"}))})).catch((function(t){e.notifyInvalidFormResponse(),e.pushErrors(t)}));case 4:case"end":return t.stop()}}),t)})))()}}},m=d,f=r("2877"),v=r("6544"),b=r.n(v),p=r("8336"),h=r("99d9"),y=r("62ad"),g=r("a523"),_=r("ce7e"),I=r("4bd4"),x=r("0fd9b"),E=r("b974"),C=r("2fa4"),w=r("8654"),P=r("a844"),D=Object(f["a"])(m,a,l,!1,null,null,null),U=D.exports;b()(D,{VBtn:p["a"],VCardActions:h["a"],VCol:y["a"],VContainer:g["a"],VDivider:_["a"],VForm:I["a"],VRow:x["a"],VSelect:E["a"],VSpacer:C["a"],VTextField:w["a"],VTextarea:P["a"]});var R=r("e330"),A={components:{InterestHobbyForm:U,BulletListLoader:R["a"]},mixins:[o["a"]],props:{userInfo:{type:Object,required:!0},as:{type:String,default:""}},data:function(){return{currentItem:{},showForm:!1,notify:{},showDetails:100,interestHobbyDetails:[],deleteDialog:{dialog:!1,heading:"Confirm Delete",text:"Do you really want to delete this information ?"},loading:!1}},computed:{userName:function(){return this.userInfo.user.first_name+" "+this.userInfo.user.middle_name+" "+this.userInfo.user.last_name}},mounted:function(){this.getUserInterestHobby()},methods:{getUserInterestHobby:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.loading=!0,e.$http.get(u.getUserHobbies(e.userInfo.user.id)).then((function(t){e.interestHobbyDetails=t.results})),e.loading=!1;case 3:case"end":return t.stop()}}),t)})))()},refresh:function(){this.getUserInterestHobby(),this.$validator.errors.clear(),this.showForm=!1,this.deleteDialog.dialog=!1,this.currentItem={}},createInterestHobbyDetails:function(){this.showForm=!0,this.currentItem={}},editItem:function(e){this.currentItem=e,this.showForm=!0},deleteInterestHobby:function(e){this.currentItem=e,this.deleteDialog.dialog=!0},deleteItem:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$http.delete(u.deleteUserHobby(e.userInfo.user.id,e.currentItem.slug)).then((function(){e.verifyPermission(e.allPermissions.CAN_CREATE_UPDATE_USER_PROFILE)&&e.$route.params.slug?(e.notifyUser("Successfully deleted "+e.form.category+" Details","green"),e.refresh()):(e.notifyUser("Profile Change request has been sent","green"),e.$router.push({name:"user-profile-change-request"}))})).catch((function(t){e.pushErrors(t);var r=e.nonFieldErrors[0]["non field errors"];e.notifyUser(r,"red"),e.refresh()}));case 1:case"end":return t.stop()}}),t)})))()}}},F=A,H=r("b0af"),V=r("ce87"),$=r("132d"),k=r("adda"),S=r("da13"),T=r("8270"),N=r("5d23"),O=Object(f["a"])(F,s,i,!1,null,null,null);t["default"]=O.exports;b()(O,{VBtn:p["a"],VCard:H["a"],VCardText:h["c"],VCol:y["a"],VDivider:_["a"],VHover:V["a"],VIcon:$["a"],VImg:k["a"],VListItem:S["a"],VListItemAvatar:T["a"],VListItemContent:N["a"],VListItemSubtitle:N["b"],VListItemTitle:N["c"],VRow:x["a"]})}}]);