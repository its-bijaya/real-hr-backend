(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1f7dbedc","chunk-da62e0c8","chunk-2d22d378"],{"553a":function(t,e,i){"use strict";var s=i("5530"),o=(i("a9e3"),i("c7cd"),i("b5b6"),i("8dd9")),r=i("3a66"),a=i("d10f"),n=i("58df"),l=i("80d2");e["a"]=Object(n["a"])(o["a"],Object(r["a"])("footer",["height","inset"]),a["a"]).extend({name:"v-footer",props:{height:{default:"auto",type:[Number,String]},inset:Boolean,padless:Boolean,tag:{type:String,default:"footer"}},computed:{applicationProperty:function(){return this.inset?"insetFooter":"footer"},classes:function(){return Object(s["a"])(Object(s["a"])({},o["a"].options.computed.classes.call(this)),{},{"v-footer--absolute":this.absolute,"v-footer--fixed":!this.absolute&&(this.app||this.fixed),"v-footer--padless":this.padless,"v-footer--inset":this.inset})},computedBottom:function(){if(this.isPositioned)return this.app?this.$vuetify.application.bottom:0},computedLeft:function(){if(this.isPositioned)return this.app&&this.inset?this.$vuetify.application.left:0},computedRight:function(){if(this.isPositioned)return this.app&&this.inset?this.$vuetify.application.right:0},isPositioned:function(){return Boolean(this.absolute||this.fixed||this.app)},styles:function(){var t=parseInt(this.height);return Object(s["a"])(Object(s["a"])({},o["a"].options.computed.styles.call(this)),{},{height:isNaN(t)?t:Object(l["g"])(t),left:Object(l["g"])(this.computedLeft),right:Object(l["g"])(this.computedRight),bottom:Object(l["g"])(this.computedBottom)})}},methods:{updateApplication:function(){var t=parseInt(this.height);return isNaN(t)?this.$el?this.$el.clientHeight:0:t}},render:function(t){var e=this.setBackgroundColor(this.color,{staticClass:"v-footer",class:this.classes,style:this.styles});return t(this.tag,e,this.$slots.default)}})},"6c6f":function(t,e,i){"use strict";i("d3b7");e["a"]={data:function(){return{deleteNotification:{dialog:!1,heading:"Confirm Delete",text:"Are you sure you want to delete ?"}}},methods:{deleteData:function(t,e){var i=this;return new Promise((function(s,o){!i.loading&&t&&(i.loading=!0,i.$http.delete(t,e||{}).then((function(t){i.crud.message&&setTimeout((function(){i.notifyUser(i.crud.message)}),1e3),s(t),i.loading=!1})).catch((function(t){i.pushErrors(t),i.notifyInvalidFormResponse(),o(t),i.loading=!1})).finally((function(){i.deleteNotification.dialog=!1})))}))}}}},"983c":function(t,e,i){"use strict";i("d3b7");e["a"]={methods:{getData:function(t,e,i){var s=this,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Promise((function(r,a){!s.loading&&t&&(s.clearNonFieldErrors(),s.$validator.errors.clear(),s.loading=o,s.$http.get(t,i||{params:e||{}}).then((function(t){r(t),s.loading=!1})).catch((function(t){s.pushErrors(t),s.notifyInvalidFormResponse(),a(t),s.loading=!1})))}))},getBlockingData:function(t,e,i){var s=this;return new Promise((function(o,r){s.getData(t,e,i,!0).then((function(t){o(t)})).catch((function(t){r(t)}))}))}}}},"9ec3":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",[t.showHistory?t._e():i("div",[i("vue-card-title",{attrs:{title:"Overtime Claim Request By "+t.get(t.overtimeRequest,"overtime_entry.user.full_name"),subtitle:"",icon:"mdi-file-document-outline",dark:"",closable:""},on:{close:function(e){return t.$emit("close")}}}),t.loading?i("default-svg-loader"):i("div",[i("v-card-text",{staticClass:"scrollbar-md"},[i("v-row",[i("v-col",{staticClass:"pt-5",attrs:{md:"3"}},[i("v-list-item",[i("v-list-item-avatar",{staticClass:"mr-0"},[i("v-icon",{attrs:{small:""},domProps:{textContent:t._s("mdi-briefcase-account-outline")}})],1),i("v-list-item-content",[i("v-list-item-title",{domProps:{textContent:t._s("Requested By")}}),i("v-list-item-subtitle",[i("vue-user",{attrs:{user:t.overtimeRequest.overtime_entry.user}})],1)],1)],1),i("v-list-item",[i("v-list-item-avatar",{staticClass:"mr-0"},[i("v-icon",{attrs:{small:""},domProps:{textContent:t._s("mdi-calendar-check-outline")}})],1),i("v-list-item-content",[i("v-list-item-title",{domProps:{textContent:t._s("Requested For")}}),i("v-list-item-subtitle",{domProps:{textContent:t._s(t.overtimeRequest.overtime_entry.date)}})],1)],1),i("v-list-item",[i("v-list-item-avatar",{staticClass:"mr-0"},[i("v-icon",{attrs:{small:""},domProps:{textContent:t._s("mdi-information-outline")}})],1),i("v-list-item-content",[i("v-list-item-title",{domProps:{textContent:t._s("Status")}}),i("v-list-item-subtitle",[i("v-chip",{attrs:{color:t.colors[t.overtimeRequest.status],label:"",outlined:"",small:""}},[t._v(" "+t._s(t.overtimeRequest.status?t.overtimeRequest.status:"Not available")+" ")])],1)],1)],1),i("v-col",{staticClass:"text-center"},[i("v-btn",{staticClass:"ma-3",attrs:{small:"",depressed:"",color:"primary"},domProps:{textContent:t._s("Remarks History")},on:{click:function(e){return t.viewOvertimeHistory(t.overtimeRequest)}}})],1)],1),i("v-divider",{attrs:{vertical:""}}),i("v-col",{attrs:{md:t.isNormalUser?"8":"5",cols:"12"}},[i("v-row",[i("v-col",{staticClass:"px-0",attrs:{md:"4"}},[i("v-list-item",[i("v-list-item-avatar",{staticClass:"mr-0"},[i("v-icon",{attrs:{small:""},domProps:{textContent:t._s("mdi-clock")}})],1),i("v-list-item-content",[i("v-list-item-title",{domProps:{textContent:t._s("Shift :")}}),i("v-list-item-subtitle",[i("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[i("div",t._g({domProps:{textContent:t._s(t.overtimeRequest.work_shift?t.overtimeRequest.work_shift.shift_name:"Not available")}},s))]}}],null,!1,2134499023)},[i("div",{domProps:{textContent:t._s(t.overtimeRequest.work_shift?t.overtimeRequest.work_shift.shift_name:"Not available")}})])],1)],1)],1)],1),i("v-col",{staticClass:"px-0",attrs:{md:"4"}},[i("v-list-item",[i("v-list-item-avatar",{staticClass:"mr-0"},[i("v-icon",{attrs:{small:""},domProps:{textContent:t._s("mdi-clock")}})],1),i("v-list-item-content",[i("v-list-item-title",{domProps:{textContent:t._s("Shift Start :")}}),i("v-list-item-subtitle",{domProps:{textContent:t._s(t.overtimeRequest.work_shift?t.overtimeRequest.work_shift.start_time:"Not available")}})],1)],1)],1),i("v-col",{staticClass:"px-0",attrs:{md:"3"}},[i("v-list-item",[i("v-list-item-avatar",{staticClass:"mr-0"},[i("v-icon",{attrs:{small:""},domProps:{textContent:t._s("mdi-clock")}})],1),i("v-list-item-content",[i("v-list-item-title",{domProps:{textContent:t._s("Shift End :")}}),i("v-list-item-subtitle",{domProps:{textContent:t._s(t.overtimeRequest.work_shift?t.overtimeRequest.work_shift.end_time:"Not available")}})],1)],1)],1),i("v-col",{staticClass:"px-0",attrs:{md:"4"}},[i("v-list-item",[i("v-list-item-avatar",{staticClass:"mr-0"},[i("v-icon",{attrs:{small:""},domProps:{textContent:t._s("mdi-clock")}})],1),i("v-list-item-content",[i("v-list-item-title",{domProps:{textContent:t._s("In Time :")}}),i("v-list-item-subtitle",{domProps:{textContent:t._s(t.overtimeRequest.overtime_entry.timesheet.punch_in?t.overtimeRequest.overtime_entry.timesheet.punch_in.split("T").pop().split(".")[0].substring(0,8):"Not available")}})],1)],1)],1),i("v-col",{staticClass:"px-0",attrs:{md:"4"}},[i("v-list-item",[i("v-list-item-avatar",{staticClass:"mr-0"},[i("v-icon",{attrs:{small:""},domProps:{textContent:t._s("mdi-clock")}})],1),i("v-list-item-content",[i("v-list-item-title",{domProps:{textContent:t._s("Out Time :")}}),i("v-list-item-subtitle",{domProps:{textContent:t._s(t.overtimeRequest.overtime_entry.timesheet.punch_out?t.overtimeRequest.overtime_entry.timesheet.punch_out.split("T").pop().split(".")[0].substring(0,8):"Not available")}})],1)],1)],1),i("v-col",{staticClass:"px-0",attrs:{md:"4"}},[i("v-list-item",[i("v-list-item-avatar",{staticClass:"mr-0"},[i("v-icon",{attrs:{small:""},domProps:{textContent:t._s("mdi-clock")}})],1),i("v-list-item-content",[i("v-list-item-title",{domProps:{textContent:t._s("Total Time :")}}),i("v-list-item-subtitle",{domProps:{textContent:t._s(t.overtimeRequest.overtime_entry.total_overtime)}})],1)],1)],1),i("v-col",{staticClass:"px-0",attrs:{md:"4"}},[i("v-list-item",[i("v-list-item-avatar",{staticClass:"mr-0"},[i("v-icon",{attrs:{small:""},domProps:{textContent:t._s("mdi-clock")}})],1),i("v-list-item-content",[i("v-list-item-title",{domProps:{textContent:t._s("Claimed Time :")}}),i("v-list-item-subtitle",{domProps:{textContent:t._s(t.overtimeRequest.overtime_entry.overtime_detail.claimed_overtime)}})],1)],1)],1),i("v-col",{staticClass:"px-0",attrs:{md:"4"}},[i("v-list-item",[i("v-list-item-avatar",{staticClass:"mr-0"},[i("v-icon",{attrs:{small:""},domProps:{textContent:t._s("mdi-clock")}})],1),i("v-list-item-content",[i("v-list-item-title",[i("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[i("div",t._g({domProps:{textContent:t._s("Normalized Time :")}},s))]}}],null,!1,1085922302)},[i("div",{domProps:{textContent:t._s("Normalized Time :")}})])],1),i("v-list-item-subtitle",{domProps:{textContent:t._s(t.overtimeRequest.overtime_entry.normalized_overtime)}})],1)],1)],1),i("v-col",{staticClass:"px-0",attrs:{md:"4"}},[i("v-list-item",[i("v-list-item-avatar",{staticClass:"mr-0"},[i("v-icon",{attrs:{small:""},domProps:{textContent:t._s("mdi-clock")}})],1),i("v-list-item-content",[i("v-list-item-title",{domProps:{textContent:t._s("Leave Info :")}}),i("v-list-item-subtitle",{domProps:{textContent:t._s(t.overtimeRequest.overtime_entry.timesheet.leave_coefficient)}})],1)],1)],1),t.overtimeRequest.claimed_on?i("v-col",{staticClass:"px-0",attrs:{md:"4"}},[i("v-list-item",[i("v-list-item-avatar",{staticClass:"mr-0"},[i("v-icon",{attrs:{small:""},domProps:{textContent:t._s("mdi-clock")}})],1),i("v-list-item-content",[i("v-list-item-title",{domProps:{textContent:t._s("Requested On :")}}),i("v-list-item-subtitle",{domProps:{textContent:t._s(t.overtimeRequest.claimed_on.substring(0,10))}})],1)],1)],1):t._e(),i("v-col",{staticClass:"px-0",attrs:{md:"8"}},[i("v-list-item",[i("v-list-item-avatar",{staticClass:"mr-0"},[i("v-icon",{attrs:{small:""},domProps:{textContent:t._s("mdi-clock")}})],1),i("v-list-item-content",[i("v-list-item-title",{domProps:{textContent:t._s("Remarks :")}}),i("v-list-item-subtitle",[i("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[i("strong",t._g({staticClass:"mx-5"},s),[t._v(" "+t._s(t._f("truncate")(t.overtimeRequest.description?t.overtimeRequest.description:"Not Available",50))+" ")])]}}],null,!1,383597238)},[i("strong",{staticClass:"mx-5",domProps:{textContent:t._s(t.overtimeRequest.description)}})])],1)],1)],1)],1)],1)],1),t.isNormalUser||"Confirmed"===t.overtimeRequest.status||"Declined"===t.overtimeRequest.status||"Approved"===t.overtimeRequest.status&&t.supervisor?t._e():i("v-divider",{attrs:{vertical:""}}),t.isNormalUser?t._e():i("v-col",{attrs:{md:"3",cols:"12"}},["Confirmed"===t.overtimeRequest.status||"Declined"===t.overtimeRequest.status||"Approved"===t.overtimeRequest.status&&t.supervisor?t._e():i("v-form",{ref:"orgForm"},[t.nonFieldErrors?i("non-field-form-errors",{attrs:{"non-field-errors":t.nonFieldErrors}}):t._e(),!1===t.hasExpired?i("v-textarea",t._b({directives:[{name:"validate",rawName:"v-validate",value:"max:255|required",expression:"'max:255|required'"}],attrs:{counter:255},model:{value:t.formValues.remarks,callback:function(e){t.$set(t.formValues,"remarks",e)},expression:"formValues.remarks"}},"v-textarea",t.veeValidate("remarks","Remarks *"),!1)):t._e(),!1===t.hasExpired?i("div",{staticClass:"mb-2",domProps:{textContent:t._s("Actions")}}):t._e(),!1===t.hasExpired?i("v-btn-toggle",{attrs:{mandatory:""},model:{value:t.actionTaken,callback:function(e){t.actionTaken=e},expression:"actionTaken"}},["Approved"!==t.overtimeRequest.status&&t.permissions.approve?i("v-btn",{class:"Approved"===t.actionTaken?"cyan white--text":"text-capitalize",attrs:{value:"Approved",small:""}},[t._v(" Approve ")]):t._e(),t.supervisor?t._e():i("v-btn",{class:"Confirmed"===t.actionTaken?"green white--text":"text-capitalize",attrs:{value:"Confirmed",small:""}},[t._v(" Confirm ")]),t.permissions.deny?i("v-btn",{class:"Declined"===t.actionTaken?"red white--text":"text-capitalize",attrs:{value:"Declined",small:""}},[t._v(" Deny ")]):t._e(),"Approved"!==t.overtimeRequest.status&&t.permissions.forward&&!t.$route.params.slug?i("v-btn",{class:"Forwarded"===t.actionTaken?"purple white--text":"text-capitalize",attrs:{value:"Forwarded",small:""}},[t._v(" Forward ")]):t._e()],1):t._e()],1)],1)],1),t.isNormalUser||"Confirmed"===t.overtimeRequest.status||"Declined"===t.overtimeRequest.status||"Approved"===t.overtimeRequest.status&&t.supervisor?t._e():i("v-row",{staticClass:"mt-7",attrs:{"no-gutters":""}},[i("v-footer",{attrs:{app:""}},[i("v-spacer"),i("v-btn",{attrs:{outlined:""},on:{click:function(e){return t.clearForm()}}},[t._v(" Clear ")]),!1===t.hasExpired?i("v-btn",{attrs:{disabled:!t.formValues.remarks||!t.actionTaken,color:"primary",loading:t.loading,depressed:""},on:{click:function(e){return t.submitClaimRequestOperation(t.overtimeRequest.id)}}},[i("v-icon",{attrs:{size:"14"},domProps:{textContent:t._s("mdi-content-save-outline")}}),t._v(" Save ")],1):t._e(),!0===t.hasExpired?i("v-btn",{on:{click:function(e){return t.unexpire(t.overtimeRequest.id)}}},[t._v(" Unexpire ")]):t._e()],1)],1)],1),i("v-divider")],1)],1),i("v-bottom-sheet",{attrs:{persistent:""},on:{keydown:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;t.showHistory=!1}},model:{value:t.showHistory,callback:function(e){t.showHistory=e},expression:"showHistory"}},[t.showHistory?i("request-history",{attrs:{endpoint:t.overtimeHistoryEndpoint,title:"Overtime Request History",subtitle:"The list below contain overtime request history."},on:{close:function(e){t.showHistory=!1,t.sheet=!0}}}):t._e()],1)],1)},o=[],r=i("1da1"),a=i("5530"),n=(i("96cf"),i("a9e3"),i("caad"),i("99af"),i("02cb")),l=i("1ac0"),c=i("c197"),m=i("c44a"),u=i("f12b"),v=i("ad9d"),d=i("bf02"),p=i("eb03"),f=i("2f62"),h={components:{RequestHistory:l["a"],VueUser:n["default"],DefaultSvgLoader:c["default"]},mixins:[m["a"],u["a"]],props:{requestDetail:{type:Object,default:function(){return{}}},supervisor:{type:Boolean,default:!1},notificationId:{type:[Number,String],default:""},hasExpired:{type:Boolean,default:!1},requestId:{type:[Number,String],default:""},isNormalUser:{type:Boolean,default:!1}},data:function(){return{colors:{All:"blue",Requested:"orange",Forwarded:"purple darken-1",Approved:"cyan",Declined:"red",Confirmed:"green",Unclaimed:"pink",Expired:"grey"},formValues:{remarks:""},overtimeRequest:this.deepCopy(this.requestDetail),actionTaken:"Approved",permissions:{approve:!0,deny:!0,forward:!0},overtimeHistoryEndpoint:"",showHistory:!1}},computed:Object(a["a"])({},Object(f["c"])({getSupervisorOrgSlug:"supervisor/getOrganizationSlug"})),created:function(){this.notificationId?this.fetchRequestDetail():this.getSupervisorPermission()},methods:Object(a["a"])(Object(a["a"])({},Object(f["d"])({setUnreadNotificationCount:"notification/setUnreadNotificationCount"})),{},{fetchRequestDetail:function(){var t=this,e={as:this.supervisor?"supervisor":"hr"},i=this.supervisor?this.getSupervisorOrgSlug:this.getOrganizationSlug,s=v["a"].getOvertimeDetail(i,this.requestId);this.getData(s,e).then((function(e){t.overtimeRequest=e,t.supervisor&&t.getSupervisorPermission()}))},getSupervisorPermission:function(){var t=this;(this.supervisor||this.notificationId)&&(this.permissions={},["Forwarded","Requested","Unclaimed"].includes(this.overtimeRequest.status)&&this.getData(d["a"].getSubordinatePermission(this.overtimeRequest.overtime_entry.user.id)).then((function(e){t.permissions=e})))},submitClaimRequestOperation:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function i(){var s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:s=e.supervisor?e.getSupervisorOrgSlug:e.getOrganizationSlug,e.crud.message="Successfully ".concat(e.actionTaken," overtime claim request"),e.putData(v["a"].putClaim(s,t)+"?as=".concat(e.supervisor?"supervisor":"hr","&status=").concat(e.overtimeRequest.status),{status:e.actionTaken,description:e.formValues.remarks}).then((function(){e.notificationId&&e.insertData(p["a"].readNotification(e.notificationId)).then((function(){e.setUnreadNotificationCount(0)})).catch((function(){e.notifyUser("Something went wrong","red")})),e.$emit("close"),e.$emit("refresh")}));case 3:case"end":return i.stop()}}),i)})))()},viewOvertimeHistory:function(t){var e=this.supervisor?this.getSupervisorOrgSlug:this.getOrganizationSlug,i=v["a"].getOvertimeHistory(e,t.id);this.isNormalUser?this.overtimeHistoryEndpoint=i:this.overtimeHistoryEndpoint=i+"?as="+(this.supervisor?"supervisor":"hr"),this.sheet=!1,this.showHistory=!0},clearForm:function(){this.clearNonFieldErrors()}})},g=h,_=i("2877"),C=i("6544"),b=i.n(C),x=i("288c"),y=i("8336"),k=i("a609"),R=i("b0af"),q=i("99d9"),P=i("cc20"),w=i("62ad"),O=i("ce7e"),S=i("553a"),N=i("4bd4"),D=i("132d"),V=i("da13"),E=i("8270"),T=i("5d23"),F=i("0fd9b"),$=i("2fa4"),H=i("a844"),I=i("3a2f"),A=Object(_["a"])(g,s,o,!1,null,null,null);e["default"]=A.exports;b()(A,{VBottomSheet:x["a"],VBtn:y["a"],VBtnToggle:k["a"],VCard:R["a"],VCardText:q["c"],VChip:P["a"],VCol:w["a"],VDivider:O["a"],VFooter:S["a"],VForm:N["a"],VIcon:D["a"],VListItem:V["a"],VListItemAvatar:E["a"],VListItemContent:T["a"],VListItemSubtitle:T["b"],VListItemTitle:T["c"],VRow:F["a"],VSpacer:$["a"],VTextarea:H["a"],VTooltip:I["a"]})},ad9d:function(t,e,i){"use strict";i("99af");e["a"]={getOvertime:function(t){return"/attendance/".concat(t,"/overtime/claims/")},getOvertimeDetail:function(t,e){return"/attendance/".concat(t,"/overtime/claims/").concat(e,"/")},putOvertime:function(t,e){return"/attendance/".concat(t,"/overtime/claims/").concat(e,"/edit/")},claimOvertime:function(t){return"/attendance/".concat(t,"/overtime/claims/bulk-update/")},getOvertimeCalculation:function(t,e){return"/attendance/".concat(t,"/overtime/claims/").concat(e,"/normalization/")},putClaim:function(t,e){return"/attendance/".concat(t,"/overtime/claims/").concat(e,"/")},postBulkOvertimeClaim:function(t){return"/attendance/".concat(t,"/overtime/claims/bulk-action/")},unexpire:function(t){return"/attendance/".concat(t,"/overtime/claims/unexpire/")},getOvertimeSettings:function(t){return"/attendance/".concat(t,"/overtime/settings/")},postOvertimeSettings:function(t){return"/attendance/".concat(t,"/overtime/settings/")},updateOvertimeSettings:function(t,e){return"/attendance/".concat(t,"/overtime/settings/").concat(e,"/")},deleteOvertimeSettings:function(t,e){return"/attendance/".concat(t,"/overtime/settings/").concat(e,"/")},postAssignOvertime:function(t){return"/attendance/".concat(t,"/assign-overtime/")},getOvertimeHistory:function(t,e){return"/attendance/".concat(t,"/overtime/claims/").concat(e,"/history/")},getOvertimeOverviewDetails:function(t){return"/attendance/".concat(t,"/overtime/claims/summary/")}}},b5b6:function(t,e,i){},f12b:function(t,e,i){"use strict";var s=i("f0d5"),o=i("983c"),r=i("f70a"),a=i("6c6f");e["a"]={mixins:[s["a"],o["a"],r["a"],a["a"]]}},f70a:function(t,e,i){"use strict";i("d3b7"),i("caad");e["a"]={methods:{insertData:function(t,e){var i=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=s.validate,r=void 0===o||o,a=s.clearForm,n=void 0===a||a,l=arguments.length>3?arguments[3]:void 0;return new Promise((function(s,o){!i.loading&&t&&(i.clearErrors(),i.$validator.validateAll().then((function(a){r||(a=!0),a&&(i.loading=!0,i.$http.post(t,e,l||{}).then((function(t){i.clearErrors(),n&&(i.formValues={}),i.crud.addAnother||i.$emit("create"),i.crud.message&&setTimeout((function(){i.notifyUser(i.crud.message)}),1e3),s(t),i.loading=!1})).catch((function(t){i.pushErrors(t),i.notifyInvalidFormResponse(),o(t),i.loading=!1})))})))}))},patchData:function(t,e){var i=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=s.validate,r=void 0===o||o,a=s.clearForm,n=void 0===a||a,l=arguments.length>3?arguments[3]:void 0;return new Promise((function(s,o){i.updateData(t,e,{validate:r,clearForm:n},"patch",l).then((function(t){s(t)})).catch((function(t){o(t)}))}))},putData:function(t,e){var i=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=s.validate,r=void 0===o||o,a=s.clearForm,n=void 0===a||a,l=arguments.length>3?arguments[3]:void 0;return new Promise((function(s,o){i.updateData(t,e,{validate:r,clearForm:n},"put",l).then((function(t){s(t)})).catch((function(t){o(t)}))}))},updateData:function(t,e){var i=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=s.validate,r=void 0===o||o,a=s.clearForm,n=void 0===a||a,l=arguments.length>3?arguments[3]:void 0,c=arguments.length>4?arguments[4]:void 0;return new Promise((function(s,o){!i.loading&&t&&["put","patch"].includes(l)&&(i.clearErrors(),i.$validator.validateAll().then((function(a){r||(a=!0),a&&(i.loading=!0,i.$http[l](t,e,c||{}).then((function(t){i.$emit("update"),i.clearErrors(),n&&(i.formValues={}),i.crud.message&&setTimeout((function(){i.notifyUser(i.crud.message)}),1e3),s(t),i.loading=!1})).catch((function(t){i.pushErrors(t),i.notifyInvalidFormResponse(),o(t),i.loading=!1})))})))}))},clearErrors:function(){this.clearNonFieldErrors(),this.$validator.errors.clear()}}}}}]);