(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-33c66187","chunk-da62e0c8","chunk-2d22d378"],{"1e6c":function(t,e,o){"use strict";var i=o("9d65"),a=o("4e82"),s=o("c3f0"),n=o("80d2"),r=o("58df"),l=Object(r["a"])(i["a"],Object(a["a"])("windowGroup","v-window-item","v-window"));e["a"]=l.extend().extend().extend({name:"v-window-item",directives:{Touch:s["a"]},props:{disabled:Boolean,reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},value:{required:!1}},data:function(){return{isActive:!1,inTransition:!1}},computed:{classes:function(){return this.groupClasses},computedTransition:function(){return this.windowGroup.internalReverse?"undefined"!==typeof this.reverseTransition?this.reverseTransition||"":this.windowGroup.computedTransition:"undefined"!==typeof this.transition?this.transition||"":this.windowGroup.computedTransition}},methods:{genDefaultSlot:function(){return this.$slots.default},genWindowItem:function(){return this.$createElement("div",{staticClass:"v-window-item",class:this.classes,directives:[{name:"show",value:this.isActive}],on:this.$listeners},this.genDefaultSlot())},onAfterTransition:function(){this.inTransition&&(this.inTransition=!1,this.windowGroup.transitionCount>0&&(this.windowGroup.transitionCount--,0===this.windowGroup.transitionCount&&(this.windowGroup.transitionHeight=void 0)))},onBeforeTransition:function(){this.inTransition||(this.inTransition=!0,0===this.windowGroup.transitionCount&&(this.windowGroup.transitionHeight=Object(n["g"])(this.windowGroup.$el.clientHeight)),this.windowGroup.transitionCount++)},onTransitionCancelled:function(){this.onAfterTransition()},onEnter:function(t){var e=this;this.inTransition&&this.$nextTick((function(){e.computedTransition&&e.inTransition&&(e.windowGroup.transitionHeight=Object(n["g"])(t.clientHeight))}))}},render:function(t){var e=this;return t("transition",{props:{name:this.computedTransition},on:{beforeEnter:this.onBeforeTransition,afterEnter:this.onAfterTransition,enterCancelled:this.onTransitionCancelled,beforeLeave:this.onBeforeTransition,afterLeave:this.onAfterTransition,leaveCancelled:this.onTransitionCancelled,enter:this.onEnter}},this.showLazyContent((function(){return[e.genWindowItem()]})))}})},"769a":function(t,e,o){"use strict";o("99af");e["a"]={getKSAO:function(t){return"/hris/".concat(t,"/ksaos/")},ksaoUser:function(t){return"/users/".concat(t,"/ksaos/")},ksaoDetail:function(t,e){return"/users/".concat(t,"/ksaos/").concat(e,"/")},ksaolist:function(t,e){return"/org/".concat(t,"/setting/").concat(e,"/")},postBulkKsao:function(t){return"/hris/".concat(t,"/ksaos/")}}},"983c":function(t,e,o){"use strict";o("d3b7");e["a"]={methods:{getData:function(t,e,o){var i=this,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Promise((function(s,n){!i.loading&&t&&(i.clearNonFieldErrors(),i.$validator.errors.clear(),i.loading=a,i.$http.get(t,o||{params:e||{}}).then((function(t){s(t),i.loading=!1})).catch((function(t){i.pushErrors(t),i.notifyInvalidFormResponse(),n(t),i.loading=!1})))}))},getBlockingData:function(t,e,o){var i=this;return new Promise((function(a,s){i.getData(t,e,o,!0).then((function(t){a(t)})).catch((function(t){s(t)}))}))}}}},b372:function(t,e,o){"use strict";o.r(e);var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-card",[o("vue-card-title",{attrs:{title:"KSAO (Knowledge, Skills, Abilities and Other characteristics)",subtitle:"KSAO of "+t.userName,icon:"mdi-file-document-outline"}},[o("template",{slot:"actions"},[t.showEditBottomSheet||t.userInfo.current_organization.slug!==t.getOrganizationSlug||!t.verifyPermission(t.allPermissions.CAN_CREATE_UPDATE_USER_PROFILE)||t.loading?t._e():o("v-btn",{attrs:{small:"",depressed:"",color:"primary"},on:{click:function(e){return t.editKSAO(t.tabItems[t.tabNumber].slug)}}},[o("v-icon",{staticClass:"pr-1",attrs:{small:""}},[t._v(" mdi-square-edit-outline ")]),t._v(" Edit "+t._s(t.tabItems[t.tabNumber]&&t.tabItems[t.tabNumber].title)+" ")],1)],1)],2),o("v-divider"),o("v-tabs",{attrs:{"background-color":"transparent",color:"blue darken-2",grow:""},model:{value:t.tabNumber,callback:function(e){t.tabNumber=e},expression:"tabNumber"}},t._l(t.tabItems,(function(e,i){return o("v-tab",{key:i},[o("span",{staticClass:"text-subtitle-2 darken-4 font-weight-bold"},[t._v(t._s(e.title))])])})),1),o("v-tabs-items",{model:{value:t.tabNumber,callback:function(e){t.tabNumber=e},expression:"tabNumber"}},t._l(t.tabItems,(function(e,i){return o("v-tab-item",{key:i},[o("v-card",{attrs:{flat:""}},[o("v-divider"),o("v-card-text",[t.loading?o("v-row",t._l(6,(function(t){return o("v-col",{key:t,attrs:{cols:"4"}},[o("bullet-list-loader",{attrs:{"primary-color":"#eee","secondary-color":"#d5d5d7"}})],1)})),1):t._e(),t.ksaoList.ksao&&0===t.ksaoList.ksao.length?o("vue-no-data"):t._e(),o("v-row",t._l(t.ksaoList.ksao,(function(e,i){return o("v-col",{key:"D-"+i,attrs:{cols:"4"}},[o("v-row",{staticClass:"light-blue lighten-5 mx-1",attrs:{align:"center"}},[o("v-col",{attrs:{cols:"3"}},[o("v-icon",{attrs:{color:e.is_key?"amber darken-1":"",left:""},domProps:{textContent:t._s(e.is_key?"mdi-key":"mdi-key-outline")}})],1),o("v-col",{staticClass:"\n                    blue-grey--text\n                    text--darken-3 text-body-2\n                    font-weight-bold\n                  ",attrs:{cols:"7"}},[o("a",{on:{click:function(o){return t.ksaoDetail(e.slug)}}},[t._v(t._s(e.ksa))])])],1)],1)})),1)],1)],1)],1)})),1),o("v-dialog",{attrs:{width:"500",persistent:"",scrollable:""},on:{keydown:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;t.showDetailBottomSheet=!1}},model:{value:t.showDetailBottomSheet,callback:function(e){t.showDetailBottomSheet=e},expression:"showDetailBottomSheet"}},[t.showDetailBottomSheet?o("v-card",{attrs:{height:"304",flat:""}},[o("vue-card-title",{attrs:{title:"View "+t.tabItems[t.tabNumber].title,subtitle:"The following are "+t.tabItems[t.tabNumber].title,icon:t.tabItems[t.tabNumber].icon,head:"",closable:""},on:{close:function(e){t.showDetailBottomSheet=!1}}}),o("v-divider"),o("v-card-text",[o("v-row",[o("v-col",{attrs:{cols:"6"}},[o("div",[o("v-icon",{attrs:{size:"15"}},[t._v(" mdi-book ")]),t._v(" "+t._s(t.tabItems[t.tabNumber].title+" Title")+" ")],1),o("span",{staticClass:"\n                blue-grey--text\n                text--darken-3 text-body-2\n                font-weight-bold\n                ml-1\n              "},[t._v(" "+t._s(t.ksaoDetails.ksa)+" ")])]),o("v-col",{attrs:{cols:"6"}},[o("div",[o("v-icon",{attrs:{size:"15"}},[t._v("mdi-information-outline")]),t._v(" Nature: ")],1),o("div",[o("span",[o("v-icon",{attrs:{color:t.ksaoDetails.is_key?"yellow darken-3":"",left:"",size:"20"},domProps:{textContent:t._s("mdi-key")}})],1),o("span",[t._v("Key")])])])],1),o("v-row",{staticClass:"ml-1 py-3"},[o("div",[t._v("Description :")])]),o("v-row",{staticClass:"ml-1"},[o("div",{staticClass:"blue-grey--text text--darken-2 text-body-2"},[t._v(" "+t._s(t.ksaoDetails.description||"N/A")+" ")])])],1)],1):t._e()],1),o("v-dialog",{attrs:{width:"960",scrollable:"",persistent:""},on:{keydown:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;t.showEditBottomSheet=!1}},model:{value:t.showEditBottomSheet,callback:function(e){t.showEditBottomSheet=e},expression:"showEditBottomSheet"}},[t.showEditBottomSheet?o("v-card",{attrs:{flat:""}},[o("vue-card-title",{attrs:{title:"Add/Edit "+t.tabItems[t.tabNumber].title,subtitle:"In this page you can add/ edit "+t.tabItems[t.tabNumber].title,icon:t.tabItems[t.tabNumber].icon,closable:""},on:{close:function(e){t.showEditBottomSheet=!1}}}),o("v-divider"),o("edit-ksao-form",{attrs:{"user-ksao-list":t.ksaoList,"ksao-slug":t.ksaoSlug,"ksao-title":t.tabItems[t.tabNumber].title},on:{"save-success":t.dismissForm,close:function(e){t.showEditBottomSheet=!1}}})],1):t._e()],1)],1)},a=[],s=(o("99af"),o("f0d5")),n=o("983c"),r=o("769a"),l=o("e585"),c=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("v-card-text",[o("vue-auto-complete",{key:t.componentKey,attrs:{endpoint:t.ksaoEndpoint,"prepend-inner-icon":"mdi-account-outline",label:"Select "+t.ksaoTitle,"item-text":"name","item-value":"slug","items-to-exclude":t.formValues.ksao.map((function(t){return t.ksa})),"selected-full-data":t.ksaoValue},on:{"update:selectedFullData":function(e){t.ksaoValue=e},"update:selected-full-data":function(e){t.ksaoValue=e}}}),t.userKsaoListData.ksao.length>0?o("div",{staticClass:"blue-grey--text text--darken-3 text-body-2 font-weight-bold pl-3"},[t._v(" "+t._s("Associated "+t.ksaoTitle+" List")+" ")]):t._e(),o("v-row",t._l(t.userKsaoListData.ksao,(function(e,i){return o("v-col",{key:"D-"+i,attrs:{cols:"4"}},[o("v-row",{staticClass:"light-blue lighten-5 mx-1",attrs:{align:"center"}},[o("v-col",{attrs:{cols:"2"}},[o("v-icon",{attrs:{color:e.is_key?"amber darken-1":"",left:""},domProps:{textContent:t._s(e.is_key?"mdi-key":"mdi-key-outline")},on:{click:function(o){return t.activateKey(e)}}})],1),o("v-col",{staticClass:"\n              blue-grey--text\n              text--darken-3 text-body-2\n              font-weight-bold\n            ",attrs:{cols:"8"}},[t._v(" "+t._s(e.ksa)+" ")]),o("v-col",{attrs:{cols:"2"}},[o("v-icon",{attrs:{color:"danger",left:""},domProps:{textContent:t._s("mdi-trash-can-outline")},on:{click:function(o){return t.removeKsao(e)}}})],1)],1)],1)})),1)],1),o("v-divider"),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{small:""},on:{click:function(e){return t.$emit("close")}}},[t._v(" Cancel ")]),o("v-btn",{attrs:{small:"",depressed:"",color:"primary"},on:{click:t.saveKsao}},[o("v-icon",{attrs:{size:"14",left:""},domProps:{textContent:t._s("mdi-content-save-outline")}}),t._v(" Save ")],1)],1)],1)},u=[],d=o("b85c"),h=(o("b0c0"),o("ac1f"),o("1276"),o("4de4"),o("159b"),o("f70a")),m=o("5660"),f={name:"KSAO",components:{VueAutoComplete:m["default"]},mixins:[s["a"],h["a"]],props:{userKsaoList:{type:Object,required:!0},ksaoSlug:{type:String,required:!0},ksaoTitle:{type:String,required:!0}},data:function(){return{ksaoValue:{},componentKey:0,formValues:{ksao:[]},userKsaoListData:this.deepCopy(this.userKsaoList)}},computed:{ksaoEndpoint:function(){return r["a"].ksaolist(this.getOrganizationSlug,this.ksaoSlug)}},watch:{ksaoValue:function(t){if(t){this.componentKey+=1;var e={is_key:!1,ksa:t.slug};this.formValues.ksao.push(e);var o={is_key:!1,ksa:t.name,ksa_type:t.slug.split("-")[0],slug:t.slug};this.userKsaoListData.ksao.push(o)}}},mounted:function(){this.userKsaoFormData()},methods:{removeKsao:function(t){this.formValues.ksao=this.formValues.ksao.filter((function(e){return e.ksa!==t.slug})),this.userKsaoListData.ksao=this.userKsaoListData.ksao.filter((function(e){return e.slug!==t.slug})),this.componentKey+=1},activateKey:function(t){t.is_key=!t.is_key,this.formValues.ksao.forEach((function(e){e.ksa===t.slug&&(e.is_key=!e.is_key)}))},userKsaoFormData:function(){var t,e=Object(d["a"])(this.userKsaoList["ksao"]);try{for(e.s();!(t=e.n()).done;){var o=t.value,i={ksa:o.slug,is_key:o.is_key};this.formValues.ksao.push(i)}}catch(a){e.e(a)}finally{e.f()}},saveKsao:function(){var t=this;this.crud.message="Successfully created ".concat(this.ksaoTitle),this.insertData(r["a"].ksaoUser(this.$route.params.id)+"?ksa_type=".concat(this.ksaoSlug),this.formValues,{clearForm:!1}).then((function(){t.$emit("save-success")}))}}},v=f,k=o("2877"),p=o("6544"),b=o.n(p),g=o("8336"),w=o("99d9"),y=o("62ad"),_=o("ce7e"),S=o("132d"),D=o("0fd9b"),x=o("2fa4"),E=Object(k["a"])(v,c,u,!1,null,null,null),T=E.exports;b()(E,{VBtn:g["a"],VCardActions:w["a"],VCardText:w["c"],VCol:y["a"],VDivider:_["a"],VIcon:S["a"],VRow:D["a"],VSpacer:x["a"]});var C=o("e330"),V={name:"KSAO",components:{VueNoData:l["default"],EditKsaoForm:T,BulletListLoader:C["a"]},mixins:[s["a"],n["a"]],props:{userInfo:{type:Object,required:!0},as:{type:String,default:""}},data:function(){return{showDetailBottomSheet:!1,showEditBottomSheet:!1,tabNumber:null,tabItems:[{title:"Knowledge",icon:"mdi-notebook-multiple",slug:"knowledge"},{title:"Skill",icon:"mdi-shield-star-outline",slug:"skill"},{title:"Ability",icon:"mdi-brain",slug:"ability"},{title:"Other Attributes",icon:"mdi-badge-account-outline",slug:"other_attributes"}],ksaoList:[],ksaoDetails:{},ksaoSlug:"knowledge"}},computed:{userName:function(){return this.userInfo.user.first_name+" "+this.userInfo.user.middle_name+" "+this.userInfo.user.last_name}},watch:{tabNumber:function(t){this.ksaoSlug=this.tabItems[t].slug,this.getKsaoList()}},methods:{editKSAO:function(t){this.showEditBottomSheet=!0,this.ksaoSlug=t},ksaoDetail:function(t){this.showDetailBottomSheet=!0,this.getKsaoDetail(t)},getKsaoDetail:function(t){var e=this;this.getData(r["a"].ksaoDetail(this.$route.params.id,t)+"?as=".concat(this.as)).then((function(t){e.ksaoDetails=t}))},getKsaoList:function(){var t=this;this.getData(r["a"].ksaoUser(this.$route.params.id)+"?ksa_type=".concat(this.ksaoSlug,"&as=").concat(this.as)).then((function(e){t.ksaoList=e}))},dismissForm:function(){this.showEditBottomSheet=!1,this.getKsaoList()}}},K=V,I=o("b0af"),B=o("169a"),A=o("71a3"),N=o("c671"),L=o("fe57"),O=o("aac8"),F=Object(k["a"])(K,i,a,!1,null,null,null);e["default"]=F.exports;b()(F,{VBtn:g["a"],VCard:I["a"],VCardText:w["c"],VCol:y["a"],VDialog:B["a"],VDivider:_["a"],VIcon:S["a"],VRow:D["a"],VTab:A["a"],VTabItem:N["a"],VTabs:L["a"],VTabsItems:O["a"]})},c671:function(t,e,o){"use strict";var i=o("1e6c");e["a"]=i["a"].extend({name:"v-tab-item",props:{id:String},methods:{genWindowItem:function(){var t=i["a"].options.methods.genWindowItem.call(this);return t.data.domProps=t.data.domProps||{},t.data.domProps.id=this.id||this.value,t}}})},f0d5:function(t,e,o){"use strict";o("d3b7"),o("3ca3"),o("ddb0");var i=o("c44a");e["a"]={components:{NonFieldFormErrors:function(){return o.e("chunk-6441e173").then(o.bind(null,"ab8a"))}},mixins:[i["a"]],data:function(){return{crud:{name:"record",message:"",addAnother:!1},formValues:{},loading:!1}}}},f70a:function(t,e,o){"use strict";o("d3b7"),o("caad");e["a"]={methods:{insertData:function(t,e){var o=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.validate,s=void 0===a||a,n=i.clearForm,r=void 0===n||n,l=arguments.length>3?arguments[3]:void 0;return new Promise((function(i,a){!o.loading&&t&&(o.clearErrors(),o.$validator.validateAll().then((function(n){s||(n=!0),n&&(o.loading=!0,o.$http.post(t,e,l||{}).then((function(t){o.clearErrors(),r&&(o.formValues={}),o.crud.addAnother||o.$emit("create"),o.crud.message&&setTimeout((function(){o.notifyUser(o.crud.message)}),1e3),i(t),o.loading=!1})).catch((function(t){o.pushErrors(t),o.notifyInvalidFormResponse(),a(t),o.loading=!1})))})))}))},patchData:function(t,e){var o=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.validate,s=void 0===a||a,n=i.clearForm,r=void 0===n||n,l=arguments.length>3?arguments[3]:void 0;return new Promise((function(i,a){o.updateData(t,e,{validate:s,clearForm:r},"patch",l).then((function(t){i(t)})).catch((function(t){a(t)}))}))},putData:function(t,e){var o=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.validate,s=void 0===a||a,n=i.clearForm,r=void 0===n||n,l=arguments.length>3?arguments[3]:void 0;return new Promise((function(i,a){o.updateData(t,e,{validate:s,clearForm:r},"put",l).then((function(t){i(t)})).catch((function(t){a(t)}))}))},updateData:function(t,e){var o=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.validate,s=void 0===a||a,n=i.clearForm,r=void 0===n||n,l=arguments.length>3?arguments[3]:void 0,c=arguments.length>4?arguments[4]:void 0;return new Promise((function(i,a){!o.loading&&t&&["put","patch"].includes(l)&&(o.clearErrors(),o.$validator.validateAll().then((function(n){s||(n=!0),n&&(o.loading=!0,o.$http[l](t,e,c||{}).then((function(t){o.$emit("update"),o.clearErrors(),r&&(o.formValues={}),o.crud.message&&setTimeout((function(){o.notifyUser(o.crud.message)}),1e3),i(t),o.loading=!1})).catch((function(t){o.pushErrors(t),o.notifyInvalidFormResponse(),a(t),o.loading=!1})))})))}))},clearErrors:function(){this.clearNonFieldErrors(),this.$validator.errors.clear()}}}}}]);