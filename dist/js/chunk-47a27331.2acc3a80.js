(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-47a27331","chunk-2d22d378"],{"0798":function(t,e,a){"use strict";var i=a("5530"),r=a("ade3"),s=(a("caad"),a("0c18"),a("10d2")),o=a("afdd"),n=a("9d26"),l=a("f2e7"),c=a("7560"),d=a("f40d"),u=a("58df"),p=a("d9bd");e["a"]=Object(u["a"])(s["a"],l["a"],d["a"]).extend({name:"v-alert",props:{border:{type:String,validator:function(t){return["top","right","bottom","left"].includes(t)}},closeLabel:{type:String,default:"$vuetify.close"},coloredBorder:Boolean,dense:Boolean,dismissible:Boolean,closeIcon:{type:String,default:"$cancel"},icon:{default:"",type:[Boolean,String],validator:function(t){return"string"===typeof t||!1===t}},outlined:Boolean,prominent:Boolean,text:Boolean,type:{type:String,validator:function(t){return["info","error","success","warning"].includes(t)}},value:{type:Boolean,default:!0}},computed:{__cachedBorder:function(){if(!this.border)return null;var t={staticClass:"v-alert__border",class:Object(r["a"])({},"v-alert__border--".concat(this.border),!0)};return this.coloredBorder&&(t=this.setBackgroundColor(this.computedColor,t),t.class["v-alert__border--has-color"]=!0),this.$createElement("div",t)},__cachedDismissible:function(){var t=this;if(!this.dismissible)return null;var e=this.iconColor;return this.$createElement(o["a"],{staticClass:"v-alert__dismissible",props:{color:e,icon:!0,small:!0},attrs:{"aria-label":this.$vuetify.lang.t(this.closeLabel)},on:{click:function(){return t.isActive=!1}}},[this.$createElement(n["a"],{props:{color:e}},this.closeIcon)])},__cachedIcon:function(){return this.computedIcon?this.$createElement(n["a"],{staticClass:"v-alert__icon",props:{color:this.iconColor}},this.computedIcon):null},classes:function(){var t=Object(i["a"])(Object(i["a"])({},s["a"].options.computed.classes.call(this)),{},{"v-alert--border":Boolean(this.border),"v-alert--dense":this.dense,"v-alert--outlined":this.outlined,"v-alert--prominent":this.prominent,"v-alert--text":this.text});return this.border&&(t["v-alert--border-".concat(this.border)]=!0),t},computedColor:function(){return this.color||this.type},computedIcon:function(){return!1!==this.icon&&("string"===typeof this.icon&&this.icon?this.icon:!!["error","info","success","warning"].includes(this.type)&&"$".concat(this.type))},hasColoredIcon:function(){return this.hasText||Boolean(this.border)&&this.coloredBorder},hasText:function(){return this.text||this.outlined},iconColor:function(){return this.hasColoredIcon?this.computedColor:void 0},isDark:function(){return!(!this.type||this.coloredBorder||this.outlined)||c["a"].options.computed.isDark.call(this)}},created:function(){this.$attrs.hasOwnProperty("outline")&&Object(p["a"])("outline","outlined",this)},methods:{genWrapper:function(){var t=[this.$slots.prepend||this.__cachedIcon,this.genContent(),this.__cachedBorder,this.$slots.append,this.$scopedSlots.close?this.$scopedSlots.close({toggle:this.toggle}):this.__cachedDismissible],e={staticClass:"v-alert__wrapper"};return this.$createElement("div",e,t)},genContent:function(){return this.$createElement("div",{staticClass:"v-alert__content"},this.$slots.default)},genAlert:function(){var t={staticClass:"v-alert",attrs:{role:"alert"},on:this.listeners$,class:this.classes,style:this.styles,directives:[{name:"show",value:this.isActive}]};if(!this.coloredBorder){var e=this.hasText?this.setTextColor:this.setBackgroundColor;t=e(this.computedColor,t)}return this.$createElement("div",t,[this.genWrapper()])},toggle:function(){this.isActive=!this.isActive}},render:function(t){var e=this.genAlert();return this.transition?t("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},[e]):e}})},"0c18":function(t,e,a){},"51d8":function(t,e,a){"use strict";a("99af");e["a"]={getFiscalYear:function(t){return"/org/".concat(t,"/fiscal-year/")},postFiscalYear:function(t){return"/org/".concat(t,"/fiscal-year/")},getFiscalYearDetails:function(t,e){return"/org/".concat(t,"/fiscal-year/").concat(e,"/")},updateFiscalYear:function(t,e){return"/org/".concat(t,"/fiscal-year/").concat(e,"/")},deleteFiscalYear:function(t,e){return"/org/".concat(t,"/fiscal-year/").concat(e,"/")},exportRebate:function(t){return"/payroll/".concat(t,"/user-voluntary-rebates/export/")}}},a829:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("vue-card-title",{attrs:{title:t.title,subtitle:t.subtitle,icon:t.icon,closable:""},on:{close:function(e){return t.$emit("close")}}}),a("v-divider"),a("v-card-text",{staticClass:"scrollbar-md"},[t.nonFieldErrors?a("non-field-form-errors",{attrs:{"non-field-errors":t.nonFieldErrors}}):t._e(),a("v-row",[a("v-col",{attrs:{md:"3",cols:"12"}},[a("v-text-field",t._b({directives:[{name:"validate",rawName:"v-validate",value:"required|max:125",expression:"'required|max:125'"}],attrs:{counter:125,"prepend-inner-icon":"mdi-information-outline"},model:{value:t.formValues.name,callback:function(e){t.$set(t.formValues,"name",e)},expression:"formValues.name"}},"v-text-field",t.veeValidate("name","Performance Appraisal Name *"),!1))],1),a("v-col",{attrs:{md:"3",cols:"12"}},[a("v-select",t._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{items:t.appraisalChoices,disabled:t.showAppraisalType},model:{value:t.formValues.performance_appraisal_type,callback:function(e){t.$set(t.formValues,"performance_appraisal_type",e)},expression:"formValues.performance_appraisal_type"}},"v-select",t.veeValidate("performance_appraisal_type","Appraisal Type *"),!1))],1),a("v-col",{attrs:{md:"3",cols:"12"}},[a("vue-auto-complete",t._b({directives:[{name:"validate",rawName:"v-validate",value:"required|max:100",expression:"'required|max:100'"}],attrs:{endpoint:t.appraisalYearEndpoint,"item-text":"name","item-value":"id","prepend-inner-icon":"mdi-information-outline","selected-full-data":t.appraisalYearData},on:{"update:selectedFullData":function(e){t.appraisalYearData=e},"update:selected-full-data":function(e){t.appraisalYearData=e}},model:{value:t.formValues.year,callback:function(e){t.$set(t.formValues,"year",e)},expression:"formValues.year"}},"vue-auto-complete",t.veeValidate("year","Appraisal Year *"),!1))],1),t.actionData&&t.actionData.slots?t._e():a("v-col",{attrs:{md:"3",cols:"12"}},[a("v-row",{staticClass:"pt-3",attrs:{"no-gutters":""}},[a("v-col",{attrs:{md:"12"}},[a("span",{staticClass:"black--text"},[t._v(" Year Start Date: ")]),t._v(" "+t._s(t.start_date||"N/A")+" ")]),a("v-col",{attrs:{md:"12"}},[a("span",{staticClass:"black--text"},[t._v(" Year End Date: ")]),t._v(" "+t._s(t.end_date||"N/A")+" ")])],1)],1),a("v-col",{staticClass:"blue-grey lighten-5",attrs:{cols:"12"}},[t._l(t.formValues.slots,(function(e,i){return a("v-row",{key:i,attrs:{"no-gutters":"",align:"center"}},[a("v-col",{attrs:{md:"3",cols:"12"}},[a("v-text-field",t._b({directives:[{name:"validate",rawName:"v-validate",value:"required|max:125",expression:"'required|max:125'"}],staticClass:"px-2",attrs:{counter:"125","prepend-inner-icon":"mdi-information-outline"},model:{value:e.title,callback:function(a){t.$set(e,"title",a)},expression:"item.title"}},"v-text-field",t.veeValidate("title"+i,"Title *"),!1))],1),a("v-col",{attrs:{md:"2",cols:"12"}},[a("v-text-field",t._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"px-2",attrs:{min:"1",type:"number","prepend-inner-icon":"mdi-information-outline"},model:{value:e.weightage,callback:function(a){t.$set(e,"weightage",t._n(a))},expression:"item.weightage"}},"v-text-field",t.veeValidate("weightage"+i,"Weightage *"),!1))],1),t.formValues.year?a("v-col",{attrs:{md:"3",cols:"12"}},[a("vue-date-picker",t._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"px-2",model:{value:e.from_date,callback:function(a){t.$set(e,"from_date",a)},expression:"item.from_date"}},"vue-date-picker",t.veeValidate("from_date"+i,"From Date *"),!1))],1):t._e(),t.formValues.year?a("v-col",{attrs:{md:"3",cols:"12"}},[a("vue-date-picker",t._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"px-2",model:{value:e.to_date,callback:function(a){t.$set(e,"to_date",a)},expression:"item.to_date"}},"vue-date-picker",t.veeValidate("to_date"+i,"To Date *"),!1))],1):t._e(),a("v-col",{attrs:{md:"1",cols:"12"}},[t.formValues.slots.length>1?a("v-btn",{attrs:{icon:""},on:{click:function(e){return t.formValues.slots.splice(i,1)}}},[a("v-icon",{staticClass:"pointer",attrs:{color:"red"},domProps:{textContent:t._s("mdi-delete-outline")}})],1):t._e()],1)],1)})),a("v-row",{staticClass:"py-3",attrs:{"no-gutters":"",align:"center"}},[a("v-col",{attrs:{md:"12"}},[a("v-btn",{staticClass:"font-weight-bold",attrs:{text:"",small:"",color:"primary"},on:{click:function(e){return t.addNewRow()}}},[a("v-icon",{domProps:{textContent:t._s("mdi-plus-box-outline")}}),t._v(" Add new Frequency ")],1)],1),a("v-col",{staticClass:"pl-5 pt-5",attrs:{md:"3",cols:"12"}},[a("span",{staticClass:"black--text"},[t._v(" Total Weightage: ")]),a("span",{staticClass:"font-weight-bold blue-grey--text"},[t._v(" "+t._s(t.totalWeightage+"%")+" ")])]),a("v-col",{attrs:{md:"9",cols:"12"}},[a("v-alert",{staticClass:"text-body-2 my-0 mt-2 py-1",attrs:{dense:"",text:"",type:"info"}},[t._v(" Total Weightage must be 100%. ")])],1)],1)],2)],1)],1),a("v-divider"),a("v-card-actions",[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{staticClass:"text-right"},[a("v-btn",{attrs:{small:"",text:""},on:{click:function(e){return t.$emit("close")}}},[t._v("Close")]),a("v-btn",{attrs:{color:"primary",small:"",disabled:100!==t.totalWeightage},on:{click:t.submitData}},[t._v(" Save ")])],1)],1)],1)],1)},r=[],s=a("1da1"),o=(a("96cf"),a("d3b7"),a("3ca3"),a("ddb0"),a("159b"),a("b0c0"),a("f0d5")),n=a("f70a"),l=a("51d8"),c=a("a1b8"),d={components:{VueAutoComplete:function(){return a.e("chunk-2d0c8a11").then(a.bind(null,"5660"))},VueDatePicker:function(){return a.e("chunk-2d0d6ae8").then(a.bind(null,"741f"))}},mixins:[n["a"],o["a"]],props:{actionData:{type:Object,default:function(){return{}}},showAppraisalType:{type:Boolean,default:!1}},data:function(){return{formValues:{slots:[{title:"",weightage:0,from_date:"",to_date:"",slot_type:this.performance_appraisal_type}]},appraisalYearEndpoint:"",appraisalYearData:{},start_date:"",end_date:"",title:"",subtitle:"",icon:"",appraisalChoices:[{text:"Key Achievements And Rating",value:"Key Achievements And Rating"},{text:"Three sixty performance appraisal",value:"Three Sixty Performance Appraisal"}],performance_appraisal_type:""}},computed:{totalWeightage:function(){var t=0;return this.formValues.slots&&this.formValues.slots.forEach((function(e){var a=e.weightage;t+=a})),t}},watch:{appraisalYearData:function(t){this.actionData&&this.actionData.slots||(this.formValues.slots=[{title:"",weightage:0,from_date:"",to_date:""}],this.start_date="",this.end_date="",t&&(this.formValues.slots=[{title:"",weightage:0,from_date:t.start_at,to_date:t.end_at}],this.start_date=t.start_at,this.end_date=t.end_at))}},created:function(){this.crud.name="Frequency And Mode",this.appraisalYearEndpoint=l["a"].getFiscalYear(this.$route.params.slug),this.actionData&&this.actionData.slots?(this.formValues=this.deepCopy(this.actionData),this.title="Edit Frequency and Mode Settings",this.subtitle="Here you can edit frequency and mode settings",this.icon="mdi-pencil-outline"):(this.title="Create Frequency and Mode Settings",this.subtitle="Here you can create frequency and mode settings",this.icon="mdi-file-document-outline")},methods:{addNewRow:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.validateAllFields();case 2:if(!e.sent){e.next=4;break}t.formValues.slots.push({title:"",weightage:0,from_date:"",to_date:""});case 4:case"end":return e.stop()}}),e)})))()},submitData:function(){this.actionData&&this.actionData.slots?(this.crud.message="Frequency and Mode updated successfully.",this.putData(c["a"].updateAppraisalList(this.getOrganizationSlug,this.actionData.id),this.formValues)):(this.crud.message="Frequency and Mode saved successfully.",this.insertData(c["a"].postAppraisalList(this.getOrganizationSlug),this.formValues))}}},u=d,p=a("2877"),h=a("6544"),m=a.n(h),v=a("0798"),f=a("8336"),g=a("b0af"),_=a("99d9"),b=a("62ad"),y=a("ce7e"),x=a("132d"),w=a("0fd9b"),C=a("b974"),V=a("8654"),D=Object(p["a"])(u,i,r,!1,null,null,null);e["default"]=D.exports;m()(D,{VAlert:v["a"],VBtn:f["a"],VCard:g["a"],VCardActions:_["a"],VCardText:_["c"],VCol:b["a"],VDivider:y["a"],VIcon:x["a"],VRow:w["a"],VSelect:C["a"],VTextField:V["a"]})},f70a:function(t,e,a){"use strict";a("d3b7"),a("caad");e["a"]={methods:{insertData:function(t,e){var a=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=i.validate,s=void 0===r||r,o=i.clearForm,n=void 0===o||o,l=arguments.length>3?arguments[3]:void 0;return new Promise((function(i,r){!a.loading&&t&&(a.clearErrors(),a.$validator.validateAll().then((function(o){s||(o=!0),o&&(a.loading=!0,a.$http.post(t,e,l||{}).then((function(t){a.clearErrors(),n&&(a.formValues={}),a.crud.addAnother||a.$emit("create"),a.crud.message&&setTimeout((function(){a.notifyUser(a.crud.message)}),1e3),i(t),a.loading=!1})).catch((function(t){a.pushErrors(t),a.notifyInvalidFormResponse(),r(t),a.loading=!1})))})))}))},patchData:function(t,e){var a=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=i.validate,s=void 0===r||r,o=i.clearForm,n=void 0===o||o,l=arguments.length>3?arguments[3]:void 0;return new Promise((function(i,r){a.updateData(t,e,{validate:s,clearForm:n},"patch",l).then((function(t){i(t)})).catch((function(t){r(t)}))}))},putData:function(t,e){var a=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=i.validate,s=void 0===r||r,o=i.clearForm,n=void 0===o||o,l=arguments.length>3?arguments[3]:void 0;return new Promise((function(i,r){a.updateData(t,e,{validate:s,clearForm:n},"put",l).then((function(t){i(t)})).catch((function(t){r(t)}))}))},updateData:function(t,e){var a=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=i.validate,s=void 0===r||r,o=i.clearForm,n=void 0===o||o,l=arguments.length>3?arguments[3]:void 0,c=arguments.length>4?arguments[4]:void 0;return new Promise((function(i,r){!a.loading&&t&&["put","patch"].includes(l)&&(a.clearErrors(),a.$validator.validateAll().then((function(o){s||(o=!0),o&&(a.loading=!0,a.$http[l](t,e,c||{}).then((function(t){a.$emit("update"),a.clearErrors(),n&&(a.formValues={}),a.crud.message&&setTimeout((function(){a.notifyUser(a.crud.message)}),1e3),i(t),a.loading=!1})).catch((function(t){a.pushErrors(t),a.notifyInvalidFormResponse(),r(t),a.loading=!1})))})))}))},clearErrors:function(){this.clearNonFieldErrors(),this.$validator.errors.clear()}}}}}]);