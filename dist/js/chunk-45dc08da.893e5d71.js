(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-45dc08da","chunk-2d22d378"],{"6c6f":function(t,e,a){"use strict";a("d3b7");e["a"]={data:function(){return{deleteNotification:{dialog:!1,heading:"Confirm Delete",text:"Are you sure you want to delete ?"}}},methods:{deleteData:function(t,e){var a=this;return new Promise((function(i,n){!a.loading&&t&&(a.loading=!0,a.$http.delete(t,e||{}).then((function(t){a.crud.message&&setTimeout((function(){a.notifyUser(a.crud.message)}),1e3),i(t),a.loading=!1})).catch((function(t){a.pushErrors(t),a.notifyInvalidFormResponse(),n(t),a.loading=!1})).finally((function(){a.deleteNotification.dialog=!1})))}))}}}},"90fd":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("vue-card-title",{attrs:{title:"1"===t.level?"Edit 1st level Subordinates for "+t.actionData.full_name:"2"===t.level?"Edit 2nd level Subordinates for "+t.actionData.full_name:"Edit 3rd level Subordinates for "+t.actionData.full_name,subtitle:"Here you can edit subordinates for "+t.actionData.full_name,icon:"mdi-pencil-outline",closable:""},on:{close:function(e){return t.$emit("close")}}}),a("v-divider"),a("v-card-text",{staticClass:"scrollbar-md"},[t.nonFieldErrors?a("non-field-form-errors",{attrs:{"non-field-errors":t.nonFieldErrors}}):t._e(),a("v-row",[a("v-col",{attrs:{md:"4",cols:"6"}},[a("v-row",{attrs:{"no-gutters":""}},[a("div",[t._v("Supervisor")])]),a("vue-user",{attrs:{user:t.actionData}})],1),a("v-col",{attrs:{md:"8",cols:"6"}},[a("v-row",{attrs:{"no-gutters":""}},[a("div",[t._v("Total Subordinates")])]),"1"===t.level?a("div",{domProps:{textContent:t._s(t.actionData.subordinates.first_level.total_users)}}):t._e(),"2"===t.level?a("div",{domProps:{textContent:t._s(t.actionData.subordinates.second_level.total_users)}}):t._e(),"3"===t.level?a("div",{domProps:{textContent:t._s(t.actionData.subordinates.third_level.total_users)}}):t._e()],1),a("v-col",{attrs:{md:"12",cols:"12"}},[a("user-auto-complete",t._b({directives:[{name:"validate",rawName:"v-validate",value:"",expression:"''"}],attrs:{"items-to-include":t.totalSubordinates,multiple:""},model:{value:t.subordinates,callback:function(e){t.subordinates=e},expression:"subordinates"}},"user-auto-complete",t.veeValidate("subordinates","Subordinates"),!1))],1)],1)],1),a("v-divider"),a("v-card-actions",[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{staticClass:"text-right"},[a("v-btn",{attrs:{small:"",text:""},on:{click:function(e){return t.$emit("close")}}},[t._v("Close")]),a("v-btn",{attrs:{color:"primary",small:""},on:{click:t.submitData}},[t._v(" Save ")])],1)],1)],1)],1)},n=[],o=(a("d3b7"),a("3ca3"),a("ddb0"),a("a9e3"),a("d81d"),a("99af"),a("f12b")),r=a("a1b8"),s={components:{UserAutoComplete:function(){return a.e("chunk-aee42bec").then(a.bind(null,"ef8c"))},VueUser:function(){return Promise.resolve().then(a.bind(null,"02cb"))}},mixins:[o["a"]],props:{actionData:{type:Object,required:!0},level:{type:String,default:""},appraisalId:{type:[String,Number],required:!0}},data:function(){return{subordinates:[],totalSubordinates:[]}},created:function(){this.actionData.subordinates&&("1"===this.level?this.subordinates=this.actionData.subordinates.first_level.users.map((function(t){return t.id})):"2"===this.level?this.subordinates=this.actionData.subordinates.second_level.users.map((function(t){return t.id})):this.subordinates=this.actionData.subordinates.third_level.users.map((function(t){return t.id}))),this.subordinatesList()},methods:{subordinatesList:function(){var t=this;this.getData(r["a"].getSelectedSubordinates(this.getOrganizationSlug,this.appraisalId)+"?user=".concat(this.actionData.id,"&authority_level=").concat(this.level)).then((function(e){t.totalSubordinates=e.map((function(t){return t.id}))}))},submitData:function(){this.crud.message="Successfully updated subordinates.",this.insertData(r["a"].updateSelectedSubordinates(this.getOrganizationSlug,this.appraisalId,this.actionData.id),{authority_level:this.level,users:this.subordinates},!1)}}},l=s,d=a("2877"),u=a("6544"),c=a.n(u),v=a("8336"),f=a("b0af"),h=a("99d9"),m=a("62ad"),b=a("ce7e"),p=a("0fd9b"),g=Object(d["a"])(l,i,n,!1,null,null,null);e["default"]=g.exports;c()(g,{VBtn:v["a"],VCard:f["a"],VCardActions:h["a"],VCardText:h["c"],VCol:m["a"],VDivider:b["a"],VRow:p["a"]})},f12b:function(t,e,a){"use strict";var i=a("f0d5"),n=a("983c"),o=a("f70a"),r=a("6c6f");e["a"]={mixins:[i["a"],n["a"],o["a"],r["a"]]}},f70a:function(t,e,a){"use strict";a("d3b7"),a("caad");e["a"]={methods:{insertData:function(t,e){var a=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=i.validate,o=void 0===n||n,r=i.clearForm,s=void 0===r||r,l=arguments.length>3?arguments[3]:void 0;return new Promise((function(i,n){!a.loading&&t&&(a.clearErrors(),a.$validator.validateAll().then((function(r){o||(r=!0),r&&(a.loading=!0,a.$http.post(t,e,l||{}).then((function(t){a.clearErrors(),s&&(a.formValues={}),a.crud.addAnother||a.$emit("create"),a.crud.message&&setTimeout((function(){a.notifyUser(a.crud.message)}),1e3),i(t),a.loading=!1})).catch((function(t){a.pushErrors(t),a.notifyInvalidFormResponse(),n(t),a.loading=!1})))})))}))},patchData:function(t,e){var a=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=i.validate,o=void 0===n||n,r=i.clearForm,s=void 0===r||r,l=arguments.length>3?arguments[3]:void 0;return new Promise((function(i,n){a.updateData(t,e,{validate:o,clearForm:s},"patch",l).then((function(t){i(t)})).catch((function(t){n(t)}))}))},putData:function(t,e){var a=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=i.validate,o=void 0===n||n,r=i.clearForm,s=void 0===r||r,l=arguments.length>3?arguments[3]:void 0;return new Promise((function(i,n){a.updateData(t,e,{validate:o,clearForm:s},"put",l).then((function(t){i(t)})).catch((function(t){n(t)}))}))},updateData:function(t,e){var a=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=i.validate,o=void 0===n||n,r=i.clearForm,s=void 0===r||r,l=arguments.length>3?arguments[3]:void 0,d=arguments.length>4?arguments[4]:void 0;return new Promise((function(i,n){!a.loading&&t&&["put","patch"].includes(l)&&(a.clearErrors(),a.$validator.validateAll().then((function(r){o||(r=!0),r&&(a.loading=!0,a.$http[l](t,e,d||{}).then((function(t){a.$emit("update"),a.clearErrors(),s&&(a.formValues={}),a.crud.message&&setTimeout((function(){a.notifyUser(a.crud.message)}),1e3),i(t),a.loading=!1})).catch((function(t){a.pushErrors(t),a.notifyInvalidFormResponse(),n(t),a.loading=!1})))})))}))},clearErrors:function(){this.clearNonFieldErrors(),this.$validator.errors.clear()}}}}}]);