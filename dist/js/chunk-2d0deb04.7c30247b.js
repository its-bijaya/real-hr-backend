(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0deb04"],{"875d":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",[r("vue-card-title",{attrs:{title:"Publication",subtitle:"Published Contents of  "+e.userName,icon:"mdi-file-document-outline"}},[r("template",{slot:"actions"},[!e.showForm&&e.publications.length>0&&"supervisor"!==e.as?r("v-btn",{attrs:{small:"",color:"primary",depressed:""},on:{click:e.createPublicationsDetails}},[e._v(" "+e._s(e.$t("createNew"))+" ")]):e._e(),e.showForm?r("v-btn",{attrs:{small:""},on:{click:e.refresh}},[e._v(" Cancel ")]):e._e()],1)],2),r("v-divider"),r("v-card-text",[e.loading?r("v-row",e._l(6,(function(e){return r("v-col",{key:e,attrs:{cols:"4"}},[r("bullet-list-loader",{attrs:{"primary-color":"#eee","secondary-color":"#d5d5d7"}})],1)})),1):e.publications.length<1&&!e.showForm?r("v-col",[r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("v-img",{attrs:{src:"/images/info/no-data-found.png",height:"200",width:"200",contain:""}})],1),r("v-divider",{attrs:{inset:"",vertical:""}}),r("v-col",{attrs:{cols:"7"}},[r("v-row",[r("v-col",[r("p",[e._v("Publication Details is not available.")]),r("v-btn",{attrs:{small:"",color:"primary",depressed:""},on:{click:function(t){return e.createPublicationsDetails()}}},[e._v(" "+e._s(e.$t("createNew"))+" ")])],1)],1)],1)],1)],1):e._e(),0===e.publications.length||e.showForm||e.loading?e._e():r("v-row",e._l(e.publications,(function(t,n){return r("v-col",{key:n,attrs:{cols:"12"}},[r("v-hover",{scopedSlots:e._u([{key:"default",fn:function(n){var i=n.hover;return r("v-col",{},[r("p",[r("v-icon",{attrs:{size:"15"},domProps:{textContent:e._s("mdi-file-document-outline")}}),e._v(" Title: "),i&&"supervisor"!==e.as?r("v-icon",{domProps:{textContent:e._s("mdi-pencil")},on:{click:function(r){return e.editItem(t)}}}):e._e(),i&&"supervisor"!==e.as?r("v-icon",{domProps:{textContent:e._s("mdi-delete")},on:{click:function(r){return e.deletePublications(t)}}}):e._e()],1),r("p",{domProps:{textContent:e._s(t.title)}}),r("p",[r("v-icon",{attrs:{size:"15"},domProps:{textContent:e._s("mdi-text-box-outline")}}),e._v(" Content Type: ")],1),r("p",[e._v(" "+e._s(t.content_type||"N/A")+" ")]),r("p",[r("v-icon",{attrs:{size:"15"},domProps:{textContent:e._s("mdi-file-document-outline")}}),e._v(" Publications: ")],1),r("p",[e._v(" "+e._s(t.publication||"N/A")+" ")]),r("p",[r("v-icon",{attrs:{size:"15"},domProps:{textContent:e._s("mdi-calendar-month-outline")}}),e._v(" Published Date: ")],1),r("p",[e._v(" "+e._s(t.published_date||"N/A")+" ")]),r("p",[r("v-icon",{attrs:{size:"15"},domProps:{textContent:e._s("mdi-information-outline")}}),e._v(" Summary: ")],1),r("p",[e._v(" "+e._s(t.summary||"N/A")+" ")]),t.publication_url?r("v-icon",{attrs:{size:"16"},domProps:{textContent:e._s("mdi-web")}}):e._e(),t.publication_url?r("v-btn",{attrs:{href:t.publication_url,target:"_blank",text:"",small:""}},[e._v(" View Publication ")]):e._e()],1)}}],null,!0)}),n!==e.publications.length?r("v-divider"):e._e()],1)})),1),r("span",{directives:[{name:"show",rawName:"v-show",value:e.showForm,expression:"showForm"}]},[r("publications-form",{attrs:{"user-id":e.userInfo.user.id,fields:e.currentItem},on:{created:e.refresh,updated:e.refresh}})],1)],1),r("vue-notify",{attrs:{notify:e.notify}}),r("vue-dialog",{attrs:{notify:e.deleteDialog},on:{close:function(t){e.deleteDialog.dialog=!1},agree:e.deleteItem},model:{value:e.deleteDialog.dialog,callback:function(t){e.$set(e.deleteDialog,"dialog",t)},expression:"deleteDialog.dialog"}})],1)},i=[],o=r("1da1"),a=(r("96cf"),r("c44a")),s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-form",[r("v-container",{staticClass:"px-12"},[e.nonFieldErrors?r("non-field-form-errors",{attrs:{"non-field-errors":e.nonFieldErrors}}):e._e(),r("v-row",[r("v-col",{attrs:{md:"6",sm:"12"}},[r("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required|max:150",expression:"'required|max:150'"}],attrs:{counter:150,"prepend-inner-icon":"mdi-file-document-outline"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}},"v-text-field",e.veeValidate("title","Title *"),!1))],1),r("v-col",{attrs:{md:"6",sm:"12"}},[r("vue-date-picker",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required|max:150",expression:"'required|max:150'"}],model:{value:e.form.published_date,callback:function(t){e.$set(e.form,"published_date",t)},expression:"form.published_date"}},"vue-date-picker",e.veeValidate("published_date","Published Date *"),!1))],1),r("v-col",{attrs:{md:"6",sm:"12"}},[r("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"url:require_protocol|max:200",expression:"'url:require_protocol|max:200'"}],attrs:{counter:200,"prepend-inner-icon":"mdi-web"},model:{value:e.form.publication_url,callback:function(t){e.$set(e.form,"publication_url",t)},expression:"form.publication_url"}},"v-text-field",e.veeValidate("publication_url","Publication Url"),!1))],1),r("v-col",{attrs:{md:"6",sm:"12"}},[r("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"max:150",expression:"'max:150'"}],attrs:{counter:150,"prepend-inner-icon":"mdi-file-document-outline"},model:{value:e.form.publication,callback:function(t){e.$set(e.form,"publication",t)},expression:"form.publication"}},"v-text-field",e.veeValidate("publication","Publication"),!1))],1),r("v-col",{attrs:{md:"6",sm:"12"}},[r("v-textarea",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required|max:2500",expression:"'required|max:2500'"}],attrs:{counter:2500,"prepend-inner-icon":"mdi-information-outline"},model:{value:e.form.summary,callback:function(t){e.$set(e.form,"summary",t)},expression:"form.summary"}},"v-textarea",e.veeValidate("summary","Summary *"),!1))],1),r("v-col",{attrs:{md:"6",sm:"12"}},[r("v-select",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{items:e.contentTypeChoices,"item-text":"text","item-value":"value","prepend-inner-icon":"mdi-text-box-outline"},model:{value:e.form.content_type,callback:function(t){e.$set(e.form,"content_type",t)},expression:"form.content_type"}},"v-select",e.veeValidate("content_type","Content Type *"),!1))],1)],1)],1),r("v-divider"),r("v-card-actions",[e.editable?r("v-btn",{attrs:{disabled:e.errors.any(),depressed:""},on:{click:e.editItem}},[e._v(" Save ")]):r("v-btn",{attrs:{disabled:e.errors.any(),depressed:"",color:"primary"},on:{click:e.createItem}},[e._v(" Save ")]),r("v-btn",{on:{click:e.clear}},[e._v(" Clear ")])],1)],1)},l=[],u=(r("a9e3"),r("ab8a")),c=r("741f"),d=(r("99af"),{getUserPublishedContents:function(e){return"/users/".concat(e,"/published-content/")},postUserPublishedContent:function(e){return"/users/".concat(e,"/published-content/")},getPublishedContentDetail:function(e,t){return"/users/".concat(e,"/published-content/").concat(t,"/")},updatePublishedContentDetail:function(e,t){return"/users/".concat(e,"/published-content/").concat(t,"/")},deleteUserPublishedContent:function(e,t){return"/users/".concat(e,"/published-content/").concat(t,"/")}}),m={components:{NonFieldFormErrors:u["default"],VueDatePicker:c["default"]},mixins:[a["a"]],props:{userId:{type:Number,required:!0},fields:{type:Object,required:!0}},data:function(){return{menu:!1,form:this.fields,contentTypeChoices:[{value:"Research Paper",text:"Research Paper"},{value:"Article",text:"Article"},{value:"Newspaper Article",text:"Newspaper Article"},{value:"Magazine Article",text:"Magazine Article"},{value:"Blog",text:"Blog"},{value:"Video & Audio",text:"Video & Audio"},{value:"Literature",text:"Literature"},{value:"Books",text:"Books"}],editable:""}},watch:{fields:function(e){this.form=e,this.clearNonFieldErrors(),this.$validator.errors.clear(),this.editable=!!e.slug}},methods:{clear:function(){this.form={},this.$validator.errors.clear()},createItem:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.validateAllFields();case 2:if(!t.sent){t.next=4;break}e.$http.post(d.postUserPublishedContent(e.userId),e.form).then((function(t){e.verifyPermission(e.allPermissions.CAN_CREATE_UPDATE_USER_PROFILE)&&e.$route.params.slug?(e.notifyUser("Successfully created Published content","green"),e.$emit("created",t)):(e.notifyUser("Profile Change request has been sent","green"),e.$router.push({name:"user-profile-change-request"}))})).catch((function(t){e.notifyInvalidFormResponse(),e.pushErrors(t)}));case 4:case"end":return t.stop()}}),t)})))()},editItem:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.validateAllFields();case 2:if(!t.sent){t.next=4;break}e.$http.put(d.updatePublishedContentDetail(e.userId,e.fields.slug),e.form).then((function(){e.verifyPermission(e.allPermissions.CAN_CREATE_UPDATE_USER_PROFILE)&&e.$route.params.slug?(e.notifyUser("Successfully updated Published content","green"),e.$emit("updated")):(e.notifyUser("Profile Change request has been sent","green"),e.$router.push({name:"user-profile-change-request"}))})).catch((function(t){e.notifyInvalidFormResponse(),e.pushErrors(t)}));case 4:case"end":return t.stop()}}),t)})))()}}},v=m,p=r("2877"),f=r("6544"),h=r.n(f),b=r("8336"),_=r("99d9"),x=r("62ad"),g=r("a523"),P=r("ce7e"),w=r("4bd4"),y=r("0fd9b"),C=r("b974"),k=r("8654"),I=r("a844"),V=Object(p["a"])(v,s,l,!1,null,null,null),D=V.exports;h()(V,{VBtn:b["a"],VCardActions:_["a"],VCol:x["a"],VContainer:g["a"],VDivider:P["a"],VForm:w["a"],VRow:y["a"],VSelect:C["a"],VTextField:k["a"],VTextarea:I["a"]});var F=r("e330"),$={components:{PublicationsForm:D,BulletListLoader:F["a"]},mixins:[a["a"]],props:{userInfo:{type:Object,required:!0}},data:function(){return{currentItem:{},showForm:!1,notify:{},showDetails:100,publications:[],deleteDialog:{dialog:!1,heading:"Confirm Delete",text:"Do you really want to delete this publication information ?"},loading:!1}},computed:{userName:function(){return this.userInfo.user.first_name+" "+this.userInfo.user.middle_name+" "+this.userInfo.user.last_name}},mounted:function(){this.getUserPublications()},methods:{getUserPublications:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.loading=!0,e.$http.get(d.getUserPublishedContents(e.userInfo.user.id)).then((function(t){e.publications=t.results})),e.loading=!1;case 3:case"end":return t.stop()}}),t)})))()},refresh:function(){this.getUserPublications(),this.showForm=!1,this.deleteDialog.dialog=!1,this.$validator.errors.clear(),this.currentItem={}},createPublicationsDetails:function(){this.showForm=!0,this.currentItem={}},editItem:function(e){this.currentItem=e,this.showForm=!0},deletePublications:function(e){this.currentItem=e,this.deleteDialog.dialog=!0},deleteItem:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$http.delete(d.deleteUserPublishedContent(e.userInfo.user.id,e.currentItem.slug)).then((function(){e.verifyPermission(e.allPermissions.CAN_CREATE_UPDATE_USER_PROFILE)&&e.$route.params.slug?(e.notifyUser("Successfully deleted Published content","green"),e.refresh()):(e.notifyUser("Profile Change request has been sent","green"),e.$router.push({name:"user-profile-change-request"}))})).catch((function(t){e.pushErrors(t);var r=e.nonFieldErrors[0]["non field errors"];e.notifyUser(r,"red"),e.refresh()}));case 1:case"end":return t.stop()}}),t)})))()}}},E=$,A=r("b0af"),N=r("ce87"),R=r("132d"),U=r("adda"),q=Object(p["a"])(E,n,i,!1,null,null,null);t["default"]=q.exports;h()(q,{VBtn:b["a"],VCard:A["a"],VCardText:_["c"],VCol:x["a"],VDivider:P["a"],VHover:N["a"],VIcon:R["a"],VImg:U["a"],VRow:y["a"]})}}]);