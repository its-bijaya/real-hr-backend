(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-84d7ee0c","chunk-ad6773b4"],{"6a12":function(e,t,a){"use strict";a("99af");t["a"]={getDutyStation:"/commons/duty-station/",postDutyStation:"/commons/duty-station/",updateDutyStation:function(e){return"/commons/duty-station/".concat(e)},deleteDutyStation:function(e){return"/commons/duty-station/".concat(e)},getAssignDutyStation:function(e){return"/hris/".concat(e,"/duty-station/")},getCurrentAssignDutyStation:function(e){return"/hris/".concat(e,"/current-duty-stations/")},postAssignDutyStation:function(e){return"/hris/".concat(e,"/duty-station/")},deleteAssignDutyStation:function(e,t){return"/hris/".concat(e,"/duty-station/").concat(t)},updateAssignDutyStation:function(e,t){return"/hris/".concat(e,"/duty-station/").concat(t)},importDutystation:function(e){return"/hris/".concat(e,"/duty-station/import/")},downloadSampleDutyStation:function(e){return"/hris/".concat(e,"/duty-station/import/sample")},exportDutyStation:"/commons/duty-station/export"}},"6c6f":function(e,t,a){"use strict";a("d3b7");t["a"]={data:function(){return{deleteNotification:{dialog:!1,heading:"Confirm Delete",text:"Are you sure you want to delete ?"}}},methods:{deleteData:function(e,t){var a=this;return new Promise((function(n,r){!a.loading&&e&&(a.loading=!0,a.$http.delete(e,t||{}).then((function(e){a.crud.message&&setTimeout((function(){a.notifyUser(a.crud.message)}),1e3),n(e),a.loading=!1})).catch((function(e){a.pushErrors(e),a.notifyInvalidFormResponse(),r(e),a.loading=!1})).finally((function(){a.deleteNotification.dialog=!1})))}))}}}},"878b":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-card-actions",[a("v-spacer"),e.hideClear?e._e():a("v-btn",{attrs:{text:"",small:""},domProps:{textContent:e._s("Clear")},on:{click:function(t){return e.$emit("clearForm")}}}),a("v-btn",{attrs:{disabled:e.formErrors||e.disabled,color:e.deleteInstance?"red":"primary",depressed:"",small:"",loading:e.loading,type:"submit"}},[a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v(" mdi-content-save-outline ")]),e._v(" "+e._s(e.deleteInstance?"Delete":"Save")+" ")],1)],1)],1)},r=[],o={props:{hideClear:{type:Boolean,default:!1},formErrors:{type:Boolean,required:!0},disabled:{type:Boolean,default:!1},deleteInstance:{type:Boolean,required:!1,default:!1},loading:{type:Boolean,default:!1}}},i=o,s=a("2877"),c=a("6544"),l=a.n(c),u=a("8336"),d=a("99d9"),m=a("132d"),v=a("2fa4"),f=Object(s["a"])(i,n,r,!1,null,null,null);t["a"]=f.exports;l()(f,{VBtn:u["a"],VCardActions:d["a"],VIcon:m["a"],VSpacer:v["a"]})},"983c":function(e,t,a){"use strict";a("d3b7");t["a"]={methods:{getData:function(e,t,a){var n=this,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Promise((function(o,i){!n.loading&&e&&(n.clearNonFieldErrors(),n.$validator.errors.clear(),n.loading=r,n.$http.get(e,a||{params:t||{}}).then((function(e){o(e),n.loading=!1})).catch((function(e){n.pushErrors(e),n.notifyInvalidFormResponse(),i(e),n.loading=!1})))}))},getBlockingData:function(e,t,a){var n=this;return new Promise((function(r,o){n.getData(e,t,a,!0).then((function(e){r(e)})).catch((function(e){o(e)}))}))}}}},b687:function(e,t,a){"use strict";var n=a("5530"),r=a("24b2"),o=a("f2e7"),i=a("90a2"),s=a("58df"),c=a("80d2");t["a"]=Object(s["a"])(r["a"],o["a"]).extend({name:"VLazy",directives:{intersect:i["a"]},props:{options:{type:Object,default:function(){return{root:void 0,rootMargin:void 0,threshold:void 0}}},tag:{type:String,default:"div"},transition:{type:String,default:"fade-transition"}},computed:{styles:function(){return Object(n["a"])({},this.measurableStyles)}},methods:{genContent:function(){var e=Object(c["s"])(this);if(!this.transition)return e;var t=[];return this.isActive&&t.push(e),this.$createElement("transition",{props:{name:this.transition}},t)},onObserve:function(e,t,a){this.isActive||(this.isActive=a)}},render:function(e){return e(this.tag,{staticClass:"v-lazy",attrs:this.$attrs,directives:[{name:"intersect",value:{handler:this.onObserve,options:this.options}}],on:this.$listeners,style:this.styles},[this.genContent()])}})},cd42:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.deleteBranch?e._e():a("v-form",{ref:"branchForm",on:{submit:function(t){return t.preventDefault(),e.getFormAction.apply(null,arguments)}}},[a("v-card",[e.showTitle?a("vue-card-title",{attrs:{title:e.actionData.name.length>0?"Update branch":"Create New",subtitle:e.actionData.name.length>0?"Here you can update new organizational branch":"Here you can create new organizational branch",icon:"mdi-source-branch",closable:""},on:{close:function(t){return e.$emit("dismiss-form")}}}):e._e(),a("v-divider"),a("v-card-text",{staticClass:"scrollbar-md"},[a("v-container",[a("v-row",{attrs:{align:"end"}},[e.nonFieldErrors.length>0?a("v-col",{attrs:{cols:"12"}},[a("non-field-form-errors",{attrs:{"non-field-errors":e.nonFieldErrors}})],1):e._e(),a("v-col",{attrs:{md:"6",cols:"12"}},[a("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required|max:200",expression:"'required|max:200'"}],attrs:{counter:200,"prepend-inner-icon":"mdi-source-branch"},model:{value:e.formValues.name,callback:function(t){e.$set(e.formValues,"name",t)},expression:"formValues.name"}},"v-text-field",e.veeValidate("name","Branch Name *"),!1))],1),a("v-col",{attrs:{md:"6",cols:"12"}},[a("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"max:15",expression:"'max:15'"}],attrs:{counter:15,"prepend-inner-icon":"mdi-source-branch"},model:{value:e.formValues.branch_abbreviation,callback:function(t){e.$set(e.formValues,"branch_abbreviation",t)},expression:"formValues.branch_abbreviation"}},"v-text-field",e.veeValidate("branch_abbreviation","Branch Abbreviation *"),!1))],1),a("v-col",{attrs:{md:"6",cols:"12"}},[a("vue-auto-complete",e._b({attrs:{endpoint:e.branchTypeEndPoint,"item-text":"name","item-value":"id","prepend-inner-icon":"mdi-source-branch"},model:{value:e.formValues.branch_type,callback:function(t){e.$set(e.formValues,"branch_type",t)},expression:"formValues.branch_type"}},"vue-auto-complete",e.veeValidate("branch_type","Branch Type"),!1))],1),a("v-col",{attrs:{md:"6",cols:"12"}},[a("vue-auto-complete",e._b({attrs:{endpoint:e.branchEndpoint,"item-text":"name","item-value":"id",itemsToExclude:e.formValues.id,"prepend-inner-icon":"mdi-source-branch"},model:{value:e.formValues.parent,callback:function(t){e.$set(e.formValues,"parent",t)},expression:"formValues.parent"}},"vue-auto-complete",e.veeValidate("parent","Parent Branch"),!1))],1),a("v-col",{attrs:{md:"6",cols:"12"}},[a("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"email|max:200",expression:"'email|max:200'"}],attrs:{counter:200,"prepend-inner-icon":"mdi-email-outline"},model:{value:e.formValues.email,callback:function(t){e.$set(e.formValues,"email",t)},expression:"formValues.email"}},"v-text-field",e.veeValidate("email","Email"),!1))],1),a("v-col",{attrs:{md:"6",cols:"12"}},[a("vue-auto-complete",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{endpoint:"recruitment/common/country/","item-text":"name","item-value":"id","prepend-inner-icon":"mdi-flag-outline"},model:{value:e.formValues.country,callback:function(t){e.$set(e.formValues,"country",t)},expression:"formValues.country"}},"vue-auto-complete",e.veeValidate("country","Country *"),!1))],1),a("v-col",{attrs:{md:"6",cols:"12"}},[a("vue-auto-complete",e._b({attrs:{endpoint:"/recruitment/common/country/"+e.formValues.country+"/provinces/","item-text":"name","item-value":"id","prepend-inner-icon":"mdi-map-marker",disabled:603!=e.formValues.country},model:{value:e.formValues.province,callback:function(t){e.$set(e.formValues,"province",t)},expression:"formValues.province"}},"vue-auto-complete",e.veeValidate("province","Province/State"),!1))],1),a("v-col",{attrs:{md:"6",cols:"12"}},[a("v-lazy",[a("vue-auto-complete",e._b({key:"district-"+e.formValues.province,attrs:{endpoint:"/recruitment/common/country/"+e.formValues.country+"/provinces/"+e.formValues.province+"/district","item-text":"name","item-value":"id",disabled:!e.formValues.province,"prepend-inner-icon":"mdi-map-marker-outline"},model:{value:e.formValues.district,callback:function(t){e.$set(e.formValues,"district",t)},expression:"formValues.district"}},"vue-auto-complete",e.veeValidate("district","District"),!1))],1)],1),a("v-col",{attrs:{md:"6",cols:"12"}},[a("v-lazy",[a("vue-auto-complete",e._b({key:"local-body-"+e.formValues.district,attrs:{endpoint:"/recruitment/common/city/?district="+e.formValues.district,"item-text":"name","item-value":"id",disabled:!e.formValues.district,"prepend-inner-icon":"mdi-map-marker-outline"},model:{value:e.formValues.local_body,callback:function(t){e.$set(e.formValues,"local_body",t)},expression:"formValues.local_body"}},"vue-auto-complete",e.veeValidate("local_body","Local Body"),!1))],1)],1),a("v-col",{attrs:{md:"6",cols:"12"}},[a("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"max:255",expression:"'max:255'"}],attrs:{counter:255,"prepend-inner-icon":"mdi-map-marker-multiple-outline"},model:{value:e.formValues.region,callback:function(t){e.$set(e.formValues,"region",t)},expression:"formValues.region"}},"v-text-field",e.veeValidate("region","Geographical Region"),!1))],1),a("v-col",{attrs:{md:"6",cols:"12"}},[a("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required|max:255",expression:"'required|max:255'"}],attrs:{counter:255,"prepend-inner-icon":"mdi-web"},model:{value:e.formValues.address,callback:function(t){e.$set(e.formValues,"address",t)},expression:"formValues.address"}},"v-text-field",e.veeValidate("address","Address *"),!1))],1),e.formValues.contacts?a("v-col",{attrs:{md:"6",cols:"12"}},[a("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required|max:255",expression:"'required|max:255'"}],attrs:{counter:255,"prepend-inner-icon":"mdi-card-account-mail-outline"},model:{value:e.formValues.contacts.Phone,callback:function(t){e.$set(e.formValues.contacts,"Phone",t)},expression:"formValues.contacts.Phone"}},"v-text-field",e.veeValidate("Phone","Phone Number *"),!1))],1):e._e(),a("v-col",{attrs:{md:"6",cols:"12"}},[a("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"max:255",expression:"'max:255'"}],attrs:{counter:255,"prepend-inner-icon":"mdi-map-outline"},model:{value:e.formValues.mailing_address,callback:function(t){e.$set(e.formValues,"mailing_address",t)},expression:"formValues.mailing_address"}},"v-text-field",e.veeValidate("mailing_address","Mailing address"),!1))],1),a("v-col",{attrs:{md:"6",cols:"12"}},[a("users-auto-complete",e._b({attrs:{default:e.actionData.branch_manager,"prepend-inner-icon":"mdi-account-outline"},model:{value:e.formValues.branch_manager,callback:function(t){e.$set(e.formValues,"branch_manager",t)},expression:"formValues.branch_manager"}},"users-auto-complete",e.veeValidate("branch_manager","Branch Head"),!1))],1),a("v-col",{attrs:{md:"6",cols:"12"}},[a("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required|max:15",expression:"'required|max:15'"}],attrs:{counter:15,"prepend-inner-icon":"mdi-barcode"},model:{value:e.formValues.code,callback:function(t){e.$set(e.formValues,"code",t)},expression:"formValues.code"}},"v-text-field",e.veeValidate("code","Branch Code *"),!1))],1),a("v-col",{staticClass:"d-flex",attrs:{cols:"12",md:"6"}},[a("v-text-field",e._b({directives:[{name:"validate",rawName:"v-validate",value:"max:25|alpha_num",expression:"'max:25|alpha_num'"}],attrs:{"prepend-inner-icon":"mdi-cash",counter:25},model:{value:e.formValues.cost_centric_code,callback:function(t){e.$set(e.formValues,"cost_centric_code",t)},expression:"formValues.cost_centric_code"}},"v-text-field",e.veeValidate("cost_centric_code","Cost Centric Code"),!1))],1),a("v-col",{staticClass:"d-flex",attrs:{cols:"12",md:"6"}},[a("v-checkbox",e._b({model:{value:e.formValues.is_archived,callback:function(t){e.$set(e.formValues,"is_archived",t)},expression:"formValues.is_archived"}},"v-checkbox",e.veeValidate("is_archived","Is archived"),!1)),a("v-checkbox",e._b({staticClass:"ml-4",model:{value:e.formValues.is_remote,callback:function(t){e.$set(e.formValues,"is_remote",t)},expression:"formValues.is_remote"}},"v-checkbox",e.veeValidate("is_remote","Is Remote"),!1))],1),a("v-col",{attrs:{md:"6",cols:"12"}},[a("v-textarea",e._b({directives:[{name:"validate",rawName:"v-validate",value:"max:600",expression:"'max:600'"}],attrs:{counter:600,rows:"2","prepend-inner-icon":"mdi-information-outline"},model:{value:e.formValues.description,callback:function(t){e.$set(e.formValues,"description",t)},expression:"formValues.description"}},"v-textarea",e.veeValidate("description","Description"),!1))],1),e.formValues.is_remote?a("v-col",{attrs:{cols:"12",md:"6"}},[a("vue-auto-complete",e._b({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{endpoint:e.dutyStationEndpoint,params:{is_archived:!1},"force-fetch":"","item-text":"name","item-value":"id"},model:{value:e.formValues.duty_station,callback:function(t){e.$set(e.formValues,"duty_station",t)},expression:"formValues.duty_station"}},"vue-auto-complete",e.veeValidate("duty_station","Duty Station *"),!1))],1):e._e()],1)],1)],1),a("v-divider"),a("form-submit",{attrs:{"form-errors":e.errors.any(),"delete-instance":e.deleteBranch},on:{clearForm:e.clearForm}})],1)],1)},r=[],o=a("1da1"),i=(a("96cf"),a("f12b")),s=a("ef8c"),c=a("5660"),l=a("878b"),u=a("e59e"),d=a("6a12"),m={components:{UsersAutoComplete:s["default"],FormSubmit:l["a"],VueAutoComplete:c["default"]},mixins:[i["a"]],props:{actionData:{type:Object,required:!1,default:function(){return{name:"",contacts:{Phone:""},parent:"",description:"",branch_manager:"",email:"",address:"",country:"",province:"",district:"",code:"",branch_type:"",is_remote:!1,duty_station:"",cost_centric_code:"",branch_abbreviation:""}}},orgSlug:{type:String,required:!0},deleteBranch:{type:Boolean,default:!1},showTitle:{type:Boolean,default:!1}},data:function(){return{formValues:this.deepCopy(this.actionData),branchEndpoint:"",branchTypeEndPoint:"",dutyStationEndpoint:""}},created:function(){this.deleteBranch&&this.getFormAction(),this.branchEndpoint=u["a"].getBranch(this.getOrganizationSlug),this.branchTypeEndPoint=u["a"].branchType(this.getOrganizationSlug),this.dutyStationEndpoint=d["a"].getDutyStation},watch:{formValues:{handler:function(e){603!=e.country&&(e.province="")},deep:!0}},methods:{getFormAction:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.validateAllFields();case 2:if(!t.sent){t.next=6;break}if(!e.deleteBranch){t.next=5;break}return t.abrupt("return",e.deleteBranchInformation());case 5:return t.abrupt("return",e.formValues.slug?e.updateBranch():e.createBranch());case 6:case"end":return t.stop()}}),t)})))()},createBranch:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.crud.message="Successfully created Branch",e.insertData(u["a"].postBranch(e.orgSlug),e.formValues).then((function(t){e.$emit("dismiss-form",t,"branch")}));case 2:case"end":return t.stop()}}),t)})))()},updateBranch:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.crud.message="Successfully updated Branch",e.putData(u["a"].updateBranch(e.orgSlug,e.actionData.slug),e.formValues).then((function(){e.$emit("dismiss-form")}));case 2:case"end":return t.stop()}}),t)})))()},deleteBranchInformation:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.crud.message="Successfully deleted Branch",e.deleteData(u["a"].deleteBranch(e.orgSlug,e.actionData.slug)).then((function(){e.$emit("dismiss-form")})).catch((function(){var t=e.nonFieldErrors[0]["non field errors"];e.notifyUser(t,"red"),e.$emit("dismiss-form")}));case 2:case"end":return t.stop()}}),t)})))()},clearForm:function(){this.errors.clear(),this.imageUrl="",this.$refs.branchForm.reset(),this.clearNonFieldErrors()}}},v=m,f=a("2877"),p=a("6544"),h=a.n(p),b=a("b0af"),V=a("99d9"),x=a("ac7c"),y=a("62ad"),g=a("a523"),_=a("ce7e"),w=a("4bd4"),k=a("b687"),$=a("0fd9b"),B=a("8654"),D=a("a844"),S=Object(f["a"])(v,n,r,!1,null,null,null);t["default"]=S.exports;h()(S,{VCard:b["a"],VCardText:V["c"],VCheckbox:x["a"],VCol:y["a"],VContainer:g["a"],VDivider:_["a"],VForm:w["a"],VLazy:k["a"],VRow:$["a"],VTextField:B["a"],VTextarea:D["a"]})},f12b:function(e,t,a){"use strict";var n=a("f0d5"),r=a("983c"),o=a("f70a"),i=a("6c6f");t["a"]={mixins:[n["a"],r["a"],o["a"],i["a"]]}}}]);